(this.webpackJsonprms=this.webpackJsonprms||[]).push([[0],{105:function(e,t,r){},107:function(e,t,r){},121:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(50),i=r.n(c),l=(r(104),r(105),r(1)),s=r.n(l),o=r(3),u=r(4),p=r(5),m=r(7),d=r(6),f=(r(107),r(2)),v=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"cApp",get:function(){return this._cApp}},{key:"uqs",get:function(){return this._uqs}}]),r}(f.CBase),h=(f.CSub,function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"newC",value:function(e){var t=new e(this);return t.init(),t}},{key:"uqs",get:function(){return this._uqs}}]),r}(f.CAppBase)),b=function(e){return!0===e?"text-primary":"text-muted"},g=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).render=function(t){var r=e.controller,a=r.cHome,c=r.cProduct,i=r.cPendingInquiry,l=r.cInquiry,s=r.cNewPendingInquiry,o=[{name:"supplier",label:"\u4f9b\u5e94\u5546",icon:"glide",content:a.tab,notify:void 0},{name:"product",label:"\u4ea7\u54c1",icon:"flask",content:c.tab,onShown:c.loadList},{name:"pendingInquiry",label:"\u5f85\u8be2\u51fa",icon:"pencil-square-o",content:s.tab,onShown:s.loadList},{name:"inquirying",label:"\u5df2\u8be2\u51fa",icon:"check-square-o ",content:i.tab,onShown:i.loadList},{name:"inquiry",label:"\u8be2\u4ef7\u5355",icon:"bandcamp",content:l.tab,onShown:l.loadList}].map((function(e){var t=e.name,r=e.label,n=e.icon;return{name:t,caption:function(e){return Object(f.TabCaptionComponent)(r,n,b(e))},content:e.content,notify:e.notify,onShown:e.onShown}}));return n.createElement(f.Page,{header:!1},n.createElement(f.Tabs,{tabs:o}))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.render);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),y=r(13),x=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e,a=this;Object(u.a)(this,r);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).page=function(){var t=e.controller.cApp.cSupplier,r=t.onNewSupplier,c=t.searchSupplierByKey,i=n.createElement("div",{className:"d-flex align-items-center"},n.createElement(f.SearchBox,{size:"sm",onSearch:function(e){return c(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),n.createElement("div",null,n.createElement("span",{onClick:function(){return r()},className:"fa-stack"},n.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}})))),l=n.createElement("header",null,n.createElement("div",{className:"px-3"},"\u4f9b\u5e94\u5546"));return n.createElement(f.Page,{right:i,header:l,onScrollBottom:e.onScrollBottom,headerClassName:"py-1 bg-primary"},n.createElement(a.content,null))},e.content=function(){var t=Object(y.a)(e).controller.toSupplierList;return n.createElement(n.Fragment,null,t())},e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.cSupplier.suppliers.more();case 2:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return n.createElement(this.page,null)}}]),r}(f.View),w=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).toSupplierList=function(){return e.cApp.cSupplier.renderRootList()},e.tab=function(){return e.renderView(x)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.cApp.cSupplier,e.next=3,r.start();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),E=r(14),k=r(15),j=(r(20),r(8)),N=r(12),O=r.n(N);function P(e){return e&&!/^(\+\d{1,3}-)?(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}(-\d{3,5})?$/.test(e)?"\u56fa\u5b9a\u7535\u8bdd\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function C(e){return e&&!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)?"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function q(e){return e&&!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)?"Email\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function S(e){return e&&!/^(\+\d{1,3}-)?(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}(-\d{3,5})?$/.test(e)?"\u4f20\u771f\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function F(e){return e&&e.length>200?"\u8be6\u7ec6\u5730\u5740\u6700\u591a200\u4e2a\u5b57\uff01":void 0}function A(e){return e&&e.length>15?"\u90ae\u7f16\u8fc7\u957f\uff0c\u8bf7\u4fee\u6539\u540e\u5f55\u5165\uff01":void 0}function I(e){return e&&e.length>100?"\u90e8\u95e8\u540d\u79f0\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function D(e){return e&&e.length>50?"\u59d3\u540d\u6700\u591a50\u4e2a\u5b57\uff01":void 0}function R(e){return e&&!/^\d+(\.\d{1,4})$/.test(e)?"\u5173\u7a0e\u6700\u591a\u5c0f\u6570\u70b9\u540e4\u4f4d\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}var B,T,V,z,L,U,M,K,W,_,H,Q,G,J,$,X,Y,Z,ee,te,re,ne,ae,ce,ie,le,se,oe,ue,pe,me,de,fe,ve,he,be,ge,ye,xe,we,Ee,ke=[{name:"id",type:"id",required:!1},{name:"name",type:"string",required:!0},{name:"abbreviation",type:"string",required:!1},{name:"businessArea",type:"string",required:!0},{name:"webSite",type:"string",required:!1},{name:"address",type:"id",required:!0},{name:"addressString",type:"string",required:!0},{name:"productionAddress",type:"string",required:!1},{name:"principal",type:"id",required:!1},{name:"taxNo",type:"string",required:!1},{name:"profile",type:"string",required:!1},{name:"submit",type:"submit"}],je=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.supplierData=void 0,e.uiSchema={items:{id:{visible:!1},name:{widget:"text",label:"\u4f9b\u5e94\u5546\u540d\u79f0",placeholder:"\u5fc5\u586b"},abbreviation:{widget:"text",label:"\u4f9b\u5e94\u5546\u7b80\u79f0",placeholder:"\u4f9b\u5e94\u5546\u7b80\u79f0"},businessArea:{widget:"radio",label:"\u4e1a\u52a1\u533a\u57df",list:[{value:"\u5185\u8d38",title:"\u5185\u8d38"},{value:"\u5916\u8d38",title:"\u5916\u8d38"}]},webSite:{widget:"text",label:"\u7f51\u5740",placeholder:"\u7f51\u5740"},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickAddress(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?Object(f.tv)(e,(function(e){var t=e.country,r=e.province,a=e.city,c=e.county;return n.createElement(n.Fragment,null,void 0!==t&&void 0!==t.id&&Object(f.tv)(t,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})),void 0!==r&&void 0!==r.id&&Object(f.tv)(r,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})),void 0!==a&&void 0!==a.id&&Object(f.tv)(a,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})),void 0!==c&&void 0!==c.id&&Object(f.tv)(c,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})))}),(function(){return n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):n.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",placeholder:"\u8be6\u7ec6\u5730\u5740",rules:F},productionAddress:{widget:"text",label:"\u751f\u4ea7\u5382\u5740",placeholder:"\u751f\u4ea7\u5382\u5740",rules:F},principal:{widget:"id",label:"\u91c7\u8d2d\u8d1f\u8d23\u4eba",placeholder:"\u91c7\u8d2d\u8d1f\u8d23\u4eba",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickEmployee(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u91c7\u8d2d\u8d1f\u8d23\u4eba")}},taxNo:{widget:"text",label:"\u7a0e\u53f7",placeholder:"\u7a0e\u53f7"},profile:{widget:"textarea",label:"\u4f01\u4e1a\u7b80\u4ecb",placeholder:"\u4f01\u4e1a\u7b80\u4ecb",rows:10},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.saveSupplierData(n.form.data,e.supplierData);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onDelSupplier=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(Ne,e.supplierData);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=9;break}return t.next=6,e.controller.delSupplier(e.supplierData);case 6:return t.next=8,e.controller.loadList();case 8:e.closePage();case 9:case 10:case"end":return t.stop()}}),t)}))),e.page=function(){var t,r=O.a.clone(e.supplierData);return void 0!==r.id&&(t=n.createElement("div",{className:"d-flex align-items-center"},n.createElement("div",null,n.createElement("span",{onClick:function(){return e.onDelSupplier()},className:"fa-stack"},n.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))))),n.createElement(f.Page,{header:"\u7f16\u8f91\u4f9b\u5e94\u5546",right:t,headerClassName:"bg-primary"},n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",schema:ke,uiSchema:e.uiSchema,formData:r,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Ne=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u5220\u9664\u4f9b\u5e94\u5546",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u4f9b\u5e94\u5546\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5220\u9664\u4f9b\u5e94\u5546"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Oe=[{name:"id",type:"id",required:!1},{name:"accountName",type:"string",required:!0},{name:"accountNo",type:"string",required:!0},{name:"bank",type:"string",required:!0},{name:"bankAddress",type:"string",required:!0},{name:"usageType",type:"number",required:!0},{name:"bankSWIFT",type:"string",required:!1},{name:"bankIBAN",type:"string",required:!1},{name:"bankRTN",type:"string",required:!1},{name:"submit",type:"submit"}],Pe=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.supplierData=void 0,e.uiSchema={items:{id:{visible:!1},accountName:{widget:"text",label:"\u53d7\u76ca\u4eba",placeholder:"\u53d7\u76ca\u4eba"},accountNo:{widget:"text",label:"\u8d26\u53f7",placeholder:"\u5f00\u6237\u94f6\u884c\u5e10\u53f7"},bank:{widget:"text",label:"\u5f00\u6237\u884c",placeholder:"\u5f00\u6237\u884c"},bankAddress:{widget:"text",label:"\u94f6\u884c\u5730\u5740",placeholder:"\u94f6\u884c\u5730\u5740"},usageType:{widget:"radio",label:"\u7528\u9014",list:[{value:0,title:"\u5f00\u6237\u884c"},{value:1,title:"\u4e2d\u8f6c\u884c"}]},bankSWIFT:{widget:"text",label:"SWIFT/BIC",placeholder:"\u5f00\u6237\u884cSWIFT/BIC"},bankIBAN:{widget:"text",label:"IBAN",placeholder:"\u5f00\u6237\u884cIBAN"},bankRTN:{widget:"text",label:"RTN ",placeholder:"\u5f00\u6237\u884c\u7684RTN "},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.saveSupplierBankData(n.form.data,e.supplierData);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(){var t=O.a.clone(e.supplierData);return n.createElement(f.Page,{header:"\u7f16\u8f91\u94f6\u884c\u4fe1\u606f",headerClassName:"bg-primary"},n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",schema:Oe,uiSchema:e.uiSchema,formData:t,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Ce=[{name:"accountName",type:"string",required:!0},{name:"accountNo",type:"string",required:!0},{name:"bank",type:"string",required:!0},{name:"bankAddress",type:"string",required:!0},{name:"usageType",type:"number",required:!0},{name:"bankSWIFT",type:"string",required:!1},{name:"bankIBAN",type:"string",required:!1},{name:"bankRTN",type:"string",required:!1}],qe=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).supplier=void 0,e.bankAccount=void 0,e.bankData=void 0,e.loadBank=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i,l,o,u,p,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.uqs.rms.BankAccount.load(r.id);case 2:e.bankAccount=t.sent,n=e.bankAccount,a=n.bankAddress,c=n.bankSWIFT,i=n.bankIBAN,l=n.bankRTN,o=n.bank,u=n.accountNo,p=n.accountName,m=n.usageType,e.bankData={bankAddress:a,bankSWIFT:c,bankIBAN:i,bankRTN:l,bank:o,accountNo:u,accountName:p,usageType:m};case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.uiSchema={items:{accountName:{widget:"text",label:"\u53d7\u76ca\u4eba",placeholder:"\u53d7\u76ca\u4eba"},accountNo:{widget:"text",label:"\u8d26\u53f7",placeholder:"\u5f00\u6237\u94f6\u884c\u5e10\u53f7"},bank:{widget:"text",label:"\u5f00\u6237\u884c",placeholder:"\u5f00\u6237\u94f6\u884c"},bankAddress:{widget:"text",label:"\u94f6\u884c\u5730\u5740",placeholder:"\u94f6\u884c\u5730\u5740"},usageType:{widget:"radio",label:"\u7528\u9014",list:[{value:0,title:"\u5f00\u6237\u884c"},{value:1,title:"\u4e2d\u8f6c\u884c"}]},bankSWIFT:{widget:"text",label:"SWIFT/BIC",placeholder:"\u5f00\u6237\u884cSWIFT/BIC"},bankIBAN:{widget:"text",label:"IBAN",placeholder:"\u5f00\u6237\u884cIBAN"},bankRTN:{widget:"text",label:"RTN ",placeholder:"\u5f00\u6237\u884c\u7684RTN "}}},e.rowTop=function(){var t=e.supplier.name;return n.createElement("div",{className:"bg-white py-2"},n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"\u4f9b\u5e94\u5546:"),n.createElement("div",{className:"col-8 text-muted text-right"},n.createElement("b",null,t))))},e.onBankDataChanged=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.name,e.bankAccount[c]=n,t.next=4,e.controller.updateBankAccountData(e.bankAccount);case 4:e.closePage(),e.controller.cApp.cSupplier.onShowSupplierBankAccount(e.supplier,e.bankAccount);case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.onDelSupplierBankAccount=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(Se,e.bankAccount);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=8;break}return t.next=6,e.controller.delSupplierBankAccount(e.bankAccount,e.supplier);case 6:e.closePage(),e.controller.onSupplierSelected(e.supplier);case 8:case 9:case"end":return t.stop()}}),t)}))),e.page=function(){var t;return void 0!==O.a.clone(e.bankAccount).id&&(t=n.createElement("div",{className:"d-flex align-items-center"},n.createElement("div",null,n.createElement("span",{onClick:function(){return e.onDelSupplierBankAccount()},className:"fa-stack"},n.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))))),n.createElement(f.Page,{header:"\u94f6\u884c\u4fe1\u606f",right:t,headerClassName:"py-1 bg-primary"},e.rowTop(),n.createElement(f.Edit,{schema:Ce,uiSchema:e.uiSchema,data:e.bankData,onItemChanged:e.onBankDataChanged}))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parent,n=t.item,this.supplier=r,e.next=4,this.loadBank(n);case 4:this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Se=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u5220\u9664\u94f6\u884c\u4fe1\u606f",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u94f6\u884c\u4fe1\u606f\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5220\u9664\u94f6\u884c\u4fe1\u606f"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Fe=r(9),Ae=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderRootCategory=function(t,r){var a=t.no,c=t.name,i=t.address,l=t.businessArea,s=t.addressString,o=e.controller,u=o.onSupplierSelected,p=o.onEditSupplier,m=n.createElement("div",{className:"p-2 cursor-pointer text-info",onClick:function(){return p(t)}},n.createElement(f.FA,{name:"edit"}));return n.createElement(f.LMR,{right:m,className:"px-3 d-flex p-1 cursor-pointer"},n.createElement("div",{onClick:function(){return u(t)}},n.createElement("b",null,c),n.createElement("div",null,l," ",a),n.createElement("div",{className:"small py-1 text-muted"},Object(f.tv)(i)," ",s)))},e.content=Object(Fe.a)((function(){var t=e.controller.suppliers;return n.createElement(f.List,{items:t,item:{render:e.renderRootCategory}})})),e}return Object(p.a)(r,[{key:"render",value:function(e){return n.createElement(this.content,null)}}]),r}(f.View),Ie=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=Object(Fe.a)((function(){var t=e.controller,r=t.pageEmployee,a=t.searchEmployeeByKey,c=n.createElement("div",{className:"d-flex align-items-center"},n.createElement(f.SearchBox,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}));return n.createElement(f.Page,{header:"\u9009\u62e9\u8d1f\u8d23\u4eba",right:c,onScrollBottom:e.onScrollBottom,headerClassName:"bg-primary"},n.createElement(f.List,{items:r,item:{render:e.renderItem,onClick:e.onClick}}))})),e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pageEmployee.more();case 2:case"end":return t.stop()}}),t)}))),e.onClick=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnEmployee(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderItem=function(e,t){var r=e.name;return n.createElement(f.LMR,{className:"px-3 py-2 border",left:r})},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),De=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchEmployeeQuery=void 0,n.firstSize=n.pageSize=14,n.searchEmployeeQuery=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchEmployeeQuery.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),Re=(B=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"pageEmployee",T,Object(y.a)(e)),e.searchEmployeeByKey=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.pageEmployee=new De(e.uqs.hr.SearchEmployee),e.pageEmployee.first({key:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.returnEmployee=function(t){e.returnCall(t)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.searchEmployeeByKey("");case 2:this.openVPage(Ie);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(v),T=Object(k.a)(B.prototype,"pageEmployee",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B),Be=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).supplier=void 0,e.firstSupplierContact=void 0,e.supplierContacts=[],e.firstSupplierrBankAccount=void 0,e.supplierBankAccounts=[],e.getSupplierBankAccount=function(){e.controller.cApp.cSupplierContact.showCreateSupplierContact;return n.createElement("div",null,n.createElement("div",{className:"text-center py-2"},n.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e.controller.onNewSupplierBankAccount(e.supplier)}},n.createElement("span",{className:"px-2"},n.createElement(f.FA,{className:"text-warning px-1",name:"bank"}),n.createElement("b",null,"\u94f6\xa0\u884c")),n.createElement("span",{className:"px-2"},n.createElement(f.FA,{name:"plus fa-1x"})))),n.createElement("div",null,e.firstSupplierrBankAccount&&n.createElement(f.List,{items:e.supplierBankAccounts,item:{render:e.renderBankAccount}})))},e.getSupplierContact=function(){var t=e.controller.cApp.cSupplierContact.showCreateSupplierContact;return n.createElement("div",null,n.createElement("div",{className:" d-flex px-3 py-2"},n.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return t(e.supplier)}},n.createElement("span",{className:"px-2"},n.createElement(f.FA,{className:"text-warning px-1",name:"user"}),n.createElement("b",null,"\u8054\u7cfb\u4eba")),n.createElement("span",{className:"px-2"},n.createElement(f.FA,{name:"plus fa-1x"}))),n.createElement("div",{className:"flex-grow-1"}),n.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e.controller.pickChemical(e.supplier)}},n.createElement("span",{className:"px-2"},n.createElement(f.FA,{className:"text-warning px-1",name:"filter"}),n.createElement("b",null,"\u4ea7\xa0\u54c1")),n.createElement("span",{className:"px-2"},n.createElement(f.FA,{name:"plus fa-1x"})))),n.createElement("div",null,e.firstSupplierContact&&n.createElement(f.List,{items:e.supplierContacts,item:{render:e.renderContact}})))},e.renderBankAccount=function(t,r){var a=e.controller.onShowSupplierBankAccount,c=t.bankAddress,i=(t.bankSWIFT,t.bankIBAN,t.bankRTN,t.bank,t.accountNo),l=t.accountName,s=t.usageType,o=n.createElement("div",{className:"px-2"},n.createElement(f.FA,{name:"caret-right",className:"px-2 text-primary"}),l,n.createElement("div",{className:"small px-4 text-muted"},i),n.createElement("div",{className:"small px-4 text-muted"},c)),u=n.createElement("div",{className:"px-2 text-right text-muted"},0===s?"\u5f00\u6237\u884c":"\u4e2d\u8f6c\u884c");return n.createElement(f.LMR,{left:o,right:u,className:"p-1 d-flex cursor-pointer",onClick:function(){return a(e.supplier,t)}})},e.renderContact=function(t,r){var a=e.controller.cApp.cSupplierContact.showEditSupplierContact,c=(t.no,t.name),i=(t.id,t.gender),l=t.mobile,s=t.telephone,o=t.email,u=t.defaultContact,p=t.financeContact,m=t.inquiryContact,d=1===u?n.createElement("div",{className:"small text-muted"},"\u8ba2\u5355\u8d1f\u8d23\u4eba"):"",v=1===p?n.createElement("div",{className:"small text-muted"},"\u8d22\u52a1\u8d1f\u8d23\u4eba"):"",h=1===m?n.createElement("div",{className:"small text-muted"},"\u8be2\u4ef7\u8d1f\u8d23\u4eba"):"",b="0"===i?n.createElement(f.FA,{name:"female",className:"px-2 text-danger"}):n.createElement(f.FA,{name:"male",className:"px-2 text-primary"}),g=void 0===s?n.createElement("span",null):n.createElement("div",{className:"small px-4 text-muted"},s),y=void 0===l?n.createElement("span",null):n.createElement("div",{className:"small px-4 text-muted"},l),x=void 0===o?n.createElement("span",null):n.createElement("div",{className:"small px-4 text-muted"},o),w=n.createElement("div",{className:"px-2"},b,c,x,g,y),E=n.createElement("div",{className:"px-2 text-right"},d,v,h);return n.createElement(f.LMR,{left:w,right:E,className:"p-1 d-flex cursor-pointer",onClick:function(){return a(t,e.supplier)}})},e.onSupplierDataChanged=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.name,e.supplier[c]=n,t.next=4,e.controller.updateSupplierData(e.supplier);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.rowTop=function(e){var t=e.name,r=e.no,a=(e.abbreviation,e.businessArea),c=e.webSite,i=e.address,l=e.addressString,s=e.productionAddress,o=e.principal,u=e.taxNo,p=void 0===o?void 0:o.principal,m=void 0===p?void 0:p.obj.name;return n.createElement("div",{className:"bg-white py-2"},void 0===r?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u7f16\u53f7:"),n.createElement("div",{className:"col-9 text-muted"},r))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u540d\u79f0:"),n.createElement("div",{className:"col-9"},n.createElement("b",null,a," ",t))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u7f51\u5740:"),n.createElement("div",{className:"col-9 text-muted"},void 0===c?"(\u65e0)":c)),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u8d1f\u8d23\u4eba:"),n.createElement("div",{className:"col-9 text-muted"},void 0===m?"(\u65e0)":m)),void 0===u?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u7a0e\u53f7:"),n.createElement("div",{className:"col-9 text-muted"},u))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u5730\u5740:"),n.createElement("div",{className:"col-9 text-muted"},Object(f.tv)(i)," ",l)),void 0===s?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u5382\u5740:"),n.createElement("div",{className:"col-9 text-muted"},s))))},e.page=function(){var t=O.a.clone(e.supplier);return n.createElement(f.Page,{header:"\u4f9b\u5e94\u5546\u8be6\u60c5",headerClassName:"py-1 bg-primary"},e.rowTop(t),e.getSupplierBankAccount(),e.getSupplierContact())},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.parent,n=t.item,a=t.child,c=t.item2,i=t.child2,this.supplier=r,this.firstSupplierContact=n,this.supplierContacts=a,this.firstSupplierrBankAccount=c,this.supplierBankAccounts=i,this.openPage(this.page);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Te=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).countryId=void 0,e.provinceId=void 0,e.cityId=void 0,e.countyId=void 0,e.backLevel=0,e.page=function(t){return e.backLevel++,n.createElement(f.Page,{header:"\u9009\u62e9\u6240\u5728\u56fd\u5bb6",headerClassName:"bg-primary"},n.createElement("div",{className:"row no-gutters"},t.countrys.map((function(t){return e.renderPCC(t,e.onCountryClick)}))))},e.renderPCC=function(e,t){return n.createElement("div",{key:e.id,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},Object(f.tv)(e,(function(e){var r=e.id,a=e.chineseName;return n.createElement(n.Fragment,null,n.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return t(r)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},n.createElement("span",{className:"ml-1 align-middle"},n.createElement(f.FA,{name:"chevron-right",className:"text-info small"}),"\xa0 ",a)))})))},e.onCountryClick=function(){var t=Object(o.a)(s.a.mark((function t(r){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.countryId=r,t.next=3,e.controller.getCountryProvince(r);case 3:if(!(a=t.sent)){t.next=21;break}if(!((c=a.length)>0)){t.next=17;break}if(1!==c){t.next=11;break}return t.next=10,e.onProvinceClick(a[0].province.id);case 10:return t.abrupt("return");case 11:if(!(c>1)){t.next=15;break}return e.backLevel++,e.openPageElement(n.createElement(f.Page,{header:"\u9009\u62e9\u6240\u5728\u7701\u5e02"},n.createElement("div",{className:"row no-gutters"},a.map((function(t){return e.renderPCC(t.province,e.onProvinceClick)}))))),t.abrupt("return");case 15:t.next=19;break;case 17:e.closePage(e.backLevel),e.saveAddress();case 19:t.next=23;break;case 21:e.closePage(e.backLevel),e.saveAddress();case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onProvinceClick=function(){var t=Object(o.a)(s.a.mark((function t(r){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.provinceId=r,t.next=3,e.controller.getProvinceCities(r);case 3:if(!(a=t.sent)){t.next=21;break}if(!((c=a.length)>0)){t.next=17;break}if(1!==c){t.next=11;break}return t.next=10,e.onCityClick(a[0].city.id);case 10:return t.abrupt("return");case 11:if(!(c>1)){t.next=15;break}return e.backLevel++,e.openPageElement(n.createElement(f.Page,{header:"\u9009\u62e9\u6240\u5728\u57ce\u5e02"},n.createElement("div",{className:"row no-gutters"},a.map((function(t){return e.renderPCC(t.city,e.onCityClick)}))))),t.abrupt("return");case 15:t.next=19;break;case 17:e.closePage(e.backLevel),e.saveAddress();case 19:t.next=23;break;case 21:e.closePage(e.backLevel),e.saveAddress();case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onCityClick=function(){var t=Object(o.a)(s.a.mark((function t(r){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.cityId=r,t.next=3,e.controller.getCityCounties(r);case 3:(a=t.sent)&&a.length>0?(e.backLevel++,e.openPageElement(n.createElement(f.Page,{header:"\u9009\u62e9\u6240\u5728\u533a\u53bf"},n.createElement("div",{className:"row no-gutters"},a.map((function(t){return e.renderPCC(t.county,e.onCountyClick)})))))):(e.closePage(e.backLevel),e.saveAddress());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onCountyClick=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.countyId=r,e.closePage(e.backLevel),e.saveAddress();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.saveAddress=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.saveAddress(e.countryId,e.provinceId,e.cityId,e.countyId);case 2:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.getCountry();case 2:r=e.sent,this.openPage(this.page,{countrys:r});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Ve=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).getCountry=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.common.Country.search("",0,300);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),e.getCountryProvince=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.common.GetCountryProvinces.table({country:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getProvinceCities=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.common.GetProvinceCities.table({province:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getCityCounties=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.common.GetCityCounties.table({city:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.saveAddress=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a,c){var i,l,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.uqs.common.Address,t.next=3,i.save(void 0,{country:r,province:n,city:a,county:c});case 3:l=t.sent,o=l&&i.boxId(l.id),e.returnCall(o);case 6:case"end":return t.stop()}}),t)})));return function(e,r,n,a){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(Te);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(v),ze=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchSupplier=void 0,n.firstSize=n.pageSize=14,n.searchSupplier=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchSupplier.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),Le=(V=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"suppliers",z,Object(y.a)(e)),e.searchSupplierByKey=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.suppliers=new ze(e.uqs.rms.SearchSupplier),e.suppliers.first({key:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.pickAddress=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(Ve),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.pickChemical=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cApp.cChemical.call(r);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.pickEmployee=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(Re),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.saveSupplierData=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c,i,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.name,void 0!==(c=r.id)){t.next=11;break}return r.defaultContact=void 0,r.inquiryContact=void 0,r.isValid=1,t.next=8,e.uqs.rms.Supplier.save(void 0,r);case 8:c=t.sent,t.next=17;break;case 11:return r.isValid=1,r.defaultContact=n.defaultContact,r.inquiryContact=n.inquiryContact,r.no=n.no,t.next=17,e.uqs.rms.Supplier.save(c,r);case 17:if(void 0===(i=r.principal)){t.next=25;break}if(void 0===(l=n.principal)){t.next=23;break}return t.next=23,e.uqs.rms.SupplierHandler.del({supplier:c,arr1:[{principal:l}]});case 23:return t.next=25,e.uqs.rms.SupplierHandler.add({supplier:c,arr1:[{principal:i}]});case 25:return e.closePage(),t.next=28,e.searchSupplierByKey(a);case 28:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.saveSupplierBankData=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n.id){t.next=6;break}return t.next=3,e.uqs.rms.BankAccount.save(void 0,r);case 3:return a=t.sent,t.next=6,e.uqs.rms.SupplierBankAccount.add({supplier:n.id,arr1:[{bankAccount:a.id}]});case 6:e.cApp.cSupplier.onSupplierSelected(n),e.closePage();case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onNewSupplier=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(je,{description:void 0});case 1:case"end":return t.stop()}}),t)}))),e.onEditSupplier=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(je,r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateSupplierData=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.isValid=1,t.next=3,e.uqs.rms.Supplier.save(r.id,r);case 3:return e.closePage(),t.next=6,e.loadList();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onNewSupplierBankAccount=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(Pe,r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onShowSupplierBankAccount=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={parent:r,item:n,child:void 0},e.openVPage(qe,a);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onSupplierSelected=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.rms.Supplier.load(n);case 3:return r=t.sent,t.next=6,e.uqs.rms.SupplierHandler.table({supplier:n});case 6:return a=t.sent,r.principal=a[0],t.next=10,e.uqs.rms.SearchSupplierContact.query({_id:n});case 10:return c=t.sent,t.next=13,e.uqs.rms.SearchSupplierBankAccount.query({_id:n});case 13:i=t.sent,l={parent:r,item:c.ret[0],child:c.ret,item2:i.ret[0],child2:i.ret},e.openVPage(Be,l);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delSupplier=function(){var t=Object(o.a)(s.a.mark((function t(r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,r.isValid=0,t.next=4,e.uqs.rms.Supplier.save(n,r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delSupplierBankAccount=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.id,t.next=3,e.uqs.rms.SupplierBankAccount.del({supplier:a,arr1:[{bankAccount:r.id}]});case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.updateBankAccountData=function(){var t=Object(o.a)(s.a.mark((function t(r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.rms.BankAccount.save(n,r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadList=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.searchSupplierByKey("");case 2:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderRootList",value:function(){return this.renderView(Ae)}}]),r}(v),z=Object(k.a)(V.prototype,"suppliers",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V),Ue=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.item=void 0,e.parent=void 0,e.schema=[{name:"name",type:"string",required:!0},{name:"gender",type:"string",required:!0},{name:"firstName",type:"string",required:!1},{name:"lastName",type:"string",required:!1},{name:"salutation",type:"string",required:!1},{name:"position",type:"string",required:!1},{name:"departmentName",type:"string",required:!1},{name:"telephone",type:"string",required:!1},{name:"mobile",type:"string",required:!1},{name:"wechatId",type:"string",required:!1},{name:"email",type:"string"},{name:"fax",type:"string",required:!1},{name:"address",type:"id",required:!1},{name:"addressString",type:"string",required:!1},{name:"zipCode",type:"string",required:!1},{name:"isDefault",type:"boolean",required:!1},{name:"isFinance",type:"boolean",required:!1},{name:"isInquiry",type:"boolean",required:!1},{name:"submit",type:"submit"}],e.uiSchema={items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u5fc5\u586b"},gender:{widget:"radio",label:"\u6027\u522b",list:[{value:"1",title:"\u7537"},{value:"0",title:"\u5973"}]},firstName:{widget:"text",label:"\u540d",placeholder:"\u540d",rules:D},lastName:{widget:"text",label:"\u59d3\u6c0f",placeholder:"\u59d3\u6c0f"},salutation:{widget:"radio",label:"\u79f0\u8c13",list:[{value:"Mr.",title:"Mr."},{value:"Ms.",title:"Ms."}]},position:{widget:"text",label:"\u804c\u4f4d",placeholder:"\u804c\u4f4d"},departmentName:{widget:"text",label:"\u90e8\u95e8\u540d\u79f0",placeholder:"\u90e8\u95e8\u540d\u79f0",rules:I},telephone:{widget:"text",label:"\u56fa\u5b9a\u7535\u8bdd",placeholder:"\u5982\uff1a+86-010-40020020-0852",rules:P},mobile:{widget:"text",label:"\u624b\u673a\u53f7",placeholder:"\u624b\u673a\u53f7",rules:C},wechatId:{widget:"text",label:"\u5fae\u4fe1\u53f7",placeholder:"\u5fae\u4fe1\u53f7"},email:{widget:"text",label:"Email",placeholder:"Email",rules:q},fax:{widget:"text",label:"\u4f20\u771f",placeholder:"\u5982\uff1a+86-010-40020020-0852",rules:S},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickAddress(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?Object(f.tv)(e,(function(e){var t=e.country,r=e.province,a=e.city,c=e.county;return n.createElement(n.Fragment,null,void 0!==t&&void 0!==t.id&&Object(f.tv)(t,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})),void 0!==r&&void 0!==r.id&&Object(f.tv)(r,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})),void 0!==a&&void 0!==a.id&&Object(f.tv)(a,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})),void 0!==c&&void 0!==c.id&&Object(f.tv)(c,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})))}),(function(){return n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):n.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",placeholder:"\u8be6\u7ec6\u5730\u5740",rules:F},zipCode:{widget:"text",label:"\u90ae\u7f16",placeholder:"\u90ae\u7f16",rules:A},isDefault:{widget:"checkbox",label:"\u8ba2\u5355\u8054\u7cfb\u4eba",defaultValue:!1},isFinance:{widget:"checkbox",label:"\u8d22\u52a1\u8054\u7cfb\u4eba",defaultValue:!1},isInquiry:{widget:"checkbox",label:"\u8be2\u4ef7\u8054\u7cfb\u4eba",defaultValue:!1},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.controller.saveSupplierContact,c=e.item&&e.item.id,t.next=4,a(c,n.form.data,e.parent);case 4:e.closePage();case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onDelSupplierContact=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(Me,e.item);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=8;break}return t.next=6,e.controller.delSupplierContact(e.item,e.parent);case 6:e.closePage(),e.controller.cApp.cSupplier.onSupplierSelected(e.parent);case 8:case 9:case"end":return t.stop()}}),t)}))),e.page=Object(Fe.a)((function(){var t;return void 0!==e.item&&(t=n.createElement("div",{className:"d-flex align-items-center"},n.createElement("div",null,n.createElement("span",{onClick:function(){return e.onDelSupplierContact()},className:"fa-stack"},n.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))))),n.createElement(f.Page,{header:"\u7f16\u8f91\u8054\u7cfb\u4eba",right:t,headerClassName:"bg-primary"},n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",formData:e.item,schema:e.schema,uiSchema:e.uiSchema,onButtonClick:e.onFormButtonClick,requiredFlag:!0})))})),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.item,n=t.parent,this.item=r,this.parent=n,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Me=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u5220\u9664\u8054\u7cfb\u4eba",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u8054\u7cfb\u4eba\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5220\u9664\u4f9b\u8054\u7cfb\u4eba"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Ke=[{name:"name",type:"string",required:!0},{name:"gender",type:"string",required:!0},{name:"firstName",type:"string",required:!1},{name:"lastName",type:"string",required:!1},{name:"salutation",type:"string",required:!1},{name:"position",type:"string",required:!1},{name:"departmentName",type:"string",required:!1},{name:"telephone",type:"string",required:!1},{name:"mobile",type:"string",required:!1},{name:"wechatId",type:"string",required:!1},{name:"email",type:"string"},{name:"fax",type:"string",required:!1},{name:"address",type:"id",required:!1},{name:"addressString",type:"string",required:!1},{name:"zipCode",type:"string",required:!1},{name:"isDefault",type:"string",required:!1},{name:"isFinance",type:"number",required:!1},{name:"isInquiry",type:"number",required:!1}],We=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.item=void 0,e.parent=void 0,e.contactData=void 0,e.loadContact=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i,l,o,u,p,m,d,f,v,h,b,g,y,x,w,E,k,j;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.uqs.rms.SupplierContact.load(r.id);case 2:return e.item=t.sent,t.next=5,e.controller.cApp.uqs.rms.Supplier.load(e.parent.id);case 5:e.parent=t.sent,n=e.parent,a=n.defaultContact,c=n.financeContact,i=n.inquiryContact,l=e.item,o=l.id,u=l.name,p=l.firstName,m=l.lastName,d=l.gender,f=l.salutation,v=l.position,h=l.departmentName,b=l.telephone,g=l.mobile,y=l.email,x=l.fax,w=l.zipCode,E=l.wechatId,k=l.addressString,j=l.address,e.contactData={name:u,firstName:p,lastName:m,gender:d,salutation:f,position:v,departmentName:h,telephone:b,mobile:g,email:y,fax:x,zipCode:w,wechatId:E,addressString:k,address:j,isDefault:void 0===a?0:a.id===o?1:0,isFinance:void 0===c?0:c.id===o?1:0,isInquiry:void 0===i?0:i.id===o?1:0};case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.uiSchema={items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u5fc5\u586b"},gender:{widget:"radio",label:"\u6027\u522b",list:[{value:"1",title:"\u7537"},{value:"0",title:"\u5973"}]},firstName:{widget:"text",label:"\u540d",placeholder:"\u540d",rules:D},lastName:{widget:"text",label:"\u59d3\u6c0f",placeholder:"\u59d3\u6c0f"},salutation:{widget:"radio",label:"\u79f0\u8c13",list:[{value:"Mr.",title:"Mr."},{value:"Ms.",title:"Ms."}]},position:{widget:"text",label:"\u804c\u4f4d",placeholder:"\u804c\u4f4d"},departmentName:{widget:"text",label:"\u90e8\u95e8\u540d\u79f0",placeholder:"\u90e8\u95e8\u540d\u79f0",rules:I},telephone:{widget:"text",label:"\u56fa\u5b9a\u7535\u8bdd",placeholder:"\u56fa\u5b9a\u7535\u8bdd",rules:P},mobile:{widget:"text",label:"\u624b\u673a\u53f7",placeholder:"\u624b\u673a\u53f7",rules:C},wechatId:{widget:"text",label:"\u5fae\u4fe1\u53f7",placeholder:"\u5fae\u4fe1\u53f7"},email:{widget:"text",label:"Email",placeholder:"Email",rules:q},fax:{widget:"text",label:"\u4f20\u771f",placeholder:"\u4f20\u771f",rules:S},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickAddress(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?Object(f.tv)(e,(function(e){var t=e.country,r=e.province,a=e.city,c=e.county;return n.createElement(n.Fragment,null,void 0!==t&&void 0!==t.id&&Object(f.tv)(t,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})),void 0!==r&&void 0!==r.id&&Object(f.tv)(r,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})),void 0!==a&&void 0!==a.id&&Object(f.tv)(a,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})),void 0!==c&&void 0!==c.id&&Object(f.tv)(c,(function(e){return n.createElement(n.Fragment,null,e.chineseName)})))}),(function(){return n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):n.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",placeholder:"\u8be6\u7ec6\u5730\u5740",rules:F},zipCode:{widget:"text",label:"\u90ae\u7f16",placeholder:"\u90ae\u7f16",rules:A},isDefault:{widget:"radio",label:"\u8ba2\u5355\u8054\u7cfb\u4eba",list:[{value:1,title:"\u662f"},{value:0,title:"\u5426"}]},isFinance:{widget:"radio",label:"\u8d22\u52a1\u8054\u7cfb\u4eba",list:[{value:1,title:"\u662f"},{value:0,title:"\u5426"}]},isInquiry:{widget:"radio",label:"\u8be2\u4ef7\u8054\u7cfb\u4eba",list:[{value:1,title:"\u662f"},{value:0,title:"\u5426"}]}}},e.onContactDataChanged=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.name,e.item[c]=n,t.next=4,e.controller.updateContactData(e.item,e.parent);case 4:e.closePage(),e.controller.showSupplierContactDetail(e.item,e.parent);case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.onDelSupplierContact=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(_e,e.item);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=8;break}return t.next=6,e.controller.delSupplierContact(e.item,e.parent);case 6:e.closePage(),e.controller.cApp.cSupplier.onSupplierSelected(e.parent);case 8:case 9:case"end":return t.stop()}}),t)}))),e.page=function(){var t;return void 0!==e.item&&(t=n.createElement("div",{className:"d-flex align-items-center"},n.createElement("div",null,n.createElement("span",{onClick:function(){return e.onDelSupplierContact()},className:"fa-stack"},n.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))))),n.createElement(f.Page,{header:"\u4f9b\u5e94\u5546\u8054\u7cfb\u4eba\u8be6\u60c5",right:t,headerClassName:"py-1 bg-primary"},n.createElement(f.Edit,{schema:Ke,uiSchema:e.uiSchema,data:e.contactData,onItemChanged:e.onContactDataChanged}))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.item,n=t.parent,this.parent=n,e.next=4,this.loadContact(r);case 4:this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),_e=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u5220\u9664\u8054\u7cfb\u4eba",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u8054\u7cfb\u4eba\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5220\u9664\u4f9b\u8054\u7cfb\u4eba"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),He=(f.PageItems,L=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"pageSupplierContact",U,Object(y.a)(e)),e.pickAddress=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(Ve),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.showCreateSupplierContact=function(t){var r={parent:t,item:void 0,child:void 0};e.openVPage(Ue,r)},e.showEditSupplierContact=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.isDefault=1===r.defaultContact,r.isFinance=1===r.financeContact,r.isInquiry=1===r.inquiryContact,a={parent:n,item:r,child:r},e.openVPage(Ue,a);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.showSupplierContactDetail=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={parent:n,item:r,child:r},e.openVPage(We,a);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.saveSupplierContact=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c,i,l,o,u,p,m,d,f,v,h,b,g,y,x,w,E,k,j,N;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.name,i=n.firstName,l=n.lastName,o=n.gender,u=n.salutation,p=n.position,m=n.departmentName,d=n.telephone,f=n.mobile,v=n.email,h=n.fax,b=n.zipCode,g=n.wechatId,y=n.addressString,x=n.address,w=n.isDefault,E=n.isFinance,k=n.isInquiry,j={name:c,firstName:i,lastName:l,gender:o,salutation:u,departmentName:m,telephone:d,mobile:f,email:v,fax:h,zipCode:b,wechatId:g,addressString:y,address:x,supplier:a.id,isValid:1,position:p},t.next=4,e.uqs.rms.SupplierContact.save(r,j);case 4:return N=t.sent,void 0===r&&(r=N.id),!0===w?a.defaultContact=r:void 0!==a.defaultContact&&a.defaultContact.id===r&&(a.defaultContact=void 0),!0===k?a.inquiryContact=r:void 0!==a.inquiryContact&&a.inquiryContact.id===r&&(a.inquiryContact=void 0),t.next=10,e.uqs.rms.Supplier.save(a.id,{no:a.no,name:a.name,abbreviation:a.abbreviation,webSite:a.webSite,address:a.address,addressString:a.addressString,productionAddress:a.productionAddress,profile:a.profile,taxNo:a.taxNo,isValid:1,defaultContact:a.defaultContact,inquiryContact:a.inquiryContact});case 10:return t.next=12,e.uqs.rms.SupplierFinanceContact.del({supplier:a.id,arr1:[{financeContact:r}]});case 12:if(!0!==E){t.next=15;break}return t.next=15,e.uqs.rms.SupplierFinanceContact.add({supplier:a.id,arr1:[{financeContact:r}]});case 15:e.cApp.cSupplier.onSupplierSelected(a),e.closePage();case 17:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.updateContactData=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.isDefault,c=r.isFinance,i=r.inquiryid,t.next=3,e.uqs.rms.SupplierContact.save(r.id,r);case 3:return n.defaultContact=1===a?r:void 0,n.inquiryContact=1===i?r:void 0,t.next=7,e.uqs.rms.Supplier.save(n.id,{no:n.no,name:n.name,abbreviation:n.abbreviation,webSite:n.webSite,address:n.address,addressString:n.addressString,productionAddress:n.productionAddress,profile:n.profile,taxNo:n.taxNo,isValid:1,defaultContact:n.defaultContact,inquiryContact:n.inquiryContact});case 7:return t.next=9,e.uqs.rms.SupplierFinanceContact.del({supplier:n.id,arr1:[{financeContact:r.id}]});case 9:if(1!==c){t.next=12;break}return t.next=12,e.uqs.rms.SupplierFinanceContact.add({supplier:n.id,arr1:[{financeContact:r.id}]});case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.showSupplierContact=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.rms.SearchSupplierContact.query({_id:n});case 3:a=t.sent,c=a.ret.length>0?a.ret:void 0,i={parent:void 0,item:a.ret[0],child:c},e.openVPage(Be,i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delSupplierContact=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.id,r.isValid=0,t.next=4,e.uqs.rms.SupplierContact.save(a,r);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(v),U=Object(k.a)(L.prototype,"pageSupplierContact",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L),Qe=r(25),Ge=[{name:"id",type:"id",required:!1},{name:"supplier",type:"id",required:!0},{name:"brand",type:"id",required:!1},{name:"origin",type:"string",required:!1},{name:"description",type:"string",required:!0},{name:"descriptionC",type:"string",required:!1},{name:"purity",type:"string",required:!1},{name:"chinaHSCode",type:"string",required:!1},{name:"submit",type:"submit"}],Je=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.productData=void 0,e.model=e.controller.supplier,e.uiSchema={items:{id:{visible:!1},supplier:{widget:"id",label:"\u4f9b\u5e94\u5546",placeholder:"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546",defaultValue:e.model,pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.model){t.next=4;break}t.t0=e.model,t.next=7;break;case 4:return t.next=6,e.controller.pickSupplier(r,n,a);case 6:t.t0=t.sent;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546")}},brand:{widget:"id",label:"\u54c1\u724c",placeholder:"\u8bf7\u9009\u62e9\u54c1\u724c",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickBrand(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.no)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u54c1\u724c")}},origin:{widget:"text",label:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7",placeholder:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7"},description:{widget:"text",label:"\u82f1\u6587\u540d\u79f0",placeholder:"\u82f1\u6587\u540d\u79f0",defaultValue:e.controller.chemical.description},descriptionC:{widget:"text",label:"\u4e2d\u6587\u540d\u79f0",placeholder:"\u4e2d\u6587\u540d\u79f0",defaultValue:e.controller.chemical.descriptionC},purity:{widget:"text",label:"\u7eaf\u5ea6",placeholder:"\u7eaf\u5ea6"},chinaHSCode:{widget:"text",label:"\u4e2d\u56fd\u6d77\u5173\u7f16\u7801",placeholder:"\u4e2d\u56fd\u6d77\u5173\u7f16\u7801"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.productData.origin,t.next=3,e.controller.saveProductData(a,n.form.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.showChemicalData=function(){var t=e.controller.chemical,r=(t.no,t.CAS),a=(t.description,t.descriptoinCN,t.molecularFomula),c=t.molecularWeight;t.mdlNumber;return n.createElement("div",{className:"bg-white py-2"},n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"CAS:"),n.createElement("div",{className:"col-9 text-muted text-right"},void 0===r?"(\u65e0)":r)),void 0===a?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u5206\u5b50\u5f0f:"),n.createElement("div",{className:"col-9 text-muted text-right"},a))),void 0===c?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u5206\u5b50\u91cf:"),n.createElement("div",{className:"col-9 text-muted text-right"},c))))},e.page=function(){var t=O.a.clone(e.productData);return n.createElement(f.Page,{header:"\u6dfb\u52a0\u4ea7\u54c1",headerClassName:"py-1 bg-primary"},e.showChemicalData(),n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",schema:Ge,uiSchema:e.uiSchema,formData:t,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.productData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),$e=[{name:"description",type:"string",required:!0},{name:"descriptionC",type:"string",required:!1},{name:"purity",type:"string",required:!1},{name:"restrictMark",type:"id",required:!1}],Xe=[{name:"origin",type:"string",required:!1}],Ye=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).product=void 0,e.firstPackage=void 0,e.packages=[],e.purityData=void 0,e.restrictMarks=[],e.loadProduct=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i,l,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.product=r,n=e.product,a=n.origin,c=n.description,i=n.descriptionC,l=n.purity,o=n.restrictMark,e.restrictMarks=o,e.purityData={origin:a,description:c,descriptionC:i,purity:l,restrictMark:o};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.uiSchema={items:{description:{widget:"text",label:"\u82f1\u6587\u540d\u79f0",placeholder:"\u82f1\u6587\u540d\u79f0"},descriptionC:{widget:"text",label:"\u4e2d\u6587\u540d\u79f0",placeholder:"\u4e2d\u6587\u540d\u79f0"},purity:{widget:"text",label:"\u7eaf\u5ea6",placeholder:"\u7eaf\u5ea6"},restrictMark:{widget:"id",label:"\u9650\u5236\u6027\u6807\u8bb0",placeholder:"\u9650\u5236\u6027\u6807\u8bb0",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickRestrictMark(e.product,e.restrictMarks);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){if(!e)return n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u9650\u5236\u6027\u6807\u8bb0");var t,r="",a=Object(Qe.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value.no;0===r.length?r+=c:r+="-"+c}}catch(i){a.e(i)}finally{a.f()}return n.createElement(n.Fragment,null,r)}}}},e.uiOriginSchema={items:{origin:{widget:"text",label:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7",placeholder:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7"}}},e.getPackage=function(){var t=e.controller.cApp.cPackage.showCreatePackage,r=e.controller.cApp.cNewPendingInquiry.onNewPendingInquiry,a=e.product,c=(a.supplier,void 0===a.inquiryContact?n.createElement("b",{className:"px-3 py-2 text-danger small"},"\u987b\u5148\u8bbe\u7f6e\u4f9b\u5e94\u5546\u8be2\u4ef7\u6216\u8ba2\u5355\u8054\u7cfb\u4eba\u624d\u53ef\u6dfb\u52a0\u5305\u88c5\u6216\u8be2\u4ef7\uff01"):n.createElement("div",{className:" d-flex px-3 py-2"},n.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return t(e.product)}},n.createElement("span",{className:"px-2"},n.createElement(f.FA,{className:"text-warning px-1",name:"cube"}),n.createElement("b",null,"\u5305\xa0\u88c5")),n.createElement("span",{className:"px-2"},n.createElement(f.FA,{name:"plus fa-1x"}))),n.createElement("div",{className:"flex-grow-1"}),n.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return r(e.product)}},n.createElement("span",{className:"px-2"},n.createElement(f.FA,{className:"text-warning px-1",name:"filter"}),n.createElement("b",null,"\u8be2\xa0\u4ef7")),n.createElement("span",{className:"px-2"},n.createElement(f.FA,{name:"plus fa-1x"})))));return n.createElement("div",null,c,n.createElement("div",null,e.firstPackage&&n.createElement(f.List,{items:e.packages,item:{render:e.renderPackage}})))},e.onDelPackage=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(Ze,r);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=9;break}return t.next=6,e.controller.delPakage(r);case 6:return t.next=8,e.controller.loadList();case 8:e.closePage();case 9:case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderPackage=function(t,r){var a=e.controller.cApp.cPackage,c=(a.showEditPackage,a.showPackageDetail),i=(t.id,t.radiox),l=t.radioy,s=t.unit,o=t.type,u=t.price,p=t.currency,m=t.validUpto,d=t.minArriveDate,v=t.maxArriveDate,h=t.remark,b=void 0===s?void 0:s.obj.name,g=(e.product.inquiryContact,1!==i?n.createElement(n.Fragment,null,i," * ",l,b):n.createElement(n.Fragment,null,l,b)),y=m<Date.now()?n.createElement("span",{className:"text-danger"},n.createElement(f.EasyDate,{date:m})):n.createElement("span",null,n.createElement(f.EasyDate,{date:m})),x=void 0===u?n.createElement("div",null):n.createElement("div",{className:"px-4 text-muted small"},n.createElement("span",null,"\xa0",u,Object(f.tv)(p,(function(e){return n.createElement(n.Fragment,null,e.name)})),"\xa0"),y),w=void 0!==d?n.createElement("span",null,n.createElement(f.EasyDate,{date:d})):"",E=void 0!==v?n.createElement("span",null,"~",n.createElement(f.EasyDate,{date:v})):"",k=n.createElement("div",null,n.createElement("div",{className:"px-2 cursor-pointer text-danger text-right",onClick:function(){return e.onDelPackage(t)}},n.createElement(f.FA,{name:"trash"}),n.createElement("div",{className:"text-muted small"},w,E))),j=void 0===h?"":h.toString().length>8?h.toString().slice(0,8)+"...":h,N=n.createElement("div",{className:"px-2",onClick:function(){return c(t)}},n.createElement(f.FA,{name:"cube",className:"px-2 text-primary"}),g," ",n.createElement("span",{className:"small"},1===o?"\u76ee\u5f55":"\u975e\u76ee\u5f55"),x,n.createElement("div",{className:"px-4 text-success small"},"\xa0",j));return n.createElement(f.LMR,{left:N,right:k,className:"py-2"})},e.rowTop=function(t){var r=e.product,a=r.no,c=r.supplier,i=r.brand,l=r.origin,s=(r.description,r.descriptionC,r.createTime,r.chemical,r.CAS),o=(r.purity,r.molecularFomula),u=r.molecularWeight,p=r.inquiryContact,m=r.chinaHSCode,d=c.obj,v=d.name,h=d.no,b=(d.id,void 0===i?void 0:i.obj.name);return n.createElement("div",{className:"bg-white py-2"},void 0===a?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"\u4ea7\u54c1\u7f16\u53f7"),n.createElement("div",{className:"col-8 text-muted text-right"},a))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"\u4f9b\u5e94\u5546"),n.createElement("div",{className:"col-8 text-muted text-right"},n.createElement("b",null,v," ",h))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"\u8be2\u4ef7\u8054\u7cfb\u4eba"),n.createElement("div",{className:"col-8 text-muted text-right"},void 0===p?"[\u65e0]":p.obj.name)),void 0===b?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"\u54c1\u724c"),n.createElement("div",{className:"col-8 text-muted text-right"},b))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"CAS"),n.createElement("div",{className:"col-8 text-muted text-right"},s)),void 0===o?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"\u5206\u5b50\u5f0f"),n.createElement("div",{className:"col-8 text-muted text-right"},o))),void 0===u?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"\u5206\u5b50\u91cf"),n.createElement("div",{className:"col-8 text-muted text-right"},u))),void 0===m?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"\u4e2d\u56fd\u6d77\u5173\u7f16\u7801"),n.createElement("div",{className:"col-8 text-muted text-right"},m))),void 0===l?n.createElement(f.Edit,{schema:Xe,uiSchema:e.uiOriginSchema,data:e.purityData,onItemChanged:e.onPurityChanged}):n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-4"},"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7"),n.createElement("div",{className:"col-8 text-muted text-right"},l))),n.createElement("div",{className:"row no-gutters px-3 my-1",onClick:function(){return e.controller.showProductPropertyDetail(e.product)}},n.createElement("div",{className:"col-4"},"\u4ea7\u54c1\u6027\u8d28"),n.createElement("div",{className:"col-8 text-muted text-right"},n.createElement("b",null,n.createElement(f.FA,{name:"angle-right"})))))},e.onPurityChanged=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.name,e.product[c]=n,i=e.purityData.origin,t.next=5,e.controller.updateProductData(e.product,i);case 5:e.closePage(),e.controller.showProductDetail(e.product);case 7:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.onDelProduct=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(et,e.product);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=9;break}return t.next=6,e.controller.delProduct(e.product);case 6:return t.next=8,e.controller.loadList();case 8:e.closePage();case 9:case 10:case"end":return t.stop()}}),t)}))),e.page=function(){var t,r=O.a.clone(e.product);return void 0!==r.id&&(t=n.createElement("div",{className:"d-flex align-items-center"},n.createElement("div",null,n.createElement("span",{onClick:function(){return e.onDelProduct()},className:"fa-stack"},n.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))))),n.createElement(f.Page,{header:"\u4ea7\u54c1\u8be6\u60c5",right:t,headerClassName:"py-1 bg-primary"},e.rowTop(r),n.createElement(f.Edit,{schema:$e,uiSchema:e.uiSchema,data:e.purityData,onItemChanged:e.onPurityChanged}),e.getPackage())},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parent,n=t.item,a=t.child,e.next=3,this.loadProduct(r);case 3:this.firstPackage=n,this.packages=a,this.openPage(this.page);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Ze=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u5220\u9664\u5305\u88c5",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u5305\u88c5\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5220\u9664\u5305\u88c5"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),et=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u5220\u9664\u4ea7\u54c1",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u4ea7\u54c1\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5220\u9664\u4ea7\u54c1"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),tt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).pickType=void 0,e.renderRootCategory=function(t,r){var a=t.origin,c=t.description,i=(t.createTime,t.supplier),l=t.CAS,s=t.purity,o=t.brand,u=e.controller.showProductDetail,p=void 0===l?n.createElement("b",null,"[\u65e0]"):n.createElement("b",null,l),m=void 0===s?"":n.createElement("b",null,s),d=void 0===o?void 0:o.obj.name,v=void 0===a&&void 0===d?"":void 0===a?n.createElement("b",null,d):n.createElement("b",null,a,"\xa0\xa0",d);return n.createElement(f.LMR,{className:"px-3 d-flex p-1 cursor-pointer"},n.createElement("div",{onClick:function(){return u(t)}},v,n.createElement("div",null,p,"\xa0\xa0",m),n.createElement("div",null,n.createElement("b",null,c)),n.createElement("div",{className:"py-1 text-muted"},Object(f.tv)(i,(function(e){return n.createElement(n.Fragment,null,e.name)})))))},e.pickSelect=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(rt);case 2:e.pickType=t.sent,e.closePage(),e.controller.start();case 5:case"end":return t.stop()}}),t)}))),e.page=Object(Fe.a)((function(){var t=e.controller,r=t.products,a=(t.onNewProduct,t.searchProductByKey),c=t.pickChemical,i=n.createElement("div",{className:"d-flex align-items-center"},n.createElement("div",null,n.createElement("span",{onClick:function(){return e.pickSelect()},className:"fa-stack"},n.createElement("i",{className:"fa fa-filter fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}}))),n.createElement(f.SearchBox,{size:"sm",onSearch:function(t){return a(e.pickType,t)},placeholder:"\u8bf7\u8f93\u5165cas\u3001\u540d\u79f0\u5173\u952e\u5b57"}),n.createElement("div",null,n.createElement("span",{onClick:function(){return c()},className:"fa-stack"},n.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}})))),l=n.createElement("header",null,n.createElement("div",{className:"px-3"},"\u4ea7\u54c1")),s=void 0===e.pickType?"":n.createElement("div",{className:"text-muted small px-3 py-2"},"\u7b5b\u9009\u6761\u4ef6\uff1a",e.pickType);return n.createElement(f.Page,{header:l,right:i,onScrollBottom:e.onScrollBottom,headerClassName:"py-1 bg-primary"},s,n.createElement(f.List,{items:r,item:{render:e.renderRootCategory}}))})),e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.products.more();case 2:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.createElement(this.page,null)}}]),r}(f.VPage),rt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.page=function(t){return n.createElement(f.Page,{header:"\u7b5b\u9009\u7c7b\u578b",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){return e.onConfirm(void 0)}},"\u53d6\u6d88"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){return e.onConfirm("\u4f9b\u5e94\u5546")}},"\u4f9b\u5e94\u5546"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){return e.onConfirm("\u4e2d\u82f1\u6587\u540d\u79f0")}},"\u4e2d\u82f1\u6587\u540d\u79f0"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){return e.onConfirm("\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7")}},"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){return e.onConfirm("CAS")}},"CAS")))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(f.VPage),nt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=Object(Fe.a)((function(){var t=e.controller,r=t.suppliers,a=t.searchSupplierByKey,c=n.createElement("div",{className:"d-flex align-items-center"},n.createElement(f.SearchBox,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}));return n.createElement(f.Page,{header:"\u9009\u62e9\u4f9b\u5e94\u5546",right:c,onScrollBottom:e.onScrollBottom,headerClassName:"py-1 bg-primary"},n.createElement(f.List,{items:r,item:{render:e.renderItem,onClick:e.onClick}}))})),e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.suppliers.more();case 2:case"end":return t.stop()}}),t)}))),e.onClick=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnSupplier(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderItem=function(e,t){var r=e.name;return n.createElement(f.LMR,{className:"py-2 border"},n.createElement("div",null,n.createElement(f.FA,{name:"circle",className:"px-2 text-primary"}),r))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),at=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchSupplier=void 0,n.firstSize=n.pageSize=14,n.searchSupplier=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchSupplier.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),ct=(M=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"suppliers",K,Object(y.a)(e)),e.searchSupplierByKey=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.suppliers=new at(e.uqs.rms.SearchSupplier),e.suppliers.first({key:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.returnSupplier=function(t){e.returnCall(t)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t),this.openVPage(nt);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),K=Object(k.a)(M.prototype,"suppliers",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M),it=[{name:"id",type:"id",required:!1},{name:"no",type:"string",required:!0},{name:"name",type:"string",required:!0},{name:"isValid",type:"boolean",required:!0},{name:"submit",type:"submit"}],lt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.brandData=void 0,e.uiSchema={items:{id:{visible:!1},no:{widget:"text",label:"\u54c1\u724c\u7f16\u53f7",placeholder:"\u5fc5\u586b"},name:{widget:"text",label:"\u54c1\u724c\u540d\u79f0",placeholder:"\u5fc5\u586b"},isValid:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.saveBrandData(n.form.data);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(){var t=O.a.clone(e.brandData);return n.createElement(f.Page,{header:"\u6dfb\u52a0\u54c1\u724c",headerClassName:"py-1 bg-primary"},n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",schema:it,uiSchema:e.uiSchema,formData:t,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.brandData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),st=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=Object(Fe.a)((function(){var t=e.controller,r=t.brands,a=t.searchBrandByKey,c=t.onNewBrand,i=n.createElement("div",{className:"d-flex align-items-center"},n.createElement(f.SearchBox,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),n.createElement("div",null,n.createElement("span",{onClick:function(){return c()},className:"fa-stack"},n.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}})))),l=n.createElement("header",null,n.createElement("div",null,"\u9009\u62e9\u54c1\u724c"));return n.createElement(f.Page,{header:l,right:i,onScrollBottom:e.onScrollBottom,headerClassName:"py-1 bg-primary"},n.createElement(f.List,{items:r,item:{render:e.renderItem,onClick:e.onClick}}))})),e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.brands.more();case 2:case"end":return t.stop()}}),t)}))),e.onClick=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnBrand(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderItem=function(e,t){var r=e.no,a=e.name;return n.createElement(f.LMR,{className:"py-2 border"},n.createElement("div",null,n.createElement(f.FA,{name:"circle",className:"px-2 text-primary"}),r," - ",a))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),ot=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchBrand=void 0,n.firstSize=n.pageSize=14,n.searchBrand=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchBrand.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),ut=(W=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"brands",_,Object(y.a)(e)),e.searchBrandByKey=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.brands=new ot(e.uqs.rms.SearchBrand),e.brands.first({key:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.saveBrandData=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==r.id){t.next=5;break}return t.next=3,e.uqs.rms.RsBrand.save(void 0,r);case 3:t.next=7;break;case 5:return t.next=7,e.uqs.rms.RsBrand.save(r.id,r);case 7:return e.closePage(),t.next=10,e.searchBrandByKey("");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onNewBrand=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(lt,{description:void 0});case 1:case"end":return t.stop()}}),t)}))),e.onEditBrand=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(lt,r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.returnBrand=function(t){e.returnCall(t)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchBrandByKey(t),this.openVPage(st);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),_=Object(k.a)(W.prototype,"brands",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W),pt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=function(){var t=e.controller.storageRanges;return n.createElement(f.Page,{header:"\u9009\u62e9\u5b58\u50a8\u6761\u4ef6"},n.createElement("div",{className:"row no-gutters"},t.map((function(t){return e.renderStorageRange(t,e.onStorageRangeClick)}))))},e.renderStorageRange=function(t,r){var a=t.id,c=t.no,i=t.description;return n.createElement("div",{key:a,className:"col-12 cursor-pointer"},n.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return e.onStorageRangeClick(t)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},n.createElement("span",{className:"ml-1 align-middle"},n.createElement(f.FA,{name:"chevron-right",className:"text-info small"}),"\xa0 ",c," [",i,"]")))},e.onStorageRangeClick=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnStorageRange(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),mt=(H=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"storageRanges",Q,Object(y.a)(e)),e.returnStorageRange=function(t){e.returnCall(t)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.rms.StorageRange.search("",0,100);case 2:this.storageRanges=e.sent,this.openVPage(pt);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(v),Q=Object(k.a)(H.prototype,"storageRanges",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H),dt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).result="",e.page=function(){var t=e.controller,r=t.restrictMarks,a=t.restrictMarkResult,c=t.restrictMarkList,i=" ";if(void 0!==c){var l,s=Object(Qe.a)(c);try{for(s.s();!(l=s.n()).done;){var o=l.value.no;1===i.length?i+=o:i+="-"+o}}catch(h){s.e(h)}finally{s.f()}}if(void 0!==a){var u,p=Object(Qe.a)(a);try{for(p.s();!(u=p.n()).done;){var m=u.value.no;0===e.result.length?e.result+=m:e.result+="-"+m}}catch(h){p.e(h)}finally{p.f()}}var d=n.createElement("div",{className:"d-flex align-items-center"},n.createElement("div",null,n.createElement("span",{onClick:function(){return e.onReturn(a)},className:"fa-stack text-success"},n.createElement("i",{className:"fa fa-check-circle-o fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}}))),n.createElement("div",null,n.createElement("span",{onClick:function(){return e.onCancel()},className:"fa-stack text-danger"},n.createElement("i",{className:"fa fa-times-circle-o fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}})))),v="\u9009\u62e9\u9650\u5236\u6027\u6807\u8bb0"+i;return n.createElement(f.Page,{header:v,right:d},n.createElement("div",{className:"bg-white py-2"},"\u7ed3\u679c\uff1a",e.result),n.createElement("div",{className:"row no-gutters"},r.map((function(t){return e.renderRestrictMark(t,e.onRestrictMarkClick)}))))},e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.controller.restrictMarkResult=[],e.result="",t.next=4,e.controller.call();case 4:case"end":return t.stop()}}),t)}))),e.onReturn=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.saveProductRestrictMark(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderRestrictMark=function(t,r){var a=t.id,c=t.no,i=t.description;return n.createElement("div",{key:a,className:"col-12 cursor-pointer"},n.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return e.onRestrictMarkClick(t)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},n.createElement("span",{className:"ml-1 align-middle"},n.createElement(f.FA,{name:"chevron-right",className:"text-info small"}),"\xa0 ",c," [",i,"]")))},e.onRestrictMarkClick=function(){var t=Object(o.a)(s.a.mark((function t(r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.controller.restrictMarkResult,void 0===n.find((function(e){return e.id===r.id}))&&n.push(r),t.next=5,e.controller.call();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),ft=(G=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"restrictMarks",J,Object(y.a)(e)),Object(E.a)(e,"restrictMarkResult",$,Object(y.a)(e)),e.product=void 0,e.restrictMarkList=void 0,e.returnRestrictMark=function(t){e.returnCall(t)},e.saveProductRestrictMark=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i,l,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.product||void 0===r){t.next=37;break}if(n=e.product.id,void 0===e.restrictMarkList){t.next=20;break}a=Object(Qe.a)(e.restrictMarkList),t.prev=4,a.s();case 6:if((c=a.n()).done){t.next=12;break}return i=c.value,t.next=10,e.uqs.rms.ProductRestrictMark.del({product:n,arr1:[{restrictMark:i.id}]});case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),a.e(t.t0);case 17:return t.prev=17,a.f(),t.finish(17);case 20:l=Object(Qe.a)(e.restrictMarkResult),t.prev=21,l.s();case 23:if((o=l.n()).done){t.next=29;break}return u=o.value,t.next=27,e.uqs.rms.ProductRestrictMark.add({product:n,arr1:[{restrictMark:u.id}]});case 27:t.next=23;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(21),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:return e.closePage(),t.next=40,e.cApp.cProduct.showProductDetail(e.product);case 40:case"end":return t.stop()}}),t,null,[[4,14,17,20],[21,31,34,37]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==t&&(r=t.parent,t.item,n=t.child,this.product=r,this.restrictMarkList=n),e.next=3,this.uqs.rms.RestrictMark.search("",0,200);case 3:this.restrictMarks=e.sent,this.openVPage(dt);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),J=Object(k.a)(G.prototype,"restrictMarks",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=Object(k.a)(G.prototype,"restrictMarkResult",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G),vt=[{name:"id",type:"id",required:!1},{name:"isspot",type:"number",required:!1},{name:"storageRange",type:"id",required:!1},{name:"expiry",type:"string",required:!1},{name:"expiryUnit",type:"string",required:!1},{name:"refractiveIndex",type:"string",required:!1},{name:"opticalRotation",type:"string",required:!1},{name:"flashPoint",type:"string",required:!1},{name:"meltingPoint",type:"string",required:!1},{name:"boilingPoint",type:"string",required:!1},{name:"character",type:"string",required:!1},{name:"chroma",type:"string",required:!1},{name:"waterContent",type:"string",required:!1},{name:"useFor",type:"string",required:!1},{name:"remark",type:"string",required:!1},{name:"submit",type:"submit"}],ht=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.product=void 0,e.uiSchema={items:{id:{visible:!1},isspot:{widget:"radio",label:"\u662f\u5426\u73b0\u8d27",list:[{value:1,title:"\u73b0\u8d27"},{value:0,title:"\u5b9a\u5236"}]},storageRange:{widget:"id",label:"\u5b58\u50a8\u6761\u4ef6",placeholder:"\u5b58\u50a8\u6761\u4ef6",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickStorageRange(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.description)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5b58\u50a8\u6761\u4ef6")}},expiry:{widget:"text",label:"\u4fdd\u8d28\u671f",placeholder:"\u4fdd\u8d28\u671f"},expiryUnit:{widget:"select",label:"\u4fdd\u8d28\u671f\u5355\u4f4d",list:[{value:"\u5929",title:"\u5929"},{value:"\u5468",title:"\u5468"},{value:"\u6708",title:"\u6708"},{value:"\u5e74",title:"\u5e74"}]},refractiveIndex:{widget:"text",label:"\u6298\u5c04\u7387",placeholder:"\u6298\u5c04\u7387"},opticalRotation:{widget:"text",label:"\u65cb\u5149\u5ea6",placeholder:"\u65cb\u5149\u5ea6"},flashPoint:{widget:"text",label:"\u95ea\u70b9",placeholder:"\u95ea\u70b9"},meltingPoint:{widget:"text",label:"\u7194\u70b9",placeholder:"\u7194\u70b9"},boilingPoint:{widget:"text",label:"\u6cb8\u70b9",placeholder:"\u6cb8\u70b9"},character:{widget:"text",label:"\u6027\u72b6",placeholder:"\u6027\u72b6"},chroma:{widget:"text",label:"\u8272\u5ea6",placeholder:"\u8272\u5ea6"},density:{widget:"text",label:"\u5bc6\u5ea6",placeholder:"\u5bc6\u5ea6"},waterContent:{widget:"text",label:"\u542b\u6c34\u91cf",placeholder:"\u542b\u6c34\u91cf"},useFor:{widget:"textarea",label:"\u4ea7\u54c1\u7528\u9014",placeholder:"\u4ea7\u54c1\u7528\u9014",rows:2},remark:{widget:"textarea",label:"\u4ea7\u54c1\u5907\u6ce8",placeholder:"\u4ea7\u54c1\u5907\u6ce8",rows:2},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.saveProductProperty(n.form.data,e.product);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=Object(Fe.a)((function(){var t=O.a.clone(e.product);return n.createElement(f.Page,{header:"\u6dfb\u52a0\u4ea7\u54c1\u6027\u8d28",headerClassName:"py-1 bg-primary"},n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",schema:vt,uiSchema:e.uiSchema,formData:t,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))})),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.product=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),bt=[{name:"isspot",type:"number",required:!1},{name:"storageRange",type:"id",required:!1},{name:"expiry",type:"string",required:!1},{name:"expiryUnit",type:"string",required:!1},{name:"refractiveIndex",type:"string",required:!1},{name:"opticalRotation",type:"string",required:!1},{name:"flashPoint",type:"string",required:!1},{name:"meltingPoint",type:"string",required:!1},{name:"boilingPoint",type:"string",required:!1},{name:"character",type:"string",required:!1},{name:"chroma",type:"string",required:!1},{name:"waterContent",type:"string",required:!1},{name:"useFor",type:"string",required:!1},{name:"remark",type:"string",required:!1}],gt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).property=void 0,e.propertyData=void 0,e.uiSchema={items:{isspot:{widget:"radio",label:"\u662f\u5426\u73b0\u8d27",list:[{value:1,title:"\u73b0\u8d27"},{value:0,title:"\u5b9a\u5236"}]},storageRange:{widget:"id",label:"\u5b58\u50a8\u6761\u4ef6",placeholder:"\u5b58\u50a8\u6761\u4ef6",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickStorageRange(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.description)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5b58\u50a8\u6761\u4ef6")}},expiry:{widget:"text",label:"\u4fdd\u8d28\u671f",placeholder:"\u4fdd\u8d28\u671f"},expiryUnit:{widget:"select",label:"\u4fdd\u8d28\u671f\u5355\u4f4d",list:[{value:"\u5929",title:"\u5929"},{value:"\u5468",title:"\u5468"},{value:"\u6708",title:"\u6708"},{value:"\u5e74",title:"\u5e74"}]},refractiveIndex:{widget:"text",label:"\u6298\u5c04\u7387",placeholder:"\u6298\u5c04\u7387"},opticalRotation:{widget:"text",label:"\u65cb\u5149\u5ea6",placeholder:"\u65cb\u5149\u5ea6"},flashPoint:{widget:"text",label:"\u95ea\u70b9",placeholder:"\u95ea\u70b9"},meltingPoint:{widget:"text",label:"\u7194\u70b9",placeholder:"\u7194\u70b9"},boilingPoint:{widget:"text",label:"\u6cb8\u70b9",placeholder:"\u6cb8\u70b9"},character:{widget:"text",label:"\u6027\u72b6",placeholder:"\u6027\u72b6"},chroma:{widget:"text",label:"\u8272\u5ea6",placeholder:"\u8272\u5ea6"},density:{widget:"text",label:"\u5bc6\u5ea6",placeholder:"\u5bc6\u5ea6"},waterContent:{widget:"text",label:"\u542b\u6c34\u91cf",placeholder:"\u542b\u6c34\u91cf"},useFor:{widget:"textarea",label:"\u4ea7\u54c1\u7528\u9014",placeholder:"\u4ea7\u54c1\u7528\u9014",rows:5},remark:{widget:"textarea",label:"\u4ea7\u54c1\u5907\u6ce8",placeholder:"\u4ea7\u54c1\u5907\u6ce8",rows:5}}},e.onPropertyDataChanged=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.name,e.property[c]=n,t.next=4,e.controller.updatProductPropertyData(e.property);case 4:return i=e.property.product,e.closePage(),t.next=8,e.controller.showProductPropertyDetail(i);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.page=function(){return n.createElement(f.Page,{header:"\u4ea7\u54c1\u6027\u8d28",headerClassName:"py-1 bg-primary"},n.createElement(f.Edit,{schema:bt,uiSchema:e.uiSchema,data:e.property,onItemChanged:e.onPropertyDataChanged}))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.property=void 0,this.property=t,this.openPage(this.page);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),yt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchProduct=void 0,n.firstSize=n.pageSize=10,n.searchProduct=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchProduct.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),xt=(X=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e,a=this;Object(u.a)(this,r);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(e,"products",Y,Object(y.a)(e)),e.chemical=void 0,e.supplier=void 0,e.searchProductByKey=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.products=new yt(e.uqs.rms.SearchProduct),e.products.first({key:n,pickType:r});case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.pickSupplier=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(ct),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.pickBrand=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(ut),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.pickChemical=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cApp.cChemical.call();case 2:t.sent;case 3:case"end":return t.stop()}}),t)}))),e.pickStorageRange=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(mt),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.pickRestrictMark=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.newC(ft),c={parent:r,item:void 0===n?void 0:n[0],child:n},t.next=4,a.call(c);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.saveProductData=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c,i,l,o,u,p,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==n.id){t.next=18;break}if(!e.chemical){t.next=18;break}return a=e.chemical,c=a.id,i=a.CAS,a.description,a.descriptoinCN,l=a.molecularFomula,o=a.molecularWeight,n.createTime=Date.now(),n.isTrue=1,n.inquiryContact=void 0,u=i.length,p=i,u>4&&u<=15&&(p=i.trim(),p=i.slice(0,u-3)+"-"+i.slice(u-3,u-1)+"-"+i.slice(u-1,u)),t.next=11,e.uqs.rms.SearchProductByOrigin.query({supplier:n.supplier,brand:n.brand,origin:n.origin});case 11:if(0!==t.sent.ret.length){t.next=18;break}return t.next=15,e.uqs.rms.Product.save(void 0,n);case 15:return m=t.sent,t.next=18,e.uqs.rms.RsProductChemical.add({product:m.id,arr1:[{chemical:c,CAS:p,molecularFomula:l,molecularWeight:o,purity:n.purity}]});case 18:return e.closePage(2),t.next=21,e.loadList();case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.updateProductData=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=11;break}return r.isTrue=1,a=r.chemical,t.next=5,e.uqs.rms.SearchProductByOrigin.query({supplier:r.supplier,brand:r.brand,origin:r.origin});case 5:return t.sent.ret.length>0&&(r.origin=n),t.next=9,e.uqs.rms.Product.save(r.id,r);case 9:return t.next=11,e.uqs.rms.RsProductChemical.add({product:r.id,arr1:[{chemical:a.id,CAS:r.CAS,molecularFomula:r.molecularFomula,molecularWeight:r.molecularWeight,purity:r.purity}]});case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.saveProductProperty=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==r.id){t.next=5;break}return r.product=n,t.next=4,e.uqs.rms.ProductProperty.save(void 0,r);case 4:t.sent;case 5:return e.closePage(),t.next=8,e.showProductPropertyDetail(n);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.updatProductPropertyData=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=3;break}return t.next=3,e.uqs.rms.ProductProperty.save(r.id,r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onNewProduct=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.chemical=r,e.supplier=n,e.openVPage(Je,{product:void 0});case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.showProductDetail=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i,l,o,u,p,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.rms.GetPack.query({_id:n});case 3:return a=t.sent,t.next=6,e.uqs.rms.ProductRestrictMark.table({product:n});case 6:if(!((c=t.sent).length>0)){t.next=29;break}i=[],l=Object(Qe.a)(c),t.prev=10,l.s();case 12:if((o=l.n()).done){t.next=20;break}return u=o.value,t.next=16,e.uqs.rms.RestrictMark.load(u.restrictMark.id);case 16:void 0!==(p=t.sent)&&i.push(p);case 18:t.next=12;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(10),l.e(t.t0);case 25:return t.prev=25,l.f(),t.finish(25);case 28:r.restrictMark=i;case 29:m={parent:r,item:a.ret[0],child:a.ret},e.openVPage(Ye,m);case 31:case"end":return t.stop()}}),t,null,[[10,22,25,28]])})));return function(e){return t.apply(this,arguments)}}(),e.showProductPropertyDetail=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.rms.SearchProductProperty.query({_id:n});case 3:0===(a=t.sent).ret.length?e.openVPage(ht,n):e.openVPage(gt,a.ret[0]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadList=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.searchProductByKey("","\u674e");case 2:case"end":return t.stop()}}),t)}))),e.render=Object(Fe.a)((function(){return e.renderView(tt)})),e.tab=function(){return n.createElement(a.render,null)},e.delProduct=function(){var t=Object(o.a)(s.a.mark((function t(r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,r.isTrue=0,t.next=4,e.uqs.rms.Product.save(n,r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delPakage=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=r.product,c={radiox:r.radiox,radioy:r.radioy,unit:r.unit,type:r.type,isValid:0},t.next=4,e.uqs.rms.Product.saveArr("Pack",a.id,n,c);case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchProductByKey("",t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),Y=Object(k.a)(X.prototype,"products",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X),wt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=Object(Fe.a)((function(){var t=e.controller,r=t.chemicals,a=t.searchChemicalByKey,c=t.onNewChemical,i=n.createElement("div",{className:"d-flex align-items-center"},n.createElement(f.SearchBox,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165CAS\u3001\u540d\u79f0\u5173\u952e\u5b57"}),n.createElement("div",null,n.createElement("span",{onClick:function(){return c()},className:"fa-stack"},n.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}}))));return n.createElement(f.Page,{header:"\u9009\u62e9\u6807\u51c6\u5e93",right:i,onScrollBottom:e.onScrollBottom,headerClassName:"bg-primary"},n.createElement(f.List,{items:r,item:{render:e.renderItem}}))})),e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.chemicals.more();case 2:case"end":return t.stop()}}),t)}))),e.renderItem=function(t,r){var a=t.CAS,c=t.description,i=e.controller.supplier,l=e.controller.cApp.cProduct.onNewProduct;return n.createElement(f.LMR,{className:"py-2 border",onClick:function(){return l(t,i)}},n.createElement("div",null,n.createElement(f.FA,{name:"circle",className:"px-2 text-primary"}),"CAS\uff1a",a),n.createElement("div",{className:"px-4 text-muted small"},c))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Et=[{name:"id",type:"id",required:!1},{name:"CAS",type:"string",required:!1},{name:"description",type:"string",required:!1},{name:"descriptoinCN",type:"string",required:!1},{name:"molecularFomula",type:"string",required:!1},{name:"molecularWeight",type:"number",required:!1},{name:"submit",type:"submit"}],kt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.chemicalData=void 0,e.uiSchema={items:{id:{visible:!1},CAS:{widget:"text",label:"CAS",placeholder:"CAS"},description:{widget:"text",label:"\u82f1\u6587\u540d\u79f0",placeholder:"\u82f1\u6587\u540d\u79f0"},descriptoinCN:{widget:"text",label:"\u4e2d\u6587\u540d\u79f0",placeholder:"\u4e2d\u6587\u540d\u79f0"},molecularFomula:{widget:"text",label:"\u5206\u5b50\u5f0f",placeholder:"\u5206\u5b50\u5f0f"},molecularWeight:{widget:"text",label:"\u5206\u5b50\u91cf",placeholder:"\u5206\u5b50\u91cf"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.saveChemicalData(n.form.data);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(){var t=O.a.clone(e.chemicalData);return n.createElement(f.Page,{header:"\u6dfb\u52a0\u6807\u51c6\u5e93",headerClassName:"py-1 bg-primary"},n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",schema:Et,uiSchema:e.uiSchema,formData:t,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.chemicalData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),jt=r(97),Nt=r.n(jt),Ot=new(function(){function e(){Object(u.a)(this,e)}return Object(p.a)(e,[{key:"newChemical",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n,a,c,i,l,o,u,p,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.CAS,n=t.description,a=t.descriptoinCN,c=t.molecularFomula,i=t.molecularWeight,l={CAS:r,EnglishName:n,ChineseName:a,MolecularFomula:c,MolecularWeight:i},e.next=5,this.getUrl("http://localhost:38311/api/Chemical/CreateChemid",l);case 5:return o=e.sent,u={headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"post"},e.next=9,Nt()(o,u);case 9:if(200===(p=e.sent).status){e.next=13;break}throw console.error(p.statusText,p.status),{error:p.statusText,code:p.status};case 13:return e.next=15,p.json();case 15:if(void 0===(m=e.sent).error){e.next=18;break}throw m.error;case 18:if(!0!==m.ok){e.next=20;break}return e.abrupt("return",m);case 20:return e.abrupt("return",m);case 23:throw e.prev=23,e.t0=e.catch(0),console.log(e.t0),e.t0;case 27:case"end":return e.stop()}}),e,this,[[0,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUrl",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n,a,c,i,l,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=o.length>1&&void 0!==o[1]?o[1]:void 0)){e.next=25;break}if(!((n=Object.keys(r)).length>0)){e.next=25;break}a="?",c=Object(Qe.a)(n),e.prev=6,c.s();case 8:if((i=c.n()).done){e.next=17;break}if(l=i.value,void 0!==r[l]){e.next=13;break}return e.abrupt("continue",15);case 13:t+=a+l+"="+encodeURIComponent(r[l]),a="&";case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),c.e(e.t0);case 22:return e.prev=22,c.f(),e.finish(22);case 25:return e.abrupt("return",t);case 26:case"end":return e.stop()}}),e,null,[[6,19,22,25]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Pt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchChemical=void 0,n.firstSize=n.pageSize=14,n.searchChemical=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchChemical.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),Ct=(Z=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"chemicals",ee,Object(y.a)(e)),Object(E.a)(e,"supplier",te,Object(y.a)(e)),e.searchChemicalByKey=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.length<20&&(r=r.replace("-","").replace("-","")),e.chemicals=new Pt(e.uqs.chemical.SearchChemical),e.chemicals.first({key:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onNewChemical=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(kt,{description:void 0});case 1:case"end":return t.stop()}}),t)}))),e.saveChemicalData=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==r.id){t.next=6;break}return t.next=3,Ot.newChemical(r);case 3:return r.no=t.sent,t.next=6,e.uqs.chemical.Chemical.save(void 0,r);case 6:return e.closePage(),t.next=9,e.searchChemicalByKey("");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplier=t,this.searchChemicalByKey(""),this.openVPage(wt);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),ee=Object(k.a)(Z.prototype,"chemicals",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=Object(k.a)(Z.prototype,"supplier",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z),qt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.item=void 0,e.parent=void 0,e.schema=[{name:"quantity",type:"number",required:!0},{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"id",required:!0},{name:"purity",type:"string",required:!1},{name:"type",type:"string",required:!0},{name:"listPrice",type:"number",required:!1},{name:"price",type:"number",required:!0},{name:"currency",type:"id",required:!0},{name:"isTaxIn",type:"number",required:!0},{name:"invoiceType",type:"number",required:!0},{name:"vatRate",type:"id",required:!1},{name:"tariffRate",type:"number",required:!1},{name:"isTransFeeIn",type:"number",required:!0},{name:"transFee",type:"number",required:!1},{name:"transFeecurrency",type:"id",required:!1},{name:"packingFee",type:"number",required:!1},{name:"packingcurrency",type:"id",required:!1},{name:"otherFee",type:"number",required:!1},{name:"otherFeecurrency",type:"id",required:!1},{name:"customizeUpto",type:"date",required:!1},{name:"validUpto",type:"date",required:!0},{name:"minArriveDate",type:"date",required:!1},{name:"maxArriveDate",type:"date",required:!1},{name:"remark",type:"string",required:!1},{name:"submit",type:"submit"}],e.uiSchema={items:{quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"id",label:"\u5305\u88c5\u5355\u4f4d",placeholder:"\u5305\u88c5\u5355\u4f4d",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickPackUnit(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u5355\u4f4d")}},purity:{widget:"text",label:"\u62a5\u4ef7\u7eaf\u5ea6",placeholder:"\u62a5\u4ef7\u7eaf\u5ea6"},type:{widget:"radio",label:"\u7c7b\u578b",list:[{value:1,title:"\u76ee\u5f55\u5305\u88c5"},{value:2,title:"\u975e\u76ee\u5f55\u5305\u88c5"}]},listPrice:{widget:"text",label:"\u76ee\u5f55\u4ef7",placeholder:"\u76ee\u5f55\u4ef7"},price:{widget:"text",label:"\u7ed3\u7b97\u4ef7",placeholder:"\u5fc5\u586b"},currency:{widget:"id",label:"\u7ed3\u7b97\u5e01\u79cd",placeholder:"\u7ed3\u7b97\u5e01\u79cd",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.cPendingInquiry.pickCurrency(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u7ed3\u7b97\u5e01\u79cd")}},isTaxIn:{widget:"radio",label:"\u542b\u7a0e\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},invoiceType:{widget:"radio",label:"\u53d1\u7968\u7c7b\u578b",list:[{value:"1",title:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968"},{value:"2",title:"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968"},{value:"3",title:"\u5f62\u5f0f\u53d1\u7968"},{value:"4",title:"\u65e0\u53d1\u7968"}]},vatRate:{widget:"id",label:"\u589e\u503c\u7a0e\u7387",placeholder:"\u589e\u503c\u7a0e\u7387",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickVatRate(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,100*e.description)})),"%"):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u589e\u503c\u7a0e\u7387")}},tariffRate:{widget:"text",label:"\u5173\u7a0e\u7a0e\u7387",placeholder:"\u5173\u7a0e\u7a0e\u7387",rules:R},isTransFeeIn:{widget:"radio",label:"\u542b\u8fd0\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},transFee:{widget:"text",label:"\u8fd0\u8d39",placeholder:"\u8fd0\u8d39"},transFeecurrency:{widget:"id",label:"\u8fd0\u8d39\u5e01\u79cd",placeholder:"\u8fd0\u8d39\u5e01\u79cd",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.cPendingInquiry.pickCurrency(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u8fd0\u8d39\u5e01\u79cd")}},packingFee:{widget:"text",label:"\u5305\u88c5\u8d39",placeholder:"\u5305\u88c5\u8d39"},packingcurrency:{widget:"id",label:"\u5305\u88c5\u8d39\u5e01\u79cd",placeholder:"\u5305\u88c5\u8d39\u5e01\u79cd",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.cPendingInquiry.pickCurrency(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u8d39\u5e01\u79cd")}},otherFee:{widget:"text",label:"\u5176\u4ed6\u8d39",placeholder:"\u5176\u4ed6\u8d39"},otherFeecurrency:{widget:"id",label:"\u5176\u4ed6\u8d39\u5e01\u79cd",placeholder:"\u5176\u4ed6\u8d39\u5e01\u79cd",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.cPendingInquiry.pickCurrency(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5176\u4ed6\u8d39\u5e01\u79cd")}},customizeUpto:{widget:"date",label:"\u5b9a\u5236\u622a\u6b62\u65e5\u671f"},validUpto:{widget:"date",label:"\u62a5\u4ef7\u6709\u6548\u671f",placeholder:"\u5fc5\u586b"},minArriveDate:{widget:"date",label:"\u6700\u77ed\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},maxArriveDate:{widget:"date",label:"\u6700\u957f\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},remark:{widget:"textarea",label:"\u62a5\u4ef7\u5907\u6ce8",placeholder:"\u62a5\u4ef7\u5907\u6ce8",rows:2},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.controller.savePackage,c=e.item&&e.item.id,t.next=4,a(c,n.form.data,e.parent);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=Object(Fe.a)((function(){return n.createElement(f.Page,{header:"\u7f16\u8f91\u5305\u88c5",headerClassName:"bg-primary"},n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",formData:e.item,schema:e.schema,uiSchema:e.uiSchema,onButtonClick:e.onFormButtonClick,requiredFlag:!0})))})),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.item,n=t.parent,this.item=r,this.parent=n,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),St=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).package=void 0,e.page=function(){var t=O.a.clone(e.package),r=t.radiox,a=t.radioy,c=t.unit,i=t.type,l=t.listPrice,s=t.price,o=t.currency,u=t.isTaxIn,p=t.isTransFeeIn,m=t.transFee,d=t.transFeecurrency,v=t.packingFee,h=t.packingcurrency,b=t.otherFee,g=t.otherFeecurrency,y=t.customizeUpto,x=t.validUpto,w=t.minArriveDate,E=t.maxArriveDate,k=t.invoiceType,j=t.vatRate,N=t.tariffRate,P=t.remark,C=void 0===c?void 0:c.obj.name,q=1!==r?n.createElement(n.Fragment,null,r," * ",a,C):n.createElement(n.Fragment,null,a,C),S=n.createElement("header",null,n.createElement("span",null,"\u5305\u88c5\u8be6\u60c5: ",q));return n.createElement(f.Page,{header:S,headerClassName:"py-1 bg-primary"},n.createElement("div",null,n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5305\u88c5\u7c7b\u578b:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===i?"\u76ee\u5f55\u5305\u88c5":2===i?"\u975e\u76ee\u5f55\u5305\u88c5":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u76ee\u5f55\u4ef7:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},l,void 0===o?"":Object(f.tv)(o,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u7ed3\u7b97\u4ef7:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},s,void 0===o?"":Object(f.tv)(o,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u542b\u7a0e\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===u?"\u542b":0===u?"\u4e0d\u542b":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u542b\u8fd0\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===p?"\u542b":0===p?"\u4e0d\u542b":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u8fd0\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},m,void 0===d?"":Object(f.tv)(d,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5305\u88c5\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},v,void 0===h?"":Object(f.tv)(h,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5176\u4ed6\u8d39\u7528:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},b,void 0===g?"":Object(f.tv)(g,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5b9a\u5236\u65f6\u95f4\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:y}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u6709\u6548\u671f\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:x}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u6700\u77ed\u8d27\u671f\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:w}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u6700\u957f\u8d27\u671f\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:E}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u53d1\u7968\u7c7b\u578b:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},void 0===k?"":1===k.id?"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968":2===k.id?"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968":3===k?"\u5f62\u5f0f\u53d1\u7968":"\u65e0\u53d1\u7968")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u589e\u503c\u7a0e\u7387:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},j)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5173\u7a0e\u7a0e\u7387:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},N)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u62a5\u4ef7\u5907\u6ce8:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},P))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.package=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Ft=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=function(){var t=e.controller.vatRates;return n.createElement(f.Page,{header:"\u9009\u62e9\u589e\u503c\u7a0e\u7387"},n.createElement("div",{className:"row no-gutters"},t.map((function(t){return e.renderVatRate(t,e.onVatRateClick)}))))},e.renderVatRate=function(t,r){var a=t.id,c=t.description;return n.createElement("div",{key:a,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},n.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return e.onVatRateClick(t)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},n.createElement("span",{className:"ml-1 align-middle"},n.createElement(f.FA,{name:"chevron-right",className:"text-info small"}),"\xa0 ",100*c,"%")))},e.onVatRateClick=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnVatRate(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),At=(re=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"vatRates",ne,Object(y.a)(e)),e.returnVatRate=function(t){e.returnCall(t)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.rms.SearchVatRate.query("");case 2:t=e.sent,this.vatRates=t.ret,this.openVPage(Ft);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(v),ne=Object(k.a)(re.prototype,"vatRates",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re),It=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=function(){var t=e.controller.packUnits;return n.createElement(f.Page,{header:"\u9009\u62e9\u5305\u88c5\u5355\u4f4d"},n.createElement("div",{className:"row no-gutters"},t.map((function(t){return e.renderPackUnit(t,e.onPackUnitClick)}))))},e.renderPackUnit=function(t,r){var a=t.id,c=t.name;return n.createElement("div",{key:a,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},n.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return e.onPackUnitClick(t)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},n.createElement("span",{className:"ml-1 align-middle"},n.createElement(f.FA,{name:"chevron-right",className:"text-info small"}),"\xa0 ",c)))},e.onPackUnitClick=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnPackUnit(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Dt=(ae=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"packUnits",ce,Object(y.a)(e)),e.returnPackUnit=function(t){e.returnCall(t)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.common.SearchPackType.query("");case 2:t=e.sent,this.packUnits=t.ret,this.openVPage(It);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(v),ce=Object(k.a)(ae.prototype,"packUnits",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae),Rt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchPackage=void 0,n.firstSize=n.pageSize=14,n.searchPackage=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchPackage.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),Bt=(ie=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"pagePackage",le,Object(y.a)(e)),e.searchPackageByKey=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rt,t.next=3,e.uqs.rms.GetPack.query({_id:r.id});case 3:t.t1=t.sent,e.pagePackage=new t.t0(t.t1),e.pagePackage.first({key:n});case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.pickVatRate=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(At),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.pickPackUnit=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(Dt),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.showCreatePackage=function(t){var r={parent:t,item:void 0,child:void 0};e.openVPage(qt,r)},e.showEditPackage=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={parent:r,item:n,child:n},e.openVPage(qt,a);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.showPackageDetail=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(St,r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.savePackage=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c,i,l,o,u,p,m,d,f,v,h,b,g,y,x,w,E,k,j,N,O,P,C,q,S,F;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.quantity,i=n.radiox,l=n.radioy,o=n.unit,u=n.listPrice,p=n.price,m=n.currency,d=n.isTaxIn,f=n.isTransFeeIn,v=n.transFee,h=n.transFeecurrency,b=n.packingFee,g=n.packingcurrency,y=n.otherFee,x=n.otherFeecurrency,w=n.customizeUpto,E=n.validUpto,k=n.minArriveDate,j=n.maxArriveDate,N=n.invoiceType,O=n.vatRate,P=n.tariffRate,C=n.type,q=n.remark,S=n.purity,F={product:a,quantity:c,radiox:i,radioy:l,unit:o,listPrice:u,price:p,currency:m,isTaxIn:d,isTransFeeIn:f,transFee:v,transFeecurrency:h,packingFee:b,packingcurrency:g,otherFee:y,otherFeecurrency:x,customizeUpto:w,validUpto:E,minArriveDate:k,maxArriveDate:j,invoiceType:N,vatRate:O,tariffRate:P,type:C,remark:q,purity:S},t.next=4,e.uqs.rms.AddPackage.submit(F);case 4:e.cApp.cProduct.showProductDetail(a),e.closePage();case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.loadList=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cApp.cSupplier.onSupplierSelected(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showPackage=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.rms.GetPack.query({_id:n});case 3:a=t.sent,c=a.ret.length>0?a.ret:void 0,i={parent:void 0,item:a.ret[0],child:c},e.openVPage(Ye,i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(v),le=Object(k.a)(ie.prototype,"pagePackage",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie),Tt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=Object(Fe.a)((function(){var t=e.controller,r=t.products,a=t.searchProductByKey,c=e.controller.cApp.cNewPendingInquiry.onNewPendingInquiry,i=n.createElement("div",{className:"d-flex align-items-center"},n.createElement(f.SearchBox,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}));return n.createElement(f.Page,{header:"\u9009\u62e9\u4ea7\u54c1",right:i,onScrollBottom:e.onScrollBottom,headerClassName:"py-1 bg-primary"},n.createElement(f.List,{items:r,item:{render:e.renderItem,onClick:c}}))})),e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.products.more();case 2:case"end":return t.stop()}}),t)}))),e.renderItem=function(e,t){var r=e.CAS,a=e.description,c=e.supplier;return n.createElement(f.LMR,{className:"py-2 border"},n.createElement("div",null,n.createElement(f.FA,{name:"circle",className:"px-2 text-primary"}),r),n.createElement("div",{className:"px-4 text-muted small"},a),n.createElement("div",{className:"px-4 text-muted small"},Object(f.tv)(c,(function(e){return n.createElement(n.Fragment,null,e.name)}))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Vt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchProduct=void 0,n.firstSize=n.pageSize=14,n.searchProduct=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchProduct.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),zt=(se=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"products",oe,Object(y.a)(e)),e.searchProductByKey=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.products=new Vt(e.uqs.rms.SearchProduct),e.products.first({key:r,pickType:void 0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchProductByKey(t),this.openVPage(Tt);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),oe=Object(k.a)(se.prototype,"products",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se),Lt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderRootCategory=function(t,r){var a=t.supplier,c=t.inquiryDate,i=e.controller.onShowPendingInquiryDetail,l=n.createElement("div",{className:"cursor-pointer text-muted"},n.createElement(f.EasyDate,{date:c})),s=n.createElement("div",null,n.createElement("b",null,Object(f.tv)(a,(function(e){return n.createElement(n.Fragment,null,e.name)}))));return n.createElement(f.LMR,{left:s,right:l,className:"px-3 d-flex p-1 cursor-pointer",onClick:function(){return i(t)}})},e.page=Object(Fe.a)((function(){var t=e.controller,r=t.pendingInquirys,a=t.searchPendingInquiryByKey,c=n.createElement("div",{className:"d-flex align-items-center"},n.createElement(f.SearchBox,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"})),i=n.createElement("header",null,n.createElement("div",{className:"px-3"},"\u5df2\u8be2\u51fa"));return n.createElement(f.Page,{header:i,right:c,onScrollBottom:e.onScrollBottom,headerClassName:"py-1 bg-primary"},n.createElement(f.List,{items:r,item:{render:e.renderRootCategory}}))})),e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pendingInquirys.more();case 2:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.createElement(this.page,null)}}]),r}(f.VPage),Ut=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).pending=void 0,e.firstPackage=void 0,e.packages=[],e.model=void 0,e.getPackage=function(){return n.createElement("div",null,e.firstPackage&&n.createElement(f.List,{items:e.packages,item:{render:e.renderPackage}}))},e.renderPackage=function(t,r){t.id,t.inquiryPackage,t.user,t.createDate;var a=t.product,c=t.quantity,i=t.radiox,l=t.radioy,s=t.unit,o=t.CAS,u=t.purity,p=t.inquiryRemarks,m=t.jsonStr,d=a.obj,v=d.brand,h=d.description,b=(d.descriptionC,d.origin),g=void 0===m?m:JSON.parse(m),y=void 0===s?void 0:s.obj.name,x=1!==i?n.createElement(n.Fragment,null,i," * ",l,y):n.createElement(n.Fragment,null,l,y),w=(void 0===v||v.obj.name,void 0===m?"px-2 text-warning":"px-2 text-primary"),E=void 0!==g&&"1"===g.result&&"1"===g.isUsed?"":n.createElement("div",{className:"px-2 text-muted text-right"},n.createElement("span",null,n.createElement(f.FA,{className:"align-middle p-2 cursor-pointer text-info",name:"edit"})));return n.createElement(f.LMR,{right:E,className:"p-1 d-flex cursor-pointer",onClick:function(){return void 0!==g&&"1"===g.result&&"1"===g.isUsed?e.controller.openPackageDetail(t):e.controller.openPendingInquiryResult(t)}},n.createElement("div",null,n.createElement(f.FA,{name:"caret-right",className:w}),b,"\xa0\xa0",o,"\xa0\xa0",c," * ",x," ",u),n.createElement("div",{className:"px-4 text-muted"},h),n.createElement("div",{className:"px-4 text-muted"},n.createElement("span",{className:"text-muted small"},p)))},e.rowEnd=function(){return e.firstPackage&&n.createElement("div",null,n.createElement("div",{className:"text-center py-2"},n.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e.onEndInquiry()}},n.createElement("span",{className:"px-2"},n.createElement(f.FA,{className:"text-warning px-1",name:"user"}),n.createElement("b",null,"\u5b8c\u7ed3\u8be2\u4ef7")),n.createElement("span",{className:"px-2"},n.createElement(f.FA,{name:"chevron-right fa-1x"})))))},e.onEndInquiry=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(Mt,e.pending);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=9;break}return t.next=6,e.controller.saveInquiryData(e.pending,e.packages);case 6:return t.next=8,e.controller.loadList();case 8:e.closePage();case 9:case 10:case"end":return t.stop()}}),t)}))),e.rowTop=function(e){var t=e.supplier,r=e.contactName,a=(e.contactSalutation,e.contactDepartmentName,e.contactTelephone),c=e.contactMobile,i=e.contactEmail,l=(e.contactfax,e.way),s=e.inquiryUser,o=e.inquiryDate,u=e.user,p=e.date,m=(e.remarks,u.id),d=s.id;return n.createElement("div",{className:"bg-white py-2"},n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u4f9b\u5e94\u5546:"),n.createElement("div",{className:"col-9"},n.createElement("b",null,Object(f.tv)(t,(function(e){return n.createElement(n.Fragment,null,e.name)}))))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u8054\u7cfb\u4eba:"),n.createElement("div",{className:"col-9"},n.createElement("span",null,r,"\xa0",a," ",c," ",i))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u521b\u5efa\u4eba:"),n.createElement("div",{className:"col-9"},m,"\xa0",n.createElement(f.EasyDate,{date:p}))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u8be2\u4ef7\u4eba:"),n.createElement("div",{className:"col-9"},d,"\xa0",1===l?"Email\u8be2\u4ef7":2===l?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7"," ",n.createElement(f.EasyDate,{date:o}))))},e.page=function(){var t=O.a.clone(e.pending);return n.createElement(f.Page,{header:"\u8be2\u4ef7\u8be6\u60c5",headerClassName:"py-1 bg-primary"},e.rowTop(t),e.rowEnd(),e.getPackage())},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.model=t,r=t.parent,n=t.item,a=t.child,this.pending=r,this.firstPackage=n,this.packages=a,this.openPage(this.page);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Mt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u5b8c\u7ed3\u8be2\u5355",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u5b8c\u7ed3\u8be2\u5355\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5b8c\u7ed3"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Kt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=function(){var t=e.controller.currencys;return n.createElement(f.Page,{header:"\u9009\u62e9\u5e01\u79cd"},n.createElement("div",{className:"row no-gutters"},t.map((function(t){return e.renderCurrency(t,e.onCurrencyClick)}))))},e.renderCurrency=function(t,r){var a=t.id,c=t.name;return n.createElement("div",{key:a,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},n.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return e.onCurrencyClick(t)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},n.createElement("span",{className:"ml-1 align-middle"},n.createElement(f.FA,{name:"chevron-right",className:"text-info small"}),"\xa0 ",c)))},e.onCurrencyClick=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnCurrency(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Wt=(ue=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"currencys",pe,Object(y.a)(e)),e.returnCurrency=function(t){e.returnCall(t)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.common.Currency.search("",0,100);case 2:this.currencys=e.sent,this.openVPage(Kt);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(v),pe=Object(k.a)(ue.prototype,"currencys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue),_t=[{name:"id",type:"id",required:!1},{name:"notProvidedReason",type:"id",required:!1},{name:"quantity",type:"number",required:!1},{name:"radiox",type:"number",required:!1},{name:"radioy",type:"number",required:!1},{name:"unit",type:"id",required:!1},{name:"purity",type:"string",required:!1},{name:"listPrice",type:"number",required:!1},{name:"price",type:"number",required:!1},{name:"currency",type:"id",required:!1},{name:"isTaxIn",type:"number",required:!1},{name:"invoiceType",type:"number",required:!1},{name:"vatRate",type:"id",required:!1},{name:"tariffRate",type:"number",required:!1},{name:"isTransFeeIn",type:"number",required:!1},{name:"transFee",type:"number",required:!1},{name:"transFeecurrency",type:"id",required:!1},{name:"packingFee",type:"number",required:!1},{name:"packingcurrency",type:"id",required:!1},{name:"otherFee",type:"number",required:!1},{name:"otherFeecurrency",type:"id",required:!1},{name:"customizeUpto",type:"date",required:!1},{name:"validUpto",type:"date",required:!1},{name:"minArriveDate",type:"date",required:!1},{name:"maxArriveDate",type:"date",required:!1},{name:"packType",type:"number",required:!1},{name:"remarks",type:"string",required:!1},{name:"coaFilePath",type:"string",required:!1},{name:"msdsFilePath",type:"string",required:!1},{name:"quotationFilePath",type:"string",required:!1},{name:"isUsed",type:"number",required:!1},{name:"submit",type:"submit"}],Ht=(me=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.inquiryData=void 0,Object(E.a)(e,"showTip",de,Object(y.a)(e)),e.saveTip="",e.uiSchema={items:{id:{visible:!1},notProvidedReason:{widget:"id",label:"\u4e0d\u53ef\u4f9b\u539f\u56e0",placeholder:"\u4e0d\u53ef\u4f9b\u539f\u56e0",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickNotProvidedReason(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.description)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u4e0d\u53ef\u4f9b\u539f\u56e0")}},quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"id",label:"\u5305\u88c5\u5355\u4f4d",placeholder:"\u5305\u88c5\u5355\u4f4d",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.cPackage.pickPackUnit(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u5355\u4f4d")}},purity:{widget:"text",label:"\u62a5\u4ef7\u7eaf\u5ea6",placeholder:"\u62a5\u4ef7\u7eaf\u5ea6"},listPrice:{widget:"text",label:"\u76ee\u5f55\u4ef7",placeholder:"\u76ee\u5f55\u4ef7"},price:{widget:"text",label:"\u7ed3\u7b97\u4ef7",placeholder:"\u5fc5\u586b"},currency:{widget:"id",label:"\u7ed3\u7b97\u5e01\u79cd",placeholder:"\u7ed3\u7b97\u5e01\u79cd",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickCurrency(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u7ed3\u7b97\u5e01\u79cd")}},isTaxIn:{widget:"radio",label:"\u542b\u7a0e\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},invoiceType:{widget:"radio",label:"\u53d1\u7968\u7c7b\u578b",list:[{value:"1",title:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968"},{value:"2",title:"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968"},{value:"3",title:"\u5f62\u5f0f\u53d1\u7968"},{value:"4",title:"\u65e0\u53d1\u7968"}]},vatRate:{widget:"id",label:"\u589e\u503c\u7a0e\u7387",placeholder:"\u589e\u503c\u7a0e\u7387",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.cPackage.pickVatRate(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,100*e.description)})),"%"):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u589e\u503c\u7a0e\u7387")}},tariffRate:{widget:"text",label:"\u5173\u7a0e\u7a0e\u7387",placeholder:"\u5173\u7a0e\u7a0e\u7387",rules:R},isTransFeeIn:{widget:"radio",label:"\u542b\u8fd0\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},transFee:{widget:"text",label:"\u8fd0\u8d39",placeholder:"\u8fd0\u8d39"},transFeecurrency:{widget:"id",label:"\u8fd0\u8d39\u5e01\u79cd",placeholder:"\u8fd0\u8d39\u5e01\u79cd",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickCurrency(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u8fd0\u8d39\u5e01\u79cd")}},packingFee:{widget:"text",label:"\u5305\u88c5\u8d39",placeholder:"\u5305\u88c5\u8d39"},packingcurrency:{widget:"id",label:"\u5305\u88c5\u8d39\u5e01\u79cd",placeholder:"\u5305\u88c5\u8d39\u5e01\u79cd",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickCurrency(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u8d39\u5e01\u79cd")}},otherFee:{widget:"text",label:"\u5176\u4ed6\u8d39",placeholder:"\u5176\u4ed6\u8d39"},otherFeecurrency:{widget:"id",label:"\u5176\u4ed6\u8d39\u5e01\u79cd",placeholder:"\u5176\u4ed6\u8d39\u5e01\u79cd",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.pickCurrency(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5176\u4ed6\u8d39\u5e01\u79cd")}},customizeUpto:{widget:"date",label:"\u5b9a\u5236\u622a\u6b62\u65e5\u671f"},validUpto:{widget:"date",label:"\u62a5\u4ef7\u6709\u6548\u671f",placeholder:"\u5fc5\u586b"},minArriveDate:{widget:"date",label:"\u6700\u77ed\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},maxArriveDate:{widget:"date",label:"\u6700\u957f\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},packType:{widget:"radio",label:"\u5305\u88c5\u7c7b\u578b",list:[{value:"1",title:"\u76ee\u5f55\u5305\u88c5"},{value:"2",title:"\u975e\u76ee\u5f55\u5305\u88c5"}]},remarks:{widget:"text",label:"\u5907\u6ce8",row:10,placeholder:"\u5907\u6ce8"},coaFilePath:{widget:"text",label:"COA\u6587\u4ef6\u8def\u5f84",placeholder:"COA\u6587\u4ef6\u8def\u5f84"},msdsFilePath:{widget:"text",label:"MSDS\u6587\u4ef6\u8def\u5f84",placeholder:"MSDS\u6587\u4ef6\u8def\u5f84"},quotationFilePath:{widget:"text",label:"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84",placeholder:"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84"},isUsed:{widget:"radio",label:"\u66f4\u65b0\u5305\u88c5\u4ef7\u683c",className:"text-danger",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.form,(c=a.data).result=e.result,t.prev=3,"1"!==c.isUsed){t.next=13;break}return t.next=7,e.vCall(Qt);case 7:if(t.t0=t.sent,!0!==t.t0){t.next=11;break}return t.next=11,e.controller.saveInquiryPackage(c,e.inquiryData);case 11:t.next=15;break;case 13:return t.next=15,e.controller.saveInquiryPackage(c,e.inquiryData);case 15:e.saveTip="\u8be2\u4ef7\u7ed3\u679c\u5df2\u7ecf\u4fdd\u5b58",t.next=21;break;case 18:t.prev=18,t.t1=t.catch(3),e.saveTip="\u8be2\u4ef7\u7ed3\u679c\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5";case 21:e.showTip=!0,setTimeout((function(){e.showTip=!1}),2e3);case 23:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(e,r){return t.apply(this,arguments)}}(),e.getResult=function(t){var r=e.uiSchema.items,n=r.notProvidedReason,a=r.quantity,c=r.radiox,i=r.radioy,l=r.unit,s=r.purity,o=r.listPrice,u=r.price,p=r.currency,m=r.isTaxIn,d=r.vatRate,f=r.tariffRate,v=r.isTransFeeIn,h=r.transFee,b=r.transFeecurrency,g=r.packingFee,y=r.packingcurrency,x=r.otherFee,w=r.otherFeecurrency,E=r.customizeUpto,k=r.validUpto,j=r.minArriveDate,N=r.maxArriveDate,O=r.invoiceType,P=r.packType,C=r.remarks,q=r.coaFilePath,S=r.msdsFilePath,F=r.quotationFilePath,A=r.isUsed;"0"===t?(n.visible=!0,a.visible=!1,c.visible=!1,i.visible=!1,l.visible=!1,s.visible=!1,o.visible=!1,u.visible=!1,p.visible=!1,m.visible=!1,d.visible=!1,f.visible=!1,v.visible=!1,h.visible=!1,b.visible=!1,g.visible=!1,y.visible=!1,x.visible=!1,w.visible=!1,E.visible=!1,k.visible=!1,j.visible=!1,N.visible=!1,O.visible=!1,P.visible=!1,C.visible=!1,q.visible=!1,S.visible=!1,F.visible=!1,A.visible=!1):(n.visible=!1,a.visible=!0,c.visible=!0,i.visible=!0,l.visible=!0,s.visible=!0,o.visible=!0,u.visible=!0,p.visible=!0,m.visible=!0,d.visible=!0,f.visible=!0,v.visible=!0,h.visible=!0,b.visible=!0,g.visible=!0,y.visible=!0,x.visible=!0,w.visible=!0,E.visible=!0,k.visible=!0,j.visible=!0,N.visible=!0,O.visible=!0,P.visible=!0,C.visible=!0,q.visible=!0,S.visible=!0,F.visible=!0,A.visible=!0),_t.forEach((function(t){"0"===e.result?"notProvidedReason"===t.name&&(t.required=!0):("quantity"!==t.name&&"radiox"!==t.name&&"radioy"!==t.name&&"unit"!==t.name&&"price"!==t.name&&"currency"!==t.name&&"isTaxIn"!==t.name&&"isTransFeeIn"!==t.name&&"validUpto"!==t.name&&"minArriveDate"!==t.name&&"maxArriveDate"!==t.name&&"invoiceType"!==t.name&&"packType"!==t.name&&"isUsed"!==t.name||(t.required=!0),"notProvidedReason"===t.name&&(t.required=!1))}))},Object(E.a)(e,"result",fe,Object(y.a)(e)),e.onResultClick=function(t){e.result=t.currentTarget.value,e.getResult(e.result)},e.page=Object(Fe.a)((function(){e.getResult(e.result);var t=e.showTip?n.createElement("div",{className:"alert alert-primary",role:"alert"},n.createElement(f.FA,{name:"exclamation-circle",className:"text-warning float-left mr-3",size:"2x"}),e.saveTip):null;return n.createElement(f.Page,{header:"\u5f55\u5165\u8be2\u4ef7\u7ed3\u679c",headerClassName:"py-1 bg-primary"},n.createElement("div",{className:"px-3"},n.createElement("div",{className:"form-group row py-3 mb-1 bg-white"},n.createElement("div",{className:"col-12 col-sm-3 pb-2 text-muted"},"\u8be2\u4ef7\u7ed3\u679c:"),n.createElement("div",{className:"col-12 col-sm-9"},n.createElement("div",{className:"form-check form-check-inline"},n.createElement("input",{className:"form-check-input",type:"radio",name:"invoiceType",id:"common",value:"0",onChange:function(t){return e.onResultClick(t)},checked:"0"===e.result}),n.createElement("label",{className:"form-check-label",htmlFor:"common"},"\u65e0\u6cd5\u63d0\u4f9b")),n.createElement("div",{className:"form-check form-check-inline"},n.createElement("input",{className:"form-check-input",type:"radio",name:"invoiceType",id:"valueAdded",value:"1",onChange:function(t){return e.onResultClick(t)},checked:"1"===e.result}),n.createElement("label",{className:"form-check-label",htmlFor:"valueAdded"},"\u53ef\u63d0\u4f9b"))))),n.createElement("div",{className:"p-3 bg-white"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",schema:_t,uiSchema:e.uiSchema,formData:e.inquiryData,onButtonClick:e.onFormButtonClick,fieldLabelSize:3}),t))})),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.inquiryData=t,r=t.result,this.result=r||"0",this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),de=Object(k.a)(me.prototype,"showTip",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=Object(k.a)(me.prototype,"result",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me),Qt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u66f4\u65b0\u5305\u88c5\u4ef7\u683c",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u66f4\u65b0\u5305\u88c5\u4ef7\u683c\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u66f4\u65b0"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Gt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=function(){var t=e.controller.notProvidedReasons;return n.createElement(f.Page,{header:"\u9009\u62e9\u4e0d\u53ef\u4f9b\u539f\u56e0"},n.createElement("div",{className:"row no-gutters"},t.map((function(t){return e.renderNotProvidedReason(t,e.onNotProvidedReasonClick)}))))},e.renderNotProvidedReason=function(t,r){var a=t.id,c=t.description;return n.createElement("div",{key:a,className:"col-12 cursor-pointer"},n.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return e.onNotProvidedReasonClick(t)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},n.createElement("span",{className:"ml-1 align-middle"},n.createElement(f.FA,{name:"chevron-right",className:"text-info small"}),"\xa0 ",c)))},e.onNotProvidedReasonClick=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnNotProvidedReason(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Jt=(ve=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(E.a)(e,"notProvidedReasons",he,Object(y.a)(e)),e.returnNotProvidedReason=function(t){e.returnCall(t)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.rms.NotProvidedReason.search("",0,200);case 2:this.notProvidedReasons=e.sent,this.openVPage(Gt);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(v),he=Object(k.a)(ve.prototype,"notProvidedReasons",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve),$t=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).package=void 0,e.page=function(){var t=O.a.clone(e.package),r=t.quantity,a=t.radiox,c=t.radioy,i=t.unit,l=t.packType,s=t.listPrice,o=t.price,u=t.currency,p=t.isTaxIn,m=t.isTransFeeIn,d=t.transFee,v=t.transFeecurrency,h=t.packingFee,b=t.packingcurrency,g=t.otherFee,y=t.otherFeecurrency,x=t.customizeUpto,w=t.validUpto,E=t.minArriveDate,k=t.result,j=t.maxArriveDate,N=t.invoiceType,P=t.vatRate,C=t.tariffRate,q=t.remarks,S=(t.notProvidedReason,t.isUsed),F=t.coaFilePath,A=t.msdsFilePath,I=t.quotationFilePath,D=void 0===i?void 0:i.name,R=1!==a?n.createElement(n.Fragment,null,a," * ",c,D):n.createElement(n.Fragment,null,c,D),B=n.createElement("header",null,n.createElement("span",null,"\u8be2\u4ef7\u7ed3\u679c: ",r," * ",R));return n.createElement(f.Page,{header:B,headerClassName:"py-1 bg-primary"},n.createElement("div",null,n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u8be2\u4ef7\u7ed3\u679c:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},"1"===k?"\u53ef\u4f9b":"0"===k?"\u4e0d\u53ef\u4f9b":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5305\u88c5\u7c7b\u578b:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},"1"===l?"\u76ee\u5f55\u5305\u88c5":"2"===l?"\u975e\u76ee\u5f55\u5305\u88c5":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u76ee\u5f55\u4ef7:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},s,void 0===u?"":Object(f.tv)(u,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u7ed3\u7b97\u4ef7:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},o,void 0===u?"":Object(f.tv)(u,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u542b\u7a0e\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},"1"===p?"\u542b":"0"===p?"\u4e0d\u542b":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u542b\u8fd0\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},"1"===m?"\u542b":"0"===m?"\u4e0d\u542b":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u8fd0\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},d,void 0===v?"":Object(f.tv)(v,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5305\u88c5\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},h,void 0===b?"":Object(f.tv)(b,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5176\u4ed6\u8d39\u7528:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},g,void 0===y?"":Object(f.tv)(y,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5b9a\u5236\u65f6\u95f4\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:x}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u6709\u6548\u671f\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:w}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u6700\u77ed\u8d27\u671f\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:E}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u6700\u957f\u8d27\u671f\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:j}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u53d1\u7968\u7c7b\u578b:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},void 0===N?"":"1"===N.id?"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968":"2"===N.id?"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968":"3"===N?"\u5f62\u5f0f\u53d1\u7968":"\u65e0\u53d1\u7968")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u589e\u503c\u7a0e\u7387:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},void 0===P?"":Object(f.tv)(P,(function(e){return n.createElement(n.Fragment,null,e.description)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5173\u7a0e\u7a0e\u7387:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},C)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u62a5\u4ef7\u5907\u6ce8:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},q)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"COA\u6587\u4ef6\u8def\u5f84:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},F)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"MSDS\u6587\u4ef6\u8def\u5f84:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},A)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},I)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u4ef7\u683c\u662f\u5426\u88ab\u4f7f\u7528:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},"1"===S?"\u662f":"0"===S?"\u5426":""))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.package=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),Xt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchPendingInquiry=void 0,n.firstSize=n.pageSize=14,n.searchPendingInquiry=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchPendingInquiry.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),Yt=(be=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e,a=this;Object(u.a)(this,r);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(e,"pendingInquirys",ge,Object(y.a)(e)),Object(E.a)(e,"pendingInquiryList",ye,Object(y.a)(e)),e.product=void 0,e.searchPendingInquiryByKey=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.pendingInquirys=new Xt(e.uqs.rms.SearchInquiryPending),e.pendingInquirys.first({key:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.pickNotProvidedReason=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(Jt),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.savePendingInquiryData=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i,l,o,u,p,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==r.id){t.next=8;break}if(!e.product){t.next=8;break}return n=e.product,a=n.id,c=n.supplier,i=c.id,l=r.quantity,o=r.radiox,u=r.radioy,p=r.unit,m={supplier:i,product:a,quantity:l,radiox:o,radioy:u,unit:p},t.next=8,e.uqs.rms.AddInquiryPending.submit(m);case 8:return e.closePage(),t.next=11,e.loadList();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDataForSave=function(e,t){var r=e.contact,n=e.contactName,a=e.contactSalutation,c=e.contactDepartmentName,i=e.contactTelephone,l=e.contactMobile,s=e.contactEmail,o=e.contactfax,u=e.user,p=e.date,m=e.inquiryDate,d=e.inquiryUser,f=e.supplier,v=e.way,h=[];return t.forEach((function(e){if(void 0!==e.jsonStr){var t=JSON.parse(e.jsonStr);h.push({no:void 0,product:e.product,inquiryQuantity:e.quantity,inquiryRadiox:e.radiox,inquiryRadioy:e.radioy,inquiryUnit:e.unit,itemuser:e.user,itemcreateDate:e.createDate,inquiryRemarks:t.remarks,remarks:e.inquiryRemarks,inquirypurity:e.purity,quantity:t.quantity,radiox:t.radiox,radioy:t.radioy,unit:t.unit,listPrice:t.listPrice,price:t.price,currency:t.currency,isTaxIn:t.isTaxIn,isTransFeeIn:t.isTransFeeIn,transFee:t.transFee,transFeecurrency:t.transFeecurrency,packingFee:t.packingFee,packingcurrency:t.packingcurrency,otherFee:t.otherFee,otherFeecurrency:t.otherFeecurrency,customizeUpto:t.customizeUpto,validUpto:t.validUpto,minArriveDate:t.minArriveDate,maxArriveDate:t.maxArriveDate,invoiceType:t.invoiceType,vatRate:t.vatRate,tariffRate:t.tariffRate,packType:t.packType,coaFilePath:t.coaFilePath,msdsFilePath:t.msdsFilePath,quotationFilePath:t.quotationFilePath,result:t.result,purity:t.purity,notProvidedReason:t.notProvidedReason,isUsed:t.isUsed})}})),{supplier:f,contact:r,contactName:n,contactSalutation:a,contactDepartmentName:c,contactTelephone:i,contactMobile:l,contactEmail:s,contactfax:o,way:v,user:u,createDate:p,inquiryUser:d,inquiryDate:m,inquiryItems:h}},e.saveInquiryData=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.id,c=e.getDataForSave(r,n),i={id:a,supplier:c.supplier,contact:c.contact,contactName:c.contactName,contactSalutation:c.contactSalutation,contactDepartmentName:c.contactDepartmentName,contactTelephone:c.contactTelephone,contactMobile:c.contactMobile,contactEmail:c.contactEmail,contactfax:c.contactfax,way:c.way,user:c.user,createDate:c.createDate,inquiryUser:c.inquiryUser,inquiryDate:c.inquiryDate,items:c.inquiryItems},t.next=5,e.uqs.rms.AddInquiryResult.submit(i);case 5:return e.closePage(),t.next=8,e.loadList();case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.saveInquiryPackage=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c,i,l,o,u,p,m,d,f,v,h,b,g,y,x,w,E,k,j,N,O,P,C,q,S,F,A,I,D,R,B,T,V,z,L,U;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=18;break}return a=n.id,c=n.inquiryPackage,i=n.user,l=n.createDate,o=n.inquiryRemarks,n.jsonStr,u=c.obj.product,p=r.isUsed,"0"===r.result?m={id:r.id,notProvidedReason:r.notProvidedReason,quantity:r.quantity,radiox:r.radiox,radioy:r.radioy,unit:r.unit,purity:r.purity,result:r.result}:(r.notProvidedReason=void 0,m=r),t.next=7,e.uqs.rms.InquiryPendingItem.add({inquiryPending:a,arr1:[{inquiryPackage:c.id,user:i.id,createDate:l,remarks:o,jsonStr:JSON.stringify(m)}]});case 7:if("1"!==p){t.next=12;break}return d=r.quantity,f=r.radiox,v=r.radioy,h=r.unit,b=r.listPrice,g=r.price,y=r.currency,x=r.isTaxIn,w=r.isTransFeeIn,E=r.transFee,k=r.transFeecurrency,j=r.packingFee,N=r.packingcurrency,O=r.otherFee,P=r.otherFeecurrency,C=r.customizeUpto,q=r.validUpto,S=r.minArriveDate,F=r.maxArriveDate,A=r.invoiceType,I=r.vatRate,D=r.tariffRate,R=r.packType,B=r.remarks,T=r.coaFilePath,V=r.msdsFilePath,z=r.quotationFilePath,r.result,L={product:u,quantity:d,radiox:f,radioy:v,unit:h,listPrice:b,price:g,currency:y,isTaxIn:x,isTransFeeIn:w,transFee:E,transFeecurrency:k,packingFee:j,packingcurrency:N,otherFee:O,otherFeecurrency:P,customizeUpto:C,validUpto:q,minArriveDate:S,maxArriveDate:F,invoiceType:A,vatRate:I,tariffRate:D,packType:R,remarks:B,coaFilePath:T,msdsFilePath:V,quotationFilePath:z},t.next=12,e.uqs.rms.AddPackagePrice.submit(L);case 12:return t.next=14,e.uqs.rms.SearchInquiryPendingByID.query({_id:a});case 14:return U=t.sent,e.closePage(),t.next=18,e.onShowPendingInquiryDetail(U.ret[0]);case 18:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onShowPendingInquiryDetail=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.rms.SearchInquiryPendingBySupplier.query({_id:n});case 3:a=t.sent,c={parent:r,item:a.ret[0],child:a.ret},e.openVPage(Ut,c);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.pickCurrency=function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.newC(Wt),t.next=3,c.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.openPendingInquiryResult=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i,l,o,u,p,m,d,f;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=r.inquiryPackage,c=a.obj.unit,t.next=4,e.uqs.rms.InquiryPendingItem.table({inquiryPending:n,inquiryPackage:a.id});case 4:i=t.sent,l=i[0],o=l.inquiryPending,u=l.inquiryPackage,p=l.user,m=l.createDate,void 0===(d=l.jsonStr)?(f=r).unit=c.obj:((f=JSON.parse(d)).inquiryRemarks=r.inquiryRemarks,f.inquiryPending=o,f.inquiryPackage=u,f.user=p,f.createDate=m),e.openVPage(Ht,f);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openPackageDetail=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.jsonStr,a=void 0===n?n:JSON.parse(n),e.openVPage($t,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadList=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.searchPendingInquiryByKey("");case 2:case"end":return t.stop()}}),t)}))),e.render=Object(Fe.a)((function(){return e.renderView(Lt)})),e.tab=function(){return n.createElement(a.render,null)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchPendingInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),ge=Object(k.a)(be.prototype,"pendingInquirys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Object(k.a)(be.prototype,"pendingInquiryList",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be),Zt=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderRootCategory=function(t,r){var a=t.supplier,c=(t.contactName,t.inquiryUser),i=(t.startDate,t.inquiryDate,t.date),l=t.sheet,s=t.way,o=e.controller.openInquiryDetail,u=c.id,p=n.createElement("div",null,n.createElement("div",null,n.createElement("b",null,Object(f.tv)(a,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"text-muted small"},1===s?"Email\u8be2\u4ef7":2===s?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7","\xa0\xa0",u,"\xa0\xa0",n.createElement(f.EasyDate,{date:i})));return n.createElement(f.LMR,{left:p,className:"px-3 d-flex p-1 cursor-pointer",onClick:function(){return o(l)}})},e.page=Object(Fe.a)((function(){var t=e.controller,r=t.inquirys,a=t.searchInquiryByKey,c=n.createElement("div",{className:"d-flex align-items-center"},n.createElement(f.SearchBox,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"})),i=n.createElement("header",null,n.createElement("div",{className:"px-3"},"\u8be2\u4ef7\u5355"));return n.createElement(f.Page,{header:i,right:c,onScrollBottom:e.onScrollBottom,headerClassName:"py-1 bg-primary"},n.createElement(f.List,{items:r,item:{render:e.renderRootCategory}}))})),e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.inquirys.more();case 2:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.createElement(this.page,null)}}]),r}(f.VPage),er=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderPackageItem=function(t,r){var a=t.pack,c=t.inquiryQuantity,i=(t.no,t.inquiryUnit),l=t.inquirypurity,s=t.remarks,o=i.obj.name;return n.createElement(f.LMR,{key:r,className:"d-flex cursor-pointer py-1",onClick:function(){return e.controller.openPackageDetail(t)}},n.createElement("div",null,n.createElement(f.FA,{name:"chevron-right",className:"px-2 text-primary"}),c," * ",a,o," ",l," "),n.createElement("div",{className:"text-muted px-4 small"},s))},e.renderProductItem=function(t,r){var a=t.product,c=t.packs,i=a.id;return n.createElement(f.LMR,{key:r,className:"d-flex px-3 cursor-pointer"},n.createElement("div",null,e.controller.renderProduct(i)),n.createElement("div",{className:"py-1"},n.createElement(f.List,{items:c,item:{render:e.renderPackageItem}})))},e.page=function(t){var r=t.brief,a=t.data,c=(r.id,r.no),i=(r.state,r.description,r.date),l=r.user,s=a.supplier,o=a.contactName,u=a.contactSalutation,p=a.contactDepartmentName,m=a.contactTelephone,d=a.contactMobile,v=a.contactEmail,h=a.contactfax,b=a.way,g=a.remarks,y=a.InquiryItems,x=n.createElement(n.Fragment,null,"\u8be2\u4ef7\u5355: ",c);return n.createElement(f.Page,{header:x,headerClassName:"py-1 bg-primary"},n.createElement("div",null,n.createElement("div",{className:"bg-white py-2"},n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u4f9b\u5e94\u5546:"),n.createElement("div",{className:"col-9"},n.createElement("b",null,Object(f.tv)(s,(function(e){return n.createElement(n.Fragment,null,e.name)}))))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u8054\u7cfb\u4eba:"),n.createElement("div",{className:"col-9 text-muted"},o," ",u," ",p)),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u8054\u7cfb\u65b9\u5f0f:"),n.createElement("div",{className:"col-9 text-muted"},m," ",d," ",v," ",h)),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u8be2\u4ef7\u4eba:"),n.createElement("div",{className:"col-9 text-muted"},1===b?"Email\u8be2\u4ef7":2===b?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7","\xa0",l,"\xa0",n.createElement(f.EasyDate,{date:i}))),void 0===g?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u5907\u6ce8:"),n.createElement("div",{className:"col-9 text-muted"},g))))),n.createElement("div",{className:"py-2"},n.createElement(f.List,{items:y,item:{render:e.renderProductItem}})))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),tr=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).page=function(e){var t=e.inquiryQuantity,r=e.pack,a=e.unit,c=e.inquirypurity,i=e.itemuser,l=e.itemcreateDate,s=e.quantity,o=e.radio,u=e.inquiryUnit,p=e.listPrice,m=e.price,d=e.purity,v=e.currency,h=e.isTaxIn,b=e.isTransFeeIn,g=e.transFee,y=e.transFeecurrency,x=e.packingFee,w=e.packingcurrency,E=e.otherFee,k=e.otherFeecurrency,j=e.customizeUpto,N=e.validUpto,O=e.minArriveDate,P=e.maxArriveDate,C=e.invoiceType,q=e.vatRate,S=e.tariffRate,F=e.packType,A=e.inquiryRemarks,I=e.coaFilePath,D=e.msdsFilePath,R=e.quotationFilePath,B=e.notProvidedReason,T=e.isUsed,V=e.result,z=void 0===a?void 0:a.obj.name,L=u.obj.name,U=n.createElement(n.Fragment,null,"\u8be2\u4ef7\u5305\u88c5\u8be6\u60c5: ",t," * ",r,L,"  ",c);return n.createElement(f.Page,{header:U,headerClassName:"py-1 bg-primary"},n.createElement("div",null,n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u8be2\u4ef7\u7ed3\u679c:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===V?"\u53ef\u4f9b":0===V?"\u4e0d\u53ef\u4f9b":"")),1===V?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u4e0d\u53ef\u4f9b\u539f\u56e0:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},void 0===B?"":Object(f.tv)(B,(function(e){return n.createElement(n.Fragment,null,e.description)}))))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u62a5\u4ef7\u5305\u88c5:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},s," * ",o,z," ",d)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u521b\u5efa\u4eba:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},i.id)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u521b\u5efa\u65f6\u95f4:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:l}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u76ee\u5f55\u4ef7:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},p)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5305\u88c5\u7c7b\u578b:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===F?"\u76ee\u5f55\u5305\u88c5":2===F?"\u975e\u76ee\u5f55\u5305\u88c5":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u7ed3\u7b97\u4ef7:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},m,void 0===v?"":Object(f.tv)(v,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u542b\u7a0e\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===h?"\u542b":0===h?"\u4e0d\u542b":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u542b\u8fd0\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===b?"\u542b":0===b?"\u4e0d\u542b":"")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u8fd0\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},g,void 0===y?"":Object(f.tv)(y,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5305\u88c5\u8d39:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},x,void 0===w?"":Object(f.tv)(w,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5176\u4ed6\u8d39\u7528:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},E,void 0===k?"":Object(f.tv)(k,(function(e){return n.createElement(n.Fragment,null,e.name)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5b9a\u5236\u65f6\u95f4\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:j}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u6709\u6548\u671f\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:N}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u6700\u77ed\u8d27\u671f\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:O}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u6700\u957f\u8d27\u671f\u81f3:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},n.createElement(f.EasyDate,{date:P}))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u53d1\u7968\u7c7b\u578b:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},void 0===C?"":1===C?"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968":2===C?"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968":3===C?"\u5f62\u5f0f\u53d1\u7968":"\u65e0\u53d1\u7968")),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u589e\u503c\u7a0e\u7387:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},void 0===q?"":Object(f.tv)(q,(function(e){return n.createElement(n.Fragment,null,e.description)})))),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5173\u7a0e\u7a0e\u7387:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},S)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u5907\u6ce8:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},A)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"COA\u6587\u4ef6\u8def\u5f84:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},I)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"MSOS\u6587\u4ef6\u8def\u5f84:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},D)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},R)),n.createElement("div",{className:"border-top edit-sep-light-gray"}),n.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},n.createElement("div",null,"\u4ef7\u683c\u662f\u5426\u88ab\u4f7f\u7528:"),n.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===T?"\u662f":0===T?"\u5426":""))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),rr=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchInquiry=void 0,n.firstSize=n.pageSize=14,n.searchInquiry=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchInquiry.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),nr=(xe=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e,a=this;Object(u.a)(this,r);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(e,"inquirys",we,Object(y.a)(e)),Object(E.a)(e,"productdata",Ee,Object(y.a)(e)),e.searchInquiryByKey=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.inquirys=new rr(e.uqs.rms.GetInquirySheet),e.inquirys.first({key:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openInquiryDetail=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.rms.InquirySheet.getSheet(r);case 2:n=t.sent,a=n.data,c=a.inquiryitems,i=cr(c),a.InquiryItems=i,e.openVPage(er,n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openPackageDetail=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(tr,r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderProduct=function(t){return e.renderView(ar,t)},e.getProduct=function(){var t=Object(o.a)(s.a.mark((function t(r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.rms.SearchProductById.query({_id:r});case 2:return n=t.sent,e.productdata=n.ret[0],t.abrupt("return",n.ret[0]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadList=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.searchInquiryByKey("");case 2:case"end":return t.stop()}}),t)}))),e.render=Object(Fe.a)((function(){return e.renderView(Zt)})),e.tab=function(){return n.createElement(a.render,null)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),we=Object(k.a)(xe.prototype,"inquirys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=Object(k.a)(xe.prototype,"productdata",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe),ar=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).contentagency=Object(Fe.a)((function(t){var r,a=e.controller.productdata;if(void 0!==a){var c=a.description,i=a.CAS,l=a.purity;r=n.createElement("span",{className:"text-muted small"},c,"\xa0\xa0",i,"\xa0\xa0",l)}return r})),e}return Object(p.a)(r,[{key:"render",value:function(e){return this.controller.getProduct(e),n.createElement(this.contentagency,{pid:e})}}]),r}(f.View);function cr(e){var t,r=[],a=Object(Qe.a)(e);try{var c=function(){var e=t.value,a=e.product,c=e.inquiryQuantity,i=e.inquiryRadiox,l=e.inquiryRadioy,s=e.inquiryUnit,o=e.inquirypurity,u=e.itemuser,p=e.itemcreateDate,m=e.quantity,d=e.radiox,f=e.radioy,v=e.unit,h=e.purity,b=e.listPrice,g=e.price,y=e.currency,x=e.isTaxIn,w=e.isTransFeeIn,E=e.transFee,k=e.transFeecurrency,j=e.packingFee,N=e.packingcurrency,O=e.otherFee,P=e.otherFeecurrency,C=e.customizeUpto,q=e.validUpto,S=e.minArriveDate,F=e.maxArriveDate,A=e.invoiceType,I=e.vatRate,D=e.tariffRate,R=e.packType,B=e.inquiryRemarks,T=e.remarks,V=e.coaFilePath,z=e.msdsFilePath,L=e.quotationFilePath,U=e.notProvidedReason,M=e.isUsed,K=e.result,W={inquiryQuantity:c,pack:1!==i?n.createElement(n.Fragment,null,i," * ",l):n.createElement(n.Fragment,null,l),inquiryUnit:s,inquirypurity:o,quantity:m,radio:1!==d?n.createElement(n.Fragment,null,d," * ",f):n.createElement(n.Fragment,null,f),unit:v,purity:h,itemuser:u,itemcreateDate:p,listPrice:b,price:g,currency:y,isTaxIn:x,isTransFeeIn:w,transFee:E,transFeecurrency:k,packingFee:j,packingcurrency:N,otherFee:O,otherFeecurrency:P,customizeUpto:C,validUpto:q,minArriveDate:S,maxArriveDate:F,invoiceType:A,vatRate:I,tariffRate:D,packType:R,inquiryRemarks:B,coaFilePath:V,msdsFilePath:z,quotationFilePath:L,notProvidedReason:U,isUsed:M,result:K,remarks:T},_=r.find((function(e){return e.product.id===a.id}));void 0===_&&(_={product:a,packs:[]},r.push(_)),_.packs.push(W)};for(a.s();!(t=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}return r}var ir,lr,sr,or=[{name:"id",type:"id",required:!1},{name:"quantity",type:"number",required:!0},{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"id",required:!0},{name:"purity",type:"string",required:!1},{name:"remarks",type:"number",required:!1},{name:"submit",type:"submit"}],ur=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.pendingInquiryData=void 0,e.uiSchema={items:{id:{visible:!1},quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"id",label:"\u5305\u88c5\u5355\u4f4d",placeholder:"\u5305\u88c5\u5355\u4f4d",pickId:function(){var t=Object(o.a)(s.a.mark((function t(r,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.cApp.cPackage.pickPackUnit(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){return e?n.createElement(n.Fragment,null,Object(f.tv)(e,(function(e){return n.createElement(n.Fragment,null,e.name)}))):n.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u5355\u4f4d")}},purity:{widget:"text",label:"\u8be2\u4ef7\u7eaf\u5ea6",placeholder:"\u8be2\u4ef7\u7eaf\u5ea6"},remarks:{widget:"textarea",label:"\u5907\u6ce8",placeholder:"\u5907\u6ce8",rows:5},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.saveNewPendingInquiryData(n.form.data);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.showProductlData=function(){var t=e.controller.product,r=t.no,a=t.supplier,c=(t.origin,t.brand),i=t.description,l=t.descriptionC,s=(t.purity,t.CAS),o=a.obj.name,u=void 0===c?void 0:c.obj.name;return n.createElement("div",{className:"bg-white py-2"},void 0===r?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u4ea7\u54c1\u7f16\u53f7:"),n.createElement("div",{className:"col-9 text-muted text-right"},r))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u4f9b\u5e94\u5546:"),n.createElement("div",{className:"col-9 text-muted text-right"},o)),void 0===u?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u54c1\u724c:"),n.createElement("div",{className:"col-9 text-muted text-right"},u))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"CAS:"),n.createElement("div",{className:"col-9 text-muted text-right"},void 0===s?"(\u65e0)":s)),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u82f1\u6587\u540d\u79f0:"),n.createElement("div",{className:"col-9 text-muted text-right"},i)),void 0===l?"":n.createElement(n.Fragment,null,n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u4e2d\u6587\u540d\u79f0:"),n.createElement("div",{className:"col-9 text-muted text-right"},l))))},e.page=function(){var t=O.a.clone(e.pendingInquiryData);return n.createElement(f.Page,{header:"\u5f85\u8be2\u51fa",headerClassName:"py-1 bg-primary"},e.showProductlData(),n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",schema:or,uiSchema:e.uiSchema,formData:t,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.pendingInquiryData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),pr=[{name:"id",type:"id",required:!1},{name:"way",type:"number",required:!0},{name:"submit",type:"submit"}],mr=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.supplier=void 0,e.uiSchema={items:{id:{visible:!1},way:{widget:"radio",label:"\u8be2\u4ef7\u65b9\u5f0f",list:[{value:1,title:"Email\u8be2\u4ef7"},{value:2,title:"\u7535\u8bdd\u8be2\u4ef7"},{value:3,title:"\u4f20\u771f\u8be2\u4ef7"}]},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},e.onFormButtonClick=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.updatePendingInquiryState(n.form.data,e.supplier);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(){var t=O.a.clone(e.supplier);return n.createElement(f.Page,{header:"\u8be2\u4ef7\u8be6\u60c5",headerClassName:"bg-primary"},n.createElement("div",{className:"App-container container text-left"},n.createElement(f.Form,{ref:function(t){return e.form=t},className:"my-3",schema:pr,uiSchema:e.uiSchema,formData:t,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplier=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),dr=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderRootCategory=function(t,r){var a=t.supplier,c=t.date,i=e.controller.onShowNewPendingInquiryDetail,l=n.createElement("div",{className:"cursor-pointer text-muted"},n.createElement(f.EasyDate,{date:c}));return n.createElement(f.LMR,{right:l,className:"px-3 d-flex p-1 cursor-pointer",onClick:function(){return i(t)}},n.createElement("div",null,n.createElement("b",null,Object(f.tv)(a,(function(e){return n.createElement(n.Fragment,null,e.name)})))))},e.page=Object(Fe.a)((function(){var t=e.controller,r=t.newpendingInquirys,a=(t.onNewPendingInquiry,t.searchNewPendingInquiryByKey),c=t.pickProduct,i=n.createElement("div",{className:"d-flex align-items-center"},n.createElement(f.SearchBox,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"}),n.createElement("div",null,n.createElement("span",{onClick:function(){return c()},className:"fa-stack"},n.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}})))),l=n.createElement("header",null,n.createElement("div",{className:"px-3"},"\u5f85\u8be2\u51fa"));return n.createElement(f.Page,{header:l,right:i,onScrollBottom:e.onScrollBottom,headerClassName:"py-1 bg-primary"},n.createElement(f.List,{items:r,item:{render:e.renderRootCategory}}))})),e.onScrollBottom=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.newpendingInquirys.more();case 2:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.createElement(this.page,null)}}]),r}(f.VPage),fr=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).form=void 0,e.suppplier=void 0,e.firstPackage=void 0,e.packages=[],e.getPackage=function(){return n.createElement("div",null,e.firstPackage&&n.createElement(f.List,{items:e.packages,item:{render:e.renderPackage}}))},e.renderPackage=function(t,r){t.id;var a=t.inquiryPackage,c=(t.user,t.createDate,t.product),i=t.quantity,l=t.radiox,s=t.radioy,o=t.unit,u=t.CAS,p=t.purity,m=t.inquiryRemarks,d=c.obj,v=d.brand,h=d.description,b=(d.descriptionC,d.origin),g=void 0===o?void 0:o.obj.name,y=1!==l?n.createElement(n.Fragment,null,l," * ",s,g):n.createElement(n.Fragment,null,s,g),x=(void 0===v||v.obj.name,n.createElement("div",{className:"px-2 text-muted text-right"},n.createElement("span",{onClick:function(){return e.onDelInquiryPackage(t,a)}},n.createElement(f.FA,{className:"align-middle p-2 cursor-pointer text-danger",name:"trash"}))));return n.createElement(f.LMR,{right:x,className:"p-1 d-flex cursor-pointer"},n.createElement("div",{onClick:function(){return e.controller.onEditPendingInquiry(t,a)}},n.createElement("div",null,n.createElement(f.FA,{name:"caret-right",className:"px-2 text-primary"}),b," ",u,"\xa0\xa0",i," * ",y,"\xa0\xa0",p),n.createElement("div",{className:"px-4 text-muted"},h),n.createElement("div",{className:"px-4 text-muted"},n.createElement("span",{className:"text-muted small"},m))))},e.rowTop=function(e){var t=e.supplier,r=e.user,a=e.date,c=r.id,i=t.obj,l=i.inquiryContact,s=i.defaultContact,o=void 0===l?s:l,u=void 0===o?void 0:o.obj.name,p=void 0===o?void 0:o.obj.telephone,m=void 0===o?void 0:o.obj.mobile,d=void 0===o?void 0:o.obj.email;return n.createElement("div",{className:"bg-white py-2"},n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u4f9b\u5e94\u5546:"),n.createElement("div",{className:"col-9"},n.createElement("b",null,Object(f.tv)(t,(function(e){return n.createElement(n.Fragment,null,e.name)}))))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u521b\u5efa\u4eba:"),n.createElement("div",{className:"col-9 text-muted"},c,"\xa0",n.createElement(f.EasyDate,{date:a}))),n.createElement("div",{className:"row no-gutters px-3 my-1"},n.createElement("div",{className:"col-3"},"\u8054\u7cfb\u4eba:"),n.createElement("div",{className:"col-9"},n.createElement("span",null,u,"\xa0",p," ",m," ",d))))},e.rowEnd=function(){var t=e.controller.onPendingInquiry;return e.firstPackage&&n.createElement("div",null,n.createElement("div",{className:"text-center py-2"},n.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return t(e.suppplier)}},n.createElement("span",{className:"px-2"},n.createElement(f.FA,{className:"text-warning px-1",name:"user"}),n.createElement("b",null,"\u8be2\xa0\u51fa")),n.createElement("span",{className:"px-2"},n.createElement(f.FA,{name:"chevron-right fa-1x"})))))},e.onDelInquiry=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(vr,e.suppplier);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=9;break}return t.next=6,e.controller.deletePendingInquiryData(e.suppplier);case 6:return t.next=8,e.controller.loadList();case 8:e.closePage();case 9:case 10:case"end":return t.stop()}}),t)}))),e.onDelInquiryPackage=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(hr,n);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=11;break}return a=n.id,c=r.id,t.next=8,e.controller.deletePendingInquiryPackage(c,a);case 8:return e.closePage(),t.next=11,e.controller.onShowNewPendingInquiryDetail(r);case 11:case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(){var t=O.a.clone(e.suppplier),r=n.createElement("div",{className:"d-flex align-items-center"},n.createElement("div",null,n.createElement("span",{onClick:function(){return e.onDelInquiry()},className:"fa-stack"},n.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))));return n.createElement(f.Page,{right:r,header:"\u8be2\u4ef7\u8be6\u60c5",headerClassName:"py-1 bg-primary"},e.rowTop(t),e.rowEnd(),e.getPackage())},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.parent,n=t.item,a=t.child,this.suppplier=r,this.firstPackage=n,this.packages=a,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),vr=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u5220\u9664\u8be2\u4ef7\u4efb\u52a1",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u8be2\u4ef7\u4efb\u52a1\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5220\u9664\u8be2\u4ef7\u4efb\u52a1"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),hr=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onConfirm=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return n.createElement(f.Page,{header:"\u5220\u9664\u8be2\u4ef7\u5305\u88c5",back:"close",headerClassName:"bg-primary"},n.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},n.createElement("div",{className:"p-4 position-relative"},n.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),n.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u8be2\u4ef7\u5305\u88c5\uff1f")),n.createElement("div",{className:"d-flex mt-3 justify-content-end"},n.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5220\u9664\u8be2\u4ef7\u5305\u88c5"),n.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(f.VPage),br=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this)).searchNewPendingInquiry=void 0,n.firstSize=n.pageSize=14,n.searchNewPendingInquiry=e,n}return Object(p.a)(r,[{key:"loadResults",value:function(){var e=Object(o.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchNewPendingInquiry.page(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(f.PageItems),gr=(ir=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e,a=this;Object(u.a)(this,r);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(e,"newpendingInquirys",lr,Object(y.a)(e)),Object(E.a)(e,"newpendingInquiryList",sr,Object(y.a)(e)),e.product=void 0,e.searchNewPendingInquiryByKey=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.newpendingInquirys=new br(e.uqs.rms.SearchNewInquiryPending),e.newpendingInquirys.first({key:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onNewPendingInquiry=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.product=r,e.openVPage(ur,void 0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onEditPendingInquiry=function(){var t=Object(o.a)(s.a.mark((function t(r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.product=r,void 0!==r&&(n.obj.remarks=r.inquiryRemarks),e.openVPage(ur,n.obj);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onPendingInquiry=function(){var t=Object(o.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(mr,r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.pickProduct=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cApp.cPickProduct.call();case 2:t.sent;case 3:case"end":return t.stop()}}),t)}))),e.saveNewPendingInquiryData=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c,i,l,o,u,p,m,d,f,v,h,b,g,y,x,w;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.product){t.next=23;break}if(n=e.product,a=n.id,c=n.supplier,i=c.id,l=r.quantity,o=r.radiox,u=r.radioy,p=r.unit,m=r.remarks,d=r.purity,f={supplier:i,product:a,quantity:l,radiox:o,radioy:u,unit:p,purity:d,remarks:m},void 0!==r.id){t.next=13;break}return t.next=8,e.uqs.rms.AddInquiryPending.submit(f);case 8:return e.closePage(),t.next=11,e.loadList();case 11:t.next=23;break;case 13:return v=e.product,h=v.supplier,b=v.inquiryPending,g=v.user,y=v.createDate,x=v.jsonStr,w=v.product,r.supplier=h.id,r.product=w.obj.id,t.next=18,e.uqs.rms.InquiryPackage.save(r.id,r);case 18:return t.next=20,e.uqs.rms.InquiryPendingItem.add({inquiryPending:b,arr1:[{inquiryPackage:r.id,user:g,createDate:y,remarks:m,jsonStr:x}]});case 20:return e.closePage(),t.next=23,e.onShowNewPendingInquiryDetail(e.product);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deletePendingInquiryData=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a={id:n},t.next=4,e.uqs.rms.DeleteInquiryPending.submit(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deletePendingInquiryPackage=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:r,pid:n},t.next=3,e.uqs.rms.DeleteInquiryPackage.submit(a);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.updatePendingInquiryState=function(){var t=Object(o.a)(s.a.mark((function t(r,n){var a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.id,c=n.supplier,i={id:a,supplier:c,way:r.way},t.next=4,e.uqs.rms.UpdateInquiryPending.submit(i);case 4:return e.closePage(2),t.next=7,e.loadList();case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onShowNewPendingInquiryDetail=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.rms.SearchInquiryPendingBySupplier.query({_id:n});case 3:a=t.sent,c={parent:r,item:a.ret[0],child:a.ret},e.openVPage(fr,c);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadList=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.searchNewPendingInquiryByKey("");case 2:case"end":return t.stop()}}),t)}))),e.render=Object(Fe.a)((function(){return e.renderView(dr)})),e.tab=function(){return n.createElement(a.render,null)},e}return Object(p.a)(r,[{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchNewPendingInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v),lr=Object(k.a)(ir.prototype,"newpendingInquirys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sr=Object(k.a)(ir.prototype,"newpendingInquiryList",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir),yr=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).topKey=void 0,e.cHome=void 0,e.cSupplier=void 0,e.cPickSupplier=void 0,e.cSupplierContact=void 0,e.cProduct=void 0,e.cPickProduct=void 0,e.cChemical=void 0,e.cBrand=void 0,e.cPackage=void 0,e.cPendingInquiry=void 0,e.cInquiry=void 0,e.cCurrency=void 0,e.cNewPendingInquiry=void 0,e}return Object(p.a)(r,[{key:"newC",value:function(e){return new e(this)}},{key:"internalStart",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cHome=this.newC(w),this.cSupplier=this.newC(Le),this.cPickSupplier=this.newC(ct),this.cProduct=this.newC(xt),this.cPickProduct=this.newC(zt),this.cChemical=this.newC(Ct),this.cBrand=this.newC(ut),this.cPackage=this.newC(Bt),this.cSupplierContact=this.newC(He),this.cPendingInquiry=this.newC(Yt),this.cInquiry=this.newC(nr),this.cCurrency=this.newC(Wt),this.cNewPendingInquiry=this.newC(gr),(t=[]).push(this.cSupplier.start()),e.next=17,Promise.all(t);case 17:this.showMain(),this.topKey=f.nav.topKey();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showMain",value:function(e){this.openVPage(g,e)}},{key:"loginCallBack",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(h),xr=function(e){return n.createElement(n.Fragment,null," ",e.chineseName," ")},wr={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/rms",version:"1.0.1",tvs:{common:{address:function(e){var t=e.country,r=e.province,a=e.city,c=e.county;return n.createElement(n.Fragment,null,Object(f.tv)(t),Object(f.tv)(r,void 0,void 0,(function(){return n.createElement(n.Fragment,null)})),Object(f.tv)(a,void 0,void 0,(function(){return n.createElement(n.Fragment,null)})),Object(f.tv)(c,void 0,void 0,(function(){return n.createElement(n.Fragment,null)})))},country:xr,province:xr,city:xr,county:xr,currency:function(e){return n.createElement(n.Fragment,null," ",e.name," ")}}},oem:"\u767e\u7075\u5a01"};f.nav.setSettings(wr);var Er=function(e){Object(m.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onLogined=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.start)(yr,wr);case 2:case"end":return e.stop()}}),e)}))),e}return Object(p.a)(r,[{key:"render",value:function(){return n.createElement(f.NavView,{onLogined:this.onLogined})}}]),r}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Er,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,r){e.exports=r(121)}},[[99,1,2]]]);
//# sourceMappingURL=main.2a01aefd.chunk.js.map