{"version":3,"sources":["ui/main.tsx","CBase.ts","information/VHome.tsx","information/CHome.tsx","information/supplier/VSupplier.tsx","information/supplier/VSupplierList.tsx","information/supplier/VSupplierDetail.tsx","information/supplier/CSupplier.tsx","tools/inputValidations.ts","information/supplierContact/VSupplierContact.tsx","information/supplierContact/VSupplierContactDetail.tsx","configuration.ts","tvs/index.tsx","information/supplierContact/VAddress.tsx","information/supplierContact/CAddress.tsx","information/supplierContact/CSupplierContact.tsx","information/product/VAddProduct.tsx","information/product/VEditProduct.tsx","information/product/VProductDetail.tsx","information/product/VProductList.tsx","information/supplier/VPickSupplier.tsx","information/supplier/CPickSupplier.tsx","information/product/VBrand.tsx","information/product/VPickBrand.tsx","information/product/CBrand.tsx","information/product/CProduct.tsx","information/product/VChemical.tsx","information/product/CChemical.tsx","information/package/VPackage.tsx","information/package/VPackageDetail.tsx","information/package/CPackage.tsx","information/product/VPickProduct.tsx","information/product/CPickProduct.tsx","information/PendingInquiry/VPendingInquiryList.tsx","information/PendingInquiry/VPendingInquiryDetail.tsx","information/PendingInquiry/VAddInquiry.tsx","information/PendingInquiry/VCurrency.tsx","information/PendingInquiry/CCurrency.tsx","information/PendingInquiry/VPendingInquiryResult.tsx","information/PendingInquiry/CPendingInquiry.tsx","information/Inquiry/VInquiryList.tsx","information/Inquiry/VInquiryDetail.tsx","information/Inquiry/CInquiry.tsx","information/newPendingInquiry/VNewPendingInquiry.tsx","information/newPendingInquiry/VNewPendingInquiryList.tsx","information/newPendingInquiry/VNewPendingInquiryDetail.tsx","information/newPendingInquiry/CNewPendingInquiry.tsx","CApp.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["color","selected","VMain","render","param","controller","cHome","cProduct","cPendingInquiry","cInquiry","cNewPendingInquiry","faceTabs","name","label","icon","content","tab","notify","undefined","onShown","loadList","map","v","caption","TabCaptionComponent","header","tabs","this","openPage","VPage","CUqBase","_cApp","_uqs","CBase","CSub","VHome","page","cApp","cSupplier","onNewSupplier","searchSupplierByKey","right","className","size","onSearch","key","placeholder","onClick","style","textAlign","headerClassName","toSupplierList","View","CHome","renderRootList","renderView","start","openVPage","schema","type","required","VSupplier","form","supplierData","uiSchema","items","id","visible","widget","abbreviation","isValid","defaultValue","submit","onFormButtonClick","context","a","saveSupplierData","data","onSavesupplierData","buttonClick","footer","descriptionData","_","clone","ref","formData","onButtonClick","fieldLabelSize","VSupplierList","renderRootCategory","item","parent","no","onEditSupplier","createTime","observer","suppliers","VSupplierDetail","supplier","firstSupplierContact","supplierContacts","getSupplierContact","showCreateSupplierContact","cSupplierContact","renderContact","index","delSupplierContact","showEditSupplierContact","showSupplierContactDetail","gender","mobile","defaultContact","fa_text","fa_gender","left","rowTop","date","child","PageSupplier","searchQuery","searchSupplier","firstSize","pageSize","pageStart","ret","PageItems","CSupplier","uqs","rms","SearchSupplier","first","Date","now","Supplier","save","description","onSupplierSelected","SearchSupplierContact","query","_id","contact","observable","telephoneValidation","value","test","mobileValidation","emailValidation","faxValidation","addressDetailValidation","length","zipCodeValidation","departmentNameValidation","salutationValidation","nameValidation","VSupplierContact","list","title","firstName","rules","lastName","salutation","departmentName","telephone","wechatId","email","fax","address","pickId","pickAddress","Templet","tv","addressValue","country","province","city","county","chineseName","addressString","zipCode","isDefault","onSaveSupplierContact","saveSupplierContact","closePage","requiredFlag","VSupplierContactDetail","supplierContact","supplierContactData","appConfig","appName","version","tvs","oem","GLOABLE","VAddress","provinceId","cityId","countyId","backLevel","provinces","renderPCC","onProvinceClick","pcc","border","marginRight","marginBottom","getProvinceCities","cities","len","onCityClick","openPageElement","saveAddress","getCityCounties","counties","onCountyClick","getCountryProvince","CAddress","countryId","common","GetCountryProvinces","table","GetProvinceCities","GetCityCounties","Address","newAddress","addressId","boxId","returnCall","CSupplierContact","cAddress","newC","call","model","parrm","SupplierContact","result","sid","showSupplierContact","VAddProduct","productData","pickSupplier","brand","pickBrand","origin","purity","isTrue","saveProductData","onSaveProductData","showChemicalData","chemical","CAS","descriptoinCN","molecularFomula","molecularWeight","mdlNumber","VEditProduct","updateProductData","showProductData","product","descriptionC","suppliername","obj","brandno","VProductDetail","firstPackage","packages","getPackage","showCreatePackage","cPackage","renderPackage","showEditPackage","showPackageDetail","radiox","radioy","unit","radio","VProductList","onEditProduct","showProductDetail","products","searchProductByKey","onNewProduct","pickChemical","onScrollBottom","more","VPickSupplier","renderItem","returnSupplier","CPickSupplier","VBrand","brandData","saveBrandData","onSaveBrandData","VPickBrand","brands","searchBrandByKey","onNewBrand","returnBrand","PageBrand","searchBrand","CBrand","SearchBrand","Brand","onEditBrand","PageProduct","searchProduct","CProduct","SearchProduct","cPickSupplier","cBrand","cChemical","Product","ProductChemical","add","arr1","productdata","GetPack","pitem","VChemical","chemicals","searchChemicalByKey","PageChemical","searchChemical","CChemical","SearchChemical","VPackage","onSavePackage","savePackage","VPackageDetail","package","packageData","PagePackage","searchPackage","CPackage","searchPackageByKey","pagePackage","saveArr","showPackage","VPickProduct","onNewPendingInquiry","CPickProduct","VPendingInquiryList","inquiryDate","onShowPendingInquiryDetail","pendingInquirys","searchPendingInquiryByKey","none","VPendingInquiryDetail","suppplier","onAddInquiry","inquiryPackage","user","createDate","quantity","openPendingInquiryResult","suppplierData","contactName","contactMobile","contactSalutation","contactDepartmentName","contactTelephone","way","contactEmail","contactfax","inquiryUser","remarks","inid","VAddInquiry","rows","saveInquiryData","onSaveInquiryData","topdata","VCurrency","currencys","renderCurrency","onCurrencyClick","currency","returnCurrency","CCurrency","Currency","search","VPendingInquiryResult","inquiryData","listPrice","price","pickCurrency","isTaxIn","isTransFeeIn","transFee","transFeecurrency","packingFee","packingcurrency","otherFee","customized","customizeUpto","validUpto","minArriveDate","maxArriveDate","invoiceType","vatRate","tariffRate","packType","row","coaFilePath","msdsFilePath","quotationFilePath","PagePendingInquiry","searchPendingInquiry","CPendingInquiry","SearchInquiryPending","savePendingInquiryData","supplierid","AddInquiryPending","getDataForSave","inquiryItems","forEach","pk","push","inquiryitems","SearchInquiryPendingBySupplier","InquirySheet","action","flow","state","_supplier","DeleteInquiryPendingBySupplier","cCurrency","VInquiryList","openInquiryDetail","discription","inquirys","searchInquiryByKey","VInquiryDetail","renderOrderItem","renderProduct","inquiry","brief","CInquiry","GetInquirySheet","getSheet","inquiryItemssGrouped","groupByPack","InquiryItems","VProductView","getProduct","pid","SearchProductById","AddInquiryResultHistory","contentagency","LocationUI","pro","packItems","packItem","pack","packRow","cpi","find","e","packs","VNewPendingInquiry","pendingInquiryData","saveNewPendingInquiryData","onSaveNewPendingInquiryData","showProductlData","brandname","VNewPendingInquiryList","onShowNewPendingInquiryDetail","newpendingInquirys","searchNewPendingInquiryByKey","pickProduct","VNewPendingInquiryDetail","updatePendingInquiryState","onUpdatePendingInquiryData","deletePendingInquiryPackage","packid","deletePendingInquiryData","NewPagePendingInquiry","searchNewPendingInquiry","CNewPendingInquiry","SearchNewInquiryPending","pendingInquiry","cPickProduct","DeleteInquiryPending","pendingid","DeleteInquiryPackage","UpdateInquiryPending","CApp","topKey","promises","Promise","all","showMain","nav","initTabName","CAppBase","setSettings","App","onLogined","React","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e2d4cd83.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\r\nimport { CApp } from '../CApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\n\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    render = (param?: any): JSX.Element => {\r\n        let { cHome, cProduct, cPendingInquiry, cInquiry, cNewPendingInquiry } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'supplier', label: '', icon: 'home', content: cHome.tab, notify: undefined },\r\n            { name: 'product', label: '', icon: 'check-square-o', content: cProduct.tab, onShown: cProduct.loadList },\r\n            { name: 'pendingInquiry', label: '', icon: 'pencil-square-o', content: cNewPendingInquiry.tab, onShown: cNewPendingInquiry.loadList },\r\n            { name: 'inquirying', label: '', icon: 'pencil-square-o', content: cPendingInquiry.tab, onShown: cPendingInquiry.loadList },\r\n            { name: 'inquiry', label: '', icon: 'bandcamp', content: cInquiry.tab, onShown: cInquiry.loadList }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify, onShown } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n                onShown: onShown,\r\n            }\r\n        });\r\n        return <Page header={false}>\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import { CSub, CBase } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CApp } from \"./CApp\";\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): CUqBase { return this._owner as CUqBase; };\r\n}\r\n","import * as React from 'react';\r\nimport { CHome } from './CHome';\r\nimport { Page, View, SearchBox } from 'tonva';\r\n\r\nexport class VHome extends View<CHome> {\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = () => {\r\n        let { onNewSupplier, searchSupplierByKey } = this.controller.cApp.cSupplier;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"\" />\r\n            <span onClick={() => onNewSupplier()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page right={right} header={header} headerClassName=\"bg-primary\">\r\n            <this.content />\r\n        </Page>;\r\n    };\r\n\r\n    private content = () => {\r\n        let { controller } = this;\r\n        let { toSupplierList } = controller;\r\n        return <>\r\n            {toSupplierList()}\r\n        </>\r\n    };\r\n}","import { CUqBase } from '../CBase';\r\nimport { VHome } from './VHome';\r\n\r\nexport class CHome extends CUqBase {\r\n\r\n    async internalStart(param: any) {\r\n\r\n        let { cSupplier } = this.cApp;\r\n        await cSupplier.start();\r\n        this.openVPage(VHome);\r\n    }\r\n\r\n    toSupplierList = () => {\r\n        let { cSupplier } = this.cApp;\r\n        return cSupplier.renderRootList();\r\n    }\r\n    tab = () => this.renderView(VHome);\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'abbreviation', type: 'string', required: false },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n];\r\n\r\nexport class VSupplier extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            abbreviation: { widget: 'text', label: '' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '' },\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierData(context.form.data);\r\n    }\r\n\r\n    private onSavesupplierData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSavesupplierData}></button>;\r\n\r\n        return <Page header=\"\" footer={footer} headerClassName=\"bg-primary\">\r\n            <div className=\"p-3 bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page } from 'tonva';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nexport class VSupplierList extends View<CSupplier> {\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, name, createTime } = item;\r\n        let { onEditSupplier } = this.controller;\r\n\r\n        let right = <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditSupplier(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        return <LMR right={right} className=\"m-2 justify-content-between cursor-pointer\">\r\n            <div><span className=\"small\">{name}</span></div>\r\n        </LMR>\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.content />\r\n    }\r\n\r\n    private content = observer(() => {\r\n        let { suppliers } = this.controller;\r\n        return <div className=\"py-2\"><List items={suppliers} item={{ render: this.renderRootCategory }} /></div>;\r\n    });\r\n} \r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from \"./CSupplier\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nexport class VSupplierDetail extends VPage<CSupplier> {\r\n\r\n    private supplier: any;\r\n    private firstSupplierContact: any;\r\n    private supplierContacts: any[] = [];\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        this.supplier = parent;\r\n        this.firstSupplierContact = item;\r\n        this.supplierContacts = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getSupplierContact = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div className=\"bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"users\" /><span className=\"h6 py-2 px-1 align-middle\"><b> </b></span>\r\n            </div>\r\n            {this.firstSupplierContact && <List items={this.supplierContacts} item={{ render: this.renderContact }} />}\r\n            <div className=\"text-primary text-center small bg-white py-2\" onClick={() => showCreateSupplierContact(this.supplier)}><FA name=\"plus\" /></div>\r\n\r\n        </div>\r\n    }\r\n\r\n    private renderContact = (item: any, index: number) => {\r\n        let { delSupplierContact, showEditSupplierContact, showSupplierContactDetail } = this.controller.cApp.cSupplierContact;\r\n        let { no, name, id, gender, mobile } = item;\r\n        let { defaultContact } = this.supplier;\r\n        let fa_text = defaultContact === undefined ? \"px-2 text-muted small\" : (defaultContact.id === id ? \"px-2 text-info small\" : \"px-2 text-muted small\");\r\n        let fa_gender = gender === \"0\" ? <FA name=\"female\" className=\"px-2 text-danger\"></FA> : <FA name=\"male\" className=\"px-2 text-primary\"></FA>;\r\n        let left = <div className={fa_text} onClick={() => showSupplierContactDetail(item)}>\r\n            {fa_gender}\r\n            {name} - {mobile === undefined ? \"\" : mobile}</div>\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right samll\">\r\n                <span onClick={() => delSupplierContact(this.supplier, item)}><FA className=\"align-middle text-danger\" name=\"remove\" /></span>\r\n                <span onClick={() => showEditSupplierContact(this.supplier, item)}><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = () => {\r\n        let supplierData = _.clone(this.supplier);\r\n        let { name, no, abbreviation, createTime } = supplierData;\r\n\r\n        return <div className=\"py-2 bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> </b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div><span className=\"px-4 align-middle\">&nbsp;&nbsp;</span><span>{no}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{name}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{abbreviation}</span></div>\r\n                <div><p><span className=\"px-4 align-middle \"></span><span>{<EasyDate date={createTime} />}</span></p></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            {this.rowTop()}\r\n            {this.getSupplierContact()}\r\n        </Page>\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VSupplier } from './VSupplier';\r\nimport { VSupplierList } from './VSupplierList';\r\nimport { VHome } from '../VHome';\r\nimport { VSupplierDetail } from './VSupplierDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    renderRootList() {\r\n        return this.renderView(VSupplierList);\r\n    }\r\n\r\n    saveSupplierData = async (supplier: any) => {\r\n\r\n        if (supplier.id === undefined) {\r\n            supplier.createTime = Date.now();\r\n            supplier.defaultContact = undefined;\r\n            await this.uqs.rms.Supplier.save(undefined, supplier);\r\n        } else {\r\n            await this.uqs.rms.Supplier.save(supplier.id, supplier);\r\n        }\r\n        await this.cApp.cHome.start();\r\n    }\r\n\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewSupplier = async () => {\r\n        this.openVPage(VSupplier, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onEditSupplier = async (supplier: any) => {\r\n        this.openVPage(VSupplier, supplier);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onSupplierSelected = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        let contact = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: contact.ret[0],\r\n            child: contact.ret,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n}\r\n\r\n","\r\nexport function telephoneValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function mobileValidation(value: string) {\r\n    if (value && !/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function emailValidation(value: string) {\r\n    if (value && !/\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(value))\r\n        return \"Email\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function faxValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function addressDetailValidation(value: string) {\r\n    return (value && value.length > 200) ? \"200\" : undefined;\r\n}\r\n\r\nexport function zipCodeValidation(value: string) {\r\n    return (value && value.length > 15) ? \"\" : undefined;\r\n}\r\n\r\n\r\nexport function organizationNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function departmentNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function salutationValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function nameValidation(value: string) {\r\n    return (value && value.length > 50) ? \"50\" : undefined;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CSupplierContact } from './CSupplierContact';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\n\r\nexport class VSupplierContact extends VPage<CSupplierContact> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'gender', type: 'string', required: true },\r\n        { name: 'firstName', type: 'string', required: false },\r\n        { name: 'lastName', type: 'string', required: false },\r\n        { name: 'salutation', type: 'string', required: false },\r\n        { name: 'departmentName', type: 'string', required: false },\r\n        { name: 'telephone', type: 'string', required: false },\r\n        { name: 'mobile', type: 'string', required: true },\r\n        { name: 'wechatId', type: 'string', required: false },\r\n        { name: 'email', type: 'string' },\r\n        { name: 'fax', type: 'string', required: false },\r\n        { name: 'address', type: 'id', required: false },\r\n        { name: 'addressString', type: 'string', required: false },\r\n        { name: 'zipCode', type: 'string', required: false },\r\n        { name: 'isDefault', type: 'boolean', required: false },\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '', list: [{ value: '1', title: '' }, { value: '0', title: '' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '', placeholder: '', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            salutation: { widget: 'text', label: '', rules: salutationValidation } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '', } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', rules: emailValidation, placeholder: 'Email' } as UiTextItem,\r\n            fax: { widget: 'text', label: '', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">()</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* tvtvbug, Henry */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\"></small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'checkbox', label: '', defaultValue: false },\r\n            submit: { widget: 'button', label: '' }\r\n        }\r\n    };\r\n\r\n    private onSaveSupplierContact = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { saveSupplierContact } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await saveSupplierContact(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        let footer = <div className=\"d-flex\">\r\n            <div className=\"flex-grow-1 justify-content-end\">\r\n                <button type=\"button\" className=\"btn btn-primary mr-3 px-6\" onClick={this.onSaveSupplierContact} ><span className=\"px-4\"></span></button>\r\n            </div>\r\n        </div>;\r\n\r\n        return <Page header=\"\" footer={footer} headerClassName=\"bg-primary\">\r\n            <Form ref={v => this.form = v} className=\"my-3 mx-3\"\r\n                formData={this.item}\r\n                schema={this.schema}\r\n                uiSchema={this.uiSchema}\r\n                onButtonClick={this.onFormButtonClick}\r\n                requiredFlag={true}\r\n            />\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CSupplierContact } from \"./CSupplierContact\";\r\n\r\nexport class VSupplierContactDetail extends VPage<CSupplierContact> {\r\n\r\n    private supplierContact: any;\r\n\r\n    async open(supplierContact: any) {\r\n        this.supplierContact = supplierContact;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let supplierContactData = _.clone(this.supplierContact);\r\n        let { no, name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = supplierContactData;\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <div className=\"py-2 bg-white mb-3\">\r\n                <div className=\"cursor-pointer\">\r\n                    &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> </b></span>\r\n                </div>\r\n                <div className=\"py-2 cat-root-sub\">\r\n                    <div><span className=\"px-4 align-middle\">&nbsp;&nbsp;</span><span>{no}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{name}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{lastName}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;</span><span>{firstName}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">&nbsp;&nbsp;</span><span>{gender === \"0\" ? \"\" : \"\"}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{salutation}</span></div>\r\n                    <div><span className=\"px-4 align-middle \"></span><span>{departmentName}</span></div>\r\n                    <div><span className=\"px-4 align-middle\"></span><span>{telephone}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">&nbsp;</span><span>{mobile}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;</span><span>{wechatId}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">&nbsp; Email</span><span>{email}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{fax}</span></div>\r\n                    <div><span className=\"px-4 align-middle \"></span><span>{address}</span></div>\r\n                    <div><span className=\"px-4 align-middle\"></span><span>{addressString}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{zipCode}</span></div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import { AppConfig } from \"tonva\";\r\nimport { tvs } from \"./tvs\";\r\nimport AnalyticalChemistry from './images/AnalyticalChemistry.png';\r\nimport LabSupplies from './images/LabSupplies.png';\r\nimport LifeScience from './images/LifeScience.png';\r\nimport MaterialScience from './images/MaterialScience.png';\r\nimport OrganicChemistry from './images/OrganicChemistry.png';\r\n\r\nexport const appConfig: AppConfig = {\r\n    appName: '/rms',\r\n    version: '1.0.1',\r\n    tvs: tvs,\r\n    oem: ''\r\n};\r\n// \r\nexport const GLOABLE = {\r\n    CHINA: 44,\r\n    TIPDISPLAYTIME: 2000\r\n}","import { TVs } from \"tonva\";\r\n\r\nexport const tvs:TVs = {\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List, FA } from 'tonva';\r\nimport { CAddress } from './CAddress';\r\nimport { GLOABLE } from 'configuration';\r\n\r\nexport class VAddress extends VPage<CAddress> {\r\n    private provinceId: number;\r\n    private cityId: number;\r\n    private countyId: number;\r\n    private backLevel = 0;\r\n\r\n    async open(param: any) {\r\n        let provinces = await this.controller.getCountryProvince(GLOABLE.CHINA);\r\n        this.openPage(this.page, { provinces: provinces });\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        this.backLevel++;\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"row no-gutters\">\r\n                {param.provinces.map((v: any) => this.renderPCC(v.province, this.onProvinceClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPCC = (pcc: BoxId, onClick: any) => {\r\n        return <div key={pcc.id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            {tv(pcc, (value) => {\r\n                let { id, chineseName } = value;\r\n                return <>\r\n                    <div className=\"pt-1 pb-1 px-2\" onClick={() => onClick(id)}\r\n                        style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n                    >\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                            &nbsp; {chineseName}\r\n                        </span>\r\n                    </div>\r\n                </>;\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    private onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let len = cities.length;\r\n            if (len === 1) {\r\n                await this.onCityClick(cities[0].city.id);\r\n                return;\r\n            }\r\n            if (len > 1) {\r\n                this.backLevel++;\r\n                this.openPageElement(<Page header=\"\">\r\n                    <div className=\"row no-gutters\">\r\n                        {cities.map(v => this.renderPCC(v.city, this.onCityClick))}\r\n                    </div>\r\n                </Page>);\r\n                return;\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            this.openPageElement(<Page header=\"\">\r\n                <div className=\"row no-gutters\">\r\n                    {counties.map(v => this.renderPCC(v.county, this.onCountyClick))}\r\n                </div>\r\n            </Page>);\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        this.closePage(this.backLevel);\r\n        this.saveAddress();\r\n    }\r\n\r\n    private saveAddress = async () => {\r\n        await this.controller.saveAddress(GLOABLE.CHINA, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n","import { VAddress } from './VAddress';\r\nimport { CUqBase } from 'CBase';\r\n\r\nexport class CAddress extends CUqBase {\r\n    protected async internalStart() {\r\n        this.openVPage(VAddress);\r\n    }\r\n\r\n    getCountryProvince = async (countryId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCountryProvinces.table({ country: countryId });\r\n    }\r\n\r\n    getProvinceCities = async (provinceId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetProvinceCities.table({ province: provinceId });\r\n    }\r\n\r\n    getCityCounties = async (cityId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCityCounties.table({ city: cityId });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.returnCall(addressId);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VSupplierContact } from \"./VSupplierContact\";\r\nimport { VSupplierContactDetail } from \"./VSupplierContactDetail\";\r\nimport { VSupplierDetail } from \"../supplier/VSupplierDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"./CAddress\";\r\n\r\nclass PageSupplierContact extends PageItems<any> {\r\n    private searchSupplierContact: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplierContact = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplierContact.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplierContact extends CUqBase {\r\n\r\n    @observable pageSupplierContact: PageSupplierContact;\r\n    protected async internalStart() {\r\n\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    //\r\n    showCreateSupplierContact = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showEditSupplierContact = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showSupplierContactDetail = async (model: any) => {\r\n        this.openVPage(VSupplierContactDetail, model);\r\n    }\r\n\r\n    saveSupplierContact = async (id: number, param: any, parent: any) => {\r\n        let { name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address, isDefault } = param;\r\n        let parrm = { name: name, firstName: firstName, lastName: lastName, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, supplier: parent.id, isValid: 1 };\r\n        let result = await this.uqs.rms.SupplierContact.save(id, parrm);\r\n        if (isDefault === true) {\r\n            let sid = id;\r\n            if (sid === undefined) {\r\n                sid = result.id;\r\n            }\r\n            await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, createTime: parent.createTime, isValid: 1, defaultContact: sid });\r\n        }\r\n        this.cApp.cHome.start();\r\n    }\r\n\r\n    delSupplierContact = async (parent: any, model: any) => {\r\n        let { id, no, name, firstName, lastName, isDefault, isValid, supplier, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = model;\r\n        await this.uqs.rms.SupplierContact.save(id, { no: no, name: name, firstName: firstName, lastName: lastName, supplier: supplier, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, isDefault: isDefault, isValid: 0 });\r\n        await this.uqs.rms.SearchSupplierContact.query({ _id: model.id });\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //\r\n    showSupplierContact = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'supplier', type: 'id', required: true },\r\n    { name: 'brand', type: 'id', required: true },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'isTrue', type: 'boolean', required: true },\r\n];\r\n\r\nexport class VAddProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            supplier: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickSupplier(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            brand: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickBrand(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.no}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            origin: { widget: 'text', label: '' } as UiInputItem,\r\n            purity: { widget: 'text', label: '' } as UiInputItem,\r\n            isTrue: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '' },\r\n        }\r\n    }\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveProductData(context.form.data);\r\n    }\r\n\r\n    private onSaveProductData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private showChemicalData = () => {\r\n\r\n        let { chemical } = this.controller;\r\n        let { no, CAS, description, descriptoinCN, molecularFomula, molecularWeight, mdlNumber } = chemical;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b></b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub\">\r\n                <div><span className=\"px-4 align-middle\">&nbsp;chemid:</span><span> {no}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp; CAS:</span><span> {CAS}</span></div>\r\n                <div><span className=\"px-4 align-middle \"></span><span>{description}</span></div>\r\n                <div><span className=\"px-4 align-middle \"></span><span>{descriptoinCN}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;</span><span>{molecularFomula}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;</span><span>{molecularWeight}</span></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSaveProductData}></button>;\r\n\r\n        return <Page header=\"\" footer={footer} headerClassName=\"bg-primary\">\r\n            {this.showChemicalData()}\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'isTrue', type: 'boolean', required: true },\r\n];\r\n\r\nexport class VEditProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            origin: { widget: 'text', label: '' } as UiInputItem,\r\n            purity: { widget: 'text', label: '' } as UiInputItem,\r\n            isTrue: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '' },\r\n        }\r\n    }\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.updateProductData(this.productData, context.form.data);\r\n    }\r\n\r\n    private onSaveProductData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private showProductData = (product: any) => {\r\n\r\n        let { supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight } = product;\r\n        let { name: suppliername } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.no;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b></b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub\">\r\n                <div><span className=\"px-4 align-middle \">&nbsp;</span><span>{suppliername}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{brandno}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp; CAS</span><span>{CAS}</span></div>\r\n                <div><span className=\"px-4 align-middle \"></span><span>{description}</span></div>\r\n                <div><span className=\"px-4 align-middle \"></span><span>{descriptionC}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;</span><span>{molecularFomula}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;</span><span>{molecularWeight}</span></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSaveProductData}></button>;\r\n\r\n        return <Page header=\"\" footer={footer} headerClassName=\"bg-primary\">\r\n            {this.showProductData(descriptionData)}\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nexport class VProductDetail extends VPage<CProduct> {\r\n    private product: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        this.product = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        let { showCreatePackage } = this.controller.cApp.cPackage;\r\n\r\n        return <div className=\"bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"cubes\" /><span className=\"h6 py-2 px-1 align-middle\"><b> </b></span>\r\n            </div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n            <div className=\"text-primary text-center small bg-white py-2\" onClick={() => showCreatePackage(this.product)}><FA name=\"plus\" /></div>\r\n\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { showEditPackage, showPackageDetail } = this.controller.cApp.cPackage;\r\n        let { id, radiox, radioy, unit, type } = item;\r\n        let { defaultContact } = this.product;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let left = <div className=\"px-2 small\" onClick={() => showPackageDetail(item)}>\r\n            <FA name=\"cube\" className=\"px-2 text-primary\"></FA>\r\n            {radio} - {type === 1 ? \"\" : \"\"}</div>\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right samll\">\r\n                <span onClick={() => showEditPackage(this.product, item)}><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = () => {\r\n        let productData = _.clone(this.product);\r\n\r\n        let { supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight } = this.product;\r\n        let { name: suppliername } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"py-2 bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b></b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;</span><span>{suppliername}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{brandno}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;&nbsp; CAS</span><span>{CAS}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{description}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;</span><span>{descriptionC}</span></div>\r\n                <div><span className=\"px-4 align-middle \"></span><span>{origin}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{purity}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;</span><span>{molecularFomula}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;</span><span>{molecularWeight}</span></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            {this.rowTop()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CProduct } from './CProduct';\r\n\r\nexport class VProductList extends VPage<CProduct> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, description, createTime, supplier, CAS } = item;\r\n        let { onEditProduct, showProductDetail } = this.controller;\r\n\r\n        let right = <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditProduct(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        return <LMR right={right} className=\"m-2 justify-content-between cursor-pointer\">\r\n            <div onClick={() => showProductDetail(item)}>\r\n                <div><span className=\"small text-muted\">&nbsp; CAS: </span>{CAS}</div>\r\n                <div><span className=\"small text-muted\">: </span>{description}</div>\r\n                <div><span className=\"small text-muted\">: </span>{tv(supplier, v => <>{v.name}</>)}</div>\r\n            </div>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, onNewProduct, searchProductByKey, pickChemical } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"cas\" />\r\n            <span onClick={() => pickChemical()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <div className=\"py-2\">\r\n                <List items={products} item={{ render: this.renderRootCategory }} />\r\n            </div>\r\n        </Page >;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickSupplier } from './CPickSupplier';\r\n\r\nexport class VPickSupplier extends VPage<CPickSupplier> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { suppliers, searchSupplierByKey } = this.controller;\r\n\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"\" />\r\n            <List items={suppliers} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.suppliers.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnSupplier(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { VPickSupplier } from './VPickSupplier';\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n        this.openVPage(VPickSupplier);\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    returnSupplier = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CBrand } from './CBrand';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'no', type: 'string', required: true },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n];\r\n\r\nexport class VBrand extends VPage<CBrand> {\r\n\r\n    private form: Form;\r\n    private brandData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            no: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '' },\r\n        }\r\n    }\r\n\r\n    async open(brandData: any) {\r\n        this.brandData = brandData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveBrandData(context.form.data);\r\n    }\r\n\r\n    private onSaveBrandData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.brandData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSaveBrandData}></button>;\r\n\r\n        return <Page header=\"\" footer={footer} headerClassName=\"bg-primary\">\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CBrand } from './CBrand';\r\n\r\nexport class VPickBrand extends VPage<CBrand> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { brands, searchBrandByKey, onNewBrand } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchBrandByKey(key)}\r\n                placeholder=\"\" />\r\n            <span onClick={() => onNewBrand()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\" >\r\n            <List items={brands} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.brands.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnBrand(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { no, name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{no} - {name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VBrand } from './VBrand';\r\nimport { VPickBrand } from './VPickBrand';\r\n\r\nclass PageBrand extends PageItems<any> {\r\n\r\n    private searchBrand: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchBrand = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchBrand.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CBrand extends CUqBase {\r\n\r\n    @observable brands: PageBrand;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchBrandByKey(param);\r\n        this.openVPage(VPickBrand);\r\n    }\r\n\r\n    searchBrandByKey = async (key: string) => {\r\n        this.brands = new PageBrand(this.uqs.rms.SearchBrand);\r\n        this.brands.first({ key: key });\r\n    }\r\n\r\n    saveBrandData = async (brand: any) => {\r\n\r\n        if (brand.id === undefined) {\r\n            await this.uqs.rms.Brand.save(undefined, brand);\r\n        } else {\r\n            await this.uqs.rms.Brand.save(brand.id, brand);\r\n        }\r\n        this.closePage();\r\n        await this.searchBrandByKey(\"\");\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewBrand = async () => {\r\n        this.openVPage(VBrand, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onEditBrand = async (brand: any) => {\r\n        this.openVPage(VBrand, brand);\r\n    }\r\n\r\n    returnBrand = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VAddProduct } from './VAddProduct';\r\nimport { VEditProduct } from './VEditProduct';\r\nimport { VProductDetail } from './VProductDetail';\r\nimport { VProductList } from './VProductList';\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CChemical } from './CChemical';\r\nimport { CBrand } from './CBrand';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n    chemical: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        this.openVPage(VProductList);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key });\r\n    }\r\n\r\n    pickSupplier = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cPickSupplier = this.newC(CPickSupplier);\r\n        return await cPickSupplier.call<number>();\r\n    }\r\n\r\n    pickBrand = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cBrand = this.newC(CBrand);\r\n        return await cBrand.call<number>();\r\n    }\r\n\r\n    pickChemical = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call();\r\n    }\r\n\r\n    saveProductData = async (product: any) => {\r\n\r\n        if (product.id === undefined) {\r\n            if (this.chemical) {\r\n                let { id, CAS, description, descriptoinCN, molecularFomula, molecularWeight } = this.chemical;\r\n                product.description = description;\r\n                product.descriptionC = descriptoinCN;\r\n                product.createTime = Date.now();\r\n                product.defaultContact = undefined;\r\n                let result = await this.uqs.rms.Product.save(undefined, product);\r\n                await this.uqs.rms.ProductChemical.add({ product: result.id, arr1: [{ chemical: id, CAS: CAS, molecularFomula: molecularFomula, molecularWeight: molecularWeight, purity: product.purity }] });\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    updateProductData = async (productdata: any, model: any) => {\r\n\r\n        if (productdata) {\r\n            productdata.origin = model.origin;\r\n            productdata.isTrue = 1;\r\n            let { chemical } = productdata;\r\n            await this.uqs.rms.Product.save(model.id, productdata);\r\n            await this.uqs.rms.ProductChemical.add({ product: model.id, arr1: [{ chemical: chemical.id, CAS: productdata.CAS, molecularFomula: productdata.molecularFomula, molecularWeight: productdata.molecularWeight, purity: model.purity }] });\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewProduct = async (model: any) => {\r\n        this.chemical = model;\r\n        this.openVPage(VAddProduct, { product: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onEditProduct = async (product: any) => {\r\n        this.openVPage(VEditProduct, product);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    showProductDetail = async (model: any) => {\r\n        let { id } = model;\r\n        let pitem = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchProductByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VProductList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CChemical } from './CChemical';\r\n\r\nexport class VChemical extends VPage<CChemical> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { chemicals, searchChemicalByKey } = this.controller;\r\n        let { onNewProduct } = this.controller.cApp.cProduct;\r\n\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}>chemid</span>\r\n        </header>;\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchChemicalByKey(key)}\r\n                placeholder=\"CAS\" />\r\n            <List items={chemicals} item={{ render: this.renderItem, onClick: onNewProduct }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.chemicals.more();\r\n    }\r\n\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS:{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VChemical } from './VChemical';\r\n\r\nclass PageChemical extends PageItems<any> {\r\n\r\n    private searchChemical: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 8;\r\n        this.searchChemical = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchChemical.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CChemical extends CUqBase {\r\n\r\n    @observable chemicals: PageChemical;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchChemicalByKey(param);\r\n        this.openVPage(VChemical);\r\n    }\r\n\r\n    searchChemicalByKey = async (key: string) => {\r\n        this.chemicals = new PageChemical(this.uqs.chemical.SearchChemical);\r\n        this.chemicals.first({ key: key });\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackage extends VPage<CPackage> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'radiox', type: 'number', required: true },\r\n        { name: 'radioy', type: 'number', required: true },\r\n        { name: 'unit', type: 'string', required: true },\r\n        { name: 'type', type: 'string', required: true },\r\n        { name: 'isValid', type: 'boolean', required: true },\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            unit: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            type: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 2, title: '' }] } as UiRadio,\r\n            isValid: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '' }\r\n        }\r\n    };\r\n\r\n    private onSavePackage = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { savePackage } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await savePackage(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        let footer = <div className=\"d-flex\">\r\n            <div className=\"flex-grow-1 justify-content-end\">\r\n                <button type=\"button\" className=\"btn btn-primary mr-3 px-6\" onClick={this.onSavePackage} ><span className=\"px-4\"></span></button>\r\n            </div>\r\n        </div>;\r\n\r\n        return <Page header=\"\" footer={footer} headerClassName=\"bg-primary\">\r\n            <Form ref={v => this.form = v} className=\"my-3 mx-3\"\r\n                formData={this.item}\r\n                schema={this.schema}\r\n                uiSchema={this.uiSchema}\r\n                onButtonClick={this.onFormButtonClick}\r\n                requiredFlag={true}\r\n            />\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackageDetail extends VPage<CPackage> {\r\n\r\n    private package: any;\r\n\r\n    async open(param: any) {\r\n        this.package = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let packageData = _.clone(this.package);\r\n        let { radiox, radioy, unit, type } = packageData;\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <div className=\"py-2 bg-white mb-3\">\r\n                <div className=\"cursor-pointer\">\r\n                    &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> </b></span>\r\n                </div>\r\n                <div className=\"py-2 cat-root-sub\">\r\n                    <div><span className=\"px-4 align-middle\">&nbsp;</span><span>{radiox}</span></div>\r\n                    <div><span className=\"px-4 align-middle \"></span><span>{radioy}</span></div>\r\n                    <div><span className=\"px-4 align-middle \"></span><span>{unit}</span></div>\r\n                    <div><span className=\"px-4 align-middle \"></span><span>{type === 1 ? \"\" : \"\"}</span></div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPackage } from \"./VPackage\";\r\nimport { VPackageDetail } from \"./VPackageDetail\";\r\nimport { VProductDetail } from \"../product/VProductDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PagePackage extends PageItems<any> {\r\n    private searchPackage: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPackage = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPackage.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPackage extends CUqBase {\r\n\r\n    @observable pagePackage: PagePackage;\r\n    protected async internalStart() {\r\n    }\r\n\r\n    searchPackageByKey = async (parent: any, key: string) => {\r\n        this.pagePackage = new PagePackage(await this.uqs.rms.GetPack.query({ _id: parent.id }));\r\n        this.pagePackage.first({ key: key });\r\n    }\r\n\r\n    //\r\n    showCreatePackage = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showEditPackage = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showPackageDetail = async (model: any) => {\r\n        this.openVPage(VPackageDetail, model);\r\n    }\r\n\r\n    savePackage = async (id: number, param: any, parent: any) => {\r\n\r\n        await this.uqs.rms.Product.saveArr(\"Pack\", parent.id, id, param);\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //\r\n    showPackage = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickProduct } from './CPickProduct';\r\n\r\nexport class VPickProduct extends VPage<CPickProduct> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, searchProductByKey } = this.controller;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"\" />\r\n            <List items={products} item={{ render: this.renderItem, onClick: onNewPendingInquiry }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description, supplier } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VPickProduct } from './VPickProduct';\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        this.openVPage(VPickProduct);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key });\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryList extends VPage<CPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, inquiryDate } = item;\r\n        let { onShowPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"p-2 cursor-pointer text-muted\">\r\n            <EasyDate date={inquiryDate} />\r\n        </div>\r\n        return <LMR right={right} className=\"m-2 justify-content-between cursor-pointer\" onClick={() => onShowPendingInquiryDetail(item)}>\r\n            <div><span className=\"small text-muted\">: </span>{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pendingInquirys, searchPendingInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchPendingInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <div className=\"py-2\">\r\n                <List items={pendingInquirys} item={{ render: this.renderRootCategory }} none=\"\" />\r\n            </div>\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryDetail extends VPage<CPendingInquiry> {\r\n    private suppplier: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    async open(param: any) {\r\n        let { parent, item, child } = param;\r\n        this.suppplier = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div className=\"bg-white px-2 \">\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { onAddInquiry } = this.controller;\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity } = item;\r\n        let { brand, description, descriptionC } = product.obj;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span onClick={() => this.controller.openPendingInquiryResult(item)}><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"py-2 samll\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{quantity} * {radio}</div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = () => {\r\n        let suppplierData = _.clone(this.suppplier);\r\n\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, inquiryUser, inquiryDate, user, date, remarks } = suppplierData;\r\n        let { id } = user;\r\n        let { id: inid } = inquiryUser;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{tv(supplier, v => <>{v.name}</>)}</b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{contactName}</b>&nbsp;&nbsp;<b>{contactMobile}</b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{id}</b>&nbsp;&nbsp;<b><EasyDate date={date} /></b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{inid}</b>&nbsp;&nbsp;<b><EasyDate date={inquiryDate} /></b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")}</b></span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            {this.rowTop()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA, UiRadio, List, LMR } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'way', type: 'number', required: true },\r\n    { name: 'remarks', type: 'number', required: false },\r\n];\r\n\r\nexport class VAddInquiry extends VPage<CPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private supplier: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            way: { widget: 'radio', label: '', list: [{ value: 1, title: 'Email' }, { value: 2, title: '' }, { value: 3, title: '' }] } as UiRadio,\r\n            remarks: { widget: 'text', label: '', rows: 5 } as UiInputItem,\r\n            submit: { widget: 'button', label: '' },\r\n        }\r\n    }\r\n\r\n    async open(param: any) {\r\n        let { parent, item, child } = param;\r\n        this.supplier = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveInquiryData(context.form.data, this.supplier.supplier.obj);\r\n    }\r\n\r\n    private onSaveInquiryData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div className=\"bg-white px-2 \">\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, user, product, quantity, radiox, radioy, unit, date, CAS, purity } = item;\r\n        let { brand, description, descriptionC } = product.obj;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <LMR className=\"py-2 samll\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS{CAS}&nbsp;&nbsp; {quantity} * {radio}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (supplier: any, defaultContact: any) => {\r\n\r\n        let topdata = defaultContact === null ? <div className=\"py-2 cursor-pointer\">\r\n            &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-1 align-middle text-danger\">!</span></div> : <div><div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-1 align-middle\"><b>{tv(defaultContact, v => <>{v.name}</>)}</b></span>\r\n            </div>\r\n                <div><span className=\"px-4 align-middle\">{tv(defaultContact, v => <>{v.mobile}</>)} | {tv(defaultContact, v => <>{v.telephone}</>)} | {tv(defaultContact, v => <>{v.email}</>)}</span></div>\r\n            </div>;\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b>{tv(supplier, v => <>{v.name}</>)}</b></span>\r\n            </div>\r\n            {topdata}\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.supplier);\r\n        let { supplier } = suppplierData;\r\n        let { defaultContact } = supplier.obj;\r\n\r\n        let footer: any;\r\n        footer = defaultContact === null ? \"\" : <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSaveInquiryData}></button>;\r\n        let data = defaultContact === null ? <div></div> : <div className=\"bg-white\">\r\n            <Form ref={v => this.form = v} className=\"m-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                formData={suppplierData}\r\n                onButtonClick={this.onFormButtonClick}\r\n                fieldLabelSize={3}\r\n            />\r\n        </div>;\r\n\r\n        return <Page header=\"\" footer={footer} headerClassName=\"bg-primary\">\r\n            {this.rowTop(supplier, defaultContact)}\r\n            {data}\r\n            {this.getPackage()}\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CCurrency } from './CCurrency';\r\n\r\nexport class VCurrency extends VPage<CCurrency> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { currencys } = this.controller;\r\n        return <Page header=\"\">\r\n            <div className=\"row no-gutters\">\r\n                {currencys.map((v: any) => this.renderCurrency(v, this.onCurrencyClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderCurrency = (currency: any, onClick: any) => {\r\n        let { id, name } = currency;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onCurrencyClick(currency)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {name}\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onCurrencyClick = async (item: any) => {\r\n        await this.controller.returnCurrency(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VCurrency } from './VCurrency';\r\n\r\nexport class CCurrency extends CUqBase {\r\n\r\n    @observable currencys: any;\r\n\r\n    protected async internalStart() {\r\n        this.currencys = await this.uqs.common.Currency.search(\"\", 0, 100);\r\n        this.openVPage(VCurrency);\r\n    }\r\n\r\n    returnCurrency = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiTextItem, UiRadio, tv, UiIdItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'string', required: true },\r\n    { name: 'listPrice', type: 'number', required: false },\r\n    { name: 'price', type: 'number', required: true },\r\n    { name: 'currency', type: 'id', required: true },\r\n    { name: 'isTaxIn', type: 'number', required: true },\r\n    { name: 'isTransFeeIn', type: 'number', required: true },\r\n    { name: 'transFee', type: 'number', required: false },\r\n    { name: 'transFeecurrency', type: 'id', required: false },\r\n    { name: 'packingFee', type: 'number', required: false },\r\n    { name: 'packingcurrency', type: 'id', required: false },\r\n    { name: 'otherFee', type: 'number', required: false },\r\n    { name: 'customized', type: 'number', required: true },\r\n    { name: 'customizeUpto', type: 'date', required: true },\r\n    { name: 'validUpto', type: 'date', required: true },\r\n    { name: 'minArriveDate', type: 'date', required: true },\r\n    { name: 'maxArriveDate', type: 'date', required: true },\r\n    { name: 'invoiceType', type: 'number', required: true },\r\n    { name: 'vatRate', type: 'number', required: false },\r\n    { name: 'tariffRate', type: 'number', required: false },\r\n    { name: 'packType', type: 'number', required: true },\r\n    { name: 'remarks', type: 'string', required: false },\r\n    { name: 'coaFilePath', type: 'string', required: false },\r\n    { name: 'msdsFilePath', type: 'string', required: false },\r\n    { name: 'quotationFilePath', type: 'string', required: false },\r\n];\r\n\r\nexport class VPendingInquiryResult extends VPage<CPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private inquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            listPrice: { widget: 'text', label: '', } as UiInputItem,\r\n            price: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '', list: [{ value: 0, title: '' }, { value: 1, title: '' }] } as UiRadio,\r\n            isTransFeeIn: { widget: 'radio', label: '', list: [{ value: 0, title: '' }, { value: 1, title: '' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '', } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '' } as UiInputItem,\r\n            customized: { widget: 'radio', label: '', list: [{ value: 0, title: '' }, { value: 1, title: '' }] } as UiRadio,\r\n            customizeUpto: { widget: 'date', label: '' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            invoiceType: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 2, title: '' }, { value: 3, title: '' }] } as UiRadio,\r\n            vatRate: { widget: 'text', label: '' } as UiInputItem,\r\n            tariffRate: { widget: 'text', label: '' } as UiInputItem,\r\n            packType: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 2, title: '' }] } as UiRadio,\r\n            remarks: { widget: 'text', label: '', row: 10 } as UiInputItem,\r\n            coaFilePath: { widget: 'text', label: 'COA', } as UiInputItem,\r\n            msdsFilePath: { widget: 'text', label: 'MSOS' } as UiInputItem,\r\n            quotationFilePath: { widget: 'text', label: '' } as UiInputItem,\r\n            submit: { widget: 'button', label: '' },\r\n        }\r\n    }\r\n\r\n    async open(inquiryData: any) {\r\n        this.inquiryData = inquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { product } = this.inquiryData;\r\n        await this.controller.saveInquiryData(context.form.data, product);\r\n    }\r\n\r\n    private onSaveInquiryData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.inquiryData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSaveInquiryData}></button>;\r\n\r\n        return <Page header=\"\" footer={footer} headerClassName=\"bg-primary\">\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPendingInquiryList } from './VPendingInquiryList';\r\nimport { VPendingInquiryDetail } from './VPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { VAddInquiry } from './VAddInquiry';\r\nimport { CCurrency } from '../PendingInquiry/CCurrency';\r\nimport { VPendingInquiryResult } from '../PendingInquiry/VPendingInquiryResult';\r\n\r\nclass PagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPendingInquiry extends CUqBase {\r\n\r\n    @observable pendingInquirys: PagePendingInquiry;\r\n    @observable pendingInquiryList: PagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchPendingInquiryByKey = async (key: string) => {\r\n        this.pendingInquirys = new PagePendingInquiry(this.uqs.rms.SearchInquiryPending);\r\n        this.pendingInquirys.first({ key: key });\r\n    }\r\n\r\n    savePendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let { quantity, radiox, radioy, unit } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    getDataForSave = (model: any, supplier: any, contact: any, items: any[]) => {\r\n\r\n        let { name, salutation, departmentName, telephone, mobile, email, fax } = contact;\r\n        let inquiryItems: any[] = [];\r\n        items.forEach(pk => {\r\n            inquiryItems.push({\r\n                product: pk.product, quantity: pk.quantity\r\n                , radiox: pk.radiox, radioy: pk.radioy, unit: pk.unit\r\n            })\r\n        });\r\n        return {\r\n            supplier: supplier,\r\n            contact: contact,\r\n            contactName: name,\r\n            contactSalutation: salutation,\r\n            contactDepartmentName: departmentName,\r\n            contactTelephone: telephone,\r\n            contactMobile: mobile,\r\n            contactEmail: email,\r\n            contactfax: fax,\r\n            way: model.way,\r\n            remarks: model.remarks,\r\n            inquiryitems: inquiryItems,\r\n        }\r\n    }\r\n\r\n    saveInquiryData = async (model: any, supplier: any) => {\r\n\r\n        let { id, defaultContact } = supplier;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n\r\n        let result: any = await this.uqs.rms.InquirySheet.save(\"InquirySheet\", this.getDataForSave(model, supplier, defaultContact.obj, pitem.ret));\r\n        await this.uqs.rms.InquirySheet.action(result.id, result.flow, result.state, \"submit\");\r\n        let param = {\r\n            _supplier: id,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPendingBySupplier.submit(param);\r\n\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VPendingInquiryDetail, param);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onAddInquiry = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VAddInquiry, param);\r\n    }\r\n\r\n    pickCurrency = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cCurrency = this.newC(CCurrency);\r\n        return await cCurrency.call<number>();\r\n    }\r\n\r\n    openPendingInquiryResult = async (item: any) => {\r\n        this.openVPage(VPendingInquiryResult, item);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\n\r\nexport class VInquiryList extends VPage<CInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { id, no, date, discription } = item;\r\n        let { openInquiryDetail } = this.controller;\r\n\r\n        return <div className=\"m-3 justify-content-between cursor-pointer\" onClick={() => openInquiryDetail(id)}>\r\n            <div><span className=\"small text-muted\">: </span><strong>{no}</strong></div>\r\n            <div className=\"small text-muted\"><EasyDate date={date} /></div>\r\n        </div>;\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { inquirys, searchInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={inquirys} item={{ render: this.renderRootCategory }} none=\"\" />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.inquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VInquiryDetail extends VPage<CInquiry> {\r\n\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private renderOrderItem = (item: any, index: number) => {\r\n        let { product, quantity, radiox, radioy, unit } = item;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let { id } = product;\r\n        return <div>\r\n            <div className=\"d-flex px-3 py-2 bg-white align-items-center\">\r\n                <div key={index} className=\"w-6c\" ><FA name=\"edit\" className=\"text-primary\" />&nbsp;{radio}</div>\r\n                <div className=\"flex-fill d-flex justify-content-end text-right\"><small className=\"text-muted\">{this.controller.renderProduct(id)}</small></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n\r\n        let { brief, data } = inquiry;\r\n        let { id, no, state, description, date, user } = brief;\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, remarks, inquiryitems } = data;\r\n\r\n        let header = <>: {no}</>\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <List items={inquiryitems} item={{ render: this.renderOrderItem }} />\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactName}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactSalutation}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactDepartmentName}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactTelephone}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactMobile}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactEmail}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactfax}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{remarks}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={date} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{user}</div>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VInquiryList } from './VInquiryList';\r\nimport { VInquiryDetail } from './VInquiryDetail';\r\n\r\nclass PageInquiry extends PageItems<any> {\r\n\r\n    private searchInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchInquiry = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CInquiry extends CUqBase {\r\n\r\n    @observable inquirys: any;\r\n    @observable productdata: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchInquiryByKey(param);\r\n    }\r\n\r\n    searchInquiryByKey = async (key: string) => {\r\n        this.inquirys = await this.uqs.rms.GetInquirySheet.table(undefined);;\r\n    }\r\n\r\n    openInquiryDetail = async (id: number) => {\r\n\r\n        let inquiry = await this.uqs.rms.InquirySheet.getSheet(id);\r\n        let { data } = inquiry;\r\n        let { inquiryitems } = data;\r\n        let inquiryItemssGrouped = groupByPack(inquiryitems);\r\n        data.InquiryItems = inquiryItemssGrouped;\r\n        this.openVPage(VInquiryDetail, inquiry);\r\n    }\r\n\r\n    renderProduct = (id: BoxId) => {\r\n        return this.renderView(VProductView, id);\r\n    }\r\n\r\n    getProduct = async (pid: number) => {\r\n        let product = await this.uqs.rms.SearchProductById.query({ _id: pid });\r\n        this.productdata = product.ret[0];\r\n        return product.ret[0];\r\n    }\r\n\r\n    saveInquiryData = async (model: any, product: any) => {\r\n        let { quantity, radiox, radioy, unit, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, customized, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, remarks, coaFilePath, msdsFilePath, quotationFilePath } = model;\r\n        let param = {\r\n            product: product,\r\n            quantity: quantity,\r\n            radiox: radiox,\r\n            radioy: radioy,\r\n            unit: unit,\r\n            listPrice: listPrice,\r\n            price: price,\r\n            currency: currency,\r\n            isTaxIn: isTaxIn,\r\n            isTransFeeIn: isTransFeeIn,\r\n            transFee: transFee,\r\n            transFeecurrency: transFeecurrency,\r\n            packingFee: packingFee,\r\n            packingcurrency: packingcurrency,\r\n            otherFee: otherFee,\r\n            customized: customized,\r\n            customizeUpto: customizeUpto,\r\n            validUpto: validUpto,\r\n            minArriveDate: minArriveDate,\r\n            maxArriveDate: maxArriveDate,\r\n            invoiceType: invoiceType,\r\n            vatRate: vatRate,\r\n            tariffRate: tariffRate,\r\n            packType: packType,\r\n            remarks: remarks,\r\n            coaFilePath: coaFilePath,\r\n            msdsFilePath: msdsFilePath,\r\n            quotationFilePath: quotationFilePath,\r\n        };\r\n        await this.uqs.rms.AddInquiryResultHistory.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n\r\nexport class VProductView extends View<CInquiry> {\r\n\r\n    render(param: any): JSX.Element {\r\n        let { controller } = this;\r\n        controller.getProduct(param);\r\n        return <this.contentagency pid={param} />\r\n    }\r\n    protected contentagency = observer((param: any) => {\r\n        let LocationUI;\r\n        let pro = this.controller.productdata;\r\n        if (pro !== undefined) {\r\n            let { description, CAS } = pro;\r\n            LocationUI = <span className=\"text-muted small\">{description}&nbsp;{CAS}</span>;\r\n        }\r\n        return LocationUI;\r\n    });\r\n}\r\n\r\nexport function groupByPack(packItems: any[]) {\r\n    let result: any[] = [];\r\n    for (let packItem of packItems) {\r\n        let { product, pack, quantity, radiox, radioy, unit } = packItem;\r\n        let packRow: any = {\r\n            pack: pack,\r\n            quantity: quantity,\r\n            radio: (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>\r\n        }\r\n        let cpi = result.find(e => e.product.id === product.id);\r\n        if (cpi === undefined) {\r\n            cpi = { product: product, packs: [] };\r\n            result.push(cpi);\r\n        }\r\n        cpi.packs.push(packRow);\r\n    }\r\n    return result;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA, UiTextItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'string', required: true },\r\n];\r\n\r\nexport class VNewPendingInquiry extends VPage<CNewPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private pendingInquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            submit: { widget: 'button', label: '' },\r\n        }\r\n    }\r\n\r\n    async open(pendingInquiryData: any) {\r\n        this.pendingInquiryData = pendingInquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveNewPendingInquiryData(context.form.data);\r\n    }\r\n\r\n    private onSaveNewPendingInquiryData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private showProductlData = () => {\r\n\r\n        let { product } = this.controller;\r\n        let { supplier, brand, description, descriptionC, CAS, purity } = product;\r\n        let { name } = supplier.obj;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b></b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div><span className=\"px-4 align-middle text-righ \">:</span><span> {name}</span></div>\r\n                <div><span className=\"px-4 align-middle text-right\">:</span><span> {brandname}</span></div>\r\n                <div><span className=\"px-4 align-middle text-right\">CAS</span><span>{CAS}</span></div>\r\n                <div><span className=\"px-4 align-middle \"></span><span>{description}</span></div>\r\n                <div><span className=\"px-4 align-middle \"></span><span>{descriptionC}</span></div>\r\n                <div><span className=\"px-4 align-middle \"></span><span>{purity}</span></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.pendingInquiryData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSaveNewPendingInquiryData}></button>;\r\n\r\n        return <Page header=\"\" footer={footer} headerClassName=\"bg-primary\">\r\n            {this.showProductlData()}\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryList extends VPage<CNewPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, date } = item;\r\n        let { onShowNewPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"p-2 cursor-pointer text-muted\">\r\n            <EasyDate date={date} />\r\n        </div>\r\n        return <LMR right={right} className=\"m-2 justify-content-between cursor-pointer\" onClick={() => onShowNewPendingInquiryDetail(item)}>\r\n            <div><span className=\"small text-muted\"></span>{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { newpendingInquirys, onNewPendingInquiry, searchNewPendingInquiryByKey, pickProduct } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchNewPendingInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n            <span onClick={() => pickProduct()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <div className=\"py-2\">\r\n                <List items={newpendingInquirys} item={{ render: this.renderRootCategory }} none=\"\" />\r\n            </div>\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.newpendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'way', type: 'number', required: true },\r\n    { name: 'remarks', type: 'number', required: false },\r\n];\r\n\r\nexport class VNewPendingInquiryDetail extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private suppplier: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            way: { widget: 'radio', label: '', list: [{ value: 1, title: 'Email' }, { value: 2, title: '' }, { value: 3, title: '' }] } as UiRadio,\r\n            remarks: { widget: 'text', label: '', rows: 5 } as UiInputItem,\r\n            submit: { widget: 'button', label: '' },\r\n        }\r\n    }\r\n\r\n    async open(param: any) {\r\n        let { parent, item, child } = param;\r\n        this.suppplier = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.updatePendingInquiryState(context.form.data, this.suppplier);\r\n    }\r\n\r\n    private onUpdatePendingInquiryData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div className=\"bg-white px-2 \">\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { deletePendingInquiryPackage } = this.controller;\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity } = item;\r\n        let { id: packid } = inquiryPackage;\r\n        let { brand, description, descriptionC } = product.obj;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span onClick={() => deletePendingInquiryPackage(id, packid)}><FA className=\"align-middle p-2 cursor-pointer text-danger\" name=\"remove\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"py-2 samll\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{quantity} * {radio}</div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, user, date, remarks } = suppplierData;\r\n        let { id } = user;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{tv(supplier, v => <>{v.name}</>)}</b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{id}</b></span>\r\n            </div>\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<span className=\"h6 py-2 px-4 align-middle\"><b><EasyDate date={date} /></b></span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.suppplier);\r\n\r\n        let { deletePendingInquiryData } = this.controller;\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <span onClick={() => deletePendingInquiryData(suppplierData)} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-remove fa-stack-1x text-danger\"></i>\r\n            </span>\r\n        </div>;\r\n        let footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onUpdatePendingInquiryData}></button>;\r\n        return <Page header={header} footer={footer} right={right} headerClassName=\"bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            <Form ref={v => this.form = v} className=\"m-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                formData={suppplierData}\r\n                onButtonClick={this.onFormButtonClick}\r\n                fieldLabelSize={3}\r\n            />\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VNewPendingInquiry } from './VNewPendingInquiry';\r\nimport { VNewPendingInquiryList } from './VNewPendingInquiryList';\r\nimport { VNewPendingInquiryDetail } from './VNewPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass NewPagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchNewPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchNewPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchNewPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CNewPendingInquiry extends CUqBase {\r\n\r\n    @observable newpendingInquirys: NewPagePendingInquiry;\r\n    @observable newpendingInquiryList: NewPagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchNewPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchNewPendingInquiryByKey = async (key: string) => {\r\n        this.newpendingInquirys = new NewPagePendingInquiry(this.uqs.rms.SearchNewInquiryPending);\r\n        this.newpendingInquirys.first({ key: key });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewPendingInquiry = async (model: any) => {\r\n        this.product = model;\r\n        this.openVPage(VNewPendingInquiry, { pendingInquiry: undefined });\r\n    }\r\n\r\n    pickProduct = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cPickProduct.call();\r\n    }\r\n\r\n    saveNewPendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let note;\r\n                let { quantity, radiox, radioy, unit } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                    remarks: note\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    deletePendingInquiryData = async (item: any) => {\r\n        let { id } = item;\r\n        let param = {\r\n            id: id,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    deletePendingInquiryPackage = async (pendingid: number, packid: number) => {\r\n\r\n        let param = {\r\n            id: pendingid,\r\n            inquiryPackage: packid,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPackage.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    updatePendingInquiryState = async (model: any, item: any) => {\r\n        let { id, supplier } = item;\r\n        let param = {\r\n            id: id,\r\n            supplier: supplier,\r\n            way: model.way,\r\n            remarks: model.remarks,\r\n        };\r\n        await this.uqs.rms.UpdateInquiryPending.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowNewPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VNewPendingInquiryDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchNewPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VNewPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import { CAppBase, IConstructor, User, nav } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CUqBase } from \"./CBase\";\r\nimport { VMain } from './ui/main';\r\nimport { CHome } from \"./information/CHome\";\r\nimport { CSupplier } from \"./information/supplier/CSupplier\";\r\nimport { CSupplierContact } from \"./information/supplierContact/CSupplierContact\";\r\nimport { CProduct } from \"./information/product/CProduct\";\r\nimport { CChemical } from \"./information/product/CChemical\";\r\nimport { CBrand } from \"./information/product/CBrand\";\r\nimport { CPackage } from \"./information/package/CPackage\";\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CPickProduct } from 'information/product/CPickProduct';\r\nimport { CPendingInquiry } from 'information/PendingInquiry/CPendingInquiry';\r\nimport { CInquiry } from 'information/Inquiry/CInquiry';\r\nimport { CCurrency } from 'information/PendingInquiry/CCurrency';\r\nimport { CNewPendingInquiry } from 'information/newPendingInquiry/CNewPendingInquiry';\r\n\r\nexport class CApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs as UQs };\r\n\r\n    topKey: any;\r\n    cHome: CHome;\r\n    cSupplier: CSupplier;\r\n    cPickSupplier: CPickSupplier;\r\n    cSupplierContact: CSupplierContact;\r\n    cProduct: CProduct;\r\n    cPickProduct: CPickProduct;\r\n    cChemical: CChemical;\r\n    cBrand: CBrand;\r\n    cPackage: CPackage;\r\n    cPendingInquiry: CPendingInquiry;\r\n    cInquiry: CInquiry;\r\n    cCurrency: CCurrency;\r\n    cNewPendingInquiry: CNewPendingInquiry;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n\r\n        this.cHome = this.newC(CHome);\r\n        this.cSupplier = this.newC(CSupplier);\r\n        this.cPickSupplier = this.newC(CPickSupplier);\r\n        this.cProduct = this.newC(CProduct);\r\n        this.cPickProduct = this.newC(CPickProduct);\r\n        this.cChemical = this.newC(CChemical);\r\n        this.cBrand = this.newC(CBrand);\r\n        this.cPackage = this.newC(CPackage);\r\n        this.cSupplierContact = this.newC(CSupplierContact);\r\n        this.cPendingInquiry = this.newC(CPendingInquiry);\r\n        this.cInquiry = this.newC(CInquiry);\r\n        this.cCurrency = this.newC(CCurrency);\r\n        this.cNewPendingInquiry = this.newC(CNewPendingInquiry);\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cSupplier.start());\r\n        await Promise.all(promises);\r\n        this.showMain();\r\n        this.topKey = nav.topKey();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n    async loginCallBack(user: User) {\r\n\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport './App.css';\r\nimport { NavView, nav, start } from 'tonva';\r\nimport { CApp } from './CApp';\r\nimport { appConfig } from './configuration';\r\n\r\nnav.setSettings(appConfig);\r\n\r\nclass App extends React.Component {\r\n\r\n  private onLogined = async () => {\r\n    await start(CApp, appConfig);\r\n  }\r\n  public render() {\r\n    // return <NavView onLogined={this.onLogined} notLogined={this.onLogined} />\r\n    return <NavView onLogined={this.onLogined} />\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}