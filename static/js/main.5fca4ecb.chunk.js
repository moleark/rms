(this.webpackJsonprms=this.webpackJsonprms||[]).push([[0],{56:function(e,t,n){e.exports=n(78)},62:function(e,t,n){},64:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(41),i=n.n(c),l=(n(61),n(62),n(1)),s=n.n(l),u=n(8),o=n(2),p=n(4),m=n(5),d=n(3),f=n(6),h=(n(64),n(7)),v=function(e){return!0===e?"text-primary":"text-muted"},b=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).render=function(e){var t=n.controller,a=t.cHome,c=t.cProduct,i=t.cPendingInquiry,l=t.cInquiry,s=t.cNewPendingInquiry,u=[{name:"supplier",label:"\u4f9b\u5e94\u5546",icon:"glide",content:a.tab,notify:void 0},{name:"product",label:"\u4ea7\u54c1",icon:"flask",content:c.tab,onShown:c.loadList},{name:"pendingInquiry",label:"\u5f85\u8be2\u51fa",icon:"pencil-square-o",content:s.tab,onShown:s.loadList},{name:"inquirying",label:"\u5df2\u8be2\u51fa",icon:"check-square-o ",content:i.tab,onShown:i.loadList},{name:"inquiry",label:"\u8be2\u4ef7\u5355",icon:"bandcamp",content:l.tab,onShown:l.loadList}].map((function(e){var t=e.name,n=e.label,r=e.icon;return{name:t,caption:function(e){return Object(h.n)(n,r,v(e))},content:e.content,notify:e.notify,onShown:e.onShown}}));return r.createElement(h.k,{header:!1},r.createElement(h.o,{tabs:u}))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.render);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),y=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"cApp",get:function(){return this._cApp}},{key:"uqs",get:function(){return this._uqs}}]),t}(h.b),g=(h.c,n(11)),x=function(e){function t(){var e,n,a=this;Object(o.a)(this,t);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).page=function(){var e=n.controller.cApp.cSupplier,t=e.onNewSupplier,c=e.searchSupplierByKey,i=r.createElement("div",{className:"d-flex align-items-center"},r.createElement(h.m,{size:"sm",onSearch:function(e){return c(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),r.createElement("div",null,r.createElement("span",{onClick:function(){return t()},className:"fa-stack"},r.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}})))),l=r.createElement("header",null,r.createElement("div",{className:"px-3"},"\u4f9b\u5e94\u5546"));return r.createElement(h.k,{right:i,header:l,onScrollBottom:n.onScrollBottom,headerClassName:"py-1 bg-primary"},r.createElement(a.content,null))},n.content=function(){var e=Object(g.a)(n).controller.toSupplierList;return r.createElement(r.Fragment,null,e())},n.onScrollBottom=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.cSupplier.suppliers.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return r.createElement(this.page,null)}}]),t}(h.q),w=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).toSupplierList=function(){return n.cApp.cSupplier.renderRootList()},n.tab=function(){return n.renderView(x)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.cApp.cSupplier,e.next=3,n.start();case 3:this.openVPage(x);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),k=n(19),E=n(20),j=(n(24),n(10)),O=n(14),N=n.n(O);function C(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u56fa\u5b9a\u7535\u8bdd\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function q(e){return e&&!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)?"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function P(e){return e&&!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)?"Email\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function S(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u4f20\u771f\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function F(e){return e&&e.length>200?"\u8be6\u7ec6\u5730\u5740\u6700\u591a200\u4e2a\u5b57\uff01":void 0}function A(e){return e&&e.length>15?"\u90ae\u7f16\u8fc7\u957f\uff0c\u8bf7\u4fee\u6539\u540e\u5f55\u5165\uff01":void 0}function I(e){return e&&e.length>100?"\u90e8\u95e8\u540d\u79f0\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function D(e){return e&&e.length>50?"\u59d3\u540d\u6700\u591a50\u4e2a\u5b57\uff01":void 0}var B,T,R,z,V,U,L,K,W,M,_,G,J,Q,$,H,X,Y,Z,ee,te,ne,re,ae,ce,ie,le,se,ue,oe=[{name:"id",type:"id",required:!1},{name:"name",type:"string",required:!0},{name:"abbreviation",type:"string",required:!1},{name:"webSite",type:"string",required:!1},{name:"address",type:"id",required:!0},{name:"addressString",type:"string",required:!0},{name:"productionAddress",type:"string",required:!1},{name:"taxNo",type:"string",required:!1},{name:"profile",type:"string",required:!1},{name:"submit",type:"submit"}],pe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.supplierData=void 0,n.uiSchema={items:{id:{visible:!1},name:{widget:"text",label:"\u4f9b\u5e94\u5546\u540d\u79f0",placeholder:"\u5fc5\u586b"},abbreviation:{widget:"text",label:"\u4f9b\u5e94\u5546\u7b80\u79f0",placeholder:"\u4f9b\u5e94\u5546\u7b80\u79f0"},webSite:{widget:"text",label:"\u7f51\u5740",placeholder:"\u7f51\u5740"},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickAddress(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?Object(h.t)(e,(function(e){var t=e.country,n=e.province,a=e.city,c=e.county;return r.createElement(r.Fragment,null,void 0!==t&&void 0!==t.id&&Object(h.t)(t,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})),void 0!==n&&void 0!==n.id&&Object(h.t)(n,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})),void 0!==a&&void 0!==a.id&&Object(h.t)(a,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})),void 0!==c&&void 0!==c.id&&Object(h.t)(c,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})))}),(function(){return r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):r.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",placeholder:"\u8be6\u7ec6\u5730\u5740",rules:F},productionAddress:{widget:"text",label:"\u751f\u4ea7\u5382\u5740",placeholder:"\u751f\u4ea7\u5382\u5740",rules:F},taxNo:{widget:"text",label:"\u7a0e\u53f7",placeholder:"\u7a0e\u53f7"},profile:{widget:"textarea",label:"\u4f01\u4e1a\u7b80\u4ecb",placeholder:"\u4f01\u4e1a\u7b80\u4ecb",rows:10},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},n.onFormButtonClick=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveSupplierData(r.form.data,n.supplierData);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onDelSupplier=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vCall(me,n.supplierData);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=9;break}return e.next=6,n.controller.delSupplier(n.supplierData);case 6:return e.next=8,n.controller.loadList();case 8:n.closePage();case 9:case 10:case"end":return e.stop()}}),e)}))),n.page=function(){var e,t=N.a.clone(n.supplierData);return void 0!==t.id&&(e=r.createElement("div",{className:"d-flex align-items-center"},r.createElement("div",null,r.createElement("span",{onClick:function(){return n.onDelSupplier()},className:"fa-stack"},r.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))))),r.createElement(h.k,{header:"\u7f16\u8f91\u4f9b\u5e94\u5546",right:e,headerClassName:"bg-primary"},r.createElement("div",{className:"App-container container text-left"},r.createElement(h.g,{ref:function(e){return n.form=e},className:"my-3",schema:oe,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),me=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!0);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.onCancel=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!1);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.page=function(e){return r.createElement(h.k,{header:"\u5220\u9664\u4f9b\u5e94\u5546",back:"close",headerClassName:"bg-primary"},r.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},r.createElement("div",{className:"p-4 position-relative"},r.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),r.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u4f9b\u5e94\u5546\uff1f")),r.createElement("div",{className:"d-flex mt-3 justify-content-end"},r.createElement("button",{className:"btn btn-danger mr-3",onClick:n.onConfirm},"\u5220\u9664\u4f9b\u5e94\u5546"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:n.onCancel},"\u53d6\u6d88"))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),de=[{name:"id",type:"id",required:!1},{name:"accountName",type:"string",required:!0},{name:"accountNo",type:"string",required:!0},{name:"bank",type:"string",required:!0},{name:"bankAddress",type:"string",required:!0},{name:"usageType",type:"number",required:!0},{name:"bankSWIFT",type:"string",required:!1},{name:"bankIBAN",type:"string",required:!1},{name:"bankRTN",type:"string",required:!1},{name:"submit",type:"submit"}],fe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.supplierData=void 0,n.uiSchema={items:{id:{visible:!1},accountName:{widget:"text",label:"\u53d7\u76ca\u4eba",placeholder:"\u53d7\u76ca\u4eba"},accountNo:{widget:"text",label:"\u8d26\u53f7",placeholder:"\u5f00\u6237\u94f6\u884c\u5e10\u53f7"},bank:{widget:"text",label:"\u5f00\u6237\u884c",placeholder:"\u5f00\u6237\u884c"},bankAddress:{widget:"text",label:"\u94f6\u884c\u5730\u5740",placeholder:"\u94f6\u884c\u5730\u5740"},usageType:{widget:"radio",label:"\u7528\u9014",list:[{value:0,title:"\u5f00\u6237\u884c"},{value:1,title:"\u4e2d\u8f6c\u884c"}]},bankSWIFT:{widget:"text",label:"SWIFT/BIC",placeholder:"\u5f00\u6237\u884cSWIFT/BIC"},bankIBAN:{widget:"text",label:"IBAN",placeholder:"\u5f00\u6237\u884cIBAN"},bankRTN:{widget:"text",label:"RTN ",placeholder:"\u5f00\u6237\u884c\u7684RTN "},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},n.onFormButtonClick=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveSupplierBankData(r.form.data,n.supplierData);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=function(){var e=N.a.clone(n.supplierData);return r.createElement(h.k,{header:"\u7f16\u8f91\u94f6\u884c\u4fe1\u606f",headerClassName:"bg-primary"},r.createElement("div",{className:"App-container container text-left"},r.createElement(h.g,{ref:function(e){return n.form=e},className:"my-3",schema:de,uiSchema:n.uiSchema,formData:e,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),he=[{name:"accountName",type:"string",required:!0},{name:"accountNo",type:"string",required:!0},{name:"bank",type:"string",required:!0},{name:"bankAddress",type:"string",required:!0},{name:"usageType",type:"number",required:!0},{name:"bankSWIFT",type:"string",required:!1},{name:"bankIBAN",type:"string",required:!1},{name:"bankRTN",type:"string",required:!1}],ve=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).supplier=void 0,n.bankAccount=void 0,n.bankData=void 0,n.loadBank=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i,l,u,o,p,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.uqs.rms.BankAccount.load(t.id);case 2:n.bankAccount=e.sent,r=n.bankAccount,a=r.bankAddress,c=r.bankSWIFT,i=r.bankIBAN,l=r.bankRTN,u=r.bank,o=r.accountNo,p=r.accountName,m=r.usageType,n.bankData={bankAddress:a,bankSWIFT:c,bankIBAN:i,bankRTN:l,bank:u,accountNo:o,accountName:p,usageType:m};case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.uiSchema={items:{accountName:{widget:"text",label:"\u53d7\u76ca\u4eba",placeholder:"\u53d7\u76ca\u4eba"},accountNo:{widget:"text",label:"\u8d26\u53f7",placeholder:"\u5f00\u6237\u94f6\u884c\u5e10\u53f7"},bank:{widget:"text",label:"\u5f00\u6237\u884c",placeholder:"\u5f00\u6237\u94f6\u884c"},bankAddress:{widget:"text",label:"\u94f6\u884c\u5730\u5740",placeholder:"\u94f6\u884c\u5730\u5740"},usageType:{widget:"radio",label:"\u7528\u9014",list:[{value:0,title:"\u5f00\u6237\u884c"},{value:1,title:"\u4e2d\u8f6c\u884c"}]},bankSWIFT:{widget:"text",label:"SWIFT/BIC",placeholder:"\u5f00\u6237\u884cSWIFT/BIC"},bankIBAN:{widget:"text",label:"IBAN",placeholder:"\u5f00\u6237\u884cIBAN"},bankRTN:{widget:"text",label:"RTN ",placeholder:"\u5f00\u6237\u884c\u7684RTN "}}},n.rowTop=function(){var e=n.supplier.name;return r.createElement("div",{className:"bg-white py-2"},r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-4"},"\u4f9b\u5e94\u5546:"),r.createElement("div",{className:"col-8 text-muted text-right"},r.createElement("b",null,e))))},n.onBankDataChanged=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,n.bankAccount[c]=r,e.next=4,n.controller.updateBankAccountData(n.bankAccount);case 4:n.closePage(),n.controller.cApp.cSupplier.onShowSupplierBankAccount(n.supplier,n.bankAccount);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.onDelSupplierBankAccount=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vCall(be,n.bankAccount);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=8;break}return e.next=6,n.controller.delSupplierBankAccount(n.bankAccount,n.supplier);case 6:n.closePage(),n.controller.onSupplierSelected(n.supplier);case 8:case 9:case"end":return e.stop()}}),e)}))),n.page=function(){var e;return void 0!==N.a.clone(n.bankAccount).id&&(e=r.createElement("div",{className:"d-flex align-items-center"},r.createElement("div",null,r.createElement("span",{onClick:function(){return n.onDelSupplierBankAccount()},className:"fa-stack"},r.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))))),r.createElement(h.k,{header:"\u94f6\u884c\u4fe1\u606f",right:e,headerClassName:"py-1 bg-primary"},n.rowTop(),r.createElement(h.e,{schema:he,uiSchema:n.uiSchema,data:n.bankData,onItemChanged:n.onBankDataChanged}))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parent,r=t.item,this.supplier=n,e.next=4,this.loadBank(r);case 4:this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),be=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!0);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.onCancel=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!1);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.page=function(e){return r.createElement(h.k,{header:"\u5220\u9664\u94f6\u884c\u4fe1\u606f",back:"close",headerClassName:"bg-primary"},r.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},r.createElement("div",{className:"p-4 position-relative"},r.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),r.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u94f6\u884c\u4fe1\u606f\uff1f")),r.createElement("div",{className:"d-flex mt-3 justify-content-end"},r.createElement("button",{className:"btn btn-danger mr-3",onClick:n.onConfirm},"\u5220\u9664\u94f6\u884c\u4fe1\u606f"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:n.onCancel},"\u53d6\u6d88"))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),ye=n(12),ge=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderRootCategory=function(e,t){e.no;var a=e.name,c=e.address,i=e.addressString,l=n.controller,s=l.onSupplierSelected,u=l.onEditSupplier,o=r.createElement("div",{className:"p-2 cursor-pointer text-info",onClick:function(){return u(e)}},r.createElement(h.f,{name:"edit"}));return r.createElement(h.h,{right:o,className:"px-3 d-flex p-1 cursor-pointer"},r.createElement("div",{onClick:function(){return s(e)}},r.createElement("b",null,a),r.createElement("div",{className:"small py-1 text-muted"},Object(h.t)(c)," ",i)))},n.content=Object(ye.a)((function(){var e=n.controller.suppliers;return r.createElement(h.i,{items:e,item:{render:n.renderRootCategory}})})),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){return r.createElement(this.content,null)}}]),t}(h.q),xe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).supplier=void 0,n.firstSupplierContact=void 0,n.supplierContacts=[],n.firstSupplierrBankAccount=void 0,n.supplierBankAccounts=[],n.getSupplierBankAccount=function(){n.controller.cApp.cSupplierContact.showCreateSupplierContact;return r.createElement("div",null,r.createElement("div",{className:"text-center py-2"},r.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return n.controller.onNewSupplierBankAccount(n.supplier)}},r.createElement("span",{className:"px-2"},r.createElement(h.f,{className:"text-warning px-1",name:"bank"}),r.createElement("b",null,"\u94f6\xa0\u884c")),r.createElement("span",{className:"px-2"},r.createElement(h.f,{name:"plus fa-1x"})))),r.createElement("div",null,n.firstSupplierrBankAccount&&r.createElement(h.i,{items:n.supplierBankAccounts,item:{render:n.renderBankAccount}})))},n.getSupplierContact=function(){var e=n.controller.cApp.cSupplierContact.showCreateSupplierContact;return r.createElement("div",null,r.createElement("div",{className:" d-flex px-3 py-2"},r.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e(n.supplier)}},r.createElement("span",{className:"px-2"},r.createElement(h.f,{className:"text-warning px-1",name:"user"}),r.createElement("b",null,"\u8054\u7cfb\u4eba")),r.createElement("span",{className:"px-2"},r.createElement(h.f,{name:"plus fa-1x"}))),r.createElement("div",{className:"flex-grow-1"}),r.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return n.controller.pickChemical(n.supplier)}},r.createElement("span",{className:"px-2"},r.createElement(h.f,{className:"text-warning px-1",name:"filter"}),r.createElement("b",null,"\u4ea7\xa0\u54c1")),r.createElement("span",{className:"px-2"},r.createElement(h.f,{name:"plus fa-1x"})))),r.createElement("div",null,n.firstSupplierContact&&r.createElement(h.i,{items:n.supplierContacts,item:{render:n.renderContact}})))},n.renderBankAccount=function(e,t){var a=n.controller.onShowSupplierBankAccount,c=e.bankAddress,i=(e.bankSWIFT,e.bankIBAN,e.bankRTN,e.bank,e.accountNo),l=e.accountName,s=e.usageType,u=r.createElement("div",{className:"px-2"},r.createElement(h.f,{name:"caret-right",className:"px-2 text-primary"}),l,r.createElement("div",{className:"small px-4 text-muted"},i),r.createElement("div",{className:"small px-4 text-muted"},c)),o=r.createElement("div",{className:"px-2 text-right text-muted"},0===s?"\u5f00\u6237\u884c":"\u4e2d\u8f6c\u884c");return r.createElement(h.h,{left:u,right:o,className:"p-1 d-flex cursor-pointer",onClick:function(){return a(n.supplier,e)}})},n.renderContact=function(e,t){var a=n.controller.cApp.cSupplierContact.showEditSupplierContact,c=(e.no,e.name),i=e.id,l=e.gender,s=e.mobile,u=e.telephone,o=e.email,p=n.supplier,m=p.defaultContact,d=p.financeContact,f=p.inquiryContact,v=void 0===m?"":m.id===i?r.createElement("div",{className:"small text-muted"},"\u8ba2\u5355\u8d1f\u8d23\u4eba"):"",b=void 0===d?"":d.id===i?r.createElement("div",{className:"small text-muted"},"\u8d22\u52a1\u8d1f\u8d23\u4eba"):"",y=void 0===f?"":f.id===i?r.createElement("div",{className:"small text-muted"},"\u8be2\u4ef7\u8d1f\u8d23\u4eba"):"",g="0"===l?r.createElement(h.f,{name:"female",className:"px-2 text-danger"}):r.createElement(h.f,{name:"male",className:"px-2 text-primary"}),x=void 0===u?r.createElement("span",null):r.createElement("div",{className:"small px-4 text-muted"},u),w=void 0===s?r.createElement("span",null):r.createElement("div",{className:"small px-4 text-muted"},s),k=void 0===o?r.createElement("span",null):r.createElement("div",{className:"small px-4 text-muted"},o),E=r.createElement("div",{className:"px-2"},g,c,k,x,w),j=r.createElement("div",{className:"px-2 text-right"},v,b,y);return r.createElement(h.h,{left:E,right:j,className:"p-1 d-flex cursor-pointer",onClick:function(){return a(e,n.supplier)}})},n.onSupplierDataChanged=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,n.supplier[c]=r,e.next=4,n.controller.updateSupplierData(n.supplier);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.rowTop=function(e){var t=e.name,n=e.no,a=(e.abbreviation,e.webSite),c=e.address,i=e.addressString,l=e.productionAddress,s=(e.profile,e.taxNo);return r.createElement("div",{className:"bg-white py-2"},void 0===n?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u7f16\u53f7:"),r.createElement("div",{className:"col-9 text-muted"},n))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u540d\u79f0:"),r.createElement("div",{className:"col-9"},r.createElement("b",null,t))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u7f51\u5740:"),r.createElement("div",{className:"col-9 text-muted"},void 0===a?"(\u65e0)":a)),void 0===s?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u7a0e\u53f7:"),r.createElement("div",{className:"col-9 text-muted"},s))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u5730\u5740:"),r.createElement("div",{className:"col-9 text-muted"},Object(h.t)(c)," ",i)),void 0===l?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u5382\u5740:"),r.createElement("div",{className:"col-9 text-muted"},l))))},n.page=function(){var e=N.a.clone(n.supplier);return r.createElement(h.k,{header:"\u4f9b\u5e94\u5546\u8be6\u60c5",headerClassName:"py-1 bg-primary"},n.rowTop(e),n.getSupplierBankAccount(),n.getSupplierContact())},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parent,r=t.item,a=t.child,c=t.item2,i=t.child2,this.supplier=n,this.firstSupplierContact=r,this.supplierContacts=a,this.firstSupplierrBankAccount=c,this.supplierBankAccounts=i,this.openPage(this.page);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),we=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).countryId=void 0,n.provinceId=void 0,n.cityId=void 0,n.countyId=void 0,n.backLevel=0,n.page=function(e){return n.backLevel++,r.createElement(h.k,{header:"\u9009\u62e9\u6240\u5728\u56fd\u5bb6",headerClassName:"bg-primary"},r.createElement("div",{className:"row no-gutters"},e.countrys.map((function(e){return n.renderPCC(e,n.onCountryClick)}))))},n.renderPCC=function(e,t){return r.createElement("div",{key:e.id,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},Object(h.t)(e,(function(e){var n=e.id,a=e.chineseName;return r.createElement(r.Fragment,null,r.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return t(n)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},r.createElement("span",{className:"ml-1 align-middle"},r.createElement(h.f,{name:"chevron-right",className:"text-info small"}),"\xa0 ",a)))})))},n.onCountryClick=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.countryId=t,e.next=3,n.controller.getCountryProvince(t);case 3:if(!(a=e.sent)){e.next=21;break}if(!((c=a.length)>0)){e.next=17;break}if(1!==c){e.next=11;break}return e.next=10,n.onProvinceClick(a[0].province.id);case 10:return e.abrupt("return");case 11:if(!(c>1)){e.next=15;break}return n.backLevel++,n.openPageElement(r.createElement(h.k,{header:"\u9009\u62e9\u6240\u5728\u7701\u5e02"},r.createElement("div",{className:"row no-gutters"},a.map((function(e){return n.renderPCC(e.province,n.onProvinceClick)}))))),e.abrupt("return");case 15:e.next=19;break;case 17:n.closePage(n.backLevel),n.saveAddress();case 19:e.next=23;break;case 21:n.closePage(n.backLevel),n.saveAddress();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onProvinceClick=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.provinceId=t,e.next=3,n.controller.getProvinceCities(t);case 3:if(!(a=e.sent)){e.next=21;break}if(!((c=a.length)>0)){e.next=17;break}if(1!==c){e.next=11;break}return e.next=10,n.onCityClick(a[0].city.id);case 10:return e.abrupt("return");case 11:if(!(c>1)){e.next=15;break}return n.backLevel++,n.openPageElement(r.createElement(h.k,{header:"\u9009\u62e9\u6240\u5728\u57ce\u5e02"},r.createElement("div",{className:"row no-gutters"},a.map((function(e){return n.renderPCC(e.city,n.onCityClick)}))))),e.abrupt("return");case 15:e.next=19;break;case 17:n.closePage(n.backLevel),n.saveAddress();case 19:e.next=23;break;case 21:n.closePage(n.backLevel),n.saveAddress();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onCityClick=function(){var e=Object(u.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cityId=t,e.next=3,n.controller.getCityCounties(t);case 3:(a=e.sent)&&a.length>0?(n.backLevel++,n.openPageElement(r.createElement(h.k,{header:"\u9009\u62e9\u6240\u5728\u533a\u53bf"},r.createElement("div",{className:"row no-gutters"},a.map((function(e){return n.renderPCC(e.county,n.onCountyClick)})))))):(n.closePage(n.backLevel),n.saveAddress());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onCountyClick=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.countyId=t,n.closePage(n.backLevel),n.saveAddress();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveAddress=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveAddress(n.countryId,n.provinceId,n.cityId,n.countyId);case 2:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.getCountry();case 2:n=e.sent,this.openPage(this.page,{countrys:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),ke=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getCountry=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.Country.search("",0,300);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),n.getCountryProvince=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetCountryProvinces.table({country:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getProvinceCities=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetProvinceCities.table({province:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getCityCounties=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetCityCounties.table({city:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveAddress=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a,c){var i,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uqs.common.Address,e.next=3,i.save(void 0,{country:t,province:r,city:a,county:c});case 3:l=e.sent,u=l&&i.boxId(l.id),n.returnCall(u);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(we);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),Ee=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchSupplier=void 0,n.firstSize=n.pageSize=14,n.searchSupplier=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchSupplier.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),je=(B=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"suppliers",T,Object(g.a)(n)),n.searchSupplierByKey=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.suppliers=new Ee(n.uqs.rms.SearchSupplier),n.suppliers.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.pickAddress=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(ke),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.pickChemical=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cChemical.call(t);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveSupplierData=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.name,void 0!==t.id){e.next=10;break}return t.defaultContact=void 0,t.financeContact=void 0,t.inquiryContact=void 0,t.isValid=1,e.next=8,n.uqs.rms.Supplier.save(void 0,t);case 8:e.next=17;break;case 10:return c=t.id,t.isValid=1,t.defaultContact=r.defaultContact,t.financeContact=r.financeContact,t.inquiryContact=r.inquiryContact,e.next=17,n.uqs.rms.Supplier.save(c,t);case 17:return n.closePage(),e.next=20,n.searchSupplierByKey(a);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.saveSupplierBankData=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r.id){e.next=6;break}return e.next=3,n.uqs.rms.BankAccount.save(void 0,t);case 3:return a=e.sent,e.next=6,n.uqs.rms.SupplierBankAccount.add({supplier:r.id,arr1:[{bankAccount:a.id}]});case 6:n.cApp.cSupplier.onSupplierSelected(r),n.closePage();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onNewSupplier=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(pe,{description:void 0});case 1:case"end":return e.stop()}}),e)}))),n.onEditSupplier=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(pe,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateSupplierData=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isValid=1,e.next=3,n.uqs.rms.Supplier.save(t.id,t);case 3:return n.closePage(),e.next=6,n.loadList();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewSupplierBankAccount=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(fe,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onShowSupplierBankAccount=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={parent:t,item:r,child:void 0},n.openVPage(ve,a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSupplierSelected=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.uqs.rms.Supplier.load(r);case 3:return t=e.sent,e.next=6,n.uqs.rms.SearchSupplierContact.query({_id:r});case 6:return a=e.sent,e.next=9,n.uqs.rms.SearchSupplierBankAccount.query({_id:r});case 9:c=e.sent,i={parent:t,item:a.ret[0],child:a.ret,item2:c.ret[0],child2:c.ret},n.openVPage(xe,i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.delSupplier=function(){var e=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,t.isValid=0,e.next=4,n.uqs.rms.Supplier.save(r,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.delSupplierBankAccount=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.id,e.next=3,n.uqs.rms.SupplierBankAccount.del({supplier:a,arr1:[{bankAccount:t.id}]});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.updateBankAccountData=function(){var e=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.uqs.rms.BankAccount.save(r,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchSupplierByKey("");case 2:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderRootList",value:function(){return this.renderView(ge)}}]),t}(y),T=Object(E.a)(B.prototype,"suppliers",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B),Oe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.item=void 0,n.parent=void 0,n.schema=[{name:"name",type:"string",required:!0},{name:"gender",type:"string",required:!0},{name:"firstName",type:"string",required:!1},{name:"lastName",type:"string",required:!1},{name:"salutation",type:"string",required:!1},{name:"position",type:"string",required:!1},{name:"departmentName",type:"string",required:!1},{name:"telephone",type:"string",required:!1},{name:"mobile",type:"string",required:!1},{name:"wechatId",type:"string",required:!1},{name:"email",type:"string"},{name:"fax",type:"string",required:!1},{name:"address",type:"id",required:!1},{name:"addressString",type:"string",required:!1},{name:"zipCode",type:"string",required:!1},{name:"isDefault",type:"boolean",required:!1},{name:"isFinance",type:"boolean",required:!1},{name:"isInquiry",type:"boolean",required:!1},{name:"submit",type:"submit"}],n.uiSchema={items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u5fc5\u586b"},gender:{widget:"radio",label:"\u6027\u522b",list:[{value:"1",title:"\u7537"},{value:"0",title:"\u5973"}]},firstName:{widget:"text",label:"\u540d",placeholder:"\u540d",rules:D},lastName:{widget:"text",label:"\u59d3\u6c0f",placeholder:"\u59d3\u6c0f"},salutation:{widget:"radio",label:"\u79f0\u8c13",list:[{value:"Mr.",title:"Mr."},{value:"Ms.",title:"Ms."}]},position:{widget:"text",label:"\u804c\u4f4d",placeholder:"\u804c\u4f4d"},departmentName:{widget:"text",label:"\u90e8\u95e8\u540d\u79f0",placeholder:"\u90e8\u95e8\u540d\u79f0",rules:I},telephone:{widget:"text",label:"\u56fa\u5b9a\u7535\u8bdd",placeholder:"\u56fa\u5b9a\u7535\u8bdd",rules:C},mobile:{widget:"text",label:"\u624b\u673a\u53f7",placeholder:"\u624b\u673a\u53f7",rules:q},wechatId:{widget:"text",label:"\u5fae\u4fe1\u53f7",placeholder:"\u5fae\u4fe1\u53f7"},email:{widget:"text",label:"Email",placeholder:"Email",rules:P},fax:{widget:"text",label:"\u4f20\u771f",placeholder:"\u4f20\u771f",rules:S},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickAddress(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?Object(h.t)(e,(function(e){var t=e.country,n=e.province,a=e.city,c=e.county;return r.createElement(r.Fragment,null,void 0!==t&&void 0!==t.id&&Object(h.t)(t,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})),void 0!==n&&void 0!==n.id&&Object(h.t)(n,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})),void 0!==a&&void 0!==a.id&&Object(h.t)(a,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})),void 0!==c&&void 0!==c.id&&Object(h.t)(c,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})))}),(function(){return r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):r.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",placeholder:"\u8be6\u7ec6\u5730\u5740",rules:F},zipCode:{widget:"text",label:"\u90ae\u7f16",placeholder:"\u90ae\u7f16",rules:A},isDefault:{widget:"checkbox",label:"\u8ba2\u5355\u8054\u7cfb\u4eba",defaultValue:!1},isFinance:{widget:"checkbox",label:"\u8d22\u52a1\u8054\u7cfb\u4eba",defaultValue:!1},isInquiry:{widget:"checkbox",label:"\u8be2\u4ef7\u8054\u7cfb\u4eba",defaultValue:!1},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},n.onFormButtonClick=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.controller.saveSupplierContact,c=n.item&&n.item.id,e.next=4,a(c,r.form.data,n.parent);case 4:n.closePage();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=Object(ye.a)((function(){return r.createElement(h.k,{header:"\u7f16\u8f91\u8054\u7cfb\u4eba",headerClassName:"bg-primary"},r.createElement("div",{className:"App-container container text-left"},r.createElement(h.g,{ref:function(e){return n.form=e},className:"my-3",formData:n.item,schema:n.schema,uiSchema:n.uiSchema,onButtonClick:n.onFormButtonClick,requiredFlag:!0})))})),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.item,r=t.parent,this.item=n,this.parent=r,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Ne=[{name:"name",type:"string",required:!0},{name:"gender",type:"string",required:!0},{name:"firstName",type:"string",required:!1},{name:"lastName",type:"string",required:!1},{name:"salutation",type:"string",required:!1},{name:"position",type:"string",required:!1},{name:"departmentName",type:"string",required:!1},{name:"telephone",type:"string",required:!1},{name:"mobile",type:"string",required:!1},{name:"wechatId",type:"string",required:!1},{name:"email",type:"string"},{name:"fax",type:"string",required:!1},{name:"address",type:"id",required:!1},{name:"addressString",type:"string",required:!1},{name:"zipCode",type:"string",required:!1},{name:"isDefault",type:"string",required:!1},{name:"isFinance",type:"number",required:!1},{name:"isInquiry",type:"number",required:!1}],Ce=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.item=void 0,n.parent=void 0,n.contactData=void 0,n.loadContact=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i,l,u,o,p,m,d,f,h,v,b,y,g,x,w,k,E,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.uqs.rms.SupplierContact.load(t.id);case 2:return n.item=e.sent,e.next=5,n.controller.cApp.uqs.rms.Supplier.load(n.parent.id);case 5:n.parent=e.sent,r=n.parent,a=r.defaultContact,c=r.financeContact,i=r.inquiryContact,l=n.item,u=l.id,o=l.name,p=l.firstName,m=l.lastName,d=l.gender,f=l.salutation,h=l.position,v=l.departmentName,b=l.telephone,y=l.mobile,g=l.email,x=l.fax,w=l.zipCode,k=l.wechatId,E=l.addressString,j=l.address,n.contactData={name:o,firstName:p,lastName:m,gender:d,salutation:f,position:h,departmentName:v,telephone:b,mobile:y,email:g,fax:x,zipCode:w,wechatId:k,addressString:E,address:j,isDefault:void 0===a?0:a.id===u?1:0,isFinance:void 0===c?0:c.id===u?1:0,isInquiry:void 0===i?0:i.id===u?1:0};case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.uiSchema={items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u5fc5\u586b"},gender:{widget:"radio",label:"\u6027\u522b",list:[{value:"1",title:"\u7537"},{value:"0",title:"\u5973"}]},firstName:{widget:"text",label:"\u540d",placeholder:"\u540d",rules:D},lastName:{widget:"text",label:"\u59d3\u6c0f",placeholder:"\u59d3\u6c0f"},salutation:{widget:"radio",label:"\u79f0\u8c13",list:[{value:"Mr.",title:"Mr."},{value:"Ms.",title:"Ms."}]},position:{widget:"text",label:"\u804c\u4f4d",placeholder:"\u804c\u4f4d"},departmentName:{widget:"text",label:"\u90e8\u95e8\u540d\u79f0",placeholder:"\u90e8\u95e8\u540d\u79f0",rules:I},telephone:{widget:"text",label:"\u56fa\u5b9a\u7535\u8bdd",placeholder:"\u56fa\u5b9a\u7535\u8bdd",rules:C},mobile:{widget:"text",label:"\u624b\u673a\u53f7",placeholder:"\u624b\u673a\u53f7",rules:q},wechatId:{widget:"text",label:"\u5fae\u4fe1\u53f7",placeholder:"\u5fae\u4fe1\u53f7"},email:{widget:"text",label:"Email",placeholder:"Email",rules:P},fax:{widget:"text",label:"\u4f20\u771f",placeholder:"\u4f20\u771f",rules:S},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickAddress(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?Object(h.t)(e,(function(e){var t=e.country,n=e.province,a=e.city,c=e.county;return r.createElement(r.Fragment,null,void 0!==t&&void 0!==t.id&&Object(h.t)(t,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})),void 0!==n&&void 0!==n.id&&Object(h.t)(n,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})),void 0!==a&&void 0!==a.id&&Object(h.t)(a,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})),void 0!==c&&void 0!==c.id&&Object(h.t)(c,(function(e){return r.createElement(r.Fragment,null,e.chineseName)})))}),(function(){return r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):r.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",placeholder:"\u8be6\u7ec6\u5730\u5740",rules:F},zipCode:{widget:"text",label:"\u90ae\u7f16",placeholder:"\u90ae\u7f16",rules:A},isDefault:{widget:"radio",label:"\u8ba2\u5355\u8054\u7cfb\u4eba",list:[{value:1,title:"\u662f"},{value:0,title:"\u5426"}]},isFinance:{widget:"radio",label:"\u8d22\u52a1\u8054\u7cfb\u4eba",list:[{value:1,title:"\u662f"},{value:0,title:"\u5426"}]},isInquiry:{widget:"radio",label:"\u8be2\u4ef7\u8054\u7cfb\u4eba",list:[{value:1,title:"\u662f"},{value:0,title:"\u5426"}]}}},n.onContactDataChanged=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,n.item[c]=r,e.next=4,n.controller.updateContactData(n.item,n.parent);case 4:n.closePage(),n.controller.showSupplierContactDetail(n.item,n.parent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.onDelSupplierContact=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vCall(qe,n.item);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=8;break}return e.next=6,n.controller.delSupplierContact(n.item,n.parent);case 6:n.closePage(),n.controller.cApp.cSupplier.onSupplierSelected(n.parent);case 8:case 9:case"end":return e.stop()}}),e)}))),n.page=function(){var e;return void 0!==n.item&&(e=r.createElement("div",{className:"d-flex align-items-center"},r.createElement("div",null,r.createElement("span",{onClick:function(){return n.onDelSupplierContact()},className:"fa-stack"},r.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))))),r.createElement(h.k,{header:"\u4f9b\u5e94\u5546\u8054\u7cfb\u4eba\u8be6\u60c5",right:e,headerClassName:"py-1 bg-primary"},r.createElement(h.e,{schema:Ne,uiSchema:n.uiSchema,data:n.contactData,onItemChanged:n.onContactDataChanged}))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,r=t.parent,this.parent=r,e.next=4,this.loadContact(n);case 4:this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),qe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!0);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.onCancel=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!1);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.page=function(e){return r.createElement(h.k,{header:"\u5220\u9664\u8054\u7cfb\u4eba",back:"close",headerClassName:"bg-primary"},r.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},r.createElement("div",{className:"p-4 position-relative"},r.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),r.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u8054\u7cfb\u4eba\uff1f")),r.createElement("div",{className:"d-flex mt-3 justify-content-end"},r.createElement("button",{className:"btn btn-danger mr-3",onClick:n.onConfirm},"\u5220\u9664\u4f9b\u8054\u7cfb\u4eba"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:n.onCancel},"\u53d6\u6d88"))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Pe=(h.l,R=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"pageSupplierContact",z,Object(g.a)(n)),n.pickAddress=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(ke),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.showCreateSupplierContact=function(e){var t={parent:e,item:void 0,child:void 0};n.openVPage(Oe,t)},n.showEditSupplierContact=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isDefault=void 0!==r.defaultContact&&r.defaultContact.id===t.id,t.isFinance=void 0!==r.financeContact&&r.financeContact.id===t.id,t.isInquiry=void 0!==r.inquiryContact&&r.inquiryContact.id===t.id,a={parent:r,item:t,child:t},n.openVPage(Oe,a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showSupplierContactDetail=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={parent:r,item:t,child:t},n.openVPage(Ce,a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.saveSupplierContact=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c,i,l,u,o,p,m,d,f,h,v,b,y,g,x,w,k,E,j,O;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.name,i=r.firstName,l=r.lastName,u=r.gender,o=r.salutation,p=r.position,m=r.departmentName,d=r.telephone,f=r.mobile,h=r.email,v=r.fax,b=r.zipCode,y=r.wechatId,g=r.addressString,x=r.address,w=r.isDefault,k=r.isFinance,E=r.isInquiry,j={name:c,firstName:i,lastName:l,gender:u,salutation:o,departmentName:m,telephone:d,mobile:f,email:h,fax:v,zipCode:b,wechatId:y,addressString:g,address:x,supplier:a.id,isValid:1,position:p},e.next=4,n.uqs.rms.SupplierContact.save(t,j);case 4:return O=e.sent,void 0===t&&(t=O.id),void 0,!0===w&&(a.defaultContact=t),void 0,!0===k&&(a.financeContact=t),void 0,!0===E&&(a.inquiryContact=t),e.next=14,n.uqs.rms.Supplier.save(a.id,{no:a.no,name:a.name,abbreviation:a.abbreviation,webSite:a.webSite,address:a.address,addressString:a.addressString,productionAddress:a.productionAddress,profile:a.profile,taxNo:a.taxNo,isValid:1,defaultContact:a.defaultContact,financeContact:a.financeContact,inquiryContact:a.inquiryContact});case 14:n.cApp.cSupplier.onSupplierSelected(a),n.closePage();case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.updateContactData=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.isDefault,c=t.isFinance,i=t.inquiryid,e.next=3,n.uqs.rms.SupplierContact.save(t.id,t);case 3:return r.defaultContact=1===a?t:void 0,r.financeContact=1===c?t:void 0,r.inquiryContact=1===i?t:void 0,e.next=8,n.uqs.rms.Supplier.save(r.id,{no:r.no,name:r.name,abbreviation:r.abbreviation,webSite:r.webSite,address:r.address,addressString:r.addressString,productionAddress:r.productionAddress,profile:r.profile,taxNo:r.taxNo,isValid:1,defaultContact:r.defaultContact,financeContact:r.financeContact,inquiryContact:r.inquiryContact});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showSupplierContact=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.uqs.rms.SearchSupplierContact.query({_id:r});case 3:a=e.sent,c=a.ret.length>0?a.ret:void 0,i={parent:void 0,item:a.ret[0],child:c},n.openVPage(xe,i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.delSupplierContact=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,t.isValid=0,e.next=4,n.uqs.rms.SupplierContact.save(a,t);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),z=Object(E.a)(R.prototype,"pageSupplierContact",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R),Se=[{name:"id",type:"id",required:!1},{name:"supplier",type:"id",required:!0},{name:"brand",type:"id",required:!1},{name:"origin",type:"string",required:!1},{name:"description",type:"string",required:!0},{name:"descriptionC",type:"string",required:!1},{name:"purity",type:"string",required:!1},{name:"submit",type:"submit"}],Fe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.productData=void 0,n.model=n.controller.supplier,n.uiSchema={items:{id:{visible:!1},supplier:{widget:"id",label:"\u4f9b\u5e94\u5546",placeholder:"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546",defaultValue:n.model,pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n.model){e.next=4;break}e.t0=n.model,e.next=7;break;case 4:return e.next=6,n.controller.pickSupplier(t,r,a);case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546")}},brand:{widget:"id",label:"\u54c1\u724c",placeholder:"\u8bf7\u9009\u62e9\u54c1\u724c",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickBrand(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.no)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u54c1\u724c")}},origin:{widget:"text",label:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7",placeholder:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7"},description:{widget:"text",label:"\u82f1\u6587\u540d\u79f0",placeholder:"\u82f1\u6587\u540d\u79f0",defaultValue:n.controller.chemical.description},descriptionC:{widget:"text",label:"\u4e2d\u6587\u540d\u79f0",placeholder:"\u4e2d\u6587\u540d\u79f0",defaultValue:n.controller.chemical.descriptionC},purity:{widget:"text",label:"\u7eaf\u5ea6",placeholder:"\u7eaf\u5ea6"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},n.onFormButtonClick=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveProductData(r.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showChemicalData=function(){var e=n.controller.chemical,t=(e.no,e.CAS),a=(e.description,e.descriptoinCN,e.molecularFomula),c=e.molecularWeight;e.mdlNumber;return r.createElement("div",{className:"bg-white py-2"},r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"CAS:"),r.createElement("div",{className:"col-9 text-muted text-right"},void 0===t?"(\u65e0)":t)),void 0===a?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u5206\u5b50\u5f0f:"),r.createElement("div",{className:"col-9 text-muted text-right"},a))),void 0===c?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u5206\u5b50\u91cf:"),r.createElement("div",{className:"col-9 text-muted text-right"},c))))},n.page=function(){var e=N.a.clone(n.productData);return r.createElement(h.k,{header:"\u6dfb\u52a0\u4ea7\u54c1",headerClassName:"py-1 bg-primary"},n.showChemicalData(),r.createElement("div",{className:"App-container container text-left"},r.createElement(h.g,{ref:function(e){return n.form=e},className:"my-3",schema:Se,uiSchema:n.uiSchema,formData:e,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.productData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Ae=[{name:"description",type:"string",required:!0},{name:"descriptionC",type:"string",required:!1},{name:"purity",type:"string",required:!1}],Ie=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).product=void 0,n.firstPackage=void 0,n.packages=[],n.purityData=void 0,n.loadProduct=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.product=t,r=n.product,a=r.description,c=r.descriptionC,i=r.purity,n.purityData={description:a,descriptionC:c,purity:i};case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.uiSchema={items:{description:{widget:"text",label:"\u82f1\u6587\u540d\u79f0",placeholder:"\u82f1\u6587\u540d\u79f0"},descriptionC:{widget:"text",label:"\u4e2d\u6587\u540d\u79f0",placeholder:"\u4e2d\u6587\u540d\u79f0"},purity:{widget:"text",label:"\u7eaf\u5ea6",placeholder:"\u7eaf\u5ea6"}}},n.getPackage=function(){var e=n.controller.cApp.cPackage.showCreatePackage,t=n.controller.cApp.cNewPendingInquiry.onNewPendingInquiry,a=n.product,c=(a.supplier,void 0===a.inquiryContact?"":r.createElement("div",{className:" d-flex px-3 py-2"},r.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e(n.product)}},r.createElement("span",{className:"px-2"},r.createElement(h.f,{className:"text-warning px-1",name:"cube"}),r.createElement("b",null,"\u5305\xa0\u88c5")),r.createElement("span",{className:"px-2"},r.createElement(h.f,{name:"plus fa-1x"}))),r.createElement("div",{className:"flex-grow-1"}),r.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return t(n.product)}},r.createElement("span",{className:"px-2"},r.createElement(h.f,{className:"text-warning px-1",name:"filter"}),r.createElement("b",null,"\u8be2\xa0\u4ef7")),r.createElement("span",{className:"px-2"},r.createElement(h.f,{name:"plus fa-1x"})))));return r.createElement("div",null,c,r.createElement("div",null,n.firstPackage&&r.createElement(h.i,{items:n.packages,item:{render:n.renderPackage}})))},n.onDelPackage=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vCall(De,t);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=9;break}return e.next=6,n.controller.delPakage(t);case 6:return e.next=8,n.controller.loadList();case 8:n.closePage();case 9:case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderPackage=function(e,t){var a=n.controller.cApp.cPackage,c=(a.showEditPackage,a.showPackageDetail),i=(e.id,e.radiox),l=e.radioy,s=e.unit,u=e.type,o=e.price,p=e.currency,m=e.validUpto,d=e.minArriveDate,f=e.maxArriveDate,v=s.obj.name,b=(n.product.inquiryContact,1!==i?r.createElement(r.Fragment,null,i," * ",l,v):r.createElement(r.Fragment,null,l,v)),y=m<Date.now()?r.createElement("span",{className:"text-danger"},r.createElement(h.d,{date:m})):r.createElement("span",null,r.createElement(h.d,{date:m})),g=void 0===o?r.createElement("div",null):r.createElement("div",{className:"px-4 text-muted small"},r.createElement("span",null,"\xa0",o,Object(h.t)(p,(function(e){return r.createElement(r.Fragment,null,e.name)})),"\xa0"),y),x=void 0!==d?r.createElement("span",null,r.createElement(h.d,{date:d})):"",w=void 0!==f?r.createElement("span",null,"~",r.createElement(h.d,{date:f})):"",k=r.createElement("div",null,r.createElement("div",{className:"px-2 cursor-pointer text-danger text-right",onClick:function(){return n.onDelPackage(e)}},r.createElement(h.f,{name:"trash"}),r.createElement("div",{className:"text-muted small"},x,w))),E=r.createElement("div",{className:"px-2",onClick:function(){return c(e)}},r.createElement(h.f,{name:"cube",className:"px-2 text-primary"}),b," ",r.createElement("span",{className:"small"},1===u?"\u76ee\u5f55":"\u975e\u76ee\u5f55"),g);return r.createElement(h.h,{left:E,right:k,className:"py-2"})},n.rowTop=function(e){var t=n.product,a=t.no,c=t.supplier,i=t.brand,l=t.origin,s=(t.description,t.descriptionC,t.createTime,t.chemical,t.CAS),u=(t.purity,t.molecularFomula),o=t.molecularWeight,p=t.inquiryContact,m=c.obj,d=m.name,f=m.no,h=(m.id,void 0===i?void 0:i.obj.name);return r.createElement("div",{className:"bg-white py-2"},void 0===a?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-4"},"\u4ea7\u54c1\u7f16\u53f7:"),r.createElement("div",{className:"col-8 text-muted text-right"},a))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-4"},"\u4f9b\u5e94\u5546:"),r.createElement("div",{className:"col-8 text-muted text-right"},r.createElement("b",null,d," ",f))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-4"},"\u8be2\u4ef7\u8054\u7cfb\u4eba:"),r.createElement("div",{className:"col-8 text-muted text-right"},void 0===p?"[\u65e0]":p.obj.name)),void 0===h?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-4"},"\u54c1\u724c:"),r.createElement("div",{className:"col-8 text-muted text-right"},h))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-4"},"CAS:"),r.createElement("div",{className:"col-8 text-muted text-right"},s)),void 0===l?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-4"},"\u81ea\u7f16\u53f7:"),r.createElement("div",{className:"col-8 text-muted text-right"},l))),void 0===u?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-4"},"\u5206\u5b50\u5f0f:"),r.createElement("div",{className:"col-8 text-muted text-right"},u))),void 0===o?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-4"},"\u5206\u5b50\u91cf:"),r.createElement("div",{className:"col-8 text-muted text-right"},o))))},n.onPurityChanged=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,n.product[c]=r,e.next=4,n.controller.updateProductData(n.product);case 4:n.closePage(),n.controller.showProductDetail(n.product);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.onDelProduct=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vCall(Be,n.product);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=9;break}return e.next=6,n.controller.delProduct(n.product);case 6:return e.next=8,n.controller.loadList();case 8:n.closePage();case 9:case 10:case"end":return e.stop()}}),e)}))),n.page=function(){var e,t=N.a.clone(n.product);return void 0!==t.id&&(e=r.createElement("div",{className:"d-flex align-items-center"},r.createElement("div",null,r.createElement("span",{onClick:function(){return n.onDelProduct()},className:"fa-stack"},r.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))))),r.createElement(h.k,{header:"\u4ea7\u54c1\u8be6\u60c5",right:e,headerClassName:"py-1 bg-primary"},n.rowTop(t),r.createElement(h.e,{schema:Ae,uiSchema:n.uiSchema,data:n.purityData,onItemChanged:n.onPurityChanged}),n.getPackage())},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parent,r=t.item,a=t.child,e.next=3,this.loadProduct(n);case 3:this.firstPackage=r,this.packages=a,this.openPage(this.page);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),De=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!0);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.onCancel=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!1);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.page=function(e){return r.createElement(h.k,{header:"\u5220\u9664\u5305\u88c5",back:"close",headerClassName:"bg-primary"},r.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},r.createElement("div",{className:"p-4 position-relative"},r.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),r.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u5305\u88c5\uff1f")),r.createElement("div",{className:"d-flex mt-3 justify-content-end"},r.createElement("button",{className:"btn btn-danger mr-3",onClick:n.onConfirm},"\u5220\u9664\u5305\u88c5"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:n.onCancel},"\u53d6\u6d88"))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Be=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!0);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.onCancel=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!1);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.page=function(e){return r.createElement(h.k,{header:"\u5220\u9664\u4ea7\u54c1",back:"close",headerClassName:"bg-primary"},r.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},r.createElement("div",{className:"p-4 position-relative"},r.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),r.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u4ea7\u54c1\uff1f")),r.createElement("div",{className:"d-flex mt-3 justify-content-end"},r.createElement("button",{className:"btn btn-danger mr-3",onClick:n.onConfirm},"\u5220\u9664\u4ea7\u54c1"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:n.onCancel},"\u53d6\u6d88"))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Te=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).pickType=void 0,n.renderRootCategory=function(e,t){var a=e.no,c=e.description,i=(e.createTime,e.supplier),l=e.CAS,s=e.purity,u=n.controller.showProductDetail,o=void 0===l?r.createElement("b",null,"[\u65e0]"):r.createElement("b",null,l),p=void 0===s?"":r.createElement("b",null,s);return r.createElement(h.h,{className:"px-3 d-flex p-1 cursor-pointer"},r.createElement("div",{onClick:function(){return u(e)}},r.createElement("b",null,a),r.createElement("div",null,o,"\xa0\xa0",p),r.createElement("div",null,r.createElement("b",null,c)),r.createElement("div",{className:"py-1 text-muted"},Object(h.t)(i,(function(e){return r.createElement(r.Fragment,null,e.name)})))))},n.pickSelect=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vCall(Re);case 2:n.pickType=e.sent,n.closePage(),n.controller.start();case 5:case"end":return e.stop()}}),e)}))),n.page=Object(ye.a)((function(){var e=n.controller,t=e.products,a=(e.onNewProduct,e.searchProductByKey),c=e.pickChemical,i=r.createElement("div",{className:"d-flex align-items-center"},r.createElement("div",null,r.createElement("span",{onClick:function(){return n.pickSelect()},className:"fa-stack"},r.createElement("i",{className:"fa fa-filter fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}}))),r.createElement(h.m,{size:"sm",onSearch:function(e){return a(n.pickType,e)},placeholder:"\u8bf7\u8f93\u5165cas\u3001\u540d\u79f0\u5173\u952e\u5b57"}),r.createElement("div",null,r.createElement("span",{onClick:function(){return c()},className:"fa-stack"},r.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}})))),l=r.createElement("header",null,r.createElement("div",{className:"px-3"},"\u4ea7\u54c1")),s=void 0===n.pickType?"":r.createElement("div",{className:"text-muted small px-3 py-2"},"\u7b5b\u9009\u6761\u4ef6\uff1a",n.pickType);return r.createElement(h.k,{header:l,right:i,onScrollBottom:n.onScrollBottom,headerClassName:"py-1 bg-primary"},s,r.createElement(h.i,{items:t,item:{render:n.renderRootCategory}}))})),n.onScrollBottom=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.products.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.createElement(this.page,null)}}]),t}(h.p),Re=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.page=function(e){return r.createElement(h.k,{header:"\u7b5b\u9009\u7c7b\u578b",back:"close",headerClassName:"bg-primary"},r.createElement("div",{className:"d-flex mt-3 justify-content-end"},r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){return n.onConfirm(void 0)}},"\u53d6\u6d88"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){return n.onConfirm("\u4f9b\u5e94\u5546")}},"\u4f9b\u5e94\u5546"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){return n.onConfirm("\u4e2d\u82f1\u6587\u540d\u79f0")}},"\u4e2d\u82f1\u6587\u540d\u79f0"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){return n.onConfirm("CAS")}},"CAS")))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(h.p),ze=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=Object(ye.a)((function(){var e=n.controller,t=e.suppliers,a=e.searchSupplierByKey,c=r.createElement("div",{className:"d-flex align-items-center"},r.createElement(h.m,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}));return r.createElement(h.k,{header:"\u9009\u62e9\u4f9b\u5e94\u5546",right:c,onScrollBottom:n.onScrollBottom,headerClassName:"py-1 bg-primary"},r.createElement(h.i,{items:t,item:{render:n.renderItem,onClick:n.onClick}}))})),n.onScrollBottom=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.suppliers.more();case 2:case"end":return e.stop()}}),e)}))),n.onClick=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.returnSupplier(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderItem=function(e,t){var n=e.name;return r.createElement(h.h,{className:"py-2 border"},r.createElement("div",null,r.createElement(h.f,{name:"circle",className:"px-2 text-primary"}),n))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Ve=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchSupplier=void 0,n.firstSize=n.pageSize=14,n.searchSupplier=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchSupplier.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),Ue=(V=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"suppliers",U,Object(g.a)(n)),n.searchSupplierByKey=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.suppliers=new Ve(n.uqs.rms.SearchSupplier),n.suppliers.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.returnSupplier=function(e){n.returnCall(e)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t),this.openVPage(ze);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),U=Object(E.a)(V.prototype,"suppliers",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V),Le=[{name:"id",type:"id",required:!1},{name:"no",type:"string",required:!0},{name:"name",type:"string",required:!0},{name:"isValid",type:"boolean",required:!0},{name:"submit",type:"submit"}],Ke=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.brandData=void 0,n.uiSchema={items:{id:{visible:!1},no:{widget:"text",label:"\u54c1\u724c\u7f16\u53f7",placeholder:"\u5fc5\u586b"},name:{widget:"text",label:"\u54c1\u724c\u540d\u79f0",placeholder:"\u5fc5\u586b"},isValid:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},n.onFormButtonClick=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveBrandData(r.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=function(){var e=N.a.clone(n.brandData);return r.createElement(h.k,{header:"\u6dfb\u52a0\u54c1\u724c",headerClassName:"py-1 bg-primary"},r.createElement("div",{className:"App-container container text-left"},r.createElement(h.g,{ref:function(e){return n.form=e},className:"my-3",schema:Le,uiSchema:n.uiSchema,formData:e,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.brandData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),We=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=Object(ye.a)((function(){var e=n.controller,t=e.brands,a=e.searchBrandByKey,c=e.onNewBrand,i=r.createElement("div",{className:"d-flex align-items-center"},r.createElement(h.m,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),r.createElement("div",null,r.createElement("span",{onClick:function(){return c()},className:"fa-stack"},r.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}})))),l=r.createElement("header",null,r.createElement("div",null,"\u9009\u62e9\u54c1\u724c"));return r.createElement(h.k,{header:l,right:i,onScrollBottom:n.onScrollBottom,headerClassName:"py-1 bg-primary"},r.createElement(h.i,{items:t,item:{render:n.renderItem,onClick:n.onClick}}))})),n.onScrollBottom=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.brands.more();case 2:case"end":return e.stop()}}),e)}))),n.onClick=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.returnBrand(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderItem=function(e,t){var n=e.no,a=e.name;return r.createElement(h.h,{className:"py-2 border"},r.createElement("div",null,r.createElement(h.f,{name:"circle",className:"px-2 text-primary"}),n," - ",a))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Me=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchBrand=void 0,n.firstSize=n.pageSize=14,n.searchBrand=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchBrand.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),_e=(L=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"brands",K,Object(g.a)(n)),n.searchBrandByKey=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.brands=new Me(n.uqs.rms.SearchBrand),n.brands.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveBrandData=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=5;break}return e.next=3,n.uqs.rms.RsBrand.save(void 0,t);case 3:e.next=7;break;case 5:return e.next=7,n.uqs.rms.RsBrand.save(t.id,t);case 7:return n.closePage(),e.next=10,n.searchBrandByKey("");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewBrand=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(Ke,{description:void 0});case 1:case"end":return e.stop()}}),e)}))),n.onEditBrand=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(Ke,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.returnBrand=function(e){n.returnCall(e)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchBrandByKey(t),this.openVPage(We);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),K=Object(E.a)(L.prototype,"brands",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L),Ge=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchProduct=void 0,n.firstSize=n.pageSize=10,n.searchProduct=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchProduct.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),Je=(W=function(e){function t(){var e,n,a=this;Object(o.a)(this,t);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Object(k.a)(n,"products",M,Object(g.a)(n)),n.chemical=void 0,n.supplier=void 0,n.searchProductByKey=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.products=new Ge(n.uqs.rms.SearchProduct),n.products.first({key:r,pickType:t});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.pickSupplier=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(Ue),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.pickBrand=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(_e),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.pickChemical=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cChemical.call();case 2:e.sent;case 3:case"end":return e.stop()}}),e)}))),n.saveProductData=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=11;break}if(!n.chemical){e.next=11;break}return r=n.chemical,a=r.id,c=r.CAS,r.description,r.descriptoinCN,i=r.molecularFomula,l=r.molecularWeight,t.createTime=Date.now(),t.isTrue=1,t.inquiryContact=void 0,e.next=8,n.uqs.rms.Product.save(void 0,t);case 8:return u=e.sent,e.next=11,n.uqs.rms.RsProductChemical.add({product:u.id,arr1:[{chemical:a,CAS:c,molecularFomula:i,molecularWeight:l,purity:t.purity}]});case 11:return n.closePage(),e.next=14,n.loadList();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateProductData=function(){var e=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return t.isTrue=1,r=t.chemical,e.next=5,n.uqs.rms.Product.save(t.id,t);case 5:return e.next=7,n.uqs.rms.RsProductChemical.add({product:t.id,arr1:[{chemical:r.id,CAS:t.CAS,molecularFomula:t.molecularFomula,molecularWeight:t.molecularWeight,purity:t.purity}]});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewProduct=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.chemical=t,n.supplier=r,n.openVPage(Fe,{product:void 0});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showProductDetail=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.uqs.rms.GetPack.query({_id:r});case 3:a=e.sent,c={parent:t,item:a.ret[0],child:a.ret},n.openVPage(Ie,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchProductByKey("","\u674e");case 2:case"end":return e.stop()}}),e)}))),n.render=Object(ye.a)((function(){return n.renderView(Te)})),n.tab=function(){return r.createElement(a.render,null)},n.delProduct=function(){var e=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,t.isTrue=0,e.next=4,n.uqs.rms.Product.save(r,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.delPakage=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.product,c={radiox:t.radiox,radioy:t.radioy,unit:t.unit,type:t.type,isValid:0},e.next=4,n.uqs.rms.Product.saveArr("Pack",a.id,r,c);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchProductByKey("",t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),M=Object(E.a)(W.prototype,"products",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W),Qe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=Object(ye.a)((function(){var e=n.controller,t=e.chemicals,a=e.searchChemicalByKey,c=r.createElement("div",{className:"d-flex align-items-center"},r.createElement(h.m,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165CAS\u3001\u540d\u79f0\u5173\u952e\u5b57"}));return r.createElement(h.k,{header:"\u9009\u62e9\u6807\u51c6\u5e93",right:c,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},r.createElement(h.i,{items:t,item:{render:n.renderItem}}))})),n.onScrollBottom=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.chemicals.more();case 2:case"end":return e.stop()}}),e)}))),n.renderItem=function(e,t){var a=e.CAS,c=e.description,i=n.controller.supplier,l=n.controller.cApp.cProduct.onNewProduct;return r.createElement(h.h,{className:"py-2 border",onClick:function(){return l(e,i)}},r.createElement("div",null,r.createElement(h.f,{name:"circle",className:"px-2 text-primary"}),"CAS\uff1a",a),r.createElement("div",{className:"px-4 text-muted small"},c))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),$e=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchChemical=void 0,n.firstSize=n.pageSize=14,n.searchChemical=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchChemical.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),He=(_=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"chemicals",G,Object(g.a)(n)),Object(k.a)(n,"supplier",J,Object(g.a)(n)),n.searchChemicalByKey=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.chemicals=new $e(n.uqs.chemical.SearchChemical),n.chemicals.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplier=t,this.searchChemicalByKey(""),this.openVPage(Qe);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),G=Object(E.a)(_.prototype,"chemicals",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=Object(E.a)(_.prototype,"supplier",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_),Xe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.item=void 0,n.parent=void 0,n.schema=[{name:"quantity",type:"number",required:!0},{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"id",required:!0},{name:"type",type:"string",required:!0},{name:"listPrice",type:"number",required:!1},{name:"price",type:"number",required:!0},{name:"currency",type:"id",required:!0},{name:"isTaxIn",type:"number",required:!0},{name:"isTransFeeIn",type:"number",required:!0},{name:"transFee",type:"number",required:!1},{name:"transFeecurrency",type:"id",required:!1},{name:"packingFee",type:"number",required:!1},{name:"packingcurrency",type:"id",required:!1},{name:"otherFee",type:"number",required:!1},{name:"otherFeecurrency",type:"id",required:!1},{name:"customizeUpto",type:"date",required:!1},{name:"validUpto",type:"date",required:!0},{name:"minArriveDate",type:"date",required:!0},{name:"maxArriveDate",type:"date",required:!0},{name:"invoiceType",type:"number",required:!0},{name:"vatRate",type:"id",required:!1},{name:"tariffRate",type:"number",required:!1},{name:"submit",type:"submit"}],n.uiSchema={items:{quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"id",label:"\u5305\u88c5\u5355\u4f4d",placeholder:"\u5305\u88c5\u5355\u4f4d",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickPackUnit(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u5355\u4f4d")}},type:{widget:"radio",label:"\u7c7b\u578b",list:[{value:1,title:"\u76ee\u5f55\u5305\u88c5"},{value:2,title:"\u975e\u76ee\u5f55\u5305\u88c5"}]},listPrice:{widget:"text",label:"\u76ee\u5f55\u4ef7",placeholder:"\u76ee\u5f55\u4ef7"},price:{widget:"text",label:"\u7ed3\u7b97\u4ef7",placeholder:"\u5fc5\u586b"},currency:{widget:"id",label:"\u7ed3\u7b97\u5e01\u79cd",placeholder:"\u7ed3\u7b97\u5e01\u79cd",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.cPendingInquiry.pickCurrency(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u7ed3\u7b97\u5e01\u79cd")}},isTaxIn:{widget:"radio",label:"\u542b\u7a0e\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},isTransFeeIn:{widget:"radio",label:"\u542b\u8fd0\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},transFee:{widget:"text",label:"\u8fd0\u8d39",placeholder:"\u8fd0\u8d39"},transFeecurrency:{widget:"id",label:"\u8fd0\u8d39\u5e01\u79cd",placeholder:"\u8fd0\u8d39\u5e01\u79cd",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.cPendingInquiry.pickCurrency(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u8fd0\u8d39\u5e01\u79cd")}},packingFee:{widget:"text",label:"\u5305\u88c5\u8d39",placeholder:"\u5305\u88c5\u8d39"},packingcurrency:{widget:"id",label:"\u5305\u88c5\u8d39\u5e01\u79cd",placeholder:"\u5305\u88c5\u8d39\u5e01\u79cd",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.cPendingInquiry.pickCurrency(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u8d39\u5e01\u79cd")}},otherFee:{widget:"text",label:"\u5176\u4ed6\u8d39",placeholder:"\u5176\u4ed6\u8d39"},otherFeecurrency:{widget:"id",label:"\u5176\u4ed6\u8d39\u5e01\u79cd",placeholder:"\u5176\u4ed6\u8d39\u5e01\u79cd",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.cPendingInquiry.pickCurrency(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5176\u4ed6\u8d39\u5e01\u79cd")}},customizeUpto:{widget:"date",label:"\u5b9a\u5236\u622a\u6b62\u65e5\u671f"},validUpto:{widget:"date",label:"\u62a5\u4ef7\u6709\u6548\u671f",placeholder:"\u5fc5\u586b"},minArriveDate:{widget:"date",label:"\u6700\u77ed\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},maxArriveDate:{widget:"date",label:"\u6700\u957f\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},invoiceType:{widget:"radio",label:"\u53d1\u7968\u7c7b\u578b",list:[{value:"1",title:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968"},{value:"2",title:"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968"},{value:"3",title:"\u5f62\u5f0f\u53d1\u7968"}]},vatRate:{widget:"id",label:"\u589e\u503c\u7a0e\u7387",placeholder:"\u589e\u503c\u7a0e\u7387",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickVatRate(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.description)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u589e\u503c\u7a0e\u7387")}},tariffRate:{widget:"text",label:"\u5173\u7a0e\u7a0e\u7387",placeholder:"\u5173\u7a0e\u7a0e\u7387"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},n.onFormButtonClick=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.controller.savePackage,c=n.item&&n.item.id,e.next=4,a(c,r.form.data,n.parent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=Object(ye.a)((function(){return r.createElement(h.k,{header:"\u7f16\u8f91\u5305\u88c5",headerClassName:"bg-primary"},r.createElement("div",{className:"App-container container text-left"},r.createElement(h.g,{ref:function(e){return n.form=e},className:"my-3",formData:n.item,schema:n.schema,uiSchema:n.uiSchema,onButtonClick:n.onFormButtonClick,requiredFlag:!0})))})),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.item,r=t.parent,this.item=n,this.parent=r,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Ye=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).package=void 0,n.page=function(){var e=N.a.clone(n.package),t=e.radiox,a=e.radioy,c=e.unit,i=e.type,l=e.listPrice,s=e.price,u=e.currency,o=e.isTaxIn,p=e.isTransFeeIn,m=e.transFee,d=e.transFeecurrency,f=e.packingFee,v=e.packingcurrency,b=e.otherFee,y=e.otherFeecurrency,g=e.customizeUpto,x=e.validUpto,w=e.minArriveDate,k=e.maxArriveDate,E=e.invoiceType,j=e.vatRate,O=e.tariffRate,C=c.obj.name,q=1!==t?r.createElement(r.Fragment,null,t," * ",a,C):r.createElement(r.Fragment,null,a,C),P=r.createElement("header",null,r.createElement("span",null,"\u5305\u88c5\u8be6\u60c5: ",q));return r.createElement(h.k,{header:P,headerClassName:"py-1 bg-primary"},r.createElement("div",null,r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5305\u88c5\u7c7b\u578b:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===i?"\u76ee\u5f55\u5305\u88c5":2===i?"\u975e\u76ee\u5f55\u5305\u88c5":"")),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u76ee\u5f55\u4ef7:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},l,void 0===u?"":Object(h.t)(u,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u7ed3\u7b97\u4ef7:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},s,void 0===u?"":Object(h.t)(u,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u542b\u7a0e\u8d39:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===o?"\u542b":0===o?"\u4e0d\u542b":"")),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u542b\u8fd0\u8d39:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===p?"\u542b":0===p?"\u4e0d\u542b":"")),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u8fd0\u8d39:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},m,void 0===d?"":Object(h.t)(d,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5305\u88c5\u8d39:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},f,void 0===v?"":Object(h.t)(v,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5176\u4ed6\u8d39\u7528:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},b,void 0===y?"":Object(h.t)(y,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5b9a\u5236\u65f6\u95f4\u81f3:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},r.createElement(h.d,{date:g}))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u6709\u6548\u671f\u81f3:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},r.createElement(h.d,{date:x}))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u6700\u77ed\u8d27\u671f\u81f3:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},r.createElement(h.d,{date:w}))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u6700\u957f\u8d27\u671f\u81f3:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},r.createElement(h.d,{date:k}))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u53d1\u7968\u7c7b\u578b:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},void 0===E?"":1===E.id?"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968":2===E.id?"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968":"\u5f62\u5f0f\u53d1\u7968")),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u589e\u503c\u7a0e\u7387:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},j)),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5173\u7a0e\u7a0e\u7387:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},O))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.package=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Ze=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=function(){var e=n.controller.vatRates;return r.createElement(h.k,{header:"\u9009\u62e9\u589e\u503c\u7a0e\u7387"},r.createElement("div",{className:"row no-gutters"},e.map((function(e){return n.renderVatRate(e,n.onVatRateClick)}))))},n.renderVatRate=function(e,t){var a=e.id,c=e.description;return r.createElement("div",{key:a,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},r.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return n.onVatRateClick(e)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},r.createElement("span",{className:"ml-1 align-middle"},r.createElement(h.f,{name:"chevron-right",className:"text-info small"}),"\xa0 ",c)))},n.onVatRateClick=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.returnVatRate(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),et=(Q=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"vatRates",$,Object(g.a)(n)),n.returnVatRate=function(e){n.returnCall(e)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.rms.SearchVatRate.query("");case 2:t=e.sent,this.vatRates=t.ret,this.openVPage(Ze);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),$=Object(E.a)(Q.prototype,"vatRates",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q),tt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=function(){var e=n.controller.packUnits;return r.createElement(h.k,{header:"\u9009\u62e9\u5305\u88c5\u5355\u4f4d"},r.createElement("div",{className:"row no-gutters"},e.map((function(e){return n.renderPackUnit(e,n.onPackUnitClick)}))))},n.renderPackUnit=function(e,t){var a=e.id,c=e.name;return r.createElement("div",{key:a,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},r.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return n.onPackUnitClick(e)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},r.createElement("span",{className:"ml-1 align-middle"},r.createElement(h.f,{name:"chevron-right",className:"text-info small"}),"\xa0 ",c)))},n.onPackUnitClick=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.returnPackUnit(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),nt=(H=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"packUnits",X,Object(g.a)(n)),n.returnPackUnit=function(e){n.returnCall(e)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.common.PackType.search("",0,100);case 2:this.packUnits=e.sent,this.openVPage(tt);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),X=Object(E.a)(H.prototype,"packUnits",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H),rt=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchPackage=void 0,n.firstSize=n.pageSize=14,n.searchPackage=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchPackage.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),at=(Y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"pagePackage",Z,Object(g.a)(n)),n.searchPackageByKey=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=rt,e.next=3,n.uqs.rms.GetPack.query({_id:t.id});case 3:e.t1=e.sent,n.pagePackage=new e.t0(e.t1),n.pagePackage.first({key:r});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.pickVatRate=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(et),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.pickPackUnit=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(nt),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.showCreatePackage=function(e){var t={parent:e,item:void 0,child:void 0};n.openVPage(Xe,t)},n.showEditPackage=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={parent:t,item:r,child:r},n.openVPage(Xe,a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showPackageDetail=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(Ye,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.savePackage=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c,i,l,u,o,p,m,d,f,h,v,b,y,g,x,w,k,E,j,O,N,C,q,P;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.quantity,i=r.radiox,l=r.radioy,u=r.unit,o=r.listPrice,p=r.price,m=r.currency,d=r.isTaxIn,f=r.isTransFeeIn,h=r.transFee,v=r.transFeecurrency,b=r.packingFee,y=r.packingcurrency,g=r.otherFee,x=r.otherFeecurrency,w=r.customizeUpto,k=r.validUpto,E=r.minArriveDate,j=r.maxArriveDate,O=r.invoiceType,N=r.vatRate,C=r.tariffRate,q=r.type,P={product:a,quantity:c,radiox:i,radioy:l,unit:u,listPrice:o,price:p,currency:m,isTaxIn:d,isTransFeeIn:f,transFee:h,transFeecurrency:v,packingFee:b,packingcurrency:y,otherFee:g,otherFeecurrency:x,customizeUpto:w,validUpto:k,minArriveDate:E,maxArriveDate:j,invoiceType:O,vatRate:N,tariffRate:C,type:q},e.next=4,n.uqs.rms.AddPackage.submit(P);case 4:n.cApp.cProduct.showProductDetail(a),n.closePage();case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.loadList=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cSupplier.onSupplierSelected(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showPackage=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.uqs.rms.GetPack.query({_id:r});case 3:a=e.sent,c=a.ret.length>0?a.ret:void 0,i={parent:void 0,item:a.ret[0],child:c},n.openVPage(Ie,i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),Z=Object(E.a)(Y.prototype,"pagePackage",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y),ct=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=Object(ye.a)((function(){var e=n.controller,t=e.products,a=e.searchProductByKey,c=n.controller.cApp.cNewPendingInquiry.onNewPendingInquiry,i=r.createElement("div",{className:"d-flex align-items-center"},r.createElement(h.m,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}));return r.createElement(h.k,{header:"\u9009\u62e9\u4ea7\u54c1",right:i,onScrollBottom:n.onScrollBottom,headerClassName:"py-1 bg-primary"},r.createElement(h.i,{items:t,item:{render:n.renderItem,onClick:c}}))})),n.onScrollBottom=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.products.more();case 2:case"end":return e.stop()}}),e)}))),n.renderItem=function(e,t){var n=e.CAS,a=e.description,c=e.supplier;return r.createElement(h.h,{className:"py-2 border"},r.createElement("div",null,r.createElement(h.f,{name:"circle",className:"px-2 text-primary"}),n),r.createElement("div",{className:"px-4 text-muted small"},a),r.createElement("div",{className:"px-4 text-muted small"},Object(h.t)(c,(function(e){return r.createElement(r.Fragment,null,e.name)}))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),it=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchProduct=void 0,n.firstSize=n.pageSize=14,n.searchProduct=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchProduct.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),lt=(ee=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"products",te,Object(g.a)(n)),n.searchProductByKey=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.products=new it(n.uqs.rms.SearchProduct),n.products.first({key:t,pickType:void 0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchProductByKey(t),this.openVPage(ct);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),te=Object(E.a)(ee.prototype,"products",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee),st=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderRootCategory=function(e,t){var a=e.supplier,c=e.inquiryDate,i=n.controller.onShowPendingInquiryDetail,l=r.createElement("div",{className:"cursor-pointer text-muted"},r.createElement(h.d,{date:c})),s=r.createElement("div",null,r.createElement("b",null,Object(h.t)(a,(function(e){return r.createElement(r.Fragment,null,e.name)}))));return r.createElement(h.h,{left:s,right:l,className:"px-3 d-flex p-1 cursor-pointer",onClick:function(){return i(e)}})},n.page=Object(ye.a)((function(){var e=n.controller,t=e.pendingInquirys,a=e.searchPendingInquiryByKey,c=r.createElement("div",{className:"d-flex align-items-center"},r.createElement(h.m,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"})),i=r.createElement("header",null,r.createElement("div",{className:"px-3"},"\u5df2\u8be2\u51fa"));return r.createElement(h.k,{header:i,right:c,onScrollBottom:n.onScrollBottom,headerClassName:"py-1 bg-primary"},r.createElement(h.i,{items:t,item:{render:n.renderRootCategory}}))})),n.onScrollBottom=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pendingInquirys.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.createElement(this.page,null)}}]),t}(h.p),ut=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).pending=void 0,n.firstPackage=void 0,n.packages=[],n.model=void 0,n.getPackage=function(){return r.createElement("div",null,n.firstPackage&&r.createElement(h.i,{items:n.packages,item:{render:n.renderPackage}}))},n.renderPackage=function(e,t){e.id,e.inquiryPackage,e.user,e.createDate;var a=e.product,c=e.quantity,i=e.radiox,l=e.radioy,s=e.unit,u=e.CAS,o=(e.purity,e.inquiryRemarks),p=a.obj,m=p.brand,d=p.description,f=(p.descriptionC,s.obj.name),v=1!==i?r.createElement(r.Fragment,null,i," * ",l,f):r.createElement(r.Fragment,null,l,f),b=(void 0===m||m.obj.name,r.createElement("div",{className:"px-2 text-muted text-right"},r.createElement("span",null,r.createElement(h.f,{className:"align-middle p-2 cursor-pointer text-info",name:"edit"}))));return r.createElement(h.h,{right:b,className:"p-1 d-flex cursor-pointer",onClick:function(){return n.controller.openPendingInquiryResult(e)}},r.createElement("div",null,r.createElement(h.f,{name:"caret-right",className:"px-2 text-primary"}),u,"\xa0\xa0",c," * ",v),r.createElement("div",{className:"px-4 text-muted"},d),r.createElement("div",{className:"px-4 text-muted"},r.createElement("span",{className:"text-muted small"},o)))},n.rowEnd=function(){return n.firstPackage&&r.createElement("div",null,r.createElement("div",{className:"text-center py-2"},r.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return n.onEndInquiry()}},r.createElement("span",{className:"px-2"},r.createElement(h.f,{className:"text-warning px-1",name:"user"}),r.createElement("b",null,"\u5b8c\u7ed3\u8be2\u4ef7")),r.createElement("span",{className:"px-2"},r.createElement(h.f,{name:"chevron-right fa-1x"})))))},n.onEndInquiry=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vCall(ot,n.pending);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=9;break}return e.next=6,n.controller.saveInquiryData(n.pending,n.packages);case 6:return e.next=8,n.controller.loadList();case 8:n.closePage();case 9:case 10:case"end":return e.stop()}}),e)}))),n.rowTop=function(e){var t=e.supplier,n=e.contactName,a=(e.contactSalutation,e.contactDepartmentName,e.contactTelephone),c=e.contactMobile,i=e.contactEmail,l=(e.contactfax,e.way),s=e.inquiryUser,u=e.inquiryDate,o=e.user,p=e.date,m=(e.remarks,o.id),d=s.id;return r.createElement("div",{className:"bg-white py-2"},r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u4f9b\u5e94\u5546:"),r.createElement("div",{className:"col-9"},r.createElement("b",null,Object(h.t)(t,(function(e){return r.createElement(r.Fragment,null,e.name)}))))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u8054\u7cfb\u4eba:"),r.createElement("div",{className:"col-9"},r.createElement("span",null,n,"\xa0",a," ",c," ",i))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u521b\u5efa\u4eba:"),r.createElement("div",{className:"col-9"},m,"\xa0",r.createElement(h.d,{date:p}))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u8be2\u4ef7\u4eba:"),r.createElement("div",{className:"col-9"},d,"\xa0",1===l?"Email\u8be2\u4ef7":2===l?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7"," ",r.createElement(h.d,{date:u}))))},n.page=function(){var e=N.a.clone(n.pending);return r.createElement(h.k,{header:"\u8be2\u4ef7\u8be6\u60c5",headerClassName:"py-1 bg-primary"},n.rowTop(e),n.rowEnd(),n.getPackage())},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.model=t,n=t.parent,r=t.item,a=t.child,this.pending=n,this.firstPackage=r,this.packages=a,this.openPage(this.page);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),ot=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!0);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.onCancel=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!1);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.page=function(e){return r.createElement(h.k,{header:"\u5b8c\u7ed3\u8be2\u5355",back:"close",headerClassName:"bg-primary"},r.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},r.createElement("div",{className:"p-4 position-relative"},r.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),r.createElement("b",{className:""},"\u662f\u5426\u5b8c\u7ed3\u8be2\u5355\uff1f")),r.createElement("div",{className:"d-flex mt-3 justify-content-end"},r.createElement("button",{className:"btn btn-danger mr-3",onClick:n.onConfirm},"\u5b8c\u7ed3"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:n.onCancel},"\u53d6\u6d88"))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),pt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=function(){var e=n.controller.currencys;return r.createElement(h.k,{header:"\u9009\u62e9\u5e01\u79cd"},r.createElement("div",{className:"row no-gutters"},e.map((function(e){return n.renderCurrency(e,n.onCurrencyClick)}))))},n.renderCurrency=function(e,t){var a=e.id,c=e.name;return r.createElement("div",{key:a,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},r.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return n.onCurrencyClick(e)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},r.createElement("span",{className:"ml-1 align-middle"},r.createElement(h.f,{name:"chevron-right",className:"text-info small"}),"\xa0 ",c)))},n.onCurrencyClick=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.returnCurrency(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),mt=(ne=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"currencys",re,Object(g.a)(n)),n.returnCurrency=function(e){n.returnCall(e)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.common.Currency.search("",0,100);case 2:this.currencys=e.sent,this.openVPage(pt);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),re=Object(E.a)(ne.prototype,"currencys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne),dt=[{name:"id",type:"id",required:!1},{name:"quantity",type:"number",required:!0},{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"id",required:!0},{name:"listPrice",type:"number",required:!1},{name:"price",type:"number",required:!0},{name:"currency",type:"id",required:!0},{name:"isTaxIn",type:"number",required:!0},{name:"isTransFeeIn",type:"number",required:!0},{name:"transFee",type:"number",required:!1},{name:"transFeecurrency",type:"id",required:!1},{name:"packingFee",type:"number",required:!1},{name:"packingcurrency",type:"id",required:!1},{name:"otherFee",type:"number",required:!1},{name:"otherFeecurrency",type:"id",required:!1},{name:"customizeUpto",type:"date",required:!1},{name:"validUpto",type:"date",required:!0},{name:"minArriveDate",type:"date",required:!0},{name:"maxArriveDate",type:"date",required:!0},{name:"invoiceType",type:"number",required:!0},{name:"vatRate",type:"id",required:!1},{name:"tariffRate",type:"number",required:!1},{name:"packType",type:"number",required:!0},{name:"remarks",type:"string",required:!1},{name:"coaFilePath",type:"string",required:!1},{name:"msdsFilePath",type:"string",required:!1},{name:"quotationFilePath",type:"string",required:!1},{name:"result",type:"number",required:!0},{name:"submit",type:"submit"}],ft=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.inquiryData=void 0,n.uiSchema={items:{id:{visible:!1},quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"id",label:"\u5305\u88c5\u5355\u4f4d",placeholder:"\u5305\u88c5\u5355\u4f4d",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.cPackage.pickPackUnit(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u5355\u4f4d")}},listPrice:{widget:"text",label:"\u76ee\u5f55\u4ef7",placeholder:"\u76ee\u5f55\u4ef7"},price:{widget:"text",label:"\u7ed3\u7b97\u4ef7",placeholder:"\u5fc5\u586b"},currency:{widget:"id",label:"\u7ed3\u7b97\u5e01\u79cd",placeholder:"\u7ed3\u7b97\u5e01\u79cd",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickCurrency(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u7ed3\u7b97\u5e01\u79cd")}},isTaxIn:{widget:"radio",label:"\u542b\u7a0e\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},isTransFeeIn:{widget:"radio",label:"\u542b\u8fd0\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},transFee:{widget:"text",label:"\u8fd0\u8d39",placeholder:"\u8fd0\u8d39"},transFeecurrency:{widget:"id",label:"\u8fd0\u8d39\u5e01\u79cd",placeholder:"\u8fd0\u8d39\u5e01\u79cd",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickCurrency(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u8fd0\u8d39\u5e01\u79cd")}},packingFee:{widget:"text",label:"\u5305\u88c5\u8d39",placeholder:"\u5305\u88c5\u8d39"},packingcurrency:{widget:"id",label:"\u5305\u88c5\u8d39\u5e01\u79cd",placeholder:"\u5305\u88c5\u8d39\u5e01\u79cd",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickCurrency(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u8d39\u5e01\u79cd")}},otherFee:{widget:"text",label:"\u5176\u4ed6\u8d39",placeholder:"\u5176\u4ed6\u8d39"},otherFeecurrency:{widget:"id",label:"\u5176\u4ed6\u8d39\u5e01\u79cd",placeholder:"\u5176\u4ed6\u8d39\u5e01\u79cd",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickCurrency(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5176\u4ed6\u8d39\u5e01\u79cd")}},customizeUpto:{widget:"date",label:"\u5b9a\u5236\u622a\u6b62\u65e5\u671f"},validUpto:{widget:"date",label:"\u62a5\u4ef7\u6709\u6548\u671f",placeholder:"\u5fc5\u586b"},minArriveDate:{widget:"date",label:"\u6700\u77ed\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},maxArriveDate:{widget:"date",label:"\u6700\u957f\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},invoiceType:{widget:"radio",label:"\u53d1\u7968\u7c7b\u578b",list:[{value:"1",title:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968"},{value:"2",title:"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968"},{value:"3",title:"\u5f62\u5f0f\u53d1\u7968"}]},vatRate:{widget:"id",label:"\u589e\u503c\u7a0e\u7387",placeholder:"\u589e\u503c\u7a0e\u7387",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.cPackage.pickVatRate(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.description)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u589e\u503c\u7a0e\u7387")}},tariffRate:{widget:"text",label:"\u5173\u7a0e\u7a0e\u7387",placeholder:"\u5173\u7a0e\u7a0e\u7387"},packType:{widget:"radio",label:"\u5305\u88c5\u7c7b\u578b",list:[{value:"1",title:"\u76ee\u5f55\u5305\u88c5"},{value:"2",title:"\u975e\u76ee\u5f55\u5305\u88c5"}]},remarks:{widget:"text",label:"\u5907\u6ce8",row:10,placeholder:"\u5907\u6ce8"},coaFilePath:{widget:"text",label:"COA\u6587\u4ef6\u8def\u5f84",placeholder:"COA\u6587\u4ef6\u8def\u5f84"},msdsFilePath:{widget:"text",label:"MSOS\u6587\u4ef6\u8def\u5f84",placeholder:"MSOS\u6587\u4ef6\u8def\u5f84"},quotationFilePath:{widget:"text",label:"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84",placeholder:"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84"},result:{widget:"radio",label:"\u8be2\u4ef7\u7ed3\u679c",list:[{value:"1",title:"\u6b63\u5e38\u8be2\u4ef7\u6709\u7ed3\u679c"},{value:"2",title:"\u4f9b\u5e94\u5546\u65e0\u56de\u590d"},{value:"3",title:"\u4f9b\u5e94\u5546\u6709\u56de\u590d,\u4f46\u65e0\u4ef7\u683c"}]},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},n.onFormButtonClick=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveInquiryPackage(r.form.data,n.inquiryData);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=function(){var e=N.a.clone(n.inquiryData);return r.createElement(h.k,{header:"\u5f55\u5165\u8be2\u4ef7\u7ed3\u679c",headerClassName:"py-1 bg-primary"},r.createElement("div",{className:"App-container container text-left"},r.createElement(h.g,{ref:function(e){return n.form=e},className:"my-3",schema:dt,uiSchema:n.uiSchema,formData:e,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.inquiryData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),ht=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchPendingInquiry=void 0,n.firstSize=n.pageSize=14,n.searchPendingInquiry=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchPendingInquiry.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),vt=(ae=function(e){function t(){var e,n,a=this;Object(o.a)(this,t);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Object(k.a)(n,"pendingInquirys",ce,Object(g.a)(n)),Object(k.a)(n,"pendingInquiryList",ie,Object(g.a)(n)),n.product=void 0,n.searchPendingInquiryByKey=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.pendingInquirys=new ht(n.uqs.rms.SearchInquiryPending),n.pendingInquirys.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.savePendingInquiryData=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i,l,u,o,p,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=8;break}if(!n.product){e.next=8;break}return r=n.product,a=r.id,c=r.supplier,i=c.id,l=t.quantity,u=t.radiox,o=t.radioy,p=t.unit,m={supplier:i,product:a,quantity:l,radiox:u,radioy:o,unit:p},e.next=8,n.uqs.rms.AddInquiryPending.submit(m);case 8:return n.closePage(),e.next=11,n.loadList();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getDataForSave=function(e,t){var n=e.contact,r=e.contactName,a=e.contactSalutation,c=e.contactDepartmentName,i=e.contactTelephone,l=e.contactMobile,s=e.contactEmail,u=e.contactfax,o=e.user,p=e.date,m=e.inquiryDate,d=e.inquiryUser,f=e.supplier,h=e.way,v=[];return t.forEach((function(e){if(void 0!==e.jsonStr){var t=JSON.parse(e.jsonStr);v.push({no:void 0,product:e.product,inquiryQuantity:e.quantity,inquiryRadiox:e.radiox,inquiryRadioy:e.radioy,inquiryUnit:e.unit,itemuser:e.user,itemcreateDate:e.createDate,quantity:t.quantity,radiox:t.radiox,radioy:t.radioy,unit:t.unit,listPrice:t.listPrice,price:t.price,currency:t.currency,isTaxIn:t.isTaxIn,isTransFeeIn:t.isTransFeeIn,transFee:t.transFee,transFeecurrency:t.transFeecurrency,packingFee:t.packingFee,packingcurrency:t.packingcurrency,otherFee:t.otherFee,otherFeecurrency:t.otherFeecurrency,customizeUpto:t.customizeUpto,validUpto:t.validUpto,minArriveDate:t.minArriveDate,maxArriveDate:t.maxArriveDate,invoiceType:t.invoiceType,vatRate:t.vatRate,tariffRate:t.tariffRate,packType:t.packType,coaFilePath:t.coaFilePath,msdsFilePath:t.msdsFilePath,quotationFilePath:t.quotationFilePath,inquiryRemarks:t.remarks,remarks:e.inquiryRemarks,result:t.result})}})),{supplier:f,contact:n,contactName:r,contactSalutation:a,contactDepartmentName:c,contactTelephone:i,contactMobile:l,contactEmail:s,contactfax:u,way:h,user:o,createDate:p,inquiryUser:d,inquiryDate:m,inquiryitems:v}},n.saveInquiryData=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.InquirySheet.save("InquirySheet",n.getDataForSave(t,r));case 3:return c=e.sent,e.next=6,n.uqs.rms.InquirySheet.action(c.id,c.flow,c.state,"submit");case 6:if(!c){e.next=10;break}return i={id:a},e.next=10,n.uqs.rms.DeleteInquiryPending.submit(i);case 10:return n.closePage(),e.next=13,n.loadList();case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.saveInquiryPackage=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,c,i,l,u,o,p,m,d,f,h,v,b,y,g,x,w,k,E,j,O,N,C,q,P,S,F,A,I,D,B,T,R,z;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=10;break}return a=r.id,c=r.inquiryPackage,i=r.user,l=r.createDate,u=r.inquiryRemarks,r.jsonStr,o=c.obj.product,JSON.stringify(t),e.next=6,n.uqs.rms.InquiryPendingItem.add({inquiryPending:a,arr1:[{inquiryPackage:c.id,user:i.id,createDate:l,remarks:u,jsonStr:JSON.stringify(t)}]});case 6:return p=t.quantity,m=t.radiox,d=t.radioy,f=t.unit,h=t.listPrice,v=t.price,b=t.currency,y=t.isTaxIn,g=t.isTransFeeIn,x=t.transFee,w=t.transFeecurrency,k=t.packingFee,E=t.packingcurrency,j=t.otherFee,O=t.otherFeecurrency,N=t.customizeUpto,C=t.validUpto,q=t.minArriveDate,P=t.maxArriveDate,S=t.invoiceType,F=t.vatRate,A=t.tariffRate,I=t.packType,D=t.remarks,B=t.coaFilePath,T=t.msdsFilePath,R=t.quotationFilePath,t.result,z={product:o,quantity:p,radiox:m,radioy:d,unit:f,listPrice:h,price:v,currency:b,isTaxIn:y,isTransFeeIn:g,transFee:x,transFeecurrency:w,packingFee:k,packingcurrency:E,otherFee:j,otherFeecurrency:O,customizeUpto:N,validUpto:C,minArriveDate:q,maxArriveDate:P,invoiceType:S,vatRate:F,tariffRate:A,packType:I,remarks:D,coaFilePath:B,msdsFilePath:T,quotationFilePath:R},e.next=10,n.uqs.rms.AddPackagePrice.submit(z);case 10:return n.closePage(),e.next=13,n.loadList();case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onShowPendingInquiryDetail=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.uqs.rms.SearchInquiryPendingBySupplier.query({_id:r});case 3:a=e.sent,c={parent:t,item:a.ret[0],child:a.ret},n.openVPage(ut,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.pickCurrency=function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(mt),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.openPendingInquiryResult=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i,l,u,o,p,m,d,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.inquiryPackage,c=a.obj.unit,e.next=4,n.uqs.rms.InquiryPendingItem.table({inquiryPending:r,inquiryPackage:a.id});case 4:i=e.sent,l=i[0],u=l.inquiryPending,o=l.inquiryPackage,p=l.user,m=l.createDate,void 0===(d=l.jsonStr)?(f=t).unit=c.obj:((f=JSON.parse(d)).inquiryPending=u,f.inquiryPackage=o,f.user=p,f.createDate=m),n.openVPage(ft,f);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchPendingInquiryByKey("");case 2:case"end":return e.stop()}}),e)}))),n.render=Object(ye.a)((function(){return n.renderView(st)})),n.tab=function(){return r.createElement(a.render,null)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchPendingInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),ce=Object(E.a)(ae.prototype,"pendingInquirys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=Object(E.a)(ae.prototype,"pendingInquiryList",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae),bt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderRootCategory=function(e,t){var a=e.supplier,c=(e.contactName,e.inquiryUser,e.startDate,e.inquiryDate),i=e.date,l=e.sheet,s=e.way,u=n.controller.openInquiryDetail,o=r.createElement("div",{className:"cursor-pointer text-muted small"},r.createElement("div",null,"\u8be2\u51fa\uff1a",r.createElement(h.d,{date:c})),r.createElement("div",null,"\u7ed3\u675f\uff1a",r.createElement(h.d,{date:i}))),p=r.createElement("div",null,r.createElement("div",null,r.createElement("b",null,Object(h.t)(a,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"text-muted small"},"\u65b9\u5f0f\uff1a",1===s?"Email\u8be2\u4ef7":2===s?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7"));return r.createElement(h.h,{left:p,right:o,className:"px-3 d-flex p-1 cursor-pointer",onClick:function(){return u(l)}})},n.page=Object(ye.a)((function(){var e=n.controller,t=e.inquirys,a=e.searchInquiryByKey,c=r.createElement("div",{className:"d-flex align-items-center"},r.createElement(h.m,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"})),i=r.createElement("header",null,r.createElement("div",{className:"px-3"},"\u8be2\u4ef7\u5355"));return r.createElement(h.k,{header:i,right:c,onScrollBottom:n.onScrollBottom,headerClassName:"py-1 bg-primary"},r.createElement(h.i,{items:t,item:{render:n.renderRootCategory}}))})),n.onScrollBottom=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.inquirys.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.createElement(this.page,null)}}]),t}(h.p),yt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderPackageItem=function(e,t){var a=e.pack,c=e.inquiryQuantity,i=e.no,l=e.inquiryUnit.obj.name;return r.createElement(h.h,{key:t,className:"d-flex cursor-pointer py-1",onClick:function(){return n.controller.openPackageDetail(e)}},r.createElement("div",null,r.createElement(h.f,{name:"chevron-right",className:"px-2 text-primary"}),c," * ",a,l," ",i))},n.renderProductItem=function(e,t){var a=e.product,c=e.packs,i=a.id;return r.createElement(h.h,{key:t,className:"d-flex px-3 cursor-pointer"},r.createElement("div",null,n.controller.renderProduct(i)),r.createElement("div",{className:"py-1"},r.createElement(h.i,{items:c,item:{render:n.renderPackageItem}})))},n.page=function(e){var t=e.brief,a=e.data,c=(t.id,t.no),i=(t.state,t.description,t.date),l=t.user,s=a.supplier,u=a.contactName,o=a.contactSalutation,p=a.contactDepartmentName,m=a.contactTelephone,d=a.contactMobile,f=a.contactEmail,v=a.contactfax,b=a.way,y=a.remarks,g=a.InquiryItems,x=r.createElement(r.Fragment,null,"\u8be2\u4ef7\u5355: ",c);return r.createElement(h.k,{header:x,headerClassName:"py-1 bg-primary"},r.createElement("div",null,r.createElement("div",{className:"bg-white py-2"},r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u4f9b\u5e94\u5546:"),r.createElement("div",{className:"col-9"},r.createElement("b",null,Object(h.t)(s,(function(e){return r.createElement(r.Fragment,null,e.name)}))))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u8054\u7cfb\u4eba:"),r.createElement("div",{className:"col-9 text-muted"},u," ",o," ",p)),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u8054\u7cfb\u65b9\u5f0f:"),r.createElement("div",{className:"col-9 text-muted"},m," ",d," ",f," ",v)),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u8be2\u4ef7\u4eba:"),r.createElement("div",{className:"col-9 text-muted"},1===b?"Email\u8be2\u4ef7":2===b?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7","\xa0",l,"\xa0",r.createElement(h.d,{date:i}))),void 0===y?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u5907\u6ce8:"),r.createElement("div",{className:"col-9 text-muted"},y))))),r.createElement("div",{className:"py-2"},r.createElement(h.i,{items:g,item:{render:n.renderProductItem}})))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),gt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=function(e){var t=e.inquiryQuantity,n=e.pack,a=e.unit,c=e.itemuser,i=e.itemcreateDate,l=e.quantity,s=e.radio,u=e.inquiryUnit,o=e.listPrice,p=e.price,m=e.currency,d=e.isTaxIn,f=e.isTransFeeIn,v=e.transFee,b=e.transFeecurrency,y=e.packingFee,g=e.packingcurrency,x=e.otherFee,w=e.otherFeecurrency,k=e.customizeUpto,E=e.validUpto,j=e.minArriveDate,O=e.maxArriveDate,N=e.invoiceType,C=e.vatRate,q=e.tariffRate,P=e.packType,S=e.inquiryRemarks,F=e.coaFilePath,A=e.msdsFilePath,I=e.quotationFilePath,D=a.obj.name,B=u.obj.name,T=r.createElement(r.Fragment,null,"\u8be2\u4ef7\u5305\u88c5\u8be6\u60c5: ",t," * ",n,B);return r.createElement(h.k,{header:T,headerClassName:"py-1 bg-primary"},r.createElement("div",null,r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u62a5\u4ef7\u5305\u88c5:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},l," * ",s,D)),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u521b\u5efa\u4eba:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},c.id)),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u521b\u5efa\u65f6\u95f4:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},r.createElement(h.d,{date:i}))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u76ee\u5f55\u4ef7:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},o)),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5305\u88c5\u7c7b\u578b:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===P?"\u76ee\u5f55\u5305\u88c5":2===P?"\u975e\u76ee\u5f55\u5305\u88c5":"")),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u7ed3\u7b97\u4ef7:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},p,void 0===m?"":Object(h.t)(m,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u542b\u7a0e\u8d39:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===d?"\u542b":0===d?"\u4e0d\u542b":"")),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u542b\u8fd0\u8d39:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},1===f?"\u542b":0===f?"\u4e0d\u542b":"")),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u8fd0\u8d39:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},v,void 0===b?"":Object(h.t)(b,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5305\u88c5\u8d39:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},y,void 0===g?"":Object(h.t)(g,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5176\u4ed6\u8d39\u7528:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},x,void 0===w?"":Object(h.t)(w,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5b9a\u5236\u65f6\u95f4\u81f3:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},r.createElement(h.d,{date:k}))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u6709\u6548\u671f\u81f3:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},r.createElement(h.d,{date:E}))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u6700\u77ed\u8d27\u671f\u81f3:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},r.createElement(h.d,{date:j}))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u6700\u957f\u8d27\u671f\u81f3:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},r.createElement(h.d,{date:O}))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u53d1\u7968\u7c7b\u578b:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},void 0===N?"":1===N?"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968":2===N?"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968":"\u5f62\u5f0f\u53d1\u7968")),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u589e\u503c\u7a0e\u7387:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},void 0===C?"":Object(h.t)(C,(function(e){return r.createElement(r.Fragment,null,e.name)})))),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5173\u7a0e\u7a0e\u7387:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},q)),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u5907\u6ce8:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},S)),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"COA\u6587\u4ef6\u8def\u5f84:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},F)),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"MSOS\u6587\u4ef6\u8def\u5f84:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},A)),r.createElement("div",{className:"border-top edit-sep-light-gray"}),r.createElement("div",{className:"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer"},r.createElement("div",null,"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84:"),r.createElement("div",{className:"flex-fill d-flex justify-content-end"},I))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),xt=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchInquiry=void 0,n.firstSize=n.pageSize=14,n.searchInquiry=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchInquiry.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),wt=(le=function(e){function t(){var e,n,a=this;Object(o.a)(this,t);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Object(k.a)(n,"inquirys",se,Object(g.a)(n)),Object(k.a)(n,"productdata",ue,Object(g.a)(n)),n.searchInquiryByKey=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.inquirys=new xt(n.uqs.rms.GetInquirySheet),n.inquirys.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.openInquiryDetail=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.rms.InquirySheet.getSheet(t);case 2:r=e.sent,a=r.data,c=a.inquiryitems,i=Et(c),a.InquiryItems=i,n.openVPage(yt,r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.openPackageDetail=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(gt,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderProduct=function(e){return n.renderView(kt,e)},n.getProduct=function(){var e=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.rms.SearchProductById.query({_id:t});case 2:return r=e.sent,n.productdata=r.ret[0],e.abrupt("return",r.ret[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchInquiryByKey("");case 2:case"end":return e.stop()}}),e)}))),n.render=Object(ye.a)((function(){return n.renderView(bt)})),n.tab=function(){return r.createElement(a.render,null)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),se=Object(E.a)(le.prototype,"inquirys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=Object(E.a)(le.prototype,"productdata",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le),kt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).contentagency=Object(ye.a)((function(e){var t,a=n.controller.productdata;if(void 0!==a){var c=a.description,i=a.CAS,l=a.purity;t=r.createElement("span",{className:"text-muted small"},c,"\xa0\xa0",i,"\xa0\xa0",l)}return t})),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){return this.controller.getProduct(e),r.createElement(this.contentagency,{pid:e})}}]),t}(h.q);function Et(e){var t=[],n=!0,a=!1,c=void 0;try{for(var i,l=function(){var e=i.value,n=e.product,a=e.inquiryQuantity,c=e.inquiryRadiox,l=e.inquiryRadioy,s=e.inquiryUnit,u=e.itemuser,o=e.itemcreateDate,p=e.quantity,m=e.radiox,d=e.radioy,f=e.unit,h=e.listPrice,v=e.price,b=e.currency,y=e.isTaxIn,g=e.isTransFeeIn,x=e.transFee,w=e.transFeecurrency,k=e.packingFee,E=e.packingcurrency,j=e.otherFee,O=e.otherFeecurrency,N=e.customizeUpto,C=e.validUpto,q=e.minArriveDate,P=e.maxArriveDate,S=e.invoiceType,F=e.vatRate,A=e.tariffRate,I=e.packType,D=e.inquiryRemarks,B=e.coaFilePath,T=e.msdsFilePath,R=e.quotationFilePath,z={inquiryQuantity:a,pack:1!==c?r.createElement(r.Fragment,null,c," * ",l):r.createElement(r.Fragment,null,l),inquiryUnit:s,quantity:p,radio:1!==m?r.createElement(r.Fragment,null,m," * ",d):r.createElement(r.Fragment,null,d),unit:f,itemuser:u,itemcreateDate:o,listPrice:h,price:v,currency:b,isTaxIn:y,isTransFeeIn:g,transFee:x,transFeecurrency:w,packingFee:k,packingcurrency:E,otherFee:j,otherFeecurrency:O,customizeUpto:N,validUpto:C,minArriveDate:q,maxArriveDate:P,invoiceType:S,vatRate:F,tariffRate:A,packType:I,inquiryRemarks:D,coaFilePath:B,msdsFilePath:T,quotationFilePath:R},V=t.find((function(e){return e.product.id===n.id}));void 0===V&&(V={product:n,packs:[]},t.push(V)),V.packs.push(z)},s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)l()}catch(u){a=!0,c=u}finally{try{n||null==s.return||s.return()}finally{if(a)throw c}}return t}var jt,Ot,Nt,Ct=[{name:"id",type:"id",required:!1},{name:"quantity",type:"number",required:!0},{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"id",required:!0},{name:"remarks",type:"number",required:!1},{name:"submit",type:"submit"}],qt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.pendingInquiryData=void 0,n.uiSchema={items:{id:{visible:!1},quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"id",label:"\u5305\u88c5\u5355\u4f4d",placeholder:"\u5305\u88c5\u5355\u4f4d",pickId:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.cApp.cPackage.pickPackUnit(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?r.createElement(r.Fragment,null,Object(h.t)(e,(function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u5355\u4f4d")}},remarks:{widget:"textarea",label:"\u5907\u6ce8",placeholder:"\u5907\u6ce8",rows:5},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},n.onFormButtonClick=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveNewPendingInquiryData(r.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showProductlData=function(){var e=n.controller.product,t=e.no,a=e.supplier,c=(e.origin,e.brand),i=e.description,l=e.descriptionC,s=e.CAS,u=(e.purity,a.obj.name),o=void 0===c?void 0:c.obj.name;return r.createElement("div",{className:"bg-white py-2"},void 0===t?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u4ea7\u54c1\u7f16\u53f7:"),r.createElement("div",{className:"col-9 text-muted text-right"},t))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u4f9b\u5e94\u5546:"),r.createElement("div",{className:"col-9 text-muted text-right"},u)),void 0===o?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u54c1\u724c:"),r.createElement("div",{className:"col-9 text-muted text-right"},o))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"CAS:"),r.createElement("div",{className:"col-9 text-muted text-right"},void 0===s?"(\u65e0)":s)),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u82f1\u6587\u540d\u79f0:"),r.createElement("div",{className:"col-9 text-muted text-right"},i)),void 0===l?"":r.createElement(r.Fragment,null,r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u4e2d\u6587\u540d\u79f0:"),r.createElement("div",{className:"col-9 text-muted text-right"},l))))},n.page=function(){var e=N.a.clone(n.pendingInquiryData);return r.createElement(h.k,{header:"\u5f85\u8be2\u51fa",headerClassName:"py-1 bg-primary"},n.showProductlData(),r.createElement("div",{className:"App-container container text-left"},r.createElement(h.g,{ref:function(e){return n.form=e},className:"my-3",schema:Ct,uiSchema:n.uiSchema,formData:e,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.pendingInquiryData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Pt=[{name:"id",type:"id",required:!1},{name:"way",type:"number",required:!0},{name:"submit",type:"submit"}],St=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.supplier=void 0,n.uiSchema={items:{id:{visible:!1},way:{widget:"radio",label:"\u8be2\u4ef7\u65b9\u5f0f",list:[{value:1,title:"Email\u8be2\u4ef7"},{value:2,title:"\u7535\u8bdd\u8be2\u4ef7"},{value:3,title:"\u4f20\u771f\u8be2\u4ef7"}]},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},n.onFormButtonClick=function(){var e=Object(u.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.updatePendingInquiryState(r.form.data,n.supplier);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=function(){var e=N.a.clone(n.supplier);return r.createElement(h.k,{header:"\u8be2\u4ef7\u8be6\u60c5",headerClassName:"bg-primary"},r.createElement("div",{className:"App-container container text-left"},r.createElement(h.g,{ref:function(e){return n.form=e},className:"my-3",schema:Pt,uiSchema:n.uiSchema,formData:e,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplier=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Ft=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderRootCategory=function(e,t){var a=e.supplier,c=e.date,i=n.controller.onShowNewPendingInquiryDetail,l=r.createElement("div",{className:"cursor-pointer text-muted"},r.createElement(h.d,{date:c}));return r.createElement(h.h,{right:l,className:"px-3 d-flex p-1 cursor-pointer",onClick:function(){return i(e)}},r.createElement("div",null,r.createElement("b",null,Object(h.t)(a,(function(e){return r.createElement(r.Fragment,null,e.name)})))))},n.page=Object(ye.a)((function(){var e=n.controller,t=e.newpendingInquirys,a=(e.onNewPendingInquiry,e.searchNewPendingInquiryByKey),c=e.pickProduct,i=r.createElement("div",{className:"d-flex align-items-center"},r.createElement(h.m,{size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"}),r.createElement("div",null,r.createElement("span",{onClick:function(){return c()},className:"fa-stack"},r.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.6rem"}})))),l=r.createElement("header",null,r.createElement("div",{className:"px-3"},"\u5f85\u8be2\u51fa"));return r.createElement(h.k,{header:l,right:i,onScrollBottom:n.onScrollBottom,headerClassName:"py-1 bg-primary"},r.createElement(h.i,{items:t,item:{render:n.renderRootCategory}}))})),n.onScrollBottom=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.newpendingInquirys.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.createElement(this.page,null)}}]),t}(h.p),At=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.suppplier=void 0,n.firstPackage=void 0,n.packages=[],n.getPackage=function(){return r.createElement("div",null,n.firstPackage&&r.createElement(h.i,{items:n.packages,item:{render:n.renderPackage}}))},n.renderPackage=function(e,t){var a=e.id,c=e.inquiryPackage,i=(e.user,e.createDate,e.product),l=e.quantity,s=e.radiox,u=e.radioy,o=e.unit,p=e.CAS,m=(e.purity,e.inquiryRemarks),d=i.obj,f=d.brand,v=d.description,b=(d.descriptionC,o.obj.name),y=1!==s?r.createElement(r.Fragment,null,s," * ",u,b):r.createElement(r.Fragment,null,u,b),g=(void 0===f||f.obj.name,r.createElement("div",{className:"px-2 text-muted text-right"},r.createElement("span",{onClick:function(){return n.onDelInquiryPackage(a,c)}},r.createElement(h.f,{className:"align-middle p-2 cursor-pointer text-danger",name:"trash"}))));return r.createElement(h.h,{right:g,className:"p-1 d-flex cursor-pointer"},r.createElement("div",null,r.createElement(h.f,{name:"caret-right",className:"px-2 text-primary"}),p,"\xa0\xa0",l," * ",y),r.createElement("div",{className:"px-4 text-muted"},v),r.createElement("div",{className:"px-4 text-muted"},r.createElement("span",{className:"text-muted small"},m)))},n.rowTop=function(e){var t=e.supplier,n=e.user,a=e.date,c=n.id;return r.createElement("div",{className:"bg-white py-2"},r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u4f9b\u5e94\u5546:"),r.createElement("div",{className:"col-9"},r.createElement("b",null,Object(h.t)(t,(function(e){return r.createElement(r.Fragment,null,e.name)}))))),r.createElement("div",{className:"row no-gutters px-3 my-1"},r.createElement("div",{className:"col-3"},"\u521b\u5efa\u4eba:"),r.createElement("div",{className:"col-9 text-muted"},c,"\xa0",r.createElement(h.d,{date:a}))))},n.rowEnd=function(){var e=n.controller.onPendingInquiry;return n.firstPackage&&r.createElement("div",null,r.createElement("div",{className:"text-center py-2"},r.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e(n.suppplier)}},r.createElement("span",{className:"px-2"},r.createElement(h.f,{className:"text-warning px-1",name:"user"}),r.createElement("b",null,"\u8be2\xa0\u51fa")),r.createElement("span",{className:"px-2"},r.createElement(h.f,{name:"chevron-right fa-1x"})))))},n.onDelInquiry=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vCall(It,n.suppplier);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=9;break}return e.next=6,n.controller.deletePendingInquiryData(n.suppplier);case 6:return e.next=8,n.controller.loadList();case 8:n.closePage();case 9:case 10:case"end":return e.stop()}}),e)}))),n.onDelInquiryPackage=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vCall(Dt,r);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=10;break}return a=r.id,e.next=7,n.controller.deletePendingInquiryPackage(t,a);case 7:return e.next=9,n.controller.loadList();case 9:n.closePage();case 10:case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=function(){var e=N.a.clone(n.suppplier),t=r.createElement("div",{className:"d-flex align-items-center"},r.createElement("div",null,r.createElement("span",{onClick:function(){return n.onDelInquiry()},className:"fa-stack"},r.createElement("i",{className:"fa fa-trash fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}}))));return r.createElement(h.k,{right:t,header:"\u8be2\u4ef7\u8be6\u60c5",headerClassName:"py-1 bg-primary"},n.rowTop(e),n.rowEnd(),n.getPackage())},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parent,r=t.item,a=t.child,this.suppplier=n,this.firstPackage=r,this.packages=a,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),It=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!0);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.onCancel=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!1);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.page=function(e){return r.createElement(h.k,{header:"\u5220\u9664\u8be2\u4ef7\u4efb\u52a1",back:"close",headerClassName:"bg-primary"},r.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},r.createElement("div",{className:"p-4 position-relative"},r.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),r.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u8be2\u4ef7\u4efb\u52a1\uff1f")),r.createElement("div",{className:"d-flex mt-3 justify-content-end"},r.createElement("button",{className:"btn btn-danger mr-3",onClick:n.onConfirm},"\u5220\u9664\u8be2\u4ef7\u4efb\u52a1"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:n.onCancel},"\u53d6\u6d88"))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Dt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!0);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.onCancel=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.returnCall(!1);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)}))),n.page=function(e){return r.createElement(h.k,{header:"\u5220\u9664\u8be2\u4ef7\u5305\u88c5",back:"close",headerClassName:"bg-primary"},r.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},r.createElement("div",{className:"p-4 position-relative"},r.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),r.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u8be2\u4ef7\u5305\u88c5\uff1f")),r.createElement("div",{className:"d-flex mt-3 justify-content-end"},r.createElement("button",{className:"btn btn-danger mr-3",onClick:n.onConfirm},"\u5220\u9664\u8be2\u4ef7\u5305\u88c5"),r.createElement("button",{className:"btn btn-outline-info mr-3",onClick:n.onCancel},"\u53d6\u6d88"))))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.p),Bt=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).searchNewPendingInquiry=void 0,n.firstSize=n.pageSize=14,n.searchNewPendingInquiry=e,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"loadResults",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchNewPendingInquiry.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.l),Tt=(jt=function(e){function t(){var e,n,a=this;Object(o.a)(this,t);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Object(k.a)(n,"newpendingInquirys",Ot,Object(g.a)(n)),Object(k.a)(n,"newpendingInquiryList",Nt,Object(g.a)(n)),n.product=void 0,n.searchNewPendingInquiryByKey=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.newpendingInquirys=new Bt(n.uqs.rms.SearchNewInquiryPending),n.newpendingInquirys.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewPendingInquiry=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.product=t,n.openVPage(qt,{pendingInquiry:void 0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onPendingInquiry=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(St,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.pickProduct=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cPickProduct.call();case 2:e.sent;case 3:case"end":return e.stop()}}),e)}))),n.saveNewPendingInquiryData=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c,i,l,u,o,p,m,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=8;break}if(!n.product){e.next=8;break}return r=n.product,a=r.id,c=r.supplier,i=c.id,l=t.quantity,u=t.radiox,o=t.radioy,p=t.unit,m=t.remarks,d={supplier:i,product:a,quantity:l,radiox:u,radioy:o,unit:p,remarks:m},e.next=8,n.uqs.rms.AddInquiryPending.submit(d);case 8:return n.closePage(),e.next=11,n.loadList();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deletePendingInquiryData=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a={id:r},e.next=4,n.uqs.rms.DeleteInquiryPending.submit(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deletePendingInquiryPackage=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t,pid:r},e.next=3,n.uqs.rms.DeleteInquiryPackage.submit(a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.updatePendingInquiryState=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.id,c=r.supplier,i={id:a,supplier:c,way:t.way},e.next=4,n.uqs.rms.UpdateInquiryPending.submit(i);case 4:return n.closePage(),e.next=7,n.loadList();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onShowNewPendingInquiryDetail=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.uqs.rms.SearchInquiryPendingBySupplier.query({_id:r});case 3:a=e.sent,c={parent:t,item:a.ret[0],child:a.ret},n.openVPage(At,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchNewPendingInquiryByKey("");case 2:case"end":return e.stop()}}),e)}))),n.render=Object(ye.a)((function(){return n.renderView(Ft)})),n.tab=function(){return r.createElement(a.render,null)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchNewPendingInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),Ot=Object(E.a)(jt.prototype,"newpendingInquirys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=Object(E.a)(jt.prototype,"newpendingInquiryList",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt),Rt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).topKey=void 0,n.cHome=void 0,n.cSupplier=void 0,n.cPickSupplier=void 0,n.cSupplierContact=void 0,n.cProduct=void 0,n.cPickProduct=void 0,n.cChemical=void 0,n.cBrand=void 0,n.cPackage=void 0,n.cPendingInquiry=void 0,n.cInquiry=void 0,n.cCurrency=void 0,n.cNewPendingInquiry=void 0,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"newC",value:function(e){return new e(this)}},{key:"internalStart",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cHome=this.newC(w),this.cSupplier=this.newC(je),this.cPickSupplier=this.newC(Ue),this.cProduct=this.newC(Je),this.cPickProduct=this.newC(lt),this.cChemical=this.newC(He),this.cBrand=this.newC(_e),this.cPackage=this.newC(at),this.cSupplierContact=this.newC(Pe),this.cPendingInquiry=this.newC(vt),this.cInquiry=this.newC(wt),this.cCurrency=this.newC(mt),this.cNewPendingInquiry=this.newC(Tt),(t=[]).push(this.cSupplier.start()),e.next=17,Promise.all(t);case 17:this.showMain(),this.topKey=h.r.topKey();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showMain",value:function(e){this.openVPage(b,e)}},{key:"loginCallBack",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"uqs",get:function(){return this._uqs}}]),t}(h.a),zt=function(e){return r.createElement(r.Fragment,null," ",e.chineseName," ")},Vt={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/rms",version:"1.0.1",tvs:{common:{address:function(e){var t=e.country,n=e.province,a=e.city,c=e.county;return r.createElement(r.Fragment,null,Object(h.t)(t),Object(h.t)(n,void 0,void 0,(function(){return r.createElement(r.Fragment,null)})),Object(h.t)(a,void 0,void 0,(function(){return r.createElement(r.Fragment,null)})),Object(h.t)(c,void 0,void 0,(function(){return r.createElement(r.Fragment,null)})))},country:zt,province:zt,city:zt,county:zt,currency:function(e){return r.createElement(r.Fragment,null," ",e.name," ")}}},oem:"\u767e\u7075\u5a01"};h.r.setSettings(Vt);var Ut=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).onLogined=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.s)(Rt,Vt);case 2:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.createElement(h.j,{onLogined:this.onLogined})}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Ut,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.5fca4ecb.chunk.js.map