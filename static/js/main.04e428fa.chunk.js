(this.webpackJsonprms=this.webpackJsonprms||[]).push([[0],{56:function(e,t,n){e.exports=n(78)},62:function(e,t,n){},64:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),i=n.n(c),s=n(39),o=n.n(s),u=(n(61),n(62),n(1)),l=n.n(u),p=n(13),m=n(2),d=n(4),f=n(5),h=n(3),v=n(6),b=(n(64),n(10)),y=function(e){return!0===e?"text-primary":"text-muted"},g=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).render=function(e){var t=n.controller,r=t.cHome,a=t.cProduct,i=[{name:"supplier",label:"\u4f9b\u5e94\u5546",icon:"print",content:r.tab,notify:void 0},{name:"product",label:"\u4ea7\u54c1",icon:"check-square-o",content:a.tab,onShown:a.loadList}].map((function(e){var t=e.name,n=e.label,r=e.icon;return{name:t,caption:function(e){return Object(b.m)(n,r,y(e))},content:e.content,notify:e.notify,onShown:e.onShown}}));return c.createElement(b.j,{header:!1},c.createElement(b.n,{tabs:i}))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.render);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),w=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"cApp",get:function(){return this._cApp}},{key:"uqs",get:function(){return this._uqs}}]),t}(b.b),x=(b.c,n(9)),j=function(e){function t(){var e,n,r=this;Object(m.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).page=function(){var e=n.controller.cApp.cSupplier,t=e.onNewSupplier,a=e.searchSupplierByKey,i=c.createElement("div",{className:"w-19c d-flex"},c.createElement(b.l,{className:"w-80",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),c.createElement("span",{onClick:function(){return t()},className:"fa-stack"},c.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),c.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),s=c.createElement("header",{className:"py-2 px-4 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u4f9b\u5e94\u5546"));return c.createElement(b.j,{right:i,header:s,headerClassName:"bg-primary"},c.createElement(r.content,null))},n.content=function(){var e=Object(x.a)(n).controller.toSupplierList;return c.createElement(c.Fragment,null,e())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return c.createElement(this.page,null)}}]),t}(b.p),O=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).toSupplierList=function(){return n.cApp.cSupplier.renderRootList()},n.tab=function(){return n.renderView(j)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.cApp.cSupplier,e.next=3,n.start();case 3:this.openVPage(j);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),E=n(34),k=n(35),N=(n(44),n(8)),C=n(16),S=n.n(C),P=[{name:"id",type:"id",required:!1},{name:"no",type:"string",required:!0},{name:"name",type:"string",required:!0},{name:"abbreviation",type:"string",required:!1},{name:"isValid",type:"boolean",required:!0}],q=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).form=void 0,n.supplierData=void 0,n.uiSchema={items:{id:{visible:!1},no:{widget:"text",label:"\u4f9b\u5e94\u5546\u7f16\u53f7",placeholder:"\u5fc5\u586b"},name:{widget:"text",label:"\u4f9b\u5e94\u5546\u540d\u79f0",placeholder:"\u5fc5\u586b"},abbreviation:{widget:"text",label:"\u4f9b\u5e94\u5546\u7b80\u79f0"},isValid:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveSupplierData(r.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSavesupplierData=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.page=function(){var e,t=S.a.clone(n.supplierData);return e=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSavesupplierData},"\u4fdd\u5b58"),c.createElement(b.j,{header:"\u4f9b\u5e94\u5546",footer:e},c.createElement("div",{className:"p-3 bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:P,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),A=n(12),B=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).renderRootCategory=function(e,t){var r=e.no,a=e.name,i=(e.createTime,n.controller.onEditSupplier),s=c.createElement("div",{className:"p-2 cursor-pointer text-info",onClick:function(){return i(e)}},c.createElement(b.e,{name:"edit"}));return c.createElement(b.g,{right:s,className:"py-2"},c.createElement("p",{onClick:function(){return n.controller.onSupplierSelected(e)}},c.createElement(b.e,{name:"location-arrow",className:"px-2 text-primary"}),r," - ",a))},n.content=Object(A.a)((function(){var e=n.controller.suppliers;return c.createElement(b.h,{items:e,item:{render:n.renderRootCategory},none:"\u76ee\u524d\u8fd8\u6ca1\u6709\u4f9b\u5e94\u5546\u54e6\uff01"})})),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(e){return c.createElement(this.content,null)}}]),t}(b.p),D=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).supplier=void 0,n.firstSupplierContact=void 0,n.supplierContacts=[],n.getSupplierContact=function(){var e=n.controller.cApp.cSupplierContact.showCreateSupplierContact;return c.createElement("div",{className:"bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"users"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4f9b\u5e94\u5546\u8054\u7cfb\u4eba"))),n.firstSupplierContact&&c.createElement(b.h,{items:n.supplierContacts,item:{render:n.renderContact}}),c.createElement("div",{className:"text-primary text-center small bg-white py-2",onClick:function(){return e(n.supplier)}},"\uff0b\u8054\u7cfb\u4eba"))},n.renderContact=function(e,t){var r=n.controller.cApp.cSupplierContact,a=r.delSupplierContact,i=r.showEditSupplierContact,s=r.showSupplierContactDetail,o=e.no,u=e.name,l=e.id,p=e.gender,m=e.mobile,d=n.supplier.defaultContact,f=void 0===d?"px-2 text-muted small":d.id===l?"px-2 text-info small":"px-2 text-muted small",h="0"===p?c.createElement(b.e,{name:"user",className:"px-2 text-danger"}):c.createElement(b.e,{name:"user",className:"px-2 text-primary"}),v=c.createElement("div",{className:f,onClick:function(){return s(e)}},h,o," - ",u," - ",void 0===m?"\u65e0":m),y=c.createElement("div",{className:"px-2 text-muted text-right samll"},c.createElement("span",{onClick:function(){return a(e)}},c.createElement(b.e,{className:"align-middle text-danger",name:"times"})),c.createElement("span",{onClick:function(){return i(n.supplier,e)}},c.createElement(b.e,{className:"align-middle p-2 cursor-pointer text-info",name:"edit"})));return c.createElement(b.g,{left:v,right:y,className:"py-2"})},n.rowTop=function(){var e=S.a.clone(n.supplier),t=e.name,r=e.no,a=e.abbreviation,i=e.createTime;return c.createElement("div",{className:"py-2 bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4f9b\u5e94\u5546\u57fa\u672c\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub small"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u7f16\u53f7\uff1a"),c.createElement("span",{className:"py-2 px-4"},r)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u540d\u79f0\uff1a"),c.createElement("span",{className:"py-2 px-4"},t)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u7b80\u79f0\uff1a"),c.createElement("span",{className:"py-2 px-4"},a)),c.createElement("div",null,c.createElement("p",null,c.createElement("span",{className:"px-4 align-middle "},"\u521b\u5efa\u65f6\u95f4\uff1a"),c.createElement("span",{className:"py-2"},c.createElement(b.d,{date:i}))))))},n.page=function(){var e=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u4f9b\u5e94\u5546\u8be6\u60c5"));return c.createElement(b.j,{header:e,headerClassName:"bg-primary"},n.rowTop(),n.getSupplierContact())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parent,r=t.item,a=t.child,this.supplier=n,this.firstSupplierContact=r,this.supplierContacts=a,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),V=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).page=Object(A.a)((function(){var e=n.controller,t=e.suppliers,r=e.searchSupplierByKey,a=c.createElement("header",{className:"py-2 px-4 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u9009\u62e9\u4f9b\u5e94\u5546"));return c.createElement(b.j,{header:a,onScrollBottom:n.onScrollBottom},c.createElement(b.l,{className:"w-80 mt-1 mr-2",size:"sm",onSearch:function(e){return r(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),c.createElement(b.h,{items:t,item:{render:n.renderItem,onClick:n.onClick}}))})),n.onScrollBottom=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.suppliers.more();case 2:case"end":return e.stop()}}),e)}))),n.onClick=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.returnSupplier(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderItem=function(e,t){var n=e.name;return c.createElement(b.g,{className:"px-3 py-2 border",left:n})},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),I=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchSupplier=void 0,n.firstSize=n.pageSize=14,n.searchSupplier=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchSupplier.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),z=(r=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c))),Object(E.a)(n,"suppliers",a,Object(x.a)(n)),n.searchSupplierByKey=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.suppliers=new I(n.uqs.rms.SearchSupplier),n.suppliers.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveSupplierData=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=7;break}return t.createTime=Date.now(),t.defaultContact=void 0,e.next=5,n.uqs.rms.Supplier.save(void 0,t);case 5:e.next=9;break;case 7:return e.next=9,n.uqs.rms.Supplier.save(t.id,t);case 9:return e.next=11,n.cApp.cHome.start();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewSupplier=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(q,{description:void 0});case 1:case"end":return e.stop()}}),e)}))),n.onEditSupplier=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(q,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onSupplierSelected=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.uqs.rms.SearchSupplierContact.query({_id:r});case 3:a=e.sent,c={parent:t,item:a.ret[0],child:a.ret},n.openVPage(D,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.returnSupplier=function(e){n.returnCall(e)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t),this.openVPage(V);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderRootList",value:function(){return this.renderView(B)}}]),t}(w),a=Object(k.a)(r.prototype,"suppliers",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r);function L(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u56fa\u5b9a\u7535\u8bdd\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function F(e){return e&&!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)?"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function K(e){return e&&!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)?"Email\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function T(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u4f20\u771f\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function R(e){return e&&e.length>200?"\u8be6\u7ec6\u5730\u5740\u6700\u591a200\u4e2a\u5b57\uff01":void 0}function _(e){return e&&e.length>15?"\u90ae\u7f16\u8fc7\u957f\uff0c\u8bf7\u4fee\u6539\u540e\u5f55\u5165\uff01":void 0}function H(e){return e&&e.length>100?"\u90e8\u95e8\u540d\u79f0\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function $(e){return e&&e.length>100?"\u5355\u4f4d\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function G(e){return e&&e.length>50?"\u59d3\u540d\u6700\u591a50\u4e2a\u5b57\uff01":void 0}var J,M,W,Q,U=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).form=void 0,n.item=void 0,n.parent=void 0,n.gradeContent=function(e){return Object(b.s)(e,(function(e){var t=e.name;return c.createElement(c.Fragment,null,t)}))},n.schema=[{name:"no",type:"string",required:!0},{name:"name",type:"string",required:!0},{name:"gender",type:"string",required:!0},{name:"firstName",type:"string",required:!1},{name:"lastName",type:"string",required:!1},{name:"salutation",type:"string",required:!1},{name:"departmentName",type:"string",required:!1},{name:"telephone",type:"string",required:!1},{name:"mobile",type:"string",required:!0},{name:"wechatId",type:"string",required:!1},{name:"email",type:"string"},{name:"fax",type:"string",required:!1},{name:"address",type:"id",required:!1},{name:"addressString",type:"string",required:!1},{name:"zipCode",type:"string",required:!1},{name:"isDefault",type:"boolean",required:!1}],n.uiSchema={items:{no:{widget:"text",label:"\u7f16\u53f7",placeholder:"\u5fc5\u586b"},name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u5fc5\u586b"},gender:{widget:"radio",label:"\u6027\u522b",list:[{value:"1",title:"\u7537"},{value:"0",title:"\u5973"}]},firstName:{widget:"text",label:"\u540d",placeholder:"\u540d",rules:G},lastName:{widget:"text",label:"\u59d3\u6c0f",placeholder:"\u59d3\u6c0f"},salutation:{widget:"text",label:"\u79f0\u8c13",rules:$},departmentName:{widget:"text",label:"\u90e8\u95e8\u540d\u79f0",rules:H},telephone:{widget:"text",label:"\u56fa\u5b9a\u7535\u8bdd",rules:L},mobile:{widget:"text",label:"\u624b\u673a\u53f7",rules:F},wechatId:{widget:"text",label:"\u5fae\u4fe1\u53f7"},email:{widget:"text",label:"Email",rules:K,placeholder:"Email"},fax:{widget:"text",label:"\u4f20\u771f",rules:T},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var e=Object(p.a)(l.a.mark((function e(t,r,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickAddress(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){return e?Object(b.s)(e,(function(e){var t=e.country,n=e.province,r=e.city,a=e.county;return c.createElement(c.Fragment,null,void 0!==t&&void 0!==t.id&&Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})),void 0!==n&&void 0!==n.id&&Object(b.s)(n,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})),void 0!==r&&void 0!==r.id&&Object(b.s)(r,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})),void 0!==a&&void 0!==a.id&&Object(b.s)(a,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})))}),(function(){return c.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):c.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",rules:R},zipCode:{widget:"text",label:"\u90ae\u7f16",rules:_},isDefault:{widget:"checkbox",label:"\u9ed8\u8ba4\u8054\u7cfb\u4eba",defaultValue:!1},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onSaveSupplierContact=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.onFormButtonClick=function(){var e=Object(p.a)(l.a.mark((function e(t,r){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.controller.saveSupplierContact,c=n.item&&n.item.id,e.next=4,a(c,r.form.data,n.parent);case 4:n.closePage();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=Object(A.a)((function(){var e=c.createElement("div",{className:"d-flex"},c.createElement("div",{className:"flex-grow-1 justify-content-end"},c.createElement("button",{type:"button",className:"btn btn-primary mr-3 px-6",onClick:n.onSaveSupplierContact},c.createElement("span",{className:"px-4"},"\u4fdd\u5b58"))));return c.createElement(b.j,{header:"\u6dfb\u52a0\u8054\u7cfb\u4eba",footer:e},c.createElement(b.f,{ref:function(e){return n.form=e},className:"my-3 mx-3",formData:n.item,schema:n.schema,uiSchema:n.uiSchema,onButtonClick:n.onFormButtonClick,requiredFlag:!0}))})),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.item,r=t.parent,this.item=n,this.parent=r,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),X=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).supplierContact=void 0,n.page=function(){var e=S.a.clone(n.supplierContact),t=e.no,r=e.name,a=e.firstName,i=e.lastName,s=e.gender,o=e.salutation,u=e.departmentName,l=e.telephone,p=e.mobile,m=e.email,d=e.fax,f=e.zipCode,h=e.wechatId,v=e.addressString,y=e.address,g=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u4f9b\u5e94\u5546\u8054\u7cfb\u4eba\u8be6\u60c5"));return c.createElement(b.j,{header:g,headerClassName:"bg-primary"},c.createElement("div",{className:"py-2 bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4f9b\u5e94\u5546\u8054\u7cfb\u4eba\u57fa\u672c\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u7f16\u53f7\uff1a"),c.createElement("span",{className:"py-2 px-4"},t)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u540d\u79f0\uff1a"),c.createElement("span",{className:"py-2 px-4"},r)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u59d3\u6c0f\uff1a"),c.createElement("span",{className:"py-2 px-4"},i)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\xa0\u540d\uff1a"),c.createElement("span",{className:"py-2 px-4"},a)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u6027\u522b\uff1a"),c.createElement("span",{className:"py-2 px-4"},"0"===s?"\u5973":"\u7537")),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u79f0\u8c13\uff1a"),c.createElement("span",{className:"py-2 px-4"},o)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u90e8\u95e8\u540d\u79f0\uff1a"),c.createElement("span",{className:"py-2"},u)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u56fa\u5b9a\u7535\u8bdd\uff1a"),c.createElement("span",{className:"py-2 px-2"},l)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u624b\u673a\u53f7\uff1a"),c.createElement("span",{className:"py-2 px-4"},p)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u5fae\u4fe1\u53f7\uff1a"),c.createElement("span",{className:"py-2 px-4"},h)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"Email\uff1a"),c.createElement("span",{className:"py-2 px-4"},m)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u4f20\u771f\uff1a"),c.createElement("span",{className:"py-2 px-4"},d)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u6240\u5728\u5730\u533a\uff1a"),c.createElement("span",{className:"py-2 px-2"},y)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u8be6\u7ec6\u5730\u5740\uff1a"),c.createElement("span",{className:"py-2 px-2"},v)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u90ae\u7f16\uff1a"),c.createElement("span",{className:"py-2 px-4"},f)))))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierContact=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Y={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/rms",version:"1.0.1",tvs:{},oem:"\u767e\u7075\u5a01"},Z=44,ee=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).provinceId=void 0,n.cityId=void 0,n.countyId=void 0,n.backLevel=0,n.page=function(e){return n.backLevel++,c.createElement(b.j,{header:"\u9009\u62e9\u6240\u5728\u7701\u5e02"},c.createElement("div",{className:"row no-gutters"},e.provinces.map((function(e){return n.renderPCC(e.province,n.onProvinceClick)}))))},n.renderPCC=function(e,t){return c.createElement("div",{key:e.id,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},Object(b.s)(e,(function(e){var n=e.id,r=e.chineseName;return c.createElement(c.Fragment,null,c.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return t(n)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},c.createElement("span",{className:"ml-1 align-middle"},c.createElement(b.e,{name:"chevron-right",className:"text-info small"}),"\xa0 ",r)))})))},n.onProvinceClick=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.provinceId=t,e.next=3,n.controller.getProvinceCities(t);case 3:if(!(r=e.sent)){e.next=16;break}if(1!==(a=r.length)){e.next=10;break}return e.next=9,n.onCityClick(r[0].city.id);case 9:return e.abrupt("return");case 10:if(!(a>1)){e.next=14;break}return n.backLevel++,n.openPageElement(c.createElement(b.j,{header:"\u9009\u62e9\u6240\u5728\u57ce\u5e02"},c.createElement("div",{className:"row no-gutters"},r.map((function(e){return n.renderPCC(e.city,n.onCityClick)}))))),e.abrupt("return");case 14:e.next=18;break;case 16:n.closePage(n.backLevel),n.saveAddress();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onCityClick=function(){var e=Object(p.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cityId=t,e.next=3,n.controller.getCityCounties(t);case 3:(r=e.sent)&&r.length>0?(n.backLevel++,n.openPageElement(c.createElement(b.j,{header:"\u9009\u62e9\u6240\u5728\u533a\u53bf"},c.createElement("div",{className:"row no-gutters"},r.map((function(e){return n.renderPCC(e.county,n.onCountyClick)})))))):(n.closePage(n.backLevel),n.saveAddress());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onCountyClick=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.countyId=t,n.closePage(n.backLevel),n.saveAddress();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveAddress=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveAddress(Z,n.provinceId,n.cityId,n.countyId);case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.getCountryProvince(Z);case 2:n=e.sent,this.openPage(this.page,{provinces:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),te=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).getCountryProvince=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetCountryProvinces.table({country:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getProvinceCities=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetProvinceCities.table({province:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getCityCounties=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetCityCounties.table({city:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveAddress=function(){var e=Object(p.a)(l.a.mark((function e(t,r,a,c){var i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uqs.common.Address,e.next=3,i.save(void 0,{country:t,province:r,city:a,county:c});case 3:s=e.sent,o=s&&i.boxId(s.id),n.returnCall(o);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(ee);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),ne=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchSupplierContact=void 0,n.firstSize=n.pageSize=14,n.searchSupplierContact=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchSupplierContact.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),re=(J=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a))),Object(E.a)(n,"pageSupplierContact",M,Object(x.a)(n)),n.searchSupplierContactByKey=function(){var e=Object(p.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ne,e.next=3,n.uqs.rms.SearchSupplierContact.query({_id:t.id});case 3:e.t1=e.sent,n.pageSupplierContact=new e.t0(e.t1),n.pageSupplierContact.first({key:r});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.pickAddress=function(){var e=Object(p.a)(l.a.mark((function e(t,r,a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(te),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.showCreateSupplierContact=function(e){var t={parent:e,item:void 0,child:void 0};n.openVPage(U,t)},n.showEditSupplierContact=function(){var e=Object(p.a)(l.a.mark((function e(t,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={parent:t,item:r,child:r},n.openVPage(U,a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showSupplierContactDetail=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(X,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveSupplierContact=function(){var e=Object(p.a)(l.a.mark((function e(t,r,a){var c,i,s,o,u,p,m,d,f,h,v,b,y,g,w,x,j,O,E;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.no,i=r.name,s=r.firstName,o=r.lastName,u=r.gender,p=r.salutation,m=r.departmentName,d=r.telephone,f=r.mobile,h=r.email,v=r.fax,b=r.zipCode,y=r.wechatId,g=r.addressString,w=r.address,x=r.isDefault,j={no:c,name:i,firstName:s,lastName:o,gender:u,salutation:p,departmentName:m,telephone:d,mobile:f,email:h,fax:v,zipCode:b,wechatId:y,addressString:g,address:w,supplier:a.id,isValid:1},e.next=4,n.uqs.rms.SupplierContact.save(t,j);case 4:if(O=e.sent,!0!==x){e.next=10;break}return void 0===(E=t)&&(E=O.id),e.next=10,n.uqs.rms.Supplier.save(a.id,{no:a.no,name:a.name,abbreviation:a.abbreviation,createTime:a.createTime,isValid:1,defaultContact:E});case 10:n.cApp.cHome.start();case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.delSupplierContact=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a,c,i,s,o,u,p,m,d,f,h,v,b,y,g,w,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.no,c=t.name,i=t.firstName,s=t.lastName,o=t.isDefault,t.isValid,u=t.supplier,p=t.gender,m=t.salutation,d=t.departmentName,f=t.telephone,h=t.mobile,v=t.email,b=t.fax,y=t.zipCode,g=t.wechatId,w=t.addressString,x=t.address,e.next=3,n.uqs.rms.SupplierContact.save(r,{no:a,name:c,firstName:i,lastName:s,supplier:u,gender:p,salutation:m,departmentName:d,telephone:f,mobile:h,email:v,fax:b,zipCode:y,wechatId:g,addressString:w,address:x,isDefault:o,isValid:0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cSupplier.onSupplierSelected(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showSupplierContact=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.uqs.rms.SearchSupplierContact.query({_id:r});case 3:a=e.sent,c=a.ret.length>0?a.ret:void 0,i={parent:void 0,item:a.ret[0],child:c},n.openVPage(D,i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),M=Object(k.a)(J.prototype,"pageSupplierContact",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J),ae=[{name:"id",type:"id",required:!1},{name:"no",type:"string",required:!0},{name:"supplier",type:"id",required:!0},{name:"origin",type:"string",required:!1},{name:"description",type:"string",required:!1},{name:"descriptionC",type:"string",required:!1},{name:"isTrue",type:"boolean",required:!0}],ce=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).form=void 0,n.productData=void 0,n.uiSchema={items:{id:{visible:!1},no:{widget:"text",label:"\u4ea7\u54c1\u7f16\u53f7",placeholder:"\u5fc5\u586b"},supplier:{widget:"id",label:"\u4f9b\u5e94\u5546",placeholder:"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546",pickId:function(){var e=Object(p.a)(l.a.mark((function e(t,r,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickSupplier(t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Templet:function(e){var t=e.obj;return t?c.createElement(c.Fragment,null,Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.name)}))):c.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546")}},origin:{widget:"text",label:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7"},description:{widget:"text",label:"\u82f1\u6587\u540d\u79f0"},descriptionC:{widget:"text",label:"\u4e2d\u6587\u540d\u79f0"},isTrue:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveProductData(r.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSaveProductData=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.page=function(){var e,t=S.a.clone(n.productData);return e=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSaveProductData},"\u4fdd\u5b58"),c.createElement(b.j,{header:"\u4ea7\u54c1",footer:e},c.createElement("div",{className:"p-3 bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:ae,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.productData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),ie=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).renderRootCategory=function(e,t){var r=e.no,a=e.description,i=(e.createTime,n.controller.onEditProduct),s=c.createElement("div",{className:"p-2 cursor-pointer text-info",onClick:function(){return i(e)}},c.createElement(b.e,{name:"edit"}));return c.createElement(b.g,{right:s,className:"py-2"},c.createElement("p",null,c.createElement(b.e,{name:"location-arrow",className:"px-2 text-primary"}),r," - ",a))},n.page=Object(A.a)((function(){var e=n.controller,t=e.products,r=e.onNewProduct,a=e.searchProductByKey,i=c.createElement("div",{className:"w-19c d-flex"},c.createElement(b.l,{className:"w-80",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),c.createElement("span",{onClick:function(){return r()},className:"fa-stack"},c.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),c.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),s=c.createElement("header",{className:"py-2 px-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u4ea7\u54c1"));return c.createElement(b.j,{header:s,right:i,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},c.createElement(b.h,{items:t,item:{render:n.renderRootCategory},none:"\u76ee\u524d\u8fd8\u6ca1\u6709\u4ea7\u54c1\u54e6\uff01"}))})),n.onScrollBottom=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.products.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.createElement(this.page,null)}}]),t}(b.o),se=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchProduct=void 0,n.firstSize=n.pageSize=14,n.searchProduct=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchProduct.page(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),oe=(W=function(e){function t(){var e,n,r=this;Object(m.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i))),Object(E.a)(n,"products",Q,Object(x.a)(n)),n.searchProductByKey=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.products=new se(n.uqs.rms.SearchProduct),n.products.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.pickSupplier=function(){var e=Object(p.a)(l.a.mark((function e(t,r,a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(z),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.saveProductData=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=7;break}return t.createTime=Date.now(),t.defaultContact=void 0,e.next=5,n.uqs.rms.Product.save(void 0,t);case 5:e.next=9;break;case 7:return e.next=9,n.uqs.rms.Product.save(t.id,t);case 9:return e.next=11,n.searchProductByKey("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewProduct=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(ce,{description:void 0});case 1:case"end":return e.stop()}}),e)}))),n.onEditProduct=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(ce,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchProductByKey("");case 2:case"end":return e.stop()}}),e)}))),n.render=Object(A.a)((function(){return n.renderView(ie)})),n.tab=function(){return c.createElement(r.render,null)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchProductByKey(t),this.openVPage(ie);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),Q=Object(k.a)(W.prototype,"products",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W),ue=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).topKey=void 0,n.cHome=void 0,n.cSupplier=void 0,n.cSupplierContact=void 0,n.cProduct=void 0,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"newC",value:function(e){return new e(this)}},{key:"internalStart",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cHome=this.newC(O),this.cSupplier=this.newC(z),this.cProduct=this.newC(oe),this.cSupplierContact=this.newC(re),(t=[]).push(this.cSupplier.start()),e.next=8,Promise.all(t);case 8:this.showMain(),this.topKey=b.q.topKey();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showMain",value:function(e){this.openVPage(g,e)}},{key:"loginCallBack",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"uqs",get:function(){return this._uqs}}]),t}(b.a);b.q.setSettings(Y);var le=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onLogined=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.r)(ue,Y);case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.createElement(b.i,{onLogined:this.onLogined,notLogined:this.onLogined})}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.04e428fa.chunk.js.map