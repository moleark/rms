{"version":3,"sources":["ui/main.tsx","CBase.ts","information/VHome.tsx","information/CHome.tsx","information/supplier/VSupplier.tsx","information/supplier/VSupplierList.tsx","information/supplier/VSupplierDetail.tsx","information/supplier/CSupplier.tsx","tools/inputValidations.ts","information/supplierContact/VSupplierContact.tsx","information/supplierContact/VSupplierContactDetail.tsx","configuration.ts","tvs/index.tsx","information/supplierContact/VAddress.tsx","information/supplierContact/CAddress.tsx","information/supplierContact/CSupplierContact.tsx","information/product/VAddProduct.tsx","information/product/VEditProduct.tsx","information/product/VProductDetail.tsx","information/product/VProductList.tsx","information/supplier/VPickSupplier.tsx","information/supplier/CPickSupplier.tsx","information/product/VBrand.tsx","information/product/VPickBrand.tsx","information/product/CBrand.tsx","information/product/CProduct.tsx","information/product/VChemical.tsx","information/product/CChemical.tsx","information/package/VPackage.tsx","information/package/VPackageDetail.tsx","information/package/CPackage.tsx","CApp.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["color","selected","VMain","render","param","controller","cHome","cProduct","faceTabs","name","label","icon","content","tab","notify","undefined","onShown","loadList","map","v","caption","TabCaptionComponent","header","tabs","this","openPage","VPage","CUqBase","_cApp","_uqs","CBase","CSub","VHome","page","cApp","cSupplier","onNewSupplier","searchSupplierByKey","right","className","size","onSearch","key","placeholder","onClick","style","textAlign","headerClassName","toSupplierList","View","CHome","renderRootList","renderView","start","openVPage","schema","type","required","VSupplier","form","supplierData","uiSchema","items","id","visible","widget","abbreviation","isValid","defaultValue","submit","onFormButtonClick","context","a","saveSupplierData","data","onSavesupplierData","buttonClick","footer","descriptionData","_","clone","ref","formData","onButtonClick","fieldLabelSize","VSupplierList","renderRootCategory","item","parent","no","onEditSupplier","createTime","onSupplierSelected","observer","suppliers","none","VSupplierDetail","supplier","firstSupplierContact","supplierContacts","getSupplierContact","showCreateSupplierContact","cSupplierContact","renderContact","index","delSupplierContact","showEditSupplierContact","showSupplierContactDetail","gender","mobile","defaultContact","fa_text","fa_gender","left","rowTop","date","child","PageSupplier","searchQuery","searchSupplier","firstSize","pageSize","pageStart","ret","PageItems","CSupplier","uqs","rms","SearchSupplier","first","Date","now","Supplier","save","description","SearchSupplierContact","query","_id","contact","observable","telephoneValidation","value","test","mobileValidation","emailValidation","faxValidation","addressDetailValidation","length","zipCodeValidation","departmentNameValidation","salutationValidation","nameValidation","VSupplierContact","list","title","firstName","rules","lastName","salutation","departmentName","telephone","wechatId","email","fax","address","pickId","pickAddress","Templet","tv","addressValue","country","province","city","county","chineseName","addressString","zipCode","isDefault","onSaveSupplierContact","saveSupplierContact","closePage","requiredFlag","VSupplierContactDetail","supplierContact","supplierContactData","appConfig","appName","version","tvs","oem","GLOABLE","VAddress","provinceId","cityId","countyId","backLevel","provinces","renderPCC","onProvinceClick","pcc","border","marginRight","marginBottom","getProvinceCities","cities","len","onCityClick","openPageElement","saveAddress","getCityCounties","counties","onCountyClick","getCountryProvince","CAddress","countryId","common","GetCountryProvinces","table","GetProvinceCities","GetCityCounties","Address","newAddress","addressId","boxId","returnCall","CSupplierContact","cAddress","newC","call","model","parrm","SupplierContact","result","sid","showSupplierContact","VAddProduct","productData","pickSupplier","brand","pickBrand","origin","purity","isTrue","saveProductData","onSaveProductData","showChemicalData","chemical","CAS","descriptoinCN","molecularFomula","molecularWeight","mdlNumber","VEditProduct","updateProductData","showProductData","product","descriptionC","suppliername","obj","brandno","VProductDetail","firstPackage","packages","getPackage","showCreatePackage","cPackage","renderPackage","showEditPackage","showPackageDetail","radiox","radioy","unit","radio","VProductList","onEditProduct","showProductDetail","products","searchProductByKey","onNewProduct","pickChemical","onScrollBottom","more","VPickSupplier","renderItem","returnSupplier","CPickSupplier","VBrand","brandData","saveBrandData","onSaveBrandData","VPickBrand","brands","searchBrandByKey","onNewBrand","returnBrand","PageBrand","searchBrand","CBrand","SearchBrand","Brand","onEditBrand","PageProduct","searchProduct","CProduct","SearchProduct","cPickSupplier","cBrand","cChemical","Product","ProductChemical","add","arr1","productdata","GetPack","pitem","VChemical","chemicals","searchChemicalByKey","PageChemical","searchChemical","CChemical","SearchChemical","VPackage","onSavePackage","savePackage","VPackageDetail","package","packageData","PagePackage","searchPackage","CPackage","searchPackageByKey","pagePackage","saveArr","showPackage","CApp","topKey","promises","push","Promise","all","showMain","nav","initTabName","user","CAppBase","setSettings","App","onLogined","notLogined","React","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"iTAIMA,EAAQ,SAACC,GAAD,OAAoC,IAAbA,EAAoB,eAAiB,cAE7DC,EAAb,2MAIIC,OAAS,SAACC,GAA8B,IAAD,EACT,EAAKC,WAAzBC,EAD6B,EAC7BA,MAAOC,EADsB,EACtBA,SACTC,EAAW,CACX,CAAEC,KAAM,WAAYC,MAAO,qBAAOC,KAAM,OAAQC,QAASN,EAAMO,IAAKC,YAAQC,GAC5E,CAAEN,KAAM,UAAWC,MAAO,eAAMC,KAAM,iBAAkBC,QAASL,EAASM,IAAKG,QAAST,EAASU,WACnGC,KAAI,SAAAC,GAAM,IACFV,EAAgDU,EAAhDV,KAAMC,EAA0CS,EAA1CT,MAAOC,EAAmCQ,EAAnCR,KACnB,MAAO,CACHF,KAAMA,EACNW,QAAS,SAACnB,GAAD,OAAuBoB,YAAoBX,EAAOC,EAAMX,EAAMC,KACvEW,QAJkDO,EAA7BP,QAKrBE,OALkDK,EAApBL,OAM9BE,QANkDG,EAAZH,YAS9C,OAAO,gBAAC,IAAD,CAAMM,QAAQ,GACjB,gBAAC,IAAD,CAAMC,KAAMf,MApBxB,6GACeJ,GADf,iEAEQoB,KAAKC,SAASD,KAAKrB,QAF3B,4GAA2BuB,KCFLC,EAAtB,6KACuB,OAAOH,KAAKI,QADnC,0BAE+B,OAAOJ,KAAKK,SAF3C,GAAsCC,K,GAKDC,I,OCLxBC,EAAb,kNAUYC,KAAO,WAAO,IAAD,EAC4B,EAAK5B,WAAW6B,KAAKC,UAA5DC,EADW,EACXA,cAAeC,EADJ,EACIA,oBAEjBC,EAAQ,uBAAKC,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,OACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiBL,EAAoBK,IAC/CC,YAAY,yCAChB,wBAAMC,QAAS,kBAAMR,KAAiBG,UAAU,YAC5C,qBAAGA,UAAU,0CACb,qBAAGA,UAAU,6BAGjBjB,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,uBAEJ,OAAO,gBAAC,IAAD,CAAMR,MAAOA,EAAOhB,OAAQA,EAAQyB,gBAAgB,cACvD,gBAAC,EAAKnC,QAAN,QA3BZ,EA+BYA,QAAU,WAAO,IAEfoC,EAFc,eACd3C,WACA2C,eACN,OAAO,gCACFA,MAnCb,6GAEe5C,GAFf,iEAGQoB,KAAKC,SAASD,KAAKS,MAH3B,oIAMW7B,GACH,OAAO,qBAAM6B,KAAN,UAPf,GAA2BgB,KCDdC,EAAb,2MASIF,eAAiB,WAEb,OADoB,EAAKd,KAAnBC,UACWgB,kBAXzB,EAaItC,IAAM,kBAAM,EAAKuC,WAAWpB,IAbhC,sHAEwB5B,GAFxB,8EAIc+B,EAAcX,KAAKU,KAAnBC,UAJd,SAKcA,EAAUkB,QALxB,OAMQ7B,KAAK8B,UAAUtB,GANvB,4GAA2BL,G,gDCGrB4B,EAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,eAAgB+C,KAAM,SAAUC,UAAU,GAClD,CAAEhD,KAAM,UAAW+C,KAAM,UAAWC,UAAU,IAGrCC,EAAb,2MAEYC,UAFZ,IAGYC,kBAHZ,IAKYC,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACfvD,KAAM,CAAEwD,OAAQ,OAAQvD,MAAO,iCAASiC,YAAa,gBACrDuB,aAAc,CAAED,OAAQ,OAAQvD,MAAO,kCACvCyD,QAAS,CAAEF,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GAC1DC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,kBAX/C,EAoBY4D,kBApBZ,uCAoBgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKnE,WAAWoE,iBAAiBF,EAAQZ,KAAKe,MAD5B,2CApBhC,0DAwBYC,mBAxBZ,sBAwBiC,sBAAAH,EAAA,yDACpB,EAAKb,KADe,iEAEnB,EAAKA,KAAKiB,YAAY,UAFH,2CAxBjC,EA6BY3C,KAAO,WACX,IAEI4C,EAFAC,EAAkBC,IAAEC,MAAM,EAAKpB,cAOnC,OAJAiB,EAAS,0BAAQrB,KAAK,SAClBjB,UAAU,wBACVK,QAAS,EAAK+B,oBAFT,gBAIF,gBAAC,IAAD,CAAMrD,OAAO,iCAAQuD,OAAQA,EAAQ9B,gBAAgB,cACxD,uBAAKR,UAAU,gBACX,gBAAC,IAAD,CAAM0C,IAAK,SAAA9D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,EACRM,SAAU,EAAKA,SACfqB,SAAUJ,EACVK,cAAe,EAAKb,kBACpBc,eAAgB,OA5CpC,6GAeexB,GAff,iEAgBQpC,KAAKoC,aAAeA,EACpBpC,KAAKC,SAASD,KAAKS,MAjB3B,4GAA+BP,K,QCRlB2D,EAAb,2MAEYC,mBAAqB,SAACC,EAAWC,GACND,EAAzBE,GADgD,IAC5ChF,EAAqB8E,EAArB9E,KACJiF,GADyBH,EAAfI,WACS,EAAKtF,WAAxBqF,gBAEFpD,EAAQ,uBAAKC,UAAU,+BAA+BK,QAAS,kBAAM8C,EAAeH,KACpF,gBAAC,IAAD,CAAI9E,KAAK,UAEb,OAAO,gBAAC,IAAD,CAAK6B,MAAOA,EAAOC,UAAU,QAChC,qBAAGK,QAAS,kBAAM,EAAKvC,WAAWuF,mBAAmBL,KACjD,gBAAC,IAAD,CAAI9E,KAAK,iBAAiB8B,UAAU,sBACnC9B,KAZjB,EAqBYG,QAAUiF,aAAS,WAAO,IACxBC,EAAc,EAAKzF,WAAnByF,UACN,OAAO,gBAAC,IAAD,CAAMhC,MAAOgC,EAAWP,KAAM,CAAEpF,OAAQ,EAAKmF,oBAAsBS,KAAK,oEAvBvF,sEAiBW3F,GACH,OAAO,qBAAMQ,QAAN,UAlBf,GAAmCqC,KCEtB+C,EAAb,2MAEYC,cAFZ,IAGYC,0BAHZ,IAIYC,iBAA0B,GAJtC,EAcYC,mBAAqB,WAAO,IAC1BC,EAA8B,EAAKhG,WAAW6B,KAAKoE,iBAAnDD,0BAEN,OAAO,uBAAK9D,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,UAAU,wBAAM8B,UAAU,6BAA4B,oEAE9G,EAAK2D,sBAAwB,gBAAC,IAAD,CAAMpC,MAAO,EAAKqC,iBAAkBZ,KAAM,CAAEpF,OAAQ,EAAKoG,iBACvF,uBAAKhE,UAAU,+CAA+CK,QAAS,kBAAMyD,EAA0B,EAAKJ,YAAW,gBAAC,IAAD,CAAIxF,KAAK,SAAhI,wBAtBZ,EA2BY8F,cAAgB,SAAChB,EAAWiB,GAAmB,IAAD,EAC+B,EAAKnG,WAAW6B,KAAKoE,iBAAhGG,EAD4C,EAC5CA,mBAAoBC,EADwB,EACxBA,wBAAyBC,EADD,EACCA,0BACzClG,GAA6B8E,EAAjCE,GAAiCF,EAA7B9E,MAAMsD,EAAuBwB,EAAvBxB,GAAI6C,EAAmBrB,EAAnBqB,OAAQC,EAAWtB,EAAXsB,OACtBC,EAAmB,EAAKb,SAAxBa,eACFC,OAA6BhG,IAAnB+F,EAA+B,wBAA2BA,EAAe/C,KAAOA,EAAK,uBAAyB,wBACxHiD,EAAuB,MAAXJ,EAAiB,gBAAC,IAAD,CAAInG,KAAK,SAAS8B,UAAU,qBAA2B,gBAAC,IAAD,CAAI9B,KAAK,OAAO8B,UAAU,sBAC9G0E,EAAO,uBAAK1E,UAAWwE,EAASnE,QAAS,kBAAM+D,EAA0BpB,KACxEyB,EACAvG,EAFM,WAEcM,IAAX8F,EAAuB,SAAMA,GACvCvE,EACA,uBAAKC,UAAU,oCACX,wBAAMK,QAAS,kBAAM6D,EAAmB,EAAKR,SAAUV,KAAO,gBAAC,IAAD,CAAIhD,UAAU,2BAA2B9B,KAAK,YAC5G,wBAAMmC,QAAS,kBAAM8D,EAAwB,EAAKT,SAAUV,KAAO,gBAAC,IAAD,CAAIhD,UAAU,4CAA4C9B,KAAK,WAE1I,OAAO,gBAAC,IAAD,CAAKwG,KAAMA,EAAM3E,MAAOA,EAAOC,UAAU,UAzCxD,EA6CY2E,OAAS,WACb,IAAItD,EAAemB,IAAEC,MAAM,EAAKiB,UAC1BxF,EAAuCmD,EAAvCnD,KAAMgF,EAAiC7B,EAAjC6B,GAAIvB,EAA6BN,EAA7BM,aAAcyB,EAAe/B,EAAf+B,WAE9B,OAAO,uBAAKpD,UAAU,sBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,0EAErH,uBAAKA,UAAU,2BACX,2BAAK,wBAAMA,UAAU,qBAAhB,8BAA0D,4BAAOkD,IACtE,2BAAK,wBAAMlD,UAAU,sBAAhB,8BAA2D,4BAAO9B,IACvE,2BAAK,wBAAM8B,UAAU,sBAAhB,8BAA2D,4BAAO2B,IACvE,2BAAK,yBAAG,wBAAM3B,UAAU,sBAAhB,kCAAiD,4BAAO,gBAAC,IAAD,CAAU4E,KAAMxB,UAzDhG,EA8DY1D,KAAO,WAEX,IAAIX,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,mCAGJ,OAAO,gBAAC,IAAD,CAAMjB,OAAQA,EAAQyB,gBAAgB,cACxC,EAAKmE,SACL,EAAKd,uBAtElB,6GAMehG,GANf,2EAOcoF,EAAwBpF,EAAxBoF,OAAQD,EAAgBnF,EAAhBmF,KAAM6B,EAAUhH,EAAVgH,MACpB5F,KAAKyE,SAAWT,EAChBhE,KAAK0E,qBAAuBX,EAC5B/D,KAAK2E,iBAAmBiB,EACxB5F,KAAKC,SAASD,KAAKS,MAX3B,4GAAqCP,KCM/B2F,E,YAGF,WAAYC,GAAqB,IAAD,8BAC5B,+CAFIC,oBACwB,EAE5B,EAAKC,UAAY,EAAKC,SAAW,GACjC,EAAKF,eAAiBD,EAHM,E,2GAMXlH,EAAYsH,EAAgBD,G,mFAC3B1G,IAAd2G,IAAyBA,EAAY,G,SACzBlG,KAAK+F,eAAetF,KAAK7B,EAAOsH,EAAWD,G,cAAvDE,E,yBACGA,G,8IAEYpC,GACnB/D,KAAKkG,eAAqB3G,IAATwE,EAAqB,EAAIA,EAAKxB,O,GAf5B6D,KAmBdC,GAAb,0PASIxF,oBATJ,uCAS0B,WAAOK,GAAP,SAAA8B,EAAA,sDAClB,EAAKsB,UAAY,IAAIuB,EAAa,EAAKS,IAAIC,IAAIC,gBAC/C,EAAKlC,UAAUmC,MAAM,CAAEvF,IAAKA,IAFV,2CAT1B,wDAkBI+B,iBAlBJ,uCAkBuB,WAAOwB,GAAP,SAAAzB,EAAA,8DAEKzD,IAAhBkF,EAASlC,GAFE,uBAGXkC,EAASN,WAAauC,KAAKC,MAC3BlC,EAASa,oBAAiB/F,EAJf,SAKL,EAAK+G,IAAIC,IAAIK,SAASC,UAAKtH,EAAWkF,GALjC,6CAOL,EAAK6B,IAAIC,IAAIK,SAASC,KAAKpC,EAASlC,GAAIkC,GAPnC,wBAST,EAAK/D,KAAK5B,MAAM+C,QATP,4CAlBvB,wDAkCIjB,cAlCJ,sBAkCoB,sBAAAoC,EAAA,sDACZ,EAAKlB,UAAUI,EAAW,CAAE4E,iBAAavH,IAD7B,2CAlCpB,EAyCI2E,eAzCJ,uCAyCqB,WAAOO,GAAP,SAAAzB,EAAA,sDACb,EAAKlB,UAAUI,EAAWuC,GADb,2CAzCrB,wDAgDIL,mBAhDJ,uCAgDyB,WAAOK,GAAP,mBAAAzB,EAAA,6DACXT,EAAOkC,EAAPlC,GADW,SAEG,EAAK+D,IAAIC,IAAIQ,sBAAsBC,MAAM,CAAEC,IAAK1E,IAFnD,OAEb2E,EAFa,OAGbtI,EAAsB,CACtBoF,OAAQS,EACRV,KAAMmD,EAAQf,IAAI,GAClBP,MAAOsB,EAAQf,KAEnB,EAAKrE,UAAU0C,EAAiB5F,GARf,2CAhDzB,4KAIwBA,GAJxB,iEAKQoB,KAAKa,oBAAoBjC,GALjC,8IAeQ,OAAOoB,KAAK4B,WAAWiC,OAf/B,GAA+B1D,GAA/B,uCAEKgH,KAFL,iEC/BO,SAASC,EAAoBC,GAChC,OAAIA,IAAU,uCAAuCC,KAAKD,GAC/C,wGAEP,EAGD,SAASE,EAAiBF,GAC7B,OAAIA,IAAU,+BAA+BC,KAAKD,GACvC,kGAEP,EAGD,SAASG,EAAgBH,GAC5B,OAAIA,IAAU,8CAA8CC,KAAKD,GACtD,qFAEP,EAGD,SAASI,EAAcJ,GAC1B,OAAIA,IAAU,uCAAuCC,KAAKD,GAC/C,wGAEP,EAGD,SAASK,EAAwBL,GACpC,OAAQA,GAASA,EAAMM,OAAS,IAAO,iEAAiBpI,EAGrD,SAASqI,EAAkBP,GAC9B,OAAQA,GAASA,EAAMM,OAAS,GAAM,gFAAiBpI,EAQpD,SAASsI,EAAyBR,GACrC,OAAQA,GAASA,EAAMM,OAAS,IAAO,6EAAmBpI,EAGvD,SAASuI,EAAqBT,GACjC,OAAQA,GAASA,EAAMM,OAAS,IAAO,iEAAiBpI,EAGrD,SAASwI,EAAeV,GAC3B,OAAQA,GAASA,EAAMM,OAAS,GAAM,oDAAcpI,ECxCjD,I,2BAAMyI,GAAb,2MACY7F,UADZ,IAEY4B,UAFZ,IAGYC,YAHZ,IAWYjC,OAAiB,CACrB,CAAE9C,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,YAAa+C,KAAM,SAAUC,UAAU,GAC/C,CAAEhD,KAAM,WAAY+C,KAAM,SAAUC,UAAU,GAC9C,CAAEhD,KAAM,aAAc+C,KAAM,SAAUC,UAAU,GAChD,CAAEhD,KAAM,iBAAkB+C,KAAM,SAAUC,UAAU,GACpD,CAAEhD,KAAM,YAAa+C,KAAM,SAAUC,UAAU,GAC/C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,WAAY+C,KAAM,SAAUC,UAAU,GAC9C,CAAEhD,KAAM,QAAS+C,KAAM,UACvB,CAAE/C,KAAM,MAAO+C,KAAM,SAAUC,UAAU,GACzC,CAAEhD,KAAM,UAAW+C,KAAM,KAAMC,UAAU,GACzC,CAAEhD,KAAM,gBAAiB+C,KAAM,SAAUC,UAAU,GACnD,CAAEhD,KAAM,UAAW+C,KAAM,SAAUC,UAAU,GAC7C,CAAEhD,KAAM,YAAa+C,KAAM,UAAWC,UAAU,IA1BxD,EA6BYI,SAAqB,CACzBC,MAAO,CACHrD,KAAM,CAAEwD,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBAClDiE,OAAQ,CAAE3C,OAAQ,QAASvD,MAAO,eAAM+I,KAAM,CAAC,CAAEZ,MAAO,IAAKa,MAAO,UAAO,CAAEb,MAAO,IAAKa,MAAO,YAChGC,UAAW,CAAE1F,OAAQ,OAAQvD,MAAO,SAAKiC,YAAa,SAAKiH,MAAOL,GAClEM,SAAU,CAAE5F,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBACtDmH,WAAY,CAAE7F,OAAQ,OAAQvD,MAAO,eAAMkJ,MAAON,GAClDS,eAAgB,CAAE9F,OAAQ,OAAQvD,MAAO,2BAAQkJ,MAAOP,GACxDW,UAAW,CAAE/F,OAAQ,OAAQvD,MAAO,2BAAQkJ,MAAOhB,GACnD/B,OAAQ,CAAE5C,OAAQ,OAAQvD,MAAO,qBAAOkJ,MAAOb,GAC/CkB,SAAU,CAAEhG,OAAQ,OAAQvD,MAAO,sBACnCwJ,MAAO,CAAEjG,OAAQ,OAAQvD,MAAO,QAASkJ,MAAOZ,EAAiBrG,YAAa,SAC9EwH,IAAK,CAAElG,OAAQ,OAAQvD,MAAO,eAAMkJ,MAAOX,GAC3CmB,QAAS,CACLnG,OAAQ,KAAMvD,MAAO,2BACrB2J,OAAO,WAAD,4BAAE,WAAO9F,EAAkB9D,EAAcoI,GAAvC,SAAArE,EAAA,sEAA+D,EAAKnE,WAAWiK,YAAY/F,EAAS9D,EAAMoI,GAA1G,mFAAF,uDAAC,GACP0B,QAAS,SAACH,GACN,OAAKA,EACEI,YAAGJ,GAAS,SAACK,GAAkB,IAC5BC,EAAoCD,EAApCC,QAASC,EAA2BF,EAA3BE,SAAUC,EAAiBH,EAAjBG,KAAMC,EAAWJ,EAAXI,OAE/B,OAAO,qCACU9J,IAAZ2J,QAAwC3J,IAAf2J,EAAQ3G,IAAoByG,YAAGE,GAAS,SAAAvJ,GAAC,OAAI,gCAAGA,EAAE2J,qBAC9D/J,IAAb4J,QAA0C5J,IAAhB4J,EAAS5G,IAAoByG,YAAGG,GAAU,SAACxJ,GAAD,OAAO,gCAAGA,EAAE2J,qBACvE/J,IAAT6J,QAAkC7J,IAAZ6J,EAAK7G,IAAoByG,YAAGI,GAAM,SAACzJ,GAAD,OAAO,gCAAGA,EAAE2J,qBACzD/J,IAAX8J,QAAsC9J,IAAd8J,EAAO9G,IAAoByG,YAAGK,GAAQ,SAAC1J,GAAD,OAAO,gCAAGA,EAAE2J,oBAEhF,WACC,OAAO,yBAAOvI,UAAU,cAAjB,qCAXU,yBAAOA,UAAU,cAAjB,cAe7BwI,cAAe,CAAE9G,OAAQ,OAAQvD,MAAO,2BAAQkJ,MAAOV,GACvD8B,QAAS,CAAE/G,OAAQ,OAAQvD,MAAO,eAAMkJ,MAAOR,GAC/C6B,UAAW,CAAEhH,OAAQ,WAAYvD,MAAO,iCAAS0D,cAAc,GAC/DC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,kBAhE/C,EAoEYwK,sBApEZ,sBAoEoC,sBAAA1G,EAAA,yDACvB,EAAKb,KADkB,iEAEtB,EAAKA,KAAKiB,YAAY,UAFA,2CApEpC,EAwEYN,kBAxEZ,uCAwEgC,WAAO7D,EAAc8D,GAArB,iBAAAC,EAAA,6DAClB2G,EAAwB,EAAK9K,WAA7B8K,oBACFpH,EAAK,EAAKwB,MAAQ,EAAKA,KAAKxB,GAFR,SAGlBoH,EAAoBpH,EAAIQ,EAAQZ,KAAKe,KAAM,EAAKc,QAH9B,OAIxB,EAAK4F,YAJmB,2CAxEhC,0DA+EYnJ,KAAO4D,aAAS,WAEpB,IAAIhB,EAAS,uBAAKtC,UAAU,UACxB,uBAAKA,UAAU,mCACX,0BAAQiB,KAAK,SAASjB,UAAU,4BAA4BK,QAAS,EAAKsI,uBAAwB,wBAAM3I,UAAU,QAAhB,mBAI1G,OAAO,gBAAC,IAAD,CAAMjB,OAAO,iCAAQuD,OAAQA,EAAQ9B,gBAAgB,cACxD,gBAAC,IAAD,CAAMkC,IAAK,SAAA9D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,YACrC2C,SAAU,EAAKK,KACfhC,OAAQ,EAAKA,OACbM,SAAU,EAAKA,SACfsB,cAAe,EAAKb,kBACpB+G,cAAc,QA7F9B,6GAIejL,GAJf,yEAKcmF,EAAiBnF,EAAjBmF,KAAMC,EAAWpF,EAAXoF,OACZhE,KAAK+D,KAAOA,EACZ/D,KAAKgE,OAASA,EACdhE,KAAKC,SAASD,KAAKS,MAR3B,4GAAsCP,KCNzB4J,GAAb,2MAEYC,qBAFZ,IASYtJ,KAAO,WACX,IAAIuJ,EAAsBzG,IAAEC,MAAM,EAAKuG,iBACjC9F,EAAgJ+F,EAAhJ/F,GAAIhF,EAA4I+K,EAA5I/K,KAAMkJ,EAAsI6B,EAAtI7B,UAAWE,EAA2H2B,EAA3H3B,SAAUjD,EAAiH4E,EAAjH5E,OAAQkD,EAAyG0B,EAAzG1B,WAAYC,EAA6FyB,EAA7FzB,eAAgBC,EAA6EwB,EAA7ExB,UAAWnD,EAAkE2E,EAAlE3E,OAAQqD,EAA0DsB,EAA1DtB,MAAOC,EAAmDqB,EAAnDrB,IAAKa,EAA8CQ,EAA9CR,QAASf,EAAqCuB,EAArCvB,SAAUc,EAA2BS,EAA3BT,cAAeX,EAAYoB,EAAZpB,QAEtI9I,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,qDAGJ,OAAO,gBAAC,IAAD,CAAMjB,OAAQA,EAAQyB,gBAAgB,cACzC,uBAAKR,UAAU,sBACX,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,4FAErH,uBAAKA,UAAU,qBACX,2BAAK,wBAAMA,UAAU,qBAAhB,8BAA0D,4BAAOkD,IACtE,2BAAK,wBAAMlD,UAAU,sBAAhB,8BAA2D,4BAAO9B,IACvE,2BAAK,wBAAM8B,UAAU,sBAAhB,8BAA2D,4BAAOsH,IACvE,2BAAK,wBAAMtH,UAAU,sBAAhB,4BAAgE,4BAAOoH,IAC5E,2BAAK,wBAAMpH,UAAU,qBAAhB,8BAA0D,4BAAkB,MAAXqE,EAAiB,SAAM,WAC7F,2BAAK,wBAAMrE,UAAU,sBAAhB,8BAA2D,4BAAOuH,IACvE,2BAAK,wBAAMvH,UAAU,sBAAhB,kCAAiD,4BAAOwH,IAC7D,2BAAK,wBAAMxH,UAAU,qBAAhB,kCAAgD,4BAAOyH,IAC5D,2BAAK,wBAAMzH,UAAU,qBAAhB,gCAAqD,4BAAOsE,IACjE,2BAAK,wBAAMtE,UAAU,sBAAhB,gCAAsD,4BAAO0H,IAClE,2BAAK,wBAAM1H,UAAU,qBAAhB,oBAAwD,4BAAO2H,IACpE,2BAAK,wBAAM3H,UAAU,sBAAhB,8BAA2D,4BAAO4H,IACvE,2BAAK,wBAAM5H,UAAU,sBAAhB,kCAAiD,4BAAO6H,IAC7D,2BAAK,wBAAM7H,UAAU,qBAAhB,kCAAgD,4BAAOwI,IAC5D,2BAAK,wBAAMxI,UAAU,sBAAhB,8BAA2D,4BAAOyI,QArC3F,6GAIeO,GAJf,iEAKQ/J,KAAK+J,gBAAkBA,EACvB/J,KAAKC,SAASD,KAAKS,MAN3B,4GAA4CP,KCG/B+J,GAAuB,CAChCC,QAAS,uDACTC,QAAS,QACTC,ICTmB,GDUnBC,IAAK,sBAGIC,GACF,GETEC,GAAb,2MACYC,gBADZ,IAEYC,YAFZ,IAGYC,cAHZ,IAIYC,UAAY,EAJxB,EAWYlK,KAAO,SAAC7B,GAEZ,OADA,EAAK+L,YACE,gBAAC,IAAD,CAAM7K,OAAO,uCAASyB,gBAAgB,cACzC,uBAAKR,UAAU,kBACVnC,EAAMgM,UAAUlL,KAAI,SAACC,GAAD,OAAY,EAAKkL,UAAUlL,EAAEwJ,SAAU,EAAK2B,uBAfjF,EAoBYD,UAAY,SAACE,EAAY3J,GAC7B,OAAO,uBAAKF,IAAK6J,EAAIxI,GAAIxB,UAAU,0CAC9BiI,YAAG+B,GAAK,SAAC1D,GAAW,IACX9E,EAAoB8E,EAApB9E,GAAI+G,EAAgBjC,EAAhBiC,YACV,OAAO,gCACH,uBAAKvI,UAAU,iBAAiBK,QAAS,kBAAMA,EAAQmB,IACnDlB,MAAO,CAAE2J,OAAQ,oBAAqBC,YAAa,OAAQC,aAAc,SAEzE,wBAAMnK,UAAU,qBACZ,gBAAC,IAAD,CAAI9B,KAAK,gBAAgB8B,UAAU,oBADvC,QAEYuI,UA9BpC,EAsCYwB,gBAtCZ,uCAsC8B,WAAON,GAAP,iBAAAxH,EAAA,6DACtB,EAAKwH,WAAaA,EADI,SAEH,EAAK3L,WAAWsM,kBAAkBX,GAF/B,YAElBY,EAFkB,4BAKN,KADRC,EAAMD,EAAOzD,QAJC,iCAMR,EAAK2D,YAAYF,EAAO,GAAGhC,KAAK7G,IANxB,8CASd8I,EAAM,GATQ,wBAUd,EAAKV,YACL,EAAKY,gBAAgB,gBAAC,IAAD,CAAMzL,OAAO,wCAC9B,uBAAKiB,UAAU,kBACVqK,EAAO1L,KAAI,SAAAC,GAAC,OAAI,EAAKkL,UAAUlL,EAAEyJ,KAAM,EAAKkC,mBAbvC,mDAmBlB,EAAK1B,UAAU,EAAKe,WACpB,EAAKa,cApBa,4CAtC9B,wDA8DYF,YA9DZ,uCA8D0B,WAAOb,GAAP,eAAAzH,EAAA,6DAClB,EAAKyH,OAASA,EADI,SAEG,EAAK5L,WAAW4M,gBAAgBhB,GAFnC,QAEdiB,EAFc,SAGFA,EAAS/D,OAAS,GAC9B,EAAKgD,YACL,EAAKY,gBAAgB,gBAAC,IAAD,CAAMzL,OAAO,wCAC9B,uBAAKiB,UAAU,kBACV2K,EAAShM,KAAI,SAAAC,GAAC,OAAI,EAAKkL,UAAUlL,EAAE0J,OAAQ,EAAKsC,uBAIzD,EAAK/B,UAAU,EAAKe,WACpB,EAAKa,eAZS,2CA9D1B,wDA8EYG,cA9EZ,uCA8E4B,WAAOjB,GAAP,SAAA1H,EAAA,sDACpB,EAAK0H,SAAWA,EAChB,EAAKd,UAAU,EAAKe,WACpB,EAAKa,cAHe,2CA9E5B,wDAoFYA,YApFZ,sBAoF0B,sBAAAxI,EAAA,sEACZ,EAAKnE,WAAW2M,YAAYlB,GAAe,EAAKE,WAAY,EAAKC,OAAQ,EAAKC,UADlE,2CApF1B,6GAMe9L,GANf,uFAO8BoB,KAAKnB,WAAW+M,mBAAmBtB,IAPjE,OAOYM,EAPZ,OAQQ5K,KAAKC,SAASD,KAAKS,KAAM,CAAEmK,UAAWA,IAR9C,4GAA8B1K,KCJjB2L,GAAb,2MAKID,mBALJ,uCAKyB,WAAOE,GAAP,SAAA9I,EAAA,sEACJ,EAAKsD,IAAIyF,OAAOC,oBAAoBC,MAAM,CAAE/C,QAAS4C,IADjD,mFALzB,wDASIX,kBATJ,uCASwB,WAAOX,GAAP,SAAAxH,EAAA,sEACH,EAAKsD,IAAIyF,OAAOG,kBAAkBD,MAAM,CAAE9C,SAAUqB,IADjD,mFATxB,wDAaIiB,gBAbJ,uCAasB,WAAOhB,GAAP,SAAAzH,EAAA,sEACD,EAAKsD,IAAIyF,OAAOI,gBAAgBF,MAAM,CAAE7C,KAAMqB,IAD7C,mFAbtB,wDAiBIe,YAjBJ,uCAiBkB,WAAOM,EAAmBtB,EAAoBC,EAAiBC,GAA/D,mBAAA1H,EAAA,6DACJoJ,EAAY,EAAK9F,IAAIyF,OAArBK,QADI,SAEaA,EAAQvF,UAAKtH,EAAW,CAAE2J,QAAS4C,EAAW3C,SAAUqB,EAAYpB,KAAMqB,EAAQpB,OAAQqB,IAFvG,OAEN2B,EAFM,OAGNC,EAAYD,GAAcD,EAAQG,MAAMF,EAAW9J,IACvD,EAAKiK,WAAWF,GAJN,2CAjBlB,qPAEQtM,KAAK8B,UAAUyI,IAFvB,2GAA8BpK,GC2BjBsM,IAlBqBrG,IAkBlC,oQAOI0C,YAPJ,uCAOkB,WAAO/F,EAAkB9D,EAAcoI,GAAvC,eAAArE,EAAA,6DACN0J,EAAW,EAAKC,KAAKd,IADf,SAEGa,EAASE,OAFZ,mFAPlB,4DAaI/H,0BAA4B,SAACgI,GACzB,IAAIjO,EAAsB,CACtBoF,OAAQ6I,EACR9I,UAAMxE,EACNqG,WAAOrG,GAEX,EAAKuC,UAAUkG,GAAkBpJ,IAnBzC,EAsBIsG,wBAtBJ,uCAsB8B,WAAOlB,EAAa6I,GAApB,eAAA7J,EAAA,sDAClBpE,EAAsB,CACtBoF,OAAQA,EACRD,KAAM8I,EACNjH,MAAOiH,GAEX,EAAK/K,UAAUkG,GAAkBpJ,GANX,2CAtB9B,0DA+BIuG,0BA/BJ,uCA+BgC,WAAO0H,GAAP,SAAA7J,EAAA,sDACxB,EAAKlB,UAAUgI,GAAwB+C,GADf,2CA/BhC,wDAmCIlD,oBAnCJ,uCAmC0B,WAAOpH,EAAY3D,EAAYoF,GAA/B,iDAAAhB,EAAA,6DACZ/D,EAAuJL,EAAvJK,KAAMkJ,EAAiJvJ,EAAjJuJ,UAAWE,EAAsIzJ,EAAtIyJ,SAAUjD,EAA4HxG,EAA5HwG,OAAQkD,EAAoH1J,EAApH0J,WAAYC,EAAwG3J,EAAxG2J,eAAgBC,EAAwF5J,EAAxF4J,UAAWnD,EAA6EzG,EAA7EyG,OAAQqD,EAAqE9J,EAArE8J,MAAOC,EAA8D/J,EAA9D+J,IAAKa,EAAyD5K,EAAzD4K,QAASf,EAAgD7J,EAAhD6J,SAAUc,EAAsC3K,EAAtC2K,cAAeX,EAAuBhK,EAAvBgK,QAASa,EAAc7K,EAAd6K,UAC3IqD,EAAQ,CAAE7N,KAAMA,EAAMkJ,UAAWA,EAAWE,SAAUA,EAAUjD,OAAQA,EAAQkD,WAAYA,EAAYC,eAAgBA,EAAgBC,UAAWA,EAAWnD,OAAQA,EAAQqD,MAAOA,EAAOC,IAAKA,EAAKa,QAASA,EAASf,SAAUA,EAAUc,cAAeA,EAAeX,QAASA,EAASnE,SAAUT,EAAOzB,GAAII,QAAS,GAF5S,SAGC,EAAK2D,IAAIC,IAAIwG,gBAAgBlG,KAAKtE,EAAIuK,GAHvC,UAGdE,EAHc,QAIA,IAAdvD,EAJc,6BAMFlK,KADR0N,EAAM1K,KAEN0K,EAAMD,EAAOzK,IAPH,UASR,EAAK+D,IAAIC,IAAIK,SAASC,KAAK7C,EAAOzB,GAAI,CAAE0B,GAAID,EAAOC,GAAIhF,KAAM+E,EAAO/E,KAAMyD,aAAcsB,EAAOtB,aAAcyB,WAAYH,EAAOG,WAAYxB,QAAS,EAAG2C,eAAgB2H,IAThK,QAWlB,EAAKvM,KAAK5B,MAAM+C,QAXE,4CAnC1B,4DAiDIoD,mBAjDJ,uCAiDyB,WAAOjB,EAAa6I,GAApB,iDAAA7J,EAAA,6DACXT,EAAkLsK,EAAlLtK,GAAI0B,EAA8K4I,EAA9K5I,GAAIhF,EAA0K4N,EAA1K5N,KAAMkJ,EAAoK0E,EAApK1E,UAAWE,EAAyJwE,EAAzJxE,SAAUoB,EAA+IoD,EAA/IpD,UAA+IoD,EAApIlK,QAAS8B,EAA2HoI,EAA3HpI,SAAUW,EAAiHyH,EAAjHzH,OAAQkD,EAAyGuE,EAAzGvE,WAAYC,EAA6FsE,EAA7FtE,eAAgBC,EAA6EqE,EAA7ErE,UAAWnD,EAAkEwH,EAAlExH,OAAQqD,EAA0DmE,EAA1DnE,MAAOC,EAAmDkE,EAAnDlE,IAAKa,EAA8CqD,EAA9CrD,QAASf,EAAqCoE,EAArCpE,SAAUc,EAA2BsD,EAA3BtD,cAAeX,EAAYiE,EAAZjE,QAD3J,SAEX,EAAKtC,IAAIC,IAAIwG,gBAAgBlG,KAAKtE,EAAI,CAAE0B,GAAIA,EAAIhF,KAAMA,EAAMkJ,UAAWA,EAAWE,SAAUA,EAAU5D,SAAUA,EAAUW,OAAQA,EAAQkD,WAAYA,EAAYC,eAAgBA,EAAgBC,UAAWA,EAAWnD,OAAQA,EAAQqD,MAAOA,EAAOC,IAAKA,EAAKa,QAASA,EAASf,SAAUA,EAAUc,cAAeA,EAAeX,QAASA,EAASa,UAAWA,EAAW9G,QAAS,IAF1W,uBAGX,EAAK2D,IAAIC,IAAIQ,sBAAsBC,MAAM,CAAEC,IAAK4F,EAAMtK,KAH3C,OAIjB,EAAKqH,YAJY,2CAjDzB,0DAwDInK,SAxDJ,uCAwDe,WAAOuE,GAAP,SAAAhB,EAAA,sEACD,EAAKtC,KAAKC,UAAUyD,mBAAmBJ,GADtC,2CAxDf,wDA6DIkJ,oBA7DJ,uCA6D0B,WAAOL,GAAP,qBAAA7J,EAAA,6DACZT,EAAOsK,EAAPtK,GADY,SAED,EAAK+D,IAAIC,IAAIQ,sBAAsBC,MAAM,CAAEC,IAAK1E,IAF/C,OAEdwB,EAFc,OAGd6B,EAAQ7B,EAAKoC,IAAIwB,OAAS,EAAI5D,EAAKoC,SAAM5G,EACzCX,EAAsB,CACtBoF,YAAQzE,EACRwE,KAAMA,EAAKoC,IAAI,GACfP,MAAOA,GAEX,EAAK9D,UAAU0C,EAAiB5F,GATd,2CA7D1B,8UAAsCuB,GAAtC,iDAEKgH,KAFL,iECxBMpF,GAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,WAAY+C,KAAM,KAAMC,UAAU,GAC1C,CAAEhD,KAAM,QAAS+C,KAAM,KAAMC,UAAU,GACvC,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,UAAWC,UAAU,IAGpCkL,GAAb,2MAEYhL,UAFZ,IAGYiL,iBAHZ,IAKY/K,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACfiC,SAAU,CACNhC,OAAQ,KAAMvD,MAAO,qBAAOiC,YAAa,uCACzC0H,OAAO,WAAD,4BAAE,WAAO9F,EAAkB9D,EAAcoI,GAAvC,SAAArE,EAAA,sEAA+D,EAAKnE,WAAWwO,aAAatK,EAAS9D,EAAMoI,GAA3G,mFAAF,uDAAC,GACP0B,QAAS,SAAChF,GAEN,OAAKA,EACE,gCACFiF,YAAGjF,GAAM,SAAApE,GAAC,OAAI,gCAAGA,EAAEV,UAFN,yBAAO8B,UAAU,cAAjB,0CAM1BuM,MAAO,CACH7K,OAAQ,KAAMvD,MAAO,eAAMiC,YAAa,iCACxC0H,OAAO,WAAD,4BAAE,WAAO9F,EAAkB9D,EAAcoI,GAAvC,SAAArE,EAAA,sEAA+D,EAAKnE,WAAW0O,UAAUxK,EAAS9D,EAAMoI,GAAxG,mFAAF,uDAAC,GACP0B,QAAS,SAAChF,GAEN,OAAKA,EACE,gCACFiF,YAAGjF,GAAM,SAAApE,GAAC,OAAI,gCAAGA,EAAEsE,QAFN,yBAAOlD,UAAU,cAAjB,oCAM1ByM,OAAQ,CAAE/K,OAAQ,OAAQvD,MAAO,wCACjCuO,OAAQ,CAAEhL,OAAQ,OAAQvD,MAAO,gBACjCwO,OAAQ,CAAEjL,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GACzDC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,kBAjC/C,EA0CY4D,kBA1CZ,uCA0CgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKnE,WAAW8O,gBAAgB5K,EAAQZ,KAAKe,MAD3B,2CA1ChC,0DA8CY0K,kBA9CZ,sBA8CgC,sBAAA5K,EAAA,yDACnB,EAAKb,KADc,iEAElB,EAAKA,KAAKiB,YAAY,UAFJ,2CA9ChC,EAmDYyK,iBAAmB,WAAO,IAExBC,EAAa,EAAKjP,WAAlBiP,SACA7J,EAAqF6J,EAArF7J,GAAI8J,EAAiFD,EAAjFC,IAAKjH,EAA4EgH,EAA5EhH,YAAakH,EAA+DF,EAA/DE,cAAeC,EAAgDH,EAAhDG,gBAAiBC,EAA+BJ,EAA/BI,gBAA+BJ,EAAdK,UAE7E,OAAO,uBAAKpN,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,uDAErH,uBAAKA,UAAU,qBACX,2BAAK,wBAAMA,UAAU,qBAAhB,eAAwD,gCAAQkD,IACrE,2BAAK,wBAAMlD,UAAU,sBAAhB,iBAA6D,gCAAQgN,IAC1E,2BAAK,wBAAMhN,UAAU,sBAAhB,kCAAiD,4BAAO+F,IAC7D,2BAAK,wBAAM/F,UAAU,sBAAhB,kCAAiD,4BAAOiN,IAC7D,2BAAK,wBAAMjN,UAAU,sBAAhB,gCAAsD,4BAAOkN,IAClE,2BAAK,wBAAMlN,UAAU,sBAAhB,gCAAsD,4BAAOmN,OAlElF,EAuEYzN,KAAO,WACX,IAEI4C,EAFAC,EAAkBC,IAAEC,MAAM,EAAK4J,aAOnC,OAJA/J,EAAS,0BAAQrB,KAAK,SAClBjB,UAAU,wBACVK,QAAS,EAAKwM,mBAFT,gBAIF,gBAAC,IAAD,CAAM9N,OAAO,2BAAOuD,OAAQA,EAAQ9B,gBAAgB,cACtD,EAAKsM,mBACN,uBAAK9M,UAAU,YACX,gBAAC,IAAD,CAAM0C,IAAK,SAAA9D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfqB,SAAUJ,EACVK,cAAe,EAAKb,kBACpBc,eAAgB,OAvFpC,6GAqCewJ,GArCf,iEAsCQpN,KAAKoN,YAAcA,EACnBpN,KAAKC,SAASD,KAAKS,MAvC3B,4GAAiCP,KCT3B6B,GAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,UAAWC,UAAU,IAGpCmM,GAAb,2MAEYjM,UAFZ,IAGYiL,iBAHZ,IAKY/K,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACfgL,OAAQ,CAAE/K,OAAQ,OAAQvD,MAAO,wCACjCuO,OAAQ,CAAEhL,OAAQ,OAAQvD,MAAO,gBACjCwO,OAAQ,CAAEjL,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GACzDC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,kBAX/C,EAoBY4D,kBApBZ,uCAoBgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKnE,WAAWwP,kBAAkB,EAAKjB,YAAarK,EAAQZ,KAAKe,MAD/C,2CApBhC,0DAwBY0K,kBAxBZ,sBAwBgC,sBAAA5K,EAAA,yDACnB,EAAKb,KADc,iEAElB,EAAKA,KAAKiB,YAAY,UAFJ,2CAxBhC,EA6BYkL,gBAAkB,SAACC,GAAkB,IAEnC9J,EAA4H8J,EAA5H9J,SAAU6I,EAAkHiB,EAAlHjB,MAAexG,GAAmGyH,EAA3Gf,OAA2Ge,EAAnGzH,aAAa0H,EAAsFD,EAAtFC,aAAoCT,GAAkDQ,EAAxEpK,WAAwEoK,EAA5DT,SAA4DS,EAAlDR,KAAaE,GAAqCM,EAA7Cd,OAA6Cc,EAArCN,iBAAiBC,EAAoBK,EAApBL,gBAClGO,EAAiBhK,EAASiK,IAAhCzP,KACF0P,OAAoBpP,IAAV+N,OAAsB/N,EAAY+N,EAAMoB,IAAIzK,GAE1D,OAAO,uBAAKlD,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,uDAErH,uBAAKA,UAAU,qBACX,2BAAK,wBAAMA,UAAU,sBAAhB,gCAAsD,4BAAO0N,IAClE,2BAAK,wBAAM1N,UAAU,sBAAhB,8BAA2D,4BAAO4N,IACvE,2BAAK,wBAAM5N,UAAU,sBAAhB,sBAA6D,4BAAOgN,IACzE,2BAAK,wBAAMhN,UAAU,sBAAhB,kCAAiD,4BAAO+F,IAC7D,2BAAK,wBAAM/F,UAAU,sBAAhB,kCAAiD,4BAAOyN,IAC7D,2BAAK,wBAAMzN,UAAU,sBAAhB,gCAAsD,4BAAOkN,IAClE,2BAAK,wBAAMlN,UAAU,sBAAhB,gCAAsD,4BAAOmN,OA9ClF,EAoDYzN,KAAO,WACX,IAEI4C,EAFAC,EAAkBC,IAAEC,MAAM,EAAK4J,aAOnC,OAJA/J,EAAS,0BAAQrB,KAAK,SAClBjB,UAAU,wBACVK,QAAS,EAAKwM,mBAFT,gBAIF,gBAAC,IAAD,CAAM9N,OAAO,2BAAOuD,OAAQA,EAAQ9B,gBAAgB,cACtD,EAAK+M,gBAAgBhL,GACtB,uBAAKvC,UAAU,YACX,gBAAC,IAAD,CAAM0C,IAAK,SAAA9D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfqB,SAAUJ,EACVK,cAAe,EAAKb,kBACpBc,eAAgB,OApEpC,6GAeewJ,GAff,iEAgBQpN,KAAKoN,YAAcA,EACnBpN,KAAKC,SAASD,KAAKS,MAjB3B,4GAAkCP,KCNrB0O,GAAb,2MACYL,aADZ,IAEYM,kBAFZ,IAGYC,SAAkB,GAH9B,EAaYC,WAAa,WAAO,IAClBC,EAAsB,EAAKnQ,WAAW6B,KAAKuO,SAA3CD,kBAEN,OAAO,uBAAKjO,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,UAAU,wBAAM8B,UAAU,6BAA4B,wDAE9G,EAAK8N,cAAgB,gBAAC,IAAD,CAAMvM,MAAO,EAAKwM,SAAU/K,KAAM,CAAEpF,OAAQ,EAAKuQ,iBACvE,uBAAKnO,UAAU,+CAA+CK,QAAS,kBAAM4N,EAAkB,EAAKT,WAAU,gBAAC,IAAD,CAAItP,KAAK,SAAvH,kBArBZ,EA0BYiQ,cAAgB,SAACnL,EAAWiB,GAAmB,IAAD,EACL,EAAKnG,WAAW6B,KAAKuO,SAA5DE,EAD4C,EAC5CA,gBAAiBC,EAD2B,EAC3BA,kBACbC,GAA+BtL,EAAnCxB,GAAmCwB,EAA/BsL,QAAQC,EAAuBvL,EAAvBuL,OAAQC,EAAexL,EAAfwL,KAAMvN,EAAS+B,EAAT/B,KAE5BwN,GADqB,EAAKjB,QAAxBjJ,eACkB,IAAX+J,EAAgB,gCAAGA,EAAH,MAAcC,EAAQC,GAAW,gCAAGD,EAAQC,IACrE9J,EAAO,uBAAK1E,UAAU,aAAaK,QAAS,kBAAMgO,EAAkBrL,KACpE,gBAAC,IAAD,CAAI9E,KAAK,OAAO8B,UAAU,sBACzByO,EAFM,MAEa,IAATxN,EAAa,eAAO,sBAC/BlB,EACA,uBAAKC,UAAU,oCACX,wBAAMK,QAAS,kBAAM+N,EAAgB,EAAKZ,QAASxK,KAAO,gBAAC,IAAD,CAAIhD,UAAU,4CAA4C9B,KAAK,WAEjI,OAAO,gBAAC,IAAD,CAAKwG,KAAMA,EAAM3E,MAAOA,EAAOC,UAAU,UAtCxD,EA0CY2E,OAAS,WACKnC,IAAEC,MAAM,EAAK+K,SAA/B,IADmB,EAG+G,EAAKA,QAAjI9J,EAHa,EAGbA,SAAU6I,EAHG,EAGHA,MAAOE,EAHJ,EAGIA,OAAQ1G,EAHZ,EAGYA,YAAa0H,EAHzB,EAGyBA,aAAoCT,GAH7D,EAGuC5J,WAHvC,EAGmD2J,SAHnD,EAG6DC,KAAKN,EAHlE,EAGkEA,OAAQQ,EAH1E,EAG0EA,gBAAiBC,EAH3F,EAG2FA,gBAClGO,EAAiBhK,EAASiK,IAAhCzP,KACF0P,OAAoBpP,IAAV+N,OAAsB/N,EAAY+N,EAAMoB,IAAIzK,GAE1D,OAAO,uBAAKlD,UAAU,sBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,uDAErH,uBAAKA,UAAU,2BACX,2BAAK,wBAAMA,UAAU,sBAAhB,wCAAkE,4BAAO0N,IAC9E,2BAAK,wBAAM1N,UAAU,sBAAhB,sCAAuE,4BAAO4N,IACnF,2BAAK,wBAAM5N,UAAU,sBAAhB,8BAAyE,4BAAOgN,IACrF,2BAAK,wBAAMhN,UAAU,sBAAhB,0CAA6D,4BAAO+F,IACzE,2BAAK,wBAAM/F,UAAU,sBAAhB,0CAA6D,4BAAOyN,IACzE,2BAAK,wBAAMzN,UAAU,sBAAhB,8CAAmD,4BAAOyM,IAC/D,2BAAK,wBAAMzM,UAAU,sBAAhB,sCAAuE,4BAAO0M,IACnF,2BAAK,wBAAM1M,UAAU,sBAAhB,wCAAkE,4BAAOkN,IAC9E,2BAAK,wBAAMlN,UAAU,sBAAhB,wCAAkE,4BAAOmN,OA9D9F,EAmEYzN,KAAO,WAEX,IAAIX,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,6BAGJ,OAAO,gBAAC,IAAD,CAAMjB,OAAQA,EAAQyB,gBAAgB,cACxC,EAAKmE,SACL,EAAKqJ,eA3ElB,6GAKenQ,GALf,2EAMcoF,EAAwBpF,EAAxBoF,OAAQD,EAAgBnF,EAAhBmF,KAAM6B,EAAUhH,EAAVgH,MACpB5F,KAAKuO,QAAUvK,EACfhE,KAAK6O,aAAe9K,EACpB/D,KAAK8O,SAAWlJ,EAChB5F,KAAKC,SAASD,KAAKS,MAV3B,4GAAoCP,KCFvBuP,GAAb,2MASY3L,mBAAqB,SAACC,EAAWC,GACgBD,EAA/CE,GADgD,IAC5C6C,EAA2C/C,EAA3C+C,YAAyBrC,GAAkBV,EAA9BI,WAA8BJ,EAAlBU,UAAUsJ,EAAQhK,EAARgK,IADQ,EAEV,EAAKlP,WAA1C6Q,EAF+C,EAE/CA,cAAeC,EAFgC,EAEhCA,kBAEjB7O,EAAQ,uBAAKC,UAAU,+BAA+BK,QAAS,kBAAMsO,EAAc3L,KACnF,gBAAC,IAAD,CAAI9E,KAAK,UAEb,OAAO,gBAAC,IAAD,CAAK6B,MAAOA,EAAOC,UAAU,QAChC,uBAAKK,QAAS,kBAAMuO,EAAkB5L,KAClC,2BACI,gBAAC,IAAD,CAAI9E,KAAK,iBAAiB8B,UAAU,sBACnCgN,EAFL,WAEsBjH,GAEtB,uBAAK/F,UAAU,yBAAyBiI,YAAGvE,GAAU,SAAA9E,GAAC,OAAI,gCAAGA,EAAEV,aAtB/E,EA2BYwB,KAAO4D,aAAS,WAAO,IAAD,EACyC,EAAKxF,WAAlE+Q,EADoB,EACpBA,SAAwBC,GADJ,EACVC,aADU,EACID,oBAAoBE,EADxB,EACwBA,aAE9CjP,EAAQ,uBAAKC,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,OACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiB2O,EAAmB3O,IAC9CC,YAAY,8DAChB,wBAAMC,QAAS,kBAAM2O,KAAgBhP,UAAU,YAC3C,qBAAGA,UAAU,0CACb,qBAAGA,UAAU,6BAGjBjB,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,iBAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQgB,MAAOA,EAAOkP,eAAgB,EAAKA,eAAgBzO,gBAAgB,cAC5F,gBAAC,IAAD,CAAMe,MAAOsN,EAAU7L,KAAM,CAAEpF,OAAQ,EAAKmF,oBAAsBS,KAAK,+DA5CnF,EAgDYyL,eAhDZ,sBAgD6B,sBAAAhN,EAAA,sEACf,EAAKnE,WAAW+Q,SAASK,OADV,2CAhD7B,6GAEerR,GAFf,2LAMQ,OAAO,qBAAM6B,KAAN,UANf,GAAkCP,KCArBgQ,GAAb,2MAKYzP,KAAO4D,aAAS,WAAO,IAAD,EACe,EAAKxF,WAAxCyF,EADoB,EACpBA,UAAWzD,EADS,EACTA,oBAEbf,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,mCAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQkQ,eAAgB,EAAKA,eAAgBzO,gBAAgB,cAC9E,gBAAC,IAAD,CAAWR,UAAU,iBACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiBL,EAAoBK,IAC/CC,YAAY,yCAChB,gBAAC,IAAD,CAAMmB,MAAOgC,EAAWP,KAAM,CAAEpF,OAAQ,EAAKwR,WAAY/O,QAAS,EAAKA,eAhBnF,EAqBY4O,eArBZ,sBAqB6B,sBAAAhN,EAAA,sEACf,EAAKnE,WAAWyF,UAAU2L,OADX,2CArB7B,EAyBY7O,QAzBZ,uCAyBsB,WAAOyL,GAAP,SAAA7J,EAAA,sEACR,EAAKnE,WAAWuR,eAAevD,GADvB,OAEd,EAAKjD,YAFS,2CAzBtB,wDA8BYuG,WAAa,SAACpM,EAAWiB,GAAmB,IAC1C/F,EAAS8E,EAAT9E,KACN,OAAO,gBAAC,IAAD,CAAK8B,UAAU,eAClB,2BAAK,gBAAC,IAAD,CAAI9B,KAAK,SAAS8B,UAAU,sBAA0B9B,KAjCvE,6GACeL,GADf,iEAEQoB,KAAKC,SAASD,KAAKS,MAF3B,4GAAmCP,KCK7B2F,G,YAGF,WAAYC,GAAqB,IAAD,8BAC5B,+CAFIC,oBACwB,EAE5B,EAAKC,UAAY,EAAKC,SAAW,GACjC,EAAKF,eAAiBD,EAHM,E,2GAMXlH,EAAYsH,EAAgBD,G,mFAC3B1G,IAAd2G,IAAyBA,EAAY,G,SACzBlG,KAAK+F,eAAetF,KAAK7B,EAAOsH,EAAWD,G,cAAvDE,E,yBACGA,G,8IAEYpC,GACnB/D,KAAKkG,eAAqB3G,IAATwE,EAAqB,EAAIA,EAAKxB,O,GAf5B6D,KAmBdiK,IAAb,0PASIxP,oBATJ,uCAS0B,WAAOK,GAAP,SAAA8B,EAAA,sDAClB,EAAKsB,UAAY,IAAIuB,GAAa,EAAKS,IAAIC,IAAIC,gBAC/C,EAAKlC,UAAUmC,MAAM,CAAEvF,IAAKA,IAFV,2CAT1B,wDAcIkP,eAAiB,SAACvD,GACd,EAAKL,WAAWK,IAfxB,sHAIwBjO,GAJxB,iEAKQoB,KAAKa,oBAAoBjC,GACzBoB,KAAK8B,UAAUoO,IANvB,4GAAmC/P,GAAnC,uCAEKgH,KAFL,iECvBMpF,GAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,KAAM+C,KAAM,SAAUC,UAAU,GACxC,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,UAAW+C,KAAM,UAAWC,UAAU,IAGrCqO,GAAb,2MAEYnO,UAFZ,IAGYoO,eAHZ,IAKYlO,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACfyB,GAAI,CAAExB,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,gBAClDlC,KAAM,CAAEwD,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,gBACpDwB,QAAS,CAAEF,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GAC1DC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,kBAX/C,EAoBY4D,kBApBZ,uCAoBgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKnE,WAAW2R,cAAczN,EAAQZ,KAAKe,MADzB,2CApBhC,0DAwBYuN,gBAxBZ,sBAwB8B,sBAAAzN,EAAA,yDACjB,EAAKb,KADY,iEAEhB,EAAKA,KAAKiB,YAAY,UAFN,2CAxB9B,EA6BY3C,KAAO,WACX,IAEI4C,EAFAC,EAAkBC,IAAEC,MAAM,EAAK+M,WAOnC,OAJAlN,EAAS,0BAAQrB,KAAK,SAClBjB,UAAU,wBACVK,QAAS,EAAKqP,iBAFT,gBAIF,gBAAC,IAAD,CAAM3Q,OAAO,2BAAOuD,OAAQA,EAAQ9B,gBAAgB,cACvD,uBAAKR,UAAU,YACX,gBAAC,IAAD,CAAM0C,IAAK,SAAA9D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfqB,SAAUJ,EACVK,cAAe,EAAKb,kBACpBc,eAAgB,OA5CpC,6GAee2M,GAff,iEAgBQvQ,KAAKuQ,UAAYA,EACjBvQ,KAAKC,SAASD,KAAKS,MAjB3B,4GAA4BP,KCRfwQ,GAAb,2MAKYjQ,KAAO4D,aAAS,WAAO,IAAD,EACqB,EAAKxF,WAA9C8R,EADoB,EACpBA,OAAQC,EADY,EACZA,iBAAkBC,EADN,EACMA,WAE5B/P,EAAQ,uBAAKC,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,OACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiB0P,EAAiB1P,IAC5CC,YAAY,yCAChB,wBAAMC,QAAS,kBAAMyP,KAAc9P,UAAU,YACzC,qBAAGA,UAAU,0CACb,qBAAGA,UAAU,6BAGjBjB,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,6BAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQgB,MAAOA,EAAOkP,eAAgB,EAAKA,eAAgBzO,gBAAgB,cAC5F,gBAAC,IAAD,CAAMe,MAAOqO,EAAQ5M,KAAM,CAAEpF,OAAQ,EAAKwR,WAAY/O,QAAS,EAAKA,eAtBhF,EA2BY4O,eA3BZ,sBA2B6B,sBAAAhN,EAAA,sEACf,EAAKnE,WAAW8R,OAAOV,OADR,2CA3B7B,EA+BY7O,QA/BZ,uCA+BsB,WAAOyL,GAAP,SAAA7J,EAAA,sEACR,EAAKnE,WAAWiS,YAAYjE,GADpB,OAEd,EAAKjD,YAFS,2CA/BtB,wDAoCYuG,WAAa,SAACpM,EAAWiB,GAAmB,IAC1Cf,EAAaF,EAAbE,GAAIhF,EAAS8E,EAAT9E,KACV,OAAO,gBAAC,IAAD,CAAK8B,UAAU,eAClB,2BAAK,gBAAC,IAAD,CAAI9B,KAAK,SAAS8B,UAAU,sBAA0BkD,EAA3D,MAAkEhF,KAvC9E,6GACeL,GADf,iEAEQoB,KAAKC,SAASD,KAAKS,MAF3B,4GAAgCP,KCI1B6Q,G,YAGF,WAAYjL,GAAqB,IAAD,8BAC5B,+CAFIkL,iBACwB,EAE5B,EAAKhL,UAAY,EAAKC,SAAW,GACjC,EAAK+K,YAAclL,EAHS,E,2GAMXlH,EAAYsH,EAAgBD,G,mFAC3B1G,IAAd2G,IAAyBA,EAAY,G,SACzBlG,KAAKgR,YAAYvQ,KAAK7B,EAAOsH,EAAWD,G,cAApDE,E,yBACGA,G,8IAEYpC,GACnB/D,KAAKkG,eAAqB3G,IAATwE,EAAqB,EAAIA,EAAKxB,O,GAf/B6D,KAmBX6K,IAAb,uPASIL,iBATJ,uCASuB,WAAO1P,GAAP,SAAA8B,EAAA,sDACf,EAAK2N,OAAS,IAAII,GAAU,EAAKzK,IAAIC,IAAI2K,aACzC,EAAKP,OAAOlK,MAAM,CAAEvF,IAAKA,IAFV,2CATvB,wDAcIsP,cAdJ,uCAcoB,WAAOlD,GAAP,SAAAtK,EAAA,8DAEKzD,IAAb+N,EAAM/K,GAFE,gCAGF,EAAK+D,IAAIC,IAAI4K,MAAMtK,UAAKtH,EAAW+N,GAHjC,6CAKF,EAAKhH,IAAIC,IAAI4K,MAAMtK,KAAKyG,EAAM/K,GAAI+K,GALhC,cAOZ,EAAK1D,YAPO,UAQN,EAAKgH,iBAAiB,IARhB,4CAdpB,wDA4BIC,WA5BJ,sBA4BiB,sBAAA7N,EAAA,sDACT,EAAKlB,UAAUwO,GAAQ,CAAExJ,iBAAavH,IAD7B,2CA5BjB,EAmCI6R,YAnCJ,uCAmCkB,WAAO9D,GAAP,SAAAtK,EAAA,sDACV,EAAKlB,UAAUwO,GAAQhD,GADb,2CAnClB,wDAuCIwD,YAAc,SAACjE,GACX,EAAKL,WAAWK,IAxCxB,sHAIwBjO,GAJxB,iEAKQoB,KAAK4Q,iBAAiBhS,GACtBoB,KAAK8B,UAAU4O,IANvB,4GAA4BvQ,GAA5B,oCAEKgH,KAFL,iECdMkK,G,YAGF,WAAYvL,GAAqB,IAAD,8BAC5B,+CAFIwL,mBACwB,EAE5B,EAAKtL,UAAY,EAAKC,SAAW,GACjC,EAAKqL,cAAgBxL,EAHO,E,2GAMXlH,EAAYsH,EAAgBD,G,mFAC3B1G,IAAd2G,IAAyBA,EAAY,G,SACzBlG,KAAKsR,cAAc7Q,KAAK7B,EAAOsH,EAAWD,G,cAAtDE,E,yBACGA,G,8IAEYpC,GACnB/D,KAAKkG,eAAqB3G,IAATwE,EAAqB,EAAIA,EAAKxB,O,GAf7B6D,KAmBbmL,IAAb,gQAGIzD,cAHJ,IAUI+B,mBAVJ,uCAUyB,WAAO3O,GAAP,SAAA8B,EAAA,sDACjB,EAAK4M,SAAW,IAAIyB,GAAY,EAAK/K,IAAIC,IAAIiL,eAC7C,EAAK5B,SAASnJ,MAAM,CAAEvF,IAAKA,IAFV,2CAVzB,wDAeImM,aAfJ,uCAemB,WAAOtK,EAAkB9D,EAAcoI,GAAvC,eAAArE,EAAA,6DACPyO,EAAgB,EAAK9E,KAAK0D,IADnB,SAEEoB,EAAc7E,OAFhB,mFAfnB,4DAoBIW,UApBJ,uCAoBgB,WAAOxK,EAAkB9D,EAAcoI,GAAvC,eAAArE,EAAA,6DACJ0O,EAAS,EAAK/E,KAAKsE,IADf,SAEKS,EAAO9E,OAFZ,mFApBhB,4DAyBImD,aAzBJ,sBAyBmB,sBAAA/M,EAAA,sEACW,EAAKtC,KAAKiR,UAAU/E,OAD/B,yDAzBnB,EA6BIe,gBA7BJ,uCA6BsB,WAAOY,GAAP,6BAAAvL,EAAA,8DAEKzD,IAAfgP,EAAQhM,GAFE,qBAGN,EAAKuL,SAHC,0BAI0E,EAAKA,SAA/EvL,EAJA,EAIAA,GAAIwL,EAJJ,EAIIA,IAAKjH,EAJT,EAISA,YAAakH,EAJtB,EAIsBA,cAAeC,EAJrC,EAIqCA,gBAAiBC,EAJtD,EAIsDA,gBAC5DK,EAAQzH,YAAcA,EACtByH,EAAQC,aAAeR,EACvBO,EAAQpK,WAAauC,KAAKC,MAC1B4H,EAAQjJ,oBAAiB/F,EARnB,SASa,EAAK+G,IAAIC,IAAIqL,QAAQ/K,UAAKtH,EAAWgP,GATlD,cASFvB,EATE,iBAUA,EAAK1G,IAAIC,IAAIsL,gBAAgBC,IAAI,CAAEvD,QAASvB,EAAOzK,GAAIwP,KAAM,CAAC,CAAEjE,SAAUvL,EAAIwL,IAAKA,EAAKE,gBAAiBA,EAAiBC,gBAAiBA,EAAiBT,OAAQc,EAAQd,WAV5K,eAad,EAAK7D,YAbS,UAcR,EAAKnK,WAdG,4CA7BtB,wDA8CI4O,kBA9CJ,uCA8CwB,WAAO2D,EAAkBnF,GAAzB,eAAA7J,EAAA,0DAEZgP,EAFY,uBAGZA,EAAYxE,OAASX,EAAMW,OAC3BwE,EAAYtE,OAAS,EACfI,EAAakE,EAAblE,SALM,SAMN,EAAKxH,IAAIC,IAAIqL,QAAQ/K,KAAKgG,EAAMtK,GAAIyP,GAN9B,uBAON,EAAK1L,IAAIC,IAAIsL,gBAAgBC,IAAI,CAAEvD,QAAS1B,EAAMtK,GAAIwP,KAAM,CAAC,CAAEjE,SAAUA,EAASvL,GAAIwL,IAAKiE,EAAYjE,IAAKE,gBAAiB+D,EAAY/D,gBAAiBC,gBAAiB8D,EAAY9D,gBAAiBT,OAAQZ,EAAMY,WAPhN,cAShB,EAAK7D,YATW,UAUV,EAAKnK,WAVK,4CA9CxB,0DA8DIqQ,aA9DJ,uCA8DmB,WAAOjD,GAAP,SAAA7J,EAAA,sDACX,EAAK8K,SAAWjB,EAChB,EAAK/K,UAAUqL,GAAa,CAAEoB,aAAShP,IAF5B,2CA9DnB,wDAsEImQ,cAtEJ,uCAsEoB,WAAOnB,GAAP,SAAAvL,EAAA,sDACZ,EAAKlB,UAAUsM,GAAcG,GADjB,2CAtEpB,wDA6EIoB,kBA7EJ,uCA6EwB,WAAO9C,GAAP,mBAAA7J,EAAA,6DACVT,EAAOsK,EAAPtK,GADU,SAEE,EAAK+D,IAAIC,IAAI0L,QAAQjL,MAAM,CAAEC,IAAK1E,IAFpC,OAEZ2P,EAFY,OAGZtT,EAAsB,CACtBoF,OAAQ6I,EACR9I,KAAMmO,EAAM/L,IAAI,GAChBP,MAAOsM,EAAM/L,KAEjB,EAAKrE,UAAU8M,GAAgBhQ,GARf,2CA7ExB,wDAwFIa,SAxFJ,sBAwFe,sBAAAuD,EAAA,sEACD,EAAK6M,mBAAmB,IADvB,2CAxFf,EA4FIlR,OAAS0F,aAAS,WACd,OAAO,EAAKzC,WAAW6N,OA7F/B,EAgGIpQ,IAAM,WACF,OAAO,gBAAC,EAAKV,OAAN,OAjGf,sHAKwBC,GALxB,iEAMQoB,KAAK6P,mBAAmBjR,GACxBoB,KAAK8B,UAAU2N,IAPvB,4GAA8BtP,GAA9B,sCAEKgH,KAFL,iEC5BagL,GAAb,2MAKY1R,KAAO4D,aAAS,WAAO,IAAD,EACe,EAAKxF,WAAxCuT,EADoB,EACpBA,UAAWC,EADS,EACTA,oBACXvC,EAAiB,EAAKjR,WAAW6B,KAAK3B,SAAtC+Q,aAEFhQ,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,uBAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQkQ,eAAgB,EAAKA,eAAgBzO,gBAAgB,cAC9E,gBAAC,IAAD,CAAWR,UAAU,iBACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiBmR,EAAoBnR,IAC/CC,YAAY,8DAChB,gBAAC,IAAD,CAAMmB,MAAO8P,EAAWrO,KAAM,CAAEpF,OAAQ,EAAKwR,WAAY/O,QAAS0O,SAjB9E,EAsBYE,eAtBZ,sBAsB6B,sBAAAhN,EAAA,sEACf,EAAKnE,WAAWuT,UAAUnC,OADX,2CAtB7B,EA2BYE,WAAa,SAACpM,EAAWiB,GAAmB,IAC1C+I,EAAqBhK,EAArBgK,IAAKjH,EAAgB/C,EAAhB+C,YACX,OAAO,gBAAC,IAAD,CAAK/F,UAAU,eAClB,2BAAK,gBAAC,IAAD,CAAI9B,KAAK,SAAS8B,UAAU,sBAAjC,OAA+DgN,GAC/D,uBAAKhN,UAAU,yBAAf,qBAA2C+F,KA/BvD,6GACelI,GADf,iEAEQoB,KAAKC,SAASD,KAAKS,MAF3B,4GAA+BP,KCGzBoS,G,YAGF,WAAYxM,GAAqB,IAAD,8BAC5B,+CAFIyM,oBACwB,EAE5B,EAAKvM,UAAY,EAAKC,SAAW,EACjC,EAAKsM,eAAiBzM,EAHM,E,2GAMXlH,EAAYsH,EAAgBD,G,mFAC3B1G,IAAd2G,IAAyBA,EAAY,G,SACzBlG,KAAKuS,eAAe9R,KAAK7B,EAAOsH,EAAWD,G,cAAvDE,E,yBACGA,G,8IAEYpC,GACnB/D,KAAKkG,eAAqB3G,IAATwE,EAAqB,EAAIA,EAAKxB,O,GAf5B6D,KAmBdoM,IAAb,2PASIH,oBATJ,uCAS0B,WAAOnR,GAAP,SAAA8B,EAAA,sDAClB,EAAKoP,UAAY,IAAIE,GAAa,EAAKhM,IAAIwH,SAAS2E,gBACpD,EAAKL,UAAU3L,MAAM,CAAEvF,IAAKA,IAFV,2CAT1B,4KAIwBtC,GAJxB,iEAKQoB,KAAKqS,oBAAoBzT,GACzBoB,KAAK8B,UAAUqQ,IANvB,4GAA+BhS,GAA/B,wCAEKgH,KAFL,iECrBauL,GAAb,2MACYvQ,UADZ,IAEY4B,UAFZ,IAGYC,YAHZ,IAWYjC,OAAiB,CACrB,CAAE9C,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,UAAW+C,KAAM,UAAWC,UAAU,IAhBtD,EAmBYI,SAAqB,CACzBC,MAAO,CACH+M,OAAQ,CAAE5M,OAAQ,OAAQvD,MAAO,SAAKiC,YAAa,gBACnDmO,OAAQ,CAAE7M,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,gBACtDoO,KAAM,CAAE9M,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBAClDa,KAAM,CAAES,OAAQ,QAASvD,MAAO,eAAM+I,KAAM,CAAC,CAAEZ,MAAO,EAAGa,MAAO,4BAAU,CAAEb,MAAO,EAAGa,MAAO,oCAC7FvF,QAAS,CAAEF,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GAC1DC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,kBA1B/C,EA8BYyT,cA9BZ,sBA8B4B,sBAAA3P,EAAA,yDACf,EAAKb,KADU,iEAEd,EAAKA,KAAKiB,YAAY,UAFR,2CA9B5B,EAkCYN,kBAlCZ,uCAkCgC,WAAO7D,EAAc8D,GAArB,iBAAAC,EAAA,6DAClB4P,EAAgB,EAAK/T,WAArB+T,YACFrQ,EAAK,EAAKwB,MAAQ,EAAKA,KAAKxB,GAFR,SAGlBqQ,EAAYrQ,EAAIQ,EAAQZ,KAAKe,KAAM,EAAKc,QAHtB,OAIxB,EAAK4F,YAJmB,2CAlChC,0DAyCYnJ,KAAO4D,aAAS,WAEpB,IAAIhB,EAAS,uBAAKtC,UAAU,UACxB,uBAAKA,UAAU,mCACX,0BAAQiB,KAAK,SAASjB,UAAU,4BAA4BK,QAAS,EAAKuR,eAAgB,wBAAM5R,UAAU,QAAhB,mBAIlG,OAAO,gBAAC,IAAD,CAAMjB,OAAO,2BAAOuD,OAAQA,EAAQ9B,gBAAgB,cACvD,gBAAC,IAAD,CAAMkC,IAAK,SAAA9D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,YACrC2C,SAAU,EAAKK,KACfhC,OAAQ,EAAKA,OACbM,SAAU,EAAKA,SACfsB,cAAe,EAAKb,kBACpB+G,cAAc,QAvD9B,6GAIejL,GAJf,yEAKcmF,EAAiBnF,EAAjBmF,KAAMC,EAAWpF,EAAXoF,OACZhE,KAAK+D,KAAOA,EACZ/D,KAAKgE,OAASA,EACdhE,KAAKC,SAASD,KAAKS,MAR3B,4GAA8BP,KCDjB2S,GAAb,2MAEYC,aAFZ,IASYrS,KAAO,WACX,IAAIsS,EAAcxP,IAAEC,MAAM,EAAKsP,SACzBzD,EAA+B0D,EAA/B1D,OAAQC,EAAuByD,EAAvBzD,OAAQC,EAAewD,EAAfxD,KAAMvN,EAAS+Q,EAAT/Q,KAExBlC,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,6BAGJ,OAAO,gBAAC,IAAD,CAAMjB,OAAQA,EAAQyB,gBAAgB,cACzC,uBAAKR,UAAU,sBACX,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,oEAErH,uBAAKA,UAAU,qBACX,2BAAK,wBAAMA,UAAU,qBAAhB,oBAAmD,4BAAOsO,IAC/D,2BAAK,wBAAMtO,UAAU,sBAAhB,sBAA+C,4BAAOuO,IAC3D,2BAAK,wBAAMvO,UAAU,sBAAhB,sBAA+C,4BAAOwO,IAC3D,2BAAK,wBAAMxO,UAAU,sBAAhB,sBAA+C,4BAAgB,IAATiB,EAAa,2BAAS,uCA1BrG,6GAIepD,GAJf,iEAKQoB,KAAK8S,QAAUlU,EACfoB,KAAKC,SAASD,KAAKS,MAN3B,4GAAoCP,KCM9B8S,G,YAEF,WAAYlN,GAAqB,IAAD,8BAC5B,+CAFImN,mBACwB,EAE5B,EAAKjN,UAAY,EAAKC,SAAW,GACjC,EAAKgN,cAAgBnN,EAHO,E,2GAMXlH,EAAYsH,EAAgBD,G,mFAC3B1G,IAAd2G,IAAyBA,EAAY,G,SACzBlG,KAAKiT,cAAcxS,KAAK7B,EAAOsH,EAAWD,G,cAAtDE,E,yBACGA,G,8IAEYpC,GACnB/D,KAAKkG,eAAqB3G,IAATwE,EAAqB,EAAIA,EAAKxB,O,GAd7B6D,KAkBb8M,IAAb,8PAMIC,mBANJ,uCAMyB,WAAOnP,EAAa9C,GAApB,SAAA8B,EAAA,kEACMgQ,GADN,SACwB,EAAK1M,IAAIC,IAAI0L,QAAQjL,MAAM,CAAEC,IAAKjD,EAAOzB,KADjE,mBACjB,EAAK6Q,YADY,eAEjB,EAAKA,YAAY3M,MAAM,CAAEvF,IAAKA,IAFb,2CANzB,0DAYI8N,kBAAoB,SAACnC,GACjB,IAAIjO,EAAsB,CACtBoF,OAAQ6I,EACR9I,UAAMxE,EACNqG,WAAOrG,GAEX,EAAKuC,UAAU4Q,GAAU9T,IAlBjC,EAqBIuQ,gBArBJ,uCAqBsB,WAAOnL,EAAa6I,GAApB,eAAA7J,EAAA,sDACVpE,EAAsB,CACtBoF,OAAQA,EACRD,KAAM8I,EACNjH,MAAOiH,GAEX,EAAK/K,UAAU4Q,GAAU9T,GANX,2CArBtB,0DA8BIwQ,kBA9BJ,uCA8BwB,WAAOvC,GAAP,SAAA7J,EAAA,sDAChB,EAAKlB,UAAU+Q,GAAgBhG,GADf,2CA9BxB,wDAkCI+F,YAlCJ,uCAkCkB,WAAOrQ,EAAY3D,EAAYoF,GAA/B,SAAAhB,EAAA,sEAEJ,EAAKsD,IAAIC,IAAIqL,QAAQyB,QAAQ,OAAQrP,EAAOzB,GAAIA,EAAI3D,GAFhD,OAGV,EAAKgL,YAHK,2CAlClB,4DAwCInK,SAxCJ,uCAwCe,WAAOuE,GAAP,SAAAhB,EAAA,sEACD,EAAKtC,KAAKC,UAAUyD,mBAAmBJ,GADtC,2CAxCf,wDA6CIsP,YA7CJ,uCA6CkB,WAAOzG,GAAP,qBAAA7J,EAAA,6DACJT,EAAOsK,EAAPtK,GADI,SAEO,EAAK+D,IAAIC,IAAI0L,QAAQjL,MAAM,CAAEC,IAAK1E,IAFzC,OAENwB,EAFM,OAGN6B,EAAQ7B,EAAKoC,IAAIwB,OAAS,EAAI5D,EAAKoC,SAAM5G,EACzCX,EAAsB,CACtBoF,YAAQzE,EACRwE,KAAMA,EAAKoC,IAAI,GACfP,MAAOA,GAEX,EAAK9D,UAAU8M,GAAgBhQ,GATrB,2CA7ClB,8UAA8BuB,GAA9B,2CAEKgH,KAFL,kEChBaoM,GAAb,2MAGIC,YAHJ,IAII1U,WAJJ,IAKI6B,eALJ,IAMI8Q,mBANJ,IAOI3M,sBAPJ,IAQI/F,cARJ,IASI4S,eATJ,IAUID,YAVJ,IAWIzC,cAXJ,sEAasCjN,GAC9B,OAAO,IAAIA,EAAKhC,QAdxB,6JAmBQA,KAAKlB,MAAQkB,KAAK2M,KAAKjL,GACvB1B,KAAKW,UAAYX,KAAK2M,KAAKtG,GAC3BrG,KAAKyR,cAAgBzR,KAAK2M,KAAK0D,IAC/BrQ,KAAKjB,SAAWiB,KAAK2M,KAAK4E,IAC1BvR,KAAK2R,UAAY3R,KAAK2M,KAAK6F,IAC3BxS,KAAK0R,OAAS1R,KAAK2M,KAAKsE,IACxBjR,KAAKiP,SAAWjP,KAAK2M,KAAKuG,IAC1BlT,KAAK8E,iBAAmB9E,KAAK2M,KAAKF,KAC9BgH,EAAgC,IAC3BC,KAAK1T,KAAKW,UAAUkB,SA5BrC,UA6Bc8R,QAAQC,IAAIH,GA7B1B,QA8BQzT,KAAK6T,WACL7T,KAAKwT,OAASM,IAAIN,SA/B1B,sIAkCaO,GACL/T,KAAK8B,UAAUpD,EAAOqV,KAnC9B,6EAqCwBC,GArCxB,sLACqB,OAAOhU,KAAKK,SADjC,GAA0B4T,KCP1BH,IAAII,YAAYjK,I,IAYDkK,G,2MARLC,U,sBAAY,sBAAApR,EAAA,sEACZnB,YAAM0R,GAAMtJ,IADA,2C,wEAIlB,OAAO,gBAAC,IAAD,CAASmK,UAAWpU,KAAKoU,UAAWC,WAAYrU,KAAKoU,gB,GAN9CE,aCIEC,QACW,cAA7BC,OAAOC,SAASC,UAEa,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCXJC,IAASjW,OAAO,kBAAC,GAAD,MAASkW,SAASC,eAAe,SDoI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.f8fddee7.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\r\nimport { CApp } from '../CApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\n\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    render = (param?: any): JSX.Element => {\r\n        let { cHome, cProduct } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'supplier', label: '供应商', icon: 'home', content: cHome.tab, notify: undefined },\r\n            { name: 'product', label: '产品', icon: 'check-square-o', content: cProduct.tab, onShown: cProduct.loadList }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify, onShown } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n                onShown: onShown,\r\n            }\r\n        });\r\n        return <Page header={false}>\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import { CSub, CBase } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CApp } from \"./CApp\";\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): CUqBase { return this._owner as CUqBase; };\r\n}\r\n","import * as React from 'react';\r\nimport { CHome } from './CHome';\r\nimport { Page, View, SearchBox } from 'tonva';\r\n\r\nexport class VHome extends View<CHome> {\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = () => {\r\n        let { onNewSupplier, searchSupplierByKey } = this.controller.cApp.cSupplier;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n            <span onClick={() => onNewSupplier()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}>供应商</span>\r\n        </header>;\r\n        return <Page right={right} header={header} headerClassName=\"bg-primary\">\r\n            <this.content />\r\n        </Page>;\r\n    };\r\n\r\n    private content = () => {\r\n        let { controller } = this;\r\n        let { toSupplierList } = controller;\r\n        return <>\r\n            {toSupplierList()}\r\n        </>\r\n    };\r\n}","import { CUqBase } from '../CBase';\r\nimport { VHome } from './VHome';\r\n\r\nexport class CHome extends CUqBase {\r\n\r\n    async internalStart(param: any) {\r\n\r\n        let { cSupplier } = this.cApp;\r\n        await cSupplier.start();\r\n        this.openVPage(VHome);\r\n    }\r\n\r\n    toSupplierList = () => {\r\n        let { cSupplier } = this.cApp;\r\n        return cSupplier.renderRootList();\r\n    }\r\n    tab = () => this.renderView(VHome);\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'abbreviation', type: 'string', required: false },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n];\r\n\r\nexport class VSupplier extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            name: { widget: 'text', label: '供应商名称', placeholder: '必填' } as UiInputItem,\r\n            abbreviation: { widget: 'text', label: '供应商简称' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '有效', defaultValue: true },\r\n            submit: { widget: 'button', label: '提交' },\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierData(context.form.data);\r\n    }\r\n\r\n    private onSavesupplierData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSavesupplierData}>保存</button>;\r\n\r\n        return <Page header=\"编辑供应商\" footer={footer} headerClassName=\"bg-primary\">\r\n            <div className=\"p-3 bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page } from 'tonva';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nexport class VSupplierList extends View<CSupplier> {\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, name, createTime } = item;\r\n        let { onEditSupplier } = this.controller;\r\n\r\n        let right = <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditSupplier(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        return <LMR right={right} className=\"py-2\">\r\n            <p onClick={() => this.controller.onSupplierSelected(item)}>\r\n                <FA name=\"location-arrow\" className=\"px-2 text-primary\"></FA>\r\n                {name}\r\n            </p>\r\n        </LMR>\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.content />\r\n    }\r\n\r\n    private content = observer(() => {\r\n        let { suppliers } = this.controller;\r\n        return <List items={suppliers} item={{ render: this.renderRootCategory }} none=\"目前还没有供应商哦！\" />;\r\n    });\r\n} \r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from \"./CSupplier\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nexport class VSupplierDetail extends VPage<CSupplier> {\r\n\r\n    private supplier: any;\r\n    private firstSupplierContact: any;\r\n    private supplierContacts: any[] = [];\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        this.supplier = parent;\r\n        this.firstSupplierContact = item;\r\n        this.supplierContacts = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getSupplierContact = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div className=\"bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"users\" /><span className=\"h6 py-2 px-1 align-middle\"><b> 供应商联系人</b></span>\r\n            </div>\r\n            {this.firstSupplierContact && <List items={this.supplierContacts} item={{ render: this.renderContact }} />}\r\n            <div className=\"text-primary text-center small bg-white py-2\" onClick={() => showCreateSupplierContact(this.supplier)}><FA name=\"plus\" />联系人</div>\r\n\r\n        </div>\r\n    }\r\n\r\n    private renderContact = (item: any, index: number) => {\r\n        let { delSupplierContact, showEditSupplierContact, showSupplierContactDetail } = this.controller.cApp.cSupplierContact;\r\n        let { no, name, id, gender, mobile } = item;\r\n        let { defaultContact } = this.supplier;\r\n        let fa_text = defaultContact === undefined ? \"px-2 text-muted small\" : (defaultContact.id === id ? \"px-2 text-info small\" : \"px-2 text-muted small\");\r\n        let fa_gender = gender === \"0\" ? <FA name=\"female\" className=\"px-2 text-danger\"></FA> : <FA name=\"male\" className=\"px-2 text-primary\"></FA>;\r\n        let left = <div className={fa_text} onClick={() => showSupplierContactDetail(item)}>\r\n            {fa_gender}\r\n            {name} - {mobile === undefined ? \"无\" : mobile}</div>\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right samll\">\r\n                <span onClick={() => delSupplierContact(this.supplier, item)}><FA className=\"align-middle text-danger\" name=\"remove\" /></span>\r\n                <span onClick={() => showEditSupplierContact(this.supplier, item)}><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = () => {\r\n        let supplierData = _.clone(this.supplier);\r\n        let { name, no, abbreviation, createTime } = supplierData;\r\n\r\n        return <div className=\"py-2 bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> 供应商基本信息</b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div><span className=\"px-4 align-middle\">&nbsp;&nbsp;编号：</span><span>{no}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;名称：</span><span>{name}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;简称：</span><span>{abbreviation}</span></div>\r\n                <div><p><span className=\"px-4 align-middle \">创建时间：</span><span>{<EasyDate date={createTime} />}</span></p></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\">供应商详情</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            {this.rowTop()}\r\n            {this.getSupplierContact()}\r\n        </Page>\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VSupplier } from './VSupplier';\r\nimport { VSupplierList } from './VSupplierList';\r\nimport { VHome } from '../VHome';\r\nimport { VSupplierDetail } from './VSupplierDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    renderRootList() {\r\n        return this.renderView(VSupplierList);\r\n    }\r\n\r\n    saveSupplierData = async (supplier: any) => {\r\n\r\n        if (supplier.id === undefined) {\r\n            supplier.createTime = Date.now();\r\n            supplier.defaultContact = undefined;\r\n            await this.uqs.rms.Supplier.save(undefined, supplier);\r\n        } else {\r\n            await this.uqs.rms.Supplier.save(supplier.id, supplier);\r\n        }\r\n        await this.cApp.cHome.start();\r\n    }\r\n\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewSupplier = async () => {\r\n        this.openVPage(VSupplier, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    onEditSupplier = async (supplier: any) => {\r\n        this.openVPage(VSupplier, supplier);\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    onSupplierSelected = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        let contact = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: contact.ret[0],\r\n            child: contact.ret,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n}\r\n\r\n","\r\nexport function telephoneValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"固定电话格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function mobileValidation(value: string) {\r\n    if (value && !/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(value))\r\n        return \"手机号格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function emailValidation(value: string) {\r\n    if (value && !/\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(value))\r\n        return \"Email格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function faxValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"传真号码格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function addressDetailValidation(value: string) {\r\n    return (value && value.length > 200) ? \"详细地址最多200个字！\" : undefined;\r\n}\r\n\r\nexport function zipCodeValidation(value: string) {\r\n    return (value && value.length > 15) ? \"邮编过长，请修改后录入！\" : undefined;\r\n}\r\n\r\n\r\nexport function organizationNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function departmentNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"部门名称名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function salutationValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function nameValidation(value: string) {\r\n    return (value && value.length > 50) ? \"姓名最多50个字！\" : undefined;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CSupplierContact } from './CSupplierContact';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\n\r\nexport class VSupplierContact extends VPage<CSupplierContact> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'gender', type: 'string', required: true },\r\n        { name: 'firstName', type: 'string', required: false },\r\n        { name: 'lastName', type: 'string', required: false },\r\n        { name: 'salutation', type: 'string', required: false },\r\n        { name: 'departmentName', type: 'string', required: false },\r\n        { name: 'telephone', type: 'string', required: false },\r\n        { name: 'mobile', type: 'string', required: true },\r\n        { name: 'wechatId', type: 'string', required: false },\r\n        { name: 'email', type: 'string' },\r\n        { name: 'fax', type: 'string', required: false },\r\n        { name: 'address', type: 'id', required: false },\r\n        { name: 'addressString', type: 'string', required: false },\r\n        { name: 'zipCode', type: 'string', required: false },\r\n        { name: 'isDefault', type: 'boolean', required: false },\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '姓名', placeholder: '必填' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '性别', list: [{ value: '1', title: '男' }, { value: '0', title: '女' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '名', placeholder: '名', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '姓氏', placeholder: '姓氏' } as UiInputItem,\r\n            salutation: { widget: 'text', label: '称谓', rules: salutationValidation } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '部门名称', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '固定电话', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '手机号', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '微信号', } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', rules: emailValidation, placeholder: 'Email' } as UiTextItem,\r\n            fax: { widget: 'text', label: '传真', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* 下面这种在使用tv之前的一堆判断应该是tv或者什么的有bug, 应该让Henry改改 */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '邮编', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'checkbox', label: '默认联系人', defaultValue: false },\r\n            submit: { widget: 'button', label: '提交' }\r\n        }\r\n    };\r\n\r\n    private onSaveSupplierContact = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { saveSupplierContact } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await saveSupplierContact(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        let footer = <div className=\"d-flex\">\r\n            <div className=\"flex-grow-1 justify-content-end\">\r\n                <button type=\"button\" className=\"btn btn-primary mr-3 px-6\" onClick={this.onSaveSupplierContact} ><span className=\"px-4\">保存</span></button>\r\n            </div>\r\n        </div>;\r\n\r\n        return <Page header=\"编辑联系人\" footer={footer} headerClassName=\"bg-primary\">\r\n            <Form ref={v => this.form = v} className=\"my-3 mx-3\"\r\n                formData={this.item}\r\n                schema={this.schema}\r\n                uiSchema={this.uiSchema}\r\n                onButtonClick={this.onFormButtonClick}\r\n                requiredFlag={true}\r\n            />\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CSupplierContact } from \"./CSupplierContact\";\r\n\r\nexport class VSupplierContactDetail extends VPage<CSupplierContact> {\r\n\r\n    private supplierContact: any;\r\n\r\n    async open(supplierContact: any) {\r\n        this.supplierContact = supplierContact;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let supplierContactData = _.clone(this.supplierContact);\r\n        let { no, name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = supplierContactData;\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\">供应商联系人详情</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <div className=\"py-2 bg-white mb-3\">\r\n                <div className=\"cursor-pointer\">\r\n                    &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> 供应商联系人基本信息</b></span>\r\n                </div>\r\n                <div className=\"py-2 cat-root-sub\">\r\n                    <div><span className=\"px-4 align-middle\">&nbsp;&nbsp;编号：</span><span>{no}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;名称：</span><span>{name}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;姓氏：</span><span>{lastName}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;名：</span><span>{firstName}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">&nbsp;&nbsp;性别：</span><span>{gender === \"0\" ? \"女\" : \"男\"}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;称谓：</span><span>{salutation}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">部门名称：</span><span>{departmentName}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">固定电话：</span><span>{telephone}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">&nbsp;手机号：</span><span>{mobile}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;微信号：</span><span>{wechatId}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">&nbsp; Email：</span><span>{email}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;传真：</span><span>{fax}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">所在地区：</span><span>{address}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">详细地址：</span><span>{addressString}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;邮编：</span><span>{zipCode}</span></div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import { AppConfig } from \"tonva\";\r\nimport { tvs } from \"./tvs\";\r\nimport AnalyticalChemistry from './images/AnalyticalChemistry.png';\r\nimport LabSupplies from './images/LabSupplies.png';\r\nimport LifeScience from './images/LifeScience.png';\r\nimport MaterialScience from './images/MaterialScience.png';\r\nimport OrganicChemistry from './images/OrganicChemistry.png';\r\n\r\nexport const appConfig: AppConfig = {\r\n    appName: '百灵威系统工程部/rms',\r\n    version: '1.0.1',\r\n    tvs: tvs,\r\n    oem: '百灵威'\r\n};\r\n// 生产配置\r\nexport const GLOABLE = {\r\n    CHINA: 44,\r\n    TIPDISPLAYTIME: 2000\r\n}","import { TVs } from \"tonva\";\r\n\r\nexport const tvs:TVs = {\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List, FA } from 'tonva';\r\nimport { CAddress } from './CAddress';\r\nimport { GLOABLE } from 'configuration';\r\n\r\nexport class VAddress extends VPage<CAddress> {\r\n    private provinceId: number;\r\n    private cityId: number;\r\n    private countyId: number;\r\n    private backLevel = 0;\r\n\r\n    async open(param: any) {\r\n        let provinces = await this.controller.getCountryProvince(GLOABLE.CHINA);\r\n        this.openPage(this.page, { provinces: provinces });\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        this.backLevel++;\r\n        return <Page header=\"选择所在省市\" headerClassName=\"bg-primary\">\r\n            <div className=\"row no-gutters\">\r\n                {param.provinces.map((v: any) => this.renderPCC(v.province, this.onProvinceClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPCC = (pcc: BoxId, onClick: any) => {\r\n        return <div key={pcc.id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            {tv(pcc, (value) => {\r\n                let { id, chineseName } = value;\r\n                return <>\r\n                    <div className=\"pt-1 pb-1 px-2\" onClick={() => onClick(id)}\r\n                        style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n                    >\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                            &nbsp; {chineseName}\r\n                        </span>\r\n                    </div>\r\n                </>;\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    private onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let len = cities.length;\r\n            if (len === 1) {\r\n                await this.onCityClick(cities[0].city.id);\r\n                return;\r\n            }\r\n            if (len > 1) {\r\n                this.backLevel++;\r\n                this.openPageElement(<Page header=\"选择所在城市\">\r\n                    <div className=\"row no-gutters\">\r\n                        {cities.map(v => this.renderPCC(v.city, this.onCityClick))}\r\n                    </div>\r\n                </Page>);\r\n                return;\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            this.openPageElement(<Page header=\"选择所在区县\">\r\n                <div className=\"row no-gutters\">\r\n                    {counties.map(v => this.renderPCC(v.county, this.onCountyClick))}\r\n                </div>\r\n            </Page>);\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        this.closePage(this.backLevel);\r\n        this.saveAddress();\r\n    }\r\n\r\n    private saveAddress = async () => {\r\n        await this.controller.saveAddress(GLOABLE.CHINA, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n","import { VAddress } from './VAddress';\r\nimport { CUqBase } from 'CBase';\r\n\r\nexport class CAddress extends CUqBase {\r\n    protected async internalStart() {\r\n        this.openVPage(VAddress);\r\n    }\r\n\r\n    getCountryProvince = async (countryId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCountryProvinces.table({ country: countryId });\r\n    }\r\n\r\n    getProvinceCities = async (provinceId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetProvinceCities.table({ province: provinceId });\r\n    }\r\n\r\n    getCityCounties = async (cityId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCityCounties.table({ city: cityId });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.returnCall(addressId);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VSupplierContact } from \"./VSupplierContact\";\r\nimport { VSupplierContactDetail } from \"./VSupplierContactDetail\";\r\nimport { VSupplierDetail } from \"../supplier/VSupplierDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"./CAddress\";\r\n\r\nclass PageSupplierContact extends PageItems<any> {\r\n    private searchSupplierContact: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplierContact = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplierContact.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplierContact extends CUqBase {\r\n\r\n    @observable pageSupplierContact: PageSupplierContact;\r\n    protected async internalStart() {\r\n\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    //添加联系人\r\n    showCreateSupplierContact = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showEditSupplierContact = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showSupplierContactDetail = async (model: any) => {\r\n        this.openVPage(VSupplierContactDetail, model);\r\n    }\r\n\r\n    saveSupplierContact = async (id: number, param: any, parent: any) => {\r\n        let { name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address, isDefault } = param;\r\n        let parrm = { name: name, firstName: firstName, lastName: lastName, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, supplier: parent.id, isValid: 1 };\r\n        let result = await this.uqs.rms.SupplierContact.save(id, parrm);\r\n        if (isDefault === true) {\r\n            let sid = id;\r\n            if (sid === undefined) {\r\n                sid = result.id;\r\n            }\r\n            await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, createTime: parent.createTime, isValid: 1, defaultContact: sid });\r\n        }\r\n        this.cApp.cHome.start();\r\n    }\r\n\r\n    delSupplierContact = async (parent: any, model: any) => {\r\n        let { id, no, name, firstName, lastName, isDefault, isValid, supplier, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = model;\r\n        await this.uqs.rms.SupplierContact.save(id, { no: no, name: name, firstName: firstName, lastName: lastName, supplier: supplier, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, isDefault: isDefault, isValid: 0 });\r\n        await this.uqs.rms.SearchSupplierContact.query({ _id: model.id });\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //联系人列表\r\n    showSupplierContact = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'supplier', type: 'id', required: true },\r\n    { name: 'brand', type: 'id', required: true },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'isTrue', type: 'boolean', required: true },\r\n];\r\n\r\nexport class VAddProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            supplier: {\r\n                widget: 'id', label: '供应商', placeholder: '请选择供应商',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickSupplier(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\">请选择供应商</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            brand: {\r\n                widget: 'id', label: '品牌', placeholder: '请选择品牌',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickBrand(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\">请选择品牌</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.no}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            origin: { widget: 'text', label: '供应商自编号' } as UiInputItem,\r\n            purity: { widget: 'text', label: '纯度' } as UiInputItem,\r\n            isTrue: { widget: 'checkbox', label: '有效', defaultValue: true },\r\n            submit: { widget: 'button', label: '提交' },\r\n        }\r\n    }\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveProductData(context.form.data);\r\n    }\r\n\r\n    private onSaveProductData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private showChemicalData = () => {\r\n\r\n        let { chemical } = this.controller;\r\n        let { no, CAS, description, descriptoinCN, molecularFomula, molecularWeight, mdlNumber } = chemical;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b>产品信息</b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub\">\r\n                <div><span className=\"px-4 align-middle\">&nbsp;chemid:</span><span> {no}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp; CAS:</span><span> {CAS}</span></div>\r\n                <div><span className=\"px-4 align-middle \">英文名称：</span><span>{description}</span></div>\r\n                <div><span className=\"px-4 align-middle \">中文名称：</span><span>{descriptoinCN}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;分子式：</span><span>{molecularFomula}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;分子量：</span><span>{molecularWeight}</span></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSaveProductData}>保存</button>;\r\n\r\n        return <Page header=\"添加产品\" footer={footer} headerClassName=\"bg-primary\">\r\n            {this.showChemicalData()}\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'isTrue', type: 'boolean', required: true },\r\n];\r\n\r\nexport class VEditProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            origin: { widget: 'text', label: '供应商自编号' } as UiInputItem,\r\n            purity: { widget: 'text', label: '纯度' } as UiInputItem,\r\n            isTrue: { widget: 'checkbox', label: '有效', defaultValue: true },\r\n            submit: { widget: 'button', label: '提交' },\r\n        }\r\n    }\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.updateProductData(this.productData, context.form.data);\r\n    }\r\n\r\n    private onSaveProductData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private showProductData = (product: any) => {\r\n\r\n        let { supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight } = product;\r\n        let { name: suppliername } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.no;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b>产品信息</b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub\">\r\n                <div><span className=\"px-4 align-middle \">&nbsp;供应商：</span><span>{suppliername}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;品牌：</span><span>{brandno}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp; CAS：</span><span>{CAS}</span></div>\r\n                <div><span className=\"px-4 align-middle \">英文名称：</span><span>{description}</span></div>\r\n                <div><span className=\"px-4 align-middle \">中文名称：</span><span>{descriptionC}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;分子式：</span><span>{molecularFomula}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;分子量：</span><span>{molecularWeight}</span></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSaveProductData}>保存</button>;\r\n\r\n        return <Page header=\"修改产品\" footer={footer} headerClassName=\"bg-primary\">\r\n            {this.showProductData(descriptionData)}\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nexport class VProductDetail extends VPage<CProduct> {\r\n    private product: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        this.product = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        let { showCreatePackage } = this.controller.cApp.cPackage;\r\n\r\n        return <div className=\"bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"cubes\" /><span className=\"h6 py-2 px-1 align-middle\"><b> 产品包装</b></span>\r\n            </div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n            <div className=\"text-primary text-center small bg-white py-2\" onClick={() => showCreatePackage(this.product)}><FA name=\"plus\" />包装</div>\r\n\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { showEditPackage, showPackageDetail } = this.controller.cApp.cPackage;\r\n        let { id, radiox, radioy, unit, type } = item;\r\n        let { defaultContact } = this.product;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let left = <div className=\"px-2 small\" onClick={() => showPackageDetail(item)}>\r\n            <FA name=\"cube\" className=\"px-2 text-primary\"></FA>\r\n            {radio} - {type === 1 ? \"目录\" : \"非目录\"}</div>\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right samll\">\r\n                <span onClick={() => showEditPackage(this.product, item)}><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = () => {\r\n        let productData = _.clone(this.product);\r\n\r\n        let { supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight } = this.product;\r\n        let { name: suppliername } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.no;\r\n\r\n        return <div className=\"py-2 bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b>产品信息</b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;供应商：</span><span>{suppliername}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;&nbsp;品牌：</span><span>{brandno}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;&nbsp; CAS：</span><span>{CAS}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;英文名称：</span><span>{description}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;中文名称：</span><span>{descriptionC}</span></div>\r\n                <div><span className=\"px-4 align-middle \">供应商自编号：</span><span>{origin}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;&nbsp;纯度：</span><span>{purity}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;分子式：</span><span>{molecularFomula}</span></div>\r\n                <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;分子量：</span><span>{molecularWeight}</span></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\">产品详情</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            {this.rowTop()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CProduct } from './CProduct';\r\n\r\nexport class VProductList extends VPage<CProduct> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, description, createTime, supplier, CAS } = item;\r\n        let { onEditProduct, showProductDetail } = this.controller;\r\n\r\n        let right = <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditProduct(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        return <LMR right={right} className=\"py-2\">\r\n            <div onClick={() => showProductDetail(item)}>\r\n                <div>\r\n                    <FA name=\"location-arrow\" className=\"px-2 text-primary\"></FA>\r\n                    {CAS}&nbsp;&nbsp;{description}\r\n                </div>\r\n                <div className=\"px-4 text-muted small\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n            </div>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, onNewProduct, searchProductByKey, pickChemical } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"请输入cas、名称关键字\" />\r\n            <span onClick={() => pickChemical()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}>产品</span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={products} item={{ render: this.renderRootCategory }} none=\"目前还没有产品哦！\" />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickSupplier } from './CPickSupplier';\r\n\r\nexport class VPickSupplier extends VPage<CPickSupplier> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { suppliers, searchSupplierByKey } = this.controller;\r\n\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}>选择供应商</span>\r\n        </header>;\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n            <List items={suppliers} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.suppliers.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnSupplier(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { VPickSupplier } from './VPickSupplier';\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n        this.openVPage(VPickSupplier);\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    returnSupplier = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CBrand } from './CBrand';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'no', type: 'string', required: true },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n];\r\n\r\nexport class VBrand extends VPage<CBrand> {\r\n\r\n    private form: Form;\r\n    private brandData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            no: { widget: 'text', label: '品牌编号', placeholder: '必填' } as UiInputItem,\r\n            name: { widget: 'text', label: '品牌名称', placeholder: '必填' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '有效', defaultValue: true },\r\n            submit: { widget: 'button', label: '提交' },\r\n        }\r\n    }\r\n\r\n    async open(brandData: any) {\r\n        this.brandData = brandData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveBrandData(context.form.data);\r\n    }\r\n\r\n    private onSaveBrandData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.brandData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSaveBrandData}>保存</button>;\r\n\r\n        return <Page header=\"添加品牌\" footer={footer} headerClassName=\"bg-primary\">\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CBrand } from './CBrand';\r\n\r\nexport class VPickBrand extends VPage<CBrand> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { brands, searchBrandByKey, onNewBrand } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchBrandByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n            <span onClick={() => onNewBrand()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}>选择品牌</span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\" >\r\n            <List items={brands} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.brands.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnBrand(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { no, name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{no} - {name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VBrand } from './VBrand';\r\nimport { VPickBrand } from './VPickBrand';\r\n\r\nclass PageBrand extends PageItems<any> {\r\n\r\n    private searchBrand: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchBrand = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchBrand.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CBrand extends CUqBase {\r\n\r\n    @observable brands: PageBrand;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchBrandByKey(param);\r\n        this.openVPage(VPickBrand);\r\n    }\r\n\r\n    searchBrandByKey = async (key: string) => {\r\n        this.brands = new PageBrand(this.uqs.rms.SearchBrand);\r\n        this.brands.first({ key: key });\r\n    }\r\n\r\n    saveBrandData = async (brand: any) => {\r\n\r\n        if (brand.id === undefined) {\r\n            await this.uqs.rms.Brand.save(undefined, brand);\r\n        } else {\r\n            await this.uqs.rms.Brand.save(brand.id, brand);\r\n        }\r\n        this.closePage();\r\n        await this.searchBrandByKey(\"\");\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewBrand = async () => {\r\n        this.openVPage(VBrand, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    onEditBrand = async (brand: any) => {\r\n        this.openVPage(VBrand, brand);\r\n    }\r\n\r\n    returnBrand = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VAddProduct } from './VAddProduct';\r\nimport { VEditProduct } from './VEditProduct';\r\nimport { VProductDetail } from './VProductDetail';\r\nimport { VProductList } from './VProductList';\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CChemical } from './CChemical';\r\nimport { CBrand } from './CBrand';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n    chemical: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        this.openVPage(VProductList);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key });\r\n    }\r\n\r\n    pickSupplier = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cPickSupplier = this.newC(CPickSupplier);\r\n        return await cPickSupplier.call<number>();\r\n    }\r\n\r\n    pickBrand = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cBrand = this.newC(CBrand);\r\n        return await cBrand.call<number>();\r\n    }\r\n\r\n    pickChemical = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call();\r\n    }\r\n\r\n    saveProductData = async (product: any) => {\r\n\r\n        if (product.id === undefined) {\r\n            if (this.chemical) {\r\n                let { id, CAS, description, descriptoinCN, molecularFomula, molecularWeight } = this.chemical;\r\n                product.description = description;\r\n                product.descriptionC = descriptoinCN;\r\n                product.createTime = Date.now();\r\n                product.defaultContact = undefined;\r\n                let result = await this.uqs.rms.Product.save(undefined, product);\r\n                await this.uqs.rms.ProductChemical.add({ product: result.id, arr1: [{ chemical: id, CAS: CAS, molecularFomula: molecularFomula, molecularWeight: molecularWeight, purity: product.purity }] });\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    updateProductData = async (productdata: any, model: any) => {\r\n\r\n        if (productdata) {\r\n            productdata.origin = model.origin;\r\n            productdata.isTrue = 1;\r\n            let { chemical } = productdata;\r\n            await this.uqs.rms.Product.save(model.id, productdata);\r\n            await this.uqs.rms.ProductChemical.add({ product: model.id, arr1: [{ chemical: chemical.id, CAS: productdata.CAS, molecularFomula: productdata.molecularFomula, molecularWeight: productdata.molecularWeight, purity: model.purity }] });\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewProduct = async (model: any) => {\r\n        this.chemical = model;\r\n        this.openVPage(VAddProduct, { product: undefined });\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    onEditProduct = async (product: any) => {\r\n        this.openVPage(VEditProduct, product);\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    showProductDetail = async (model: any) => {\r\n        let { id } = model;\r\n        let pitem = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchProductByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VProductList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CChemical } from './CChemical';\r\n\r\nexport class VChemical extends VPage<CChemical> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { chemicals, searchChemicalByKey } = this.controller;\r\n        let { onNewProduct } = this.controller.cApp.cProduct;\r\n\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}>选择chemid</span>\r\n        </header>;\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchChemicalByKey(key)}\r\n                placeholder=\"请输入CAS、名称关键字\" />\r\n            <List items={chemicals} item={{ render: this.renderItem, onClick: onNewProduct }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.chemicals.more();\r\n    }\r\n\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS:{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">英文：{description}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VChemical } from './VChemical';\r\n\r\nclass PageChemical extends PageItems<any> {\r\n\r\n    private searchChemical: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 8;\r\n        this.searchChemical = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchChemical.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CChemical extends CUqBase {\r\n\r\n    @observable chemicals: PageChemical;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchChemicalByKey(param);\r\n        this.openVPage(VChemical);\r\n    }\r\n\r\n    searchChemicalByKey = async (key: string) => {\r\n        this.chemicals = new PageChemical(this.uqs.chemical.SearchChemical);\r\n        this.chemicals.first({ key: key });\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackage extends VPage<CPackage> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'radiox', type: 'number', required: true },\r\n        { name: 'radioy', type: 'number', required: true },\r\n        { name: 'unit', type: 'string', required: true },\r\n        { name: 'type', type: 'string', required: true },\r\n        { name: 'isValid', type: 'boolean', required: true },\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            radiox: { widget: 'text', label: '套', placeholder: '必填' } as UiInputItem,\r\n            radioy: { widget: 'text', label: '包装规格', placeholder: '必填' } as UiInputItem,\r\n            unit: { widget: 'text', label: '单位', placeholder: '必填' } as UiTextItem,\r\n            type: { widget: 'radio', label: '类型', list: [{ value: 1, title: '目录包装' }, { value: 2, title: '非目录包装' }] } as UiRadio,\r\n            isValid: { widget: 'checkbox', label: '有效', defaultValue: true },\r\n            submit: { widget: 'button', label: '提交' }\r\n        }\r\n    };\r\n\r\n    private onSavePackage = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { savePackage } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await savePackage(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        let footer = <div className=\"d-flex\">\r\n            <div className=\"flex-grow-1 justify-content-end\">\r\n                <button type=\"button\" className=\"btn btn-primary mr-3 px-6\" onClick={this.onSavePackage} ><span className=\"px-4\">保存</span></button>\r\n            </div>\r\n        </div>;\r\n\r\n        return <Page header=\"编辑包装\" footer={footer} headerClassName=\"bg-primary\">\r\n            <Form ref={v => this.form = v} className=\"my-3 mx-3\"\r\n                formData={this.item}\r\n                schema={this.schema}\r\n                uiSchema={this.uiSchema}\r\n                onButtonClick={this.onFormButtonClick}\r\n                requiredFlag={true}\r\n            />\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackageDetail extends VPage<CPackage> {\r\n\r\n    private package: any;\r\n\r\n    async open(param: any) {\r\n        this.package = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let packageData = _.clone(this.package);\r\n        let { radiox, radioy, unit, type } = packageData;\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\">包装详情</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <div className=\"py-2 bg-white mb-3\">\r\n                <div className=\"cursor-pointer\">\r\n                    &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> 包装基本信息</b></span>\r\n                </div>\r\n                <div className=\"py-2 cat-root-sub\">\r\n                    <div><span className=\"px-4 align-middle\">&nbsp;套：</span><span>{radiox}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">规格：</span><span>{radioy}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">单位：</span><span>{unit}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">类型：</span><span>{type === 1 ? \"目录包装\" : \"非目录包装\"}</span></div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPackage } from \"./VPackage\";\r\nimport { VPackageDetail } from \"./VPackageDetail\";\r\nimport { VProductDetail } from \"../product/VProductDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PagePackage extends PageItems<any> {\r\n    private searchPackage: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPackage = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPackage.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPackage extends CUqBase {\r\n\r\n    @observable pagePackage: PagePackage;\r\n    protected async internalStart() {\r\n    }\r\n\r\n    searchPackageByKey = async (parent: any, key: string) => {\r\n        this.pagePackage = new PagePackage(await this.uqs.rms.GetPack.query({ _id: parent.id }));\r\n        this.pagePackage.first({ key: key });\r\n    }\r\n\r\n    //添加联系人\r\n    showCreatePackage = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showEditPackage = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showPackageDetail = async (model: any) => {\r\n        this.openVPage(VPackageDetail, model);\r\n    }\r\n\r\n    savePackage = async (id: number, param: any, parent: any) => {\r\n\r\n        await this.uqs.rms.Product.saveArr(\"Pack\", parent.id, id, param);\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //包装列表\r\n    showPackage = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n}","import { CAppBase, IConstructor, User, nav } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CUqBase } from \"./CBase\";\r\nimport { VMain } from './ui/main';\r\nimport { CHome } from \"./information/CHome\";\r\nimport { CSupplier } from \"./information/supplier/CSupplier\";\r\nimport { CSupplierContact } from \"./information/supplierContact/CSupplierContact\";\r\nimport { CProduct } from \"./information/product/CProduct\";\r\nimport { CChemical } from \"./information/product/CChemical\";\r\nimport { CBrand } from \"./information/product/CBrand\";\r\nimport { CPackage } from \"./information/package/CPackage\";\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\n\r\nexport class CApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs as UQs };\r\n\r\n    topKey: any;\r\n    cHome: CHome;\r\n    cSupplier: CSupplier;\r\n    cPickSupplier: CPickSupplier;\r\n    cSupplierContact: CSupplierContact;\r\n    cProduct: CProduct;\r\n    cChemical: CChemical;\r\n    cBrand: CBrand;\r\n    cPackage: CPackage;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n\r\n        this.cHome = this.newC(CHome);\r\n        this.cSupplier = this.newC(CSupplier);\r\n        this.cPickSupplier = this.newC(CPickSupplier);\r\n        this.cProduct = this.newC(CProduct);\r\n        this.cChemical = this.newC(CChemical);\r\n        this.cBrand = this.newC(CBrand);\r\n        this.cPackage = this.newC(CPackage);\r\n        this.cSupplierContact = this.newC(CSupplierContact);\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cSupplier.start());\r\n        await Promise.all(promises);\r\n        this.showMain();\r\n        this.topKey = nav.topKey();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n    async loginCallBack(user: User) {\r\n\r\n    }\r\n}\r\n","import * as React from 'react';\nimport './App.css';\nimport { NavView, nav, start } from 'tonva';\nimport { CApp } from './CApp';\nimport { appConfig } from './configuration';\n\nnav.setSettings(appConfig);\n\nclass App extends React.Component {\n\n  private onLogined = async () => {\n    await start(CApp, appConfig);\n  }\n  public render() {\n    return <NavView onLogined={this.onLogined} notLogined={this.onLogined} />\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}