{"version":3,"sources":["ui/main.tsx","CBase.ts","information/VHome.tsx","information/CHome.tsx","information/supplier/VSupplier.tsx","information/supplier/VSupplierList.tsx","information/supplier/VSupplierDetail.tsx","information/supplier/CSupplier.tsx","tools/inputValidations.ts","information/supplierContact/VSupplierContact.tsx","information/supplierContact/VSupplierContactDetail.tsx","information/supplierContact/VAddress.tsx","information/supplierContact/CAddress.tsx","information/supplierContact/CSupplierContact.tsx","information/product/VAddProduct.tsx","information/product/VEditProduct.tsx","information/product/VProductDetail.tsx","information/product/VProductList.tsx","information/supplier/VPickSupplier.tsx","information/supplier/CPickSupplier.tsx","information/product/VBrand.tsx","information/product/VPickBrand.tsx","information/product/CBrand.tsx","information/product/CProduct.tsx","information/product/VChemical.tsx","information/product/CChemical.tsx","information/package/VPackage.tsx","information/package/VPackageDetail.tsx","information/package/CPackage.tsx","information/product/VPickProduct.tsx","information/product/CPickProduct.tsx","information/PendingInquiry/VPendingInquiryList.tsx","information/PendingInquiry/VPendingInquiryDetail.tsx","information/PendingInquiry/VCurrency.tsx","information/PendingInquiry/CCurrency.tsx","information/PendingInquiry/VPendingInquiryResult.tsx","information/PendingInquiry/CPendingInquiry.tsx","information/Inquiry/VInquiryList.tsx","information/Inquiry/VInquiryDetail.tsx","information/Inquiry/VPackageDetail.tsx","information/Inquiry/CInquiry.tsx","information/newPendingInquiry/VNewPendingInquiry.tsx","information/newPendingInquiry/VNewPendingInquiryList.tsx","information/newPendingInquiry/VNewPendingInquiryDetail.tsx","information/newPendingInquiry/CNewPendingInquiry.tsx","CApp.tsx","configuration.ts","tvs/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["color","selected","VMain","render","param","controller","cHome","cProduct","cPendingInquiry","cInquiry","cNewPendingInquiry","faceTabs","name","label","icon","content","tab","notify","undefined","onShown","loadList","map","v","caption","TabCaptionComponent","header","tabs","this","openPage","VPage","CUqBase","_cApp","_uqs","CBase","CSub","VHome","page","cApp","cSupplier","onNewSupplier","searchSupplierByKey","right","className","size","onSearch","key","placeholder","onClick","style","textAlign","headerClassName","toSupplierList","View","CHome","renderRootList","renderView","start","openVPage","schema","type","required","VSupplier","form","supplierData","uiSchema","items","id","visible","widget","abbreviation","isValid","defaultValue","submit","onFormButtonClick","context","a","saveSupplierData","data","descriptionData","_","clone","ref","formData","onButtonClick","fieldLabelSize","VSupplierList","renderRootCategory","item","parent","no","createTime","onEditSupplier","onSupplierSelected","observer","suppliers","VSupplierDetail","supplier","firstSupplierContact","supplierContacts","getSupplierContact","showCreateSupplierContact","cSupplierContact","renderContact","index","delSupplierContact","showEditSupplierContact","showSupplierContactDetail","gender","mobile","defaultContact","fa_text","fa_gender","left","rowTop","date","child","PageSupplier","searchQuery","searchSupplier","firstSize","pageSize","pageStart","ret","PageItems","CSupplier","uqs","rms","SearchSupplier","first","Date","now","Supplier","save","description","SearchSupplierContact","query","_id","contact","observable","telephoneValidation","value","test","mobileValidation","emailValidation","faxValidation","addressDetailValidation","length","zipCodeValidation","departmentNameValidation","salutationValidation","nameValidation","VSupplierContact","list","title","firstName","rules","lastName","salutation","departmentName","telephone","wechatId","email","fax","address","pickId","pickAddress","Templet","tv","addressValue","country","province","city","county","chineseName","addressString","zipCode","isDefault","saveSupplierContact","closePage","requiredFlag","VSupplierContactDetail","supplierContact","ad","supplierContactData","contactAddress","obj","VAddress","countryId","provinceId","cityId","countyId","backLevel","countrys","renderPCC","onCountryClick","pcc","border","marginRight","marginBottom","getCountryProvince","provinces","len","onProvinceClick","openPageElement","saveAddress","getProvinceCities","cities","onCityClick","getCityCounties","counties","onCountyClick","getCountry","CAddress","common","Country","search","GetCountryProvinces","table","GetProvinceCities","GetCityCounties","Address","newAddress","addressId","boxId","returnCall","CSupplierContact","cAddress","newC","call","model","parrm","SupplierContact","result","sid","showSupplierContact","VAddProduct","productData","pickSupplier","brand","pickBrand","origin","purity","isTrue","saveProductData","showChemicalData","chemical","CAS","descriptoinCN","molecularFomula","molecularWeight","mdlNumber","VEditProduct","updateProductData","showProductData","product","descriptionC","suppliername","brandno","VProductDetail","firstPackage","packages","getPackage","showCreatePackage","cPackage","renderPackage","showEditPackage","showPackageDetail","radiox","radioy","unit","price","currency","validUpto","radio","VProductList","onEditProduct","showProductDetail","products","searchProductByKey","onNewProduct","pickChemical","VPickSupplier","onScrollBottom","renderItem","more","returnSupplier","CPickSupplier","VBrand","brandData","saveBrandData","VPickBrand","brands","searchBrandByKey","onNewBrand","returnBrand","PageBrand","searchBrand","CBrand","SearchBrand","Brand","onEditBrand","PageProduct","searchProduct","CProduct","SearchProduct","cPickSupplier","cBrand","cChemical","Product","ProductChemical","add","arr1","productdata","GetPack","pitem","VChemical","chemicals","searchChemicalByKey","PageChemical","searchChemical","CChemical","SearchChemical","VPackage","savePackage","VPackageDetail","package","packageData","isTaxIn","isTransFeeIn","transFee","transFeecurrency","packingFee","packingcurrency","otherFee","customized","customizeUpto","minArriveDate","maxArriveDate","invoiceType","vatRate","tariffRate","PagePackage","searchPackage","CPackage","searchPackageByKey","pagePackage","saveArr","showPackage","VPickProduct","onNewPendingInquiry","CPickProduct","VPendingInquiryList","inquiryDate","onShowPendingInquiryDetail","pendingInquirys","searchPendingInquiryByKey","none","VPendingInquiryDetail","pending","saveInquiryData","inquiryPackage","user","createDate","quantity","openPendingInquiryResult","suppplierData","contactName","contactMobile","contactSalutation","contactDepartmentName","contactTelephone","way","contactEmail","contactfax","inquiryUser","remarks","inid","VCurrency","currencys","renderCurrency","onCurrencyClick","returnCurrency","CCurrency","Currency","VPendingInquiryResult","inquiryData","listPrice","pickCurrency","packType","row","coaFilePath","msdsFilePath","quotationFilePath","saveInquiryPackage","PagePendingInquiry","searchPendingInquiry","CPendingInquiry","SearchInquiryPending","savePendingInquiryData","supplierid","AddInquiryPending","getDataForSave","inquiryItems","forEach","pk","pack","JSON","parse","jsonStr","push","inquiryQuantity","inquiryRadiox","inquiryRadioy","inquiryUnit","itemuser","itemcreateDate","inquiryRemarks","inquiryitems","packageList","InquirySheet","action","flow","state","DeleteInquiryPending","inquiry","InquiryPendingItem","inquiryPending","stringify","AddPackagePrice","SearchInquiryPendingBySupplier","cCurrency","newinquiryPending","newinquiryPackage","newjsonStr","VInquiryList","startDate","sheet","openInquiryDetail","inquirys","searchInquiryByKey","VInquiryDetail","renderOrderItem","openPackageDetail","renderProduct","brief","inquiryRadio","packitem","PageInquiry","searchInquiry","CInquiry","GetInquirySheet","getSheet","inquiryItemssGrouped","groupByPack","InquiryItems","VProductView","getProduct","pid","SearchProductById","contentagency","LocationUI","pro","packItems","packItem","packRow","cpi","find","e","packs","VNewPendingInquiry","pendingInquiryData","saveNewPendingInquiryData","showProductlData","brandname","VNewPendingInquiryList","onShowNewPendingInquiryDetail","newpendingInquirys","searchNewPendingInquiryByKey","pickProduct","VNewPendingInquiryDetail","suppplier","rows","updatePendingInquiryState","deletePendingInquiryPackage","packid","deletePendingInquiryData","NewPagePendingInquiry","searchNewPendingInquiry","CNewPendingInquiry","SearchNewInquiryPending","pendingInquiry","cPickProduct","pendingid","DeleteInquiryPackage","UpdateInquiryPending","CApp","topKey","promises","Promise","all","showMain","nav","initTabName","CAppBase","appConfig","appName","version","tvs","oem","setSettings","App","onLogined","React","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"gTAIMA,EAAQ,SAACC,GAAD,OAAoC,IAAbA,EAAoB,eAAiB,cAE7DC,EAAb,2MAIIC,OAAS,SAACC,GAA8B,IAAD,EACsC,EAAKC,WAAxEC,EAD6B,EAC7BA,MAAOC,EADsB,EACtBA,SAAUC,EADY,EACZA,gBAAiBC,EADL,EACKA,SAAUC,EADf,EACeA,mBAC9CC,EAAW,CACX,CAAEC,KAAM,WAAYC,MAAO,qBAAOC,KAAM,QAASC,QAAST,EAAMU,IAAKC,YAAQC,GAC7E,CAAEN,KAAM,UAAWC,MAAO,eAAMC,KAAM,QAASC,QAASR,EAASS,IAAKG,QAASZ,EAASa,UACxF,CAAER,KAAM,iBAAkBC,MAAO,qBAAOC,KAAM,kBAAmBC,QAASL,EAAmBM,IAAKG,QAAST,EAAmBU,UAC9H,CAAER,KAAM,aAAcC,MAAO,qBAAOC,KAAM,kBAAmBC,QAASP,EAAgBQ,IAAKG,QAASX,EAAgBY,UACpH,CAAER,KAAM,UAAWC,MAAO,qBAAOC,KAAM,WAAYC,QAASN,EAASO,IAAKG,QAASV,EAASW,WAC9FC,KAAI,SAAAC,GAAM,IACFV,EAAgDU,EAAhDV,KAAMC,EAA0CS,EAA1CT,MAAOC,EAAmCQ,EAAnCR,KACnB,MAAO,CACHF,KAAMA,EACNW,QAAS,SAACtB,GAAD,OAAuBuB,YAAoBX,EAAOC,EAAMd,EAAMC,KACvEc,QAJkDO,EAA7BP,QAKrBE,OALkDK,EAApBL,OAM9BE,QANkDG,EAAZH,YAS9C,OAAO,gBAAC,IAAD,CAAMM,QAAQ,GACjB,gBAAC,IAAD,CAAMC,KAAMf,MAvBxB,6GACeP,GADf,iEAEQuB,KAAKC,SAASD,KAAKxB,QAF3B,4GAA2B0B,KCFLC,EAAtB,6KACuB,OAAOH,KAAKI,QADnC,0BAE+B,OAAOJ,KAAKK,SAF3C,GAAsCC,K,GAKDC,I,OCLxBC,EAAb,kNAUYC,KAAO,WAAO,IAAD,EAC4B,EAAK/B,WAAWgC,KAAKC,UAA5DC,EADW,EACXA,cAAeC,EADJ,EACIA,oBAEjBC,EAAQ,uBAAKC,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,OACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiBL,EAAoBK,IAC/CC,YAAY,yCAChB,wBAAMC,QAAS,kBAAMR,KAAiBG,UAAU,YAC5C,qBAAGA,UAAU,0CACb,qBAAGA,UAAU,6BAGjBjB,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,uBAEJ,OAAO,gBAAC,IAAD,CAAMR,MAAOA,EAAOhB,OAAQA,EAAQyB,gBAAgB,cACvD,gBAAC,EAAKnC,QAAN,QA3BZ,EA+BYA,QAAU,WAAO,IAEfoC,EAFc,eACd9C,WACA8C,eACN,OAAO,gCACFA,MAnCb,6GAEe/C,GAFf,iEAGQuB,KAAKC,SAASD,KAAKS,MAH3B,oIAMWhC,GACH,OAAO,qBAAMgC,KAAN,UAPf,GAA2BgB,KCDdC,EAAb,2MASIF,eAAiB,WAEb,OADoB,EAAKd,KAAnBC,UACWgB,kBAXzB,EAaItC,IAAM,kBAAM,EAAKuC,WAAWpB,IAbhC,sHAEwB/B,GAFxB,8EAIckC,EAAcX,KAAKU,KAAnBC,UAJd,SAKcA,EAAUkB,QALxB,OAMQ7B,KAAK8B,UAAUtB,GANvB,4GAA2BL,G,iDCGrB4B,EAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,eAAgB+C,KAAM,SAAUC,UAAU,GAClD,CAAEhD,KAAM,UAAW+C,KAAM,UAAWC,UAAU,GAC9C,CAAEhD,KAAM,SAAU+C,KAAM,WAGfE,EAAb,2MAEYC,UAFZ,IAGYC,kBAHZ,IAKYC,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACfvD,KAAM,CAAEwD,OAAQ,OAAQvD,MAAO,iCAASiC,YAAa,gBACrDuB,aAAc,CAAED,OAAQ,OAAQvD,MAAO,iCAASiC,YAAa,kCAC7DwB,QAAS,CAAEF,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GAC1DC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BAXhE,EAoBY+B,kBApBZ,uCAoBgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKtE,WAAWuE,iBAAiBF,EAAQZ,KAAKe,MAD5B,2CApBhC,0DAwBYzC,KAAO,WACX,IAAI0C,EAAkBC,IAAEC,MAAM,EAAKjB,cAEnC,OAAO,gBAAC,IAAD,CAAMtC,OAAO,iCAAQyB,gBAAgB,cACxC,uBAAKR,UAAU,gBACX,gBAAC,IAAD,CAAMuC,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,EACRM,SAAU,EAAKA,SACfkB,SAAUJ,EACVK,cAAe,EAAKV,kBACpBW,eAAgB,OAlCpC,6GAeerB,GAff,iEAgBQpC,KAAKoC,aAAeA,EACpBpC,KAAKC,SAASD,KAAKS,MAjB3B,4GAA+BP,K,QCTlBwD,EAAb,2MAEYC,mBAAqB,SAACC,EAAWC,GACND,EAAzBE,GADgD,IAC5C7E,EAAqB2E,EAArB3E,KAD2C,GACtB2E,EAAfG,WAC6B,EAAKrF,YAA5CsF,EAF+C,EAE/CA,eAAgBC,EAF+B,EAE/BA,mBAElBnD,EAAQ,uBAAKC,UAAU,2BAA2BK,QAAS,kBAAM4C,EAAeJ,KAChF,gBAAC,IAAD,CAAI3E,KAAK,UAEb,OAAO,gBAAC,IAAD,CAAK6B,MAAOA,EAAOC,UAAU,cAChC,uBAAKK,QAAS,kBAAM6C,EAAmBL,KAAQ3E,KAV3D,EAkBYG,QAAU8E,aAAS,WAAO,IACxBC,EAAc,EAAKzF,WAAnByF,UACN,OAAO,uBAAKpD,UAAU,QAAO,gBAAC,IAAD,CAAMuB,MAAO6B,EAAWP,KAAM,CAAEpF,OAAQ,EAAKmF,0BApBlF,sEAcWlF,GACH,OAAO,qBAAMW,QAAN,UAff,GAAmCqC,KCEtB2C,EAAb,2MAEYC,cAFZ,IAGYC,0BAHZ,IAIYC,iBAA0B,GAJtC,EAcYC,mBAAqB,WAAO,IAC1BC,EAA8B,EAAK/F,WAAWgC,KAAKgE,iBAAnDD,0BAEN,OAAO,uBAAK1D,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,UAAU,wBAAM8B,UAAU,6BAA4B,oEAE9G,EAAKuD,sBAAwB,gBAAC,IAAD,CAAMhC,MAAO,EAAKiC,iBAAkBX,KAAM,CAAEpF,OAAQ,EAAKmG,iBACvF,uBAAK5D,UAAU,+CAA+CK,QAAS,kBAAMqD,EAA0B,EAAKJ,YAAW,gBAAC,IAAD,CAAIpF,KAAK,SAAhI,wBAtBZ,EA2BY0F,cAAgB,SAACf,EAAWgB,GAAmB,IAAD,EAC+B,EAAKlG,WAAWgC,KAAKgE,iBAAhGG,EAD4C,EAC5CA,mBAAoBC,EADwB,EACxBA,wBAAyBC,EADD,EACCA,0BACzC9F,GAA6B2E,EAAjCE,GAAiCF,EAA7B3E,MAAMsD,EAAuBqB,EAAvBrB,GAAIyC,EAAmBpB,EAAnBoB,OAAQC,EAAWrB,EAAXqB,OACtBC,EAAmB,EAAKb,SAAxBa,eACFC,OAA6B5F,IAAnB2F,EAA+B,wBAA2BA,EAAe3C,KAAOA,EAAK,uBAAyB,wBACxH6C,EAAuB,MAAXJ,EAAiB,gBAAC,IAAD,CAAI/F,KAAK,SAAS8B,UAAU,qBAA2B,gBAAC,IAAD,CAAI9B,KAAK,OAAO8B,UAAU,sBAC9GsE,EAAO,uBAAKtE,UAAWoE,EAAS/D,QAAS,kBAAM2D,EAA0BnB,KACxEwB,EACAnG,EAFM,WAEcM,IAAX0F,EAAuB,SAAMA,GACvCnE,EACA,uBAAKC,UAAU,oCACX,wBAAMK,QAAS,kBAAMyD,EAAmB,EAAKR,SAAUT,KAAO,gBAAC,IAAD,CAAI7C,UAAU,2BAA2B9B,KAAK,YAC5G,wBAAMmC,QAAS,kBAAM0D,EAAwB,EAAKT,SAAUT,KAAO,gBAAC,IAAD,CAAI7C,UAAU,4CAA4C9B,KAAK,WAE1I,OAAO,gBAAC,IAAD,CAAKoG,KAAMA,EAAMvE,MAAOA,EAAOC,UAAU,UAzCxD,EA6CYuE,OAAS,WACb,IAAIlD,EAAegB,IAAEC,MAAM,EAAKgB,UAC1BpF,EAAuCmD,EAAvCnD,KAAM6E,EAAiC1B,EAAjC0B,GAAIpB,EAA6BN,EAA7BM,aAAcqB,EAAe3B,EAAf2B,WAE9B,OAAO,uBAAKhD,UAAU,sBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,0EAErH,uBAAKA,UAAU,2BACX,uBAAKA,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAAS+C,IAEvE,uBAAK/C,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAAS9B,IAEvE,uBAAK8B,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAAS2B,IAEvE,uBAAK3B,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAAS,gBAAC,IAAD,CAAUwE,KAAMxB,SAhEzG,EAsEYtD,KAAO,WAEX,IAAIX,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,mCAGJ,OAAO,gBAAC,IAAD,CAAMjB,OAAQA,EAAQyB,gBAAgB,cACxC,EAAK+D,SACL,EAAKd,uBA9ElB,6GAMe/F,GANf,2EAOcoF,EAAwBpF,EAAxBoF,OAAQD,EAAgBnF,EAAhBmF,KAAM4B,EAAU/G,EAAV+G,MACpBxF,KAAKqE,SAAWR,EAChB7D,KAAKsE,qBAAuBV,EAC5B5D,KAAKuE,iBAAmBiB,EACxBxF,KAAKC,SAASD,KAAKS,MAX3B,4GAAqCP,KCM/BuF,E,YAGF,WAAYC,GAAqB,IAAD,8BAC5B,+CAFIC,oBACwB,EAE5B,EAAKC,UAAY,EAAKC,SAAW,GACjC,EAAKF,eAAiBD,EAHM,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAK2F,eAAelF,KAAKhC,EAAOqH,EAAWD,G,cAAvDE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAf5ByD,KAmBdC,GAAb,0PASIpF,oBATJ,uCAS0B,WAAOK,GAAP,SAAA8B,EAAA,sDAClB,EAAKmB,UAAY,IAAIsB,EAAa,EAAKS,IAAIC,IAAIC,gBAC/C,EAAKjC,UAAUkC,MAAM,CAAEnF,IAAKA,IAFV,2CAT1B,wDAkBI+B,iBAlBJ,uCAkBuB,WAAOoB,GAAP,SAAArB,EAAA,8DAEKzD,IAAhB8E,EAAS9B,GAFE,uBAGX8B,EAASN,WAAauC,KAAKC,MAC3BlC,EAASa,oBAAiB3F,EAJf,SAKL,EAAK2G,IAAIC,IAAIK,SAASC,UAAKlH,EAAW8E,GALjC,6CAOL,EAAK6B,IAAIC,IAAIK,SAASC,KAAKpC,EAAS9B,GAAI8B,GAPnC,wBAST,EAAK3D,KAAK/B,MAAMkD,QATP,4CAlBvB,wDAkCIjB,cAlCJ,sBAkCoB,sBAAAoC,EAAA,sDACZ,EAAKlB,UAAUI,EAAW,CAAEwE,iBAAanH,IAD7B,2CAlCpB,EAyCIyE,eAzCJ,uCAyCqB,WAAOK,GAAP,SAAArB,EAAA,sDACb,EAAKlB,UAAUI,EAAWmC,GADb,2CAzCrB,wDAgDIJ,mBAhDJ,uCAgDyB,WAAOI,GAAP,mBAAArB,EAAA,6DACXT,EAAO8B,EAAP9B,GADW,SAEG,EAAK2D,IAAIC,IAAIQ,sBAAsBC,MAAM,CAAEC,IAAKtE,IAFnD,OAEbuE,EAFa,OAGbrI,EAAsB,CACtBoF,OAAQQ,EACRT,KAAMkD,EAAQf,IAAI,GAClBP,MAAOsB,EAAQf,KAEnB,EAAKjE,UAAUsC,EAAiB3F,GARf,2CAhDzB,4KAIwBA,GAJxB,iEAKQuB,KAAKa,oBAAoBpC,GALjC,8IAeQ,OAAOuB,KAAK4B,WAAW8B,OAf/B,GAA+BvD,GAA/B,uCAEK4G,KAFL,iEC/BO,SAASC,EAAoBC,GAChC,OAAIA,IAAU,uCAAuCC,KAAKD,GAC/C,wGAEP,EAGD,SAASE,EAAiBF,GAC7B,OAAIA,IAAU,+BAA+BC,KAAKD,GACvC,kGAEP,EAGD,SAASG,EAAgBH,GAC5B,OAAIA,IAAU,8CAA8CC,KAAKD,GACtD,qFAEP,EAGD,SAASI,EAAcJ,GAC1B,OAAIA,IAAU,uCAAuCC,KAAKD,GAC/C,wGAEP,EAGD,SAASK,EAAwBL,GACpC,OAAQA,GAASA,EAAMM,OAAS,IAAO,iEAAiBhI,EAGrD,SAASiI,EAAkBP,GAC9B,OAAQA,GAASA,EAAMM,OAAS,GAAM,gFAAiBhI,EAQpD,SAASkI,EAAyBR,GACrC,OAAQA,GAASA,EAAMM,OAAS,IAAO,6EAAmBhI,EAGvD,SAASmI,EAAqBT,GACjC,OAAQA,GAASA,EAAMM,OAAS,IAAO,iEAAiBhI,EAGrD,SAASoI,EAAeV,GAC3B,OAAQA,GAASA,EAAMM,OAAS,GAAM,oDAAchI,ECxCjD,I,yDAAMqI,GAAb,2MACYzF,UADZ,IAEYyB,UAFZ,IAGYC,YAHZ,IAWY9B,OAAiB,CACrB,CAAE9C,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,YAAa+C,KAAM,SAAUC,UAAU,GAC/C,CAAEhD,KAAM,WAAY+C,KAAM,SAAUC,UAAU,GAC9C,CAAEhD,KAAM,aAAc+C,KAAM,SAAUC,UAAU,GAChD,CAAEhD,KAAM,iBAAkB+C,KAAM,SAAUC,UAAU,GACpD,CAAEhD,KAAM,YAAa+C,KAAM,SAAUC,UAAU,GAC/C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,WAAY+C,KAAM,SAAUC,UAAU,GAC9C,CAAEhD,KAAM,QAAS+C,KAAM,UACvB,CAAE/C,KAAM,MAAO+C,KAAM,SAAUC,UAAU,GACzC,CAAEhD,KAAM,UAAW+C,KAAM,KAAMC,UAAU,GACzC,CAAEhD,KAAM,gBAAiB+C,KAAM,SAAUC,UAAU,GACnD,CAAEhD,KAAM,UAAW+C,KAAM,SAAUC,UAAU,GAC7C,CAAEhD,KAAM,YAAa+C,KAAM,UAAWC,UAAU,GAChD,CAAEhD,KAAM,SAAU+C,KAAM,WA3BhC,EA8BYK,SAAqB,CACzBC,MAAO,CACHrD,KAAM,CAAEwD,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBAClD6D,OAAQ,CAAEvC,OAAQ,QAASvD,MAAO,eAAM2I,KAAM,CAAC,CAAEZ,MAAO,IAAKa,MAAO,UAAO,CAAEb,MAAO,IAAKa,MAAO,YAChGC,UAAW,CAAEtF,OAAQ,OAAQvD,MAAO,SAAKiC,YAAa,SAAK6G,MAAOL,GAClEM,SAAU,CAAExF,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBACtD+G,WAAY,CAAEzF,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,eAAM6G,MAAON,GACrES,eAAgB,CAAE1F,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,2BAAQ6G,MAAOP,GAC7EW,UAAW,CAAE3F,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,2BAAQ6G,MAAOhB,GACxE/B,OAAQ,CAAExC,OAAQ,OAAQvD,MAAO,qBAAOiC,YAAa,qBAAO6G,MAAOb,GACnEkB,SAAU,CAAE5F,OAAQ,OAAQvD,MAAO,qBAAOiC,YAAa,sBACvDmH,MAAO,CAAE7F,OAAQ,OAAQvD,MAAO,QAASiC,YAAa,QAAS6G,MAAOZ,GACtEmB,IAAK,CAAE9F,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,eAAM6G,MAAOX,GAC9DmB,QAAS,CACL/F,OAAQ,KAAMvD,MAAO,2BACrBuJ,OAAO,WAAD,4BAAE,WAAO1F,EAAkB9D,EAAcgI,GAAvC,SAAAjE,EAAA,sEAA+D,EAAKtE,WAAWgK,YAAY3F,EAAS9D,EAAMgI,GAA1G,mFAAF,uDAAC,GACP0B,QAAS,SAACH,GACN,OAAKA,EACEI,YAAGJ,GAAS,SAACK,GAAkB,IAC5BC,EAAoCD,EAApCC,QAASC,EAA2BF,EAA3BE,SAAUC,EAAiBH,EAAjBG,KAAMC,EAAWJ,EAAXI,OAE/B,OAAO,qCACU1J,IAAZuJ,QAAwCvJ,IAAfuJ,EAAQvG,IAAoBqG,YAAGE,GAAS,SAAAnJ,GAAC,OAAI,gCAAGA,EAAEuJ,qBAC9D3J,IAAbwJ,QAA0CxJ,IAAhBwJ,EAASxG,IAAoBqG,YAAGG,GAAU,SAACpJ,GAAD,OAAO,gCAAGA,EAAEuJ,qBACvE3J,IAATyJ,QAAkCzJ,IAAZyJ,EAAKzG,IAAoBqG,YAAGI,GAAM,SAACrJ,GAAD,OAAO,gCAAGA,EAAEuJ,qBACzD3J,IAAX0J,QAAsC1J,IAAd0J,EAAO1G,IAAoBqG,YAAGK,GAAQ,SAACtJ,GAAD,OAAO,gCAAGA,EAAEuJ,oBAEhF,WACC,OAAO,yBAAOnI,UAAU,cAAjB,qCAXU,yBAAOA,UAAU,cAAjB,cAe7BoI,cAAe,CAAE1G,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,2BAAQ6G,MAAOV,GAC5E8B,QAAS,CAAE3G,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,eAAM6G,MAAOR,GAClE6B,UAAW,CAAE5G,OAAQ,WAAYvD,MAAO,iCAAS0D,cAAc,GAC/DC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BAjEhE,EAqEY+B,kBArEZ,uCAqEgC,WAAO7D,EAAc8D,GAArB,iBAAAC,EAAA,6DAClBsG,EAAwB,EAAK5K,WAA7B4K,oBACF/G,EAAK,EAAKqB,MAAQ,EAAKA,KAAKrB,GAFR,SAGlB+G,EAAoB/G,EAAIQ,EAAQZ,KAAKe,KAAM,EAAKW,QAH9B,OAIxB,EAAK0F,YAJmB,2CArEhC,0DA4EY9I,KAAOyD,aAAS,WAEpB,OAAO,gBAAC,IAAD,CAAMpE,OAAO,iCAAQyB,gBAAgB,cACxC,gBAAC,IAAD,CAAM+B,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,YACrCwC,SAAU,EAAKK,KACf7B,OAAQ,EAAKA,OACbM,SAAU,EAAKA,SACfmB,cAAe,EAAKV,kBACpB0G,cAAc,QApF9B,6GAIe/K,GAJf,yEAKcmF,EAAiBnF,EAAjBmF,KAAMC,EAAWpF,EAAXoF,OACZ7D,KAAK4D,KAAOA,EACZ5D,KAAK6D,OAASA,EACd7D,KAAKC,SAASD,KAAKS,MAR3B,4GAAsCP,KCNzBuJ,GAAb,2MAEYC,qBAFZ,IASYjJ,KAAO,WACX,IAIIkJ,EAJAC,EAAsBxG,IAAEC,MAAM,EAAKqG,iBACjC5F,EAAgJ8F,EAAhJ9F,GAAI7E,EAA4I2K,EAA5I3K,KAAM8I,EAAsI6B,EAAtI7B,UAAWE,EAA2H2B,EAA3H3B,SAAUjD,EAAiH4E,EAAjH5E,OAAQkD,EAAyG0B,EAAzG1B,WAAYC,EAA6FyB,EAA7FzB,eAAgBC,EAA6EwB,EAA7ExB,UAAWnD,EAAkE2E,EAAlE3E,OAAQqD,EAA0DsB,EAA1DtB,MAAOC,EAAmDqB,EAAnDrB,IAAKa,EAA8CQ,EAA9CR,QAASf,EAAqCuB,EAArCvB,SAAUc,EAA2BS,EAA3BT,cAAeX,EAAYoB,EAAZpB,QAEtIqB,OAA6BtK,IAAZiJ,OAAwBjJ,EAAYiJ,EAAQsB,IAEjE,QAAuBvK,IAAnBsK,EACAF,EAAK,OACF,CAAC,IACEb,EAAoCe,EAApCf,QAASC,EAA2Bc,EAA3Bd,SAAUC,EAAiBa,EAAjBb,KAAMC,EAAWY,EAAXZ,OAC/BU,EAAK,qCAAepK,IAAZuJ,QAAwCvJ,IAAfuJ,EAAQvG,IAAoBqG,YAAGE,GAAS,SAAAnJ,GAAC,OAAI,gCAAGA,EAAEuJ,qBACjE3J,IAAbwJ,QAA0CxJ,IAAhBwJ,EAASxG,IAAoBqG,YAAGG,GAAU,SAACpJ,GAAD,OAAO,gCAAGA,EAAEuJ,qBACvE3J,IAATyJ,QAAkCzJ,IAAZyJ,EAAKzG,IAAoBqG,YAAGI,GAAM,SAACrJ,GAAD,OAAO,gCAAGA,EAAEuJ,qBACzD3J,IAAX0J,QAAsC1J,IAAd0J,EAAO1G,IAAoBqG,YAAGK,GAAQ,SAACtJ,GAAD,OAAO,gCAAGA,EAAEuJ,iBAGnF,IAAIpJ,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,qDAGJ,OAAO,gBAAC,IAAD,CAAMjB,OAAQA,EAAQyB,gBAAgB,cACzC,uBAAKR,UAAU,sBACX,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,4FAErH,uBAAKA,UAAU,qBACX,uBAAKA,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAAS+C,IAEvE,uBAAK/C,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAAS9B,IAEvE,uBAAK8B,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAASkH,IAEvE,uBAAKlH,UAAU,qCACX,uBAAKA,UAAU,oBAAf,WAA0C,uBAAKA,UAAU,SAASgH,IAEtE,uBAAKhH,UAAU,qCAAf,IACI,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAAoB,MAAXiE,EAAiB,SAAkB,MAAXA,EAAiB,SAAM,KAEtH,uBAAKjE,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAASmH,IAEvE,uBAAKnH,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAASoH,IAEzE,uBAAKpH,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAASqH,IAEzE,uBAAKrH,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAASkE,IAExE,uBAAKlE,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAASsH,IAExE,uBAAKtH,UAAU,qCACX,uBAAKA,UAAU,oBAAf,UAA8C,uBAAKA,UAAU,SAASuH,IAE1E,uBAAKvH,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAASwH,IAEvE,uBAAKxH,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAAS4I,IAEzE,uBAAK5I,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAASoI,IAEzE,uBAAKpI,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAASqI,QA9E3F,6GAIeM,GAJf,iEAKQ1J,KAAK0J,gBAAkBA,EACvB1J,KAAKC,SAASD,KAAKS,MAN3B,4GAA4CP,KCE/B6J,GAAb,2MACYC,eADZ,IAEYC,gBAFZ,IAGYC,YAHZ,IAIYC,cAJZ,IAKYC,UAAY,EALxB,EAaY3J,KAAO,SAAChC,GAEZ,OADA,EAAK2L,YACE,gBAAC,IAAD,CAAMtK,OAAO,uCAASyB,gBAAgB,cACzC,uBAAKR,UAAU,kBACVtC,EAAM4L,SAAS3K,KAAI,SAACC,GAAD,OAAY,EAAK2K,UAAU3K,EAAG,EAAK4K,sBAjBvE,EAsBYD,UAAY,SAACE,EAAYpJ,GAC7B,OAAO,uBAAKF,IAAKsJ,EAAIjI,GAAIxB,UAAU,0CAC9B6H,YAAG4B,GAAK,SAACvD,GAAW,IACX1E,EAAoB0E,EAApB1E,GAAI2G,EAAgBjC,EAAhBiC,YACV,OAAO,gCACH,uBAAKnI,UAAU,iBAAiBK,QAAS,kBAAMA,EAAQmB,IACnDlB,MAAO,CAAEoJ,OAAQ,oBAAqBC,YAAa,OAAQC,aAAc,SAEzE,wBAAM5J,UAAU,qBACZ,gBAAC,IAAD,CAAI9B,KAAK,gBAAgB8B,UAAU,oBADvC,QAEYmI,UAhCpC,EAwCYqB,eAxCZ,uCAwC6B,WAAOP,GAAP,iBAAAhH,EAAA,6DACrB,EAAKgH,UAAYA,EADI,SAEC,EAAKtL,WAAWkM,mBAAmBZ,GAFpC,YAEjBa,EAFiB,+BAIbC,EAAMD,EAAUtD,QACV,GALO,oBAMD,IAARuD,EANS,kCAOH,EAAKC,gBAAgBF,EAAU,GAAG9B,SAASxG,IAPxC,+CAUTuI,EAAM,GAVG,wBAWT,EAAKV,YACL,EAAKY,gBAAgB,gBAAC,IAAD,CAAMlL,OAAO,wCAC9B,uBAAKiB,UAAU,kBACV8J,EAAUnL,KAAI,SAAAC,GAAC,OAAI,EAAK2K,UAAU3K,EAAEoJ,SAAU,EAAKgC,uBAdnD,mDAoBb,EAAKxB,UAAU,EAAKa,WACpB,EAAKa,cArBQ,gCAwBjB,EAAK1B,UAAU,EAAKa,WACpB,EAAKa,cAzBY,4CAxC7B,wDAqEYF,gBArEZ,uCAqE8B,WAAOd,GAAP,iBAAAjH,EAAA,6DACtB,EAAKiH,WAAaA,EADI,SAEH,EAAKvL,WAAWwM,kBAAkBjB,GAF/B,YAElBkB,EAFkB,+BAIdL,EAAMK,EAAO5D,QACP,GALQ,oBAMF,IAARuD,EANU,kCAOJ,EAAKM,YAAYD,EAAO,GAAGnC,KAAKzG,IAP5B,+CAUVuI,EAAM,GAVI,wBAWV,EAAKV,YACL,EAAKY,gBAAgB,gBAAC,IAAD,CAAMlL,OAAO,wCAC9B,uBAAKiB,UAAU,kBACVoK,EAAOzL,KAAI,SAAAC,GAAC,OAAI,EAAK2K,UAAU3K,EAAEqJ,KAAM,EAAKoC,mBAd3C,mDAoBd,EAAK7B,UAAU,EAAKa,WACpB,EAAKa,cArBS,gCAwBlB,EAAK1B,UAAU,EAAKa,WACpB,EAAKa,cAzBa,4CArE9B,wDAkGYG,YAlGZ,uCAkG0B,WAAOlB,GAAP,eAAAlH,EAAA,6DAClB,EAAKkH,OAASA,EADI,SAEG,EAAKxL,WAAW2M,gBAAgBnB,GAFnC,QAEdoB,EAFc,SAGFA,EAAS/D,OAAS,GAC9B,EAAK6C,YACL,EAAKY,gBAAgB,gBAAC,IAAD,CAAMlL,OAAO,wCAC9B,uBAAKiB,UAAU,kBACVuK,EAAS5L,KAAI,SAAAC,GAAC,OAAI,EAAK2K,UAAU3K,EAAEsJ,OAAQ,EAAKsC,uBAIzD,EAAKhC,UAAU,EAAKa,WACpB,EAAKa,eAZS,2CAlG1B,wDAkHYM,cAlHZ,uCAkH4B,WAAOpB,GAAP,SAAAnH,EAAA,sDACpB,EAAKmH,SAAWA,EAChB,EAAKZ,UAAU,EAAKa,WACpB,EAAKa,cAHe,2CAlH5B,wDAwHYA,YAxHZ,sBAwH0B,sBAAAjI,EAAA,sEACZ,EAAKtE,WAAWuM,YAAY,EAAKjB,UAAW,EAAKC,WAAY,EAAKC,OAAQ,EAAKC,UADnE,2CAxH1B,6GAOe1L,GAPf,uFAS6BuB,KAAKtB,WAAW8M,aAT7C,OASYnB,EATZ,OAUQrK,KAAKC,SAASD,KAAKS,KAAM,CAAE4J,SAAUA,IAV7C,4GAA8BnK,KCJjBuL,GAAb,2MAKID,WALJ,sBAKiB,sBAAAxI,EAAA,sEACI,EAAKkD,IAAIwF,OAAOC,QAAQC,OAAO,GAAI,EAAG,KAD1C,mFALjB,EASIhB,mBATJ,uCASyB,WAAOZ,GAAP,SAAAhH,EAAA,sEACJ,EAAKkD,IAAIwF,OAAOG,oBAAoBC,MAAM,CAAEhD,QAASkB,IADjD,mFATzB,wDAaIkB,kBAbJ,uCAawB,WAAOjB,GAAP,SAAAjH,EAAA,sEACH,EAAKkD,IAAIwF,OAAOK,kBAAkBD,MAAM,CAAE/C,SAAUkB,IADjD,mFAbxB,wDAiBIoB,gBAjBJ,uCAiBsB,WAAOnB,GAAP,SAAAlH,EAAA,sEACD,EAAKkD,IAAIwF,OAAOM,gBAAgBF,MAAM,CAAE9C,KAAMkB,IAD7C,mFAjBtB,wDAqBIe,YArBJ,uCAqBkB,WAAOjB,EAAmBC,EAAqBC,EAAiBC,GAAhE,mBAAAnH,EAAA,6DACJiJ,EAAY,EAAK/F,IAAIwF,OAArBO,QADI,SAEaA,EAAQxF,UAAKlH,EAAW,CAAEuJ,QAASkB,EAAWjB,SAAUkB,EAAYjB,KAAMkB,EAAQjB,OAAQkB,IAFvG,OAEN+B,EAFM,OAGNC,EAAYD,GAAcD,EAAQG,MAAMF,EAAW3J,IACvD,EAAK8J,WAAWF,GAJN,2CArBlB,qPAEQnM,KAAK8B,UAAUiI,IAFvB,2GAA8B5J,GC2BjBmM,IAlBqBtG,IAkBlC,oQAOI0C,YAPJ,uCAOkB,WAAO3F,EAAkB9D,EAAcgI,GAAvC,eAAAjE,EAAA,6DACNuJ,EAAW,EAAKC,KAAKf,IADf,SAEGc,EAASE,OAFZ,mFAPlB,4DAaIhI,0BAA4B,SAACiI,GACzB,IAAIjO,EAAsB,CACtBoF,OAAQ6I,EACR9I,UAAMrE,EACNiG,WAAOjG,GAEX,EAAKuC,UAAU8F,GAAkBnJ,IAnBzC,EAsBIqG,wBAtBJ,uCAsB8B,WAAOjB,EAAa6I,GAApB,eAAA1J,EAAA,sDAClBvE,EAAsB,CACtBoF,OAAQA,EACRD,KAAM8I,EACNlH,MAAOkH,GAEX,EAAK5K,UAAU8F,GAAkBnJ,GANX,2CAtB9B,0DA+BIsG,0BA/BJ,uCA+BgC,WAAO2H,GAAP,SAAA1J,EAAA,sDACxB,EAAKlB,UAAU2H,GAAwBiD,GADf,2CA/BhC,wDAmCIpD,oBAnCJ,uCAmC0B,WAAO/G,EAAY9D,EAAYoF,GAA/B,iDAAAb,EAAA,6DACZ/D,EAAuJR,EAAvJQ,KAAM8I,EAAiJtJ,EAAjJsJ,UAAWE,EAAsIxJ,EAAtIwJ,SAAUjD,EAA4HvG,EAA5HuG,OAAQkD,EAAoHzJ,EAApHyJ,WAAYC,EAAwG1J,EAAxG0J,eAAgBC,EAAwF3J,EAAxF2J,UAAWnD,EAA6ExG,EAA7EwG,OAAQqD,EAAqE7J,EAArE6J,MAAOC,EAA8D9J,EAA9D8J,IAAKa,EAAyD3K,EAAzD2K,QAASf,EAAgD5J,EAAhD4J,SAAUc,EAAsC1K,EAAtC0K,cAAeX,EAAuB/J,EAAvB+J,QAASa,EAAc5K,EAAd4K,UAC3IsD,EAAQ,CAAE1N,KAAMA,EAAM8I,UAAWA,EAAWE,SAAUA,EAAUjD,OAAQA,EAAQkD,WAAYA,EAAYC,eAAgBA,EAAgBC,UAAWA,EAAWnD,OAAQA,EAAQqD,MAAOA,EAAOC,IAAKA,EAAKa,QAASA,EAASf,SAAUA,EAAUc,cAAeA,EAAeX,QAASA,EAASnE,SAAUR,EAAOtB,GAAII,QAAS,GAF5S,SAGC,EAAKuD,IAAIC,IAAIyG,gBAAgBnG,KAAKlE,EAAIoK,GAHvC,UAGdE,EAHc,QAIA,IAAdxD,EAJc,6BAMF9J,KADRuN,EAAMvK,KAENuK,EAAMD,EAAOtK,IAPH,UASR,EAAK2D,IAAIC,IAAIK,SAASC,KAAK5C,EAAOtB,GAAI,CAAEuB,GAAID,EAAOC,GAAI7E,KAAM4E,EAAO5E,KAAMyD,aAAcmB,EAAOnB,aAAcqB,WAAYF,EAAOE,WAAYpB,QAAS,EAAGuC,eAAgB4H,IAThK,QAWlB,EAAKpM,KAAK/B,MAAMkD,QAXE,4CAnC1B,4DAiDIgD,mBAjDJ,uCAiDyB,WAAOhB,EAAa6I,GAApB,iDAAA1J,EAAA,6DACXT,EAAkLmK,EAAlLnK,GAAIuB,EAA8K4I,EAA9K5I,GAAI7E,EAA0KyN,EAA1KzN,KAAM8I,EAAoK2E,EAApK3E,UAAWE,EAAyJyE,EAAzJzE,SAAUoB,EAA+IqD,EAA/IrD,UAA+IqD,EAApI/J,QAAS0B,EAA2HqI,EAA3HrI,SAAUW,EAAiH0H,EAAjH1H,OAAQkD,EAAyGwE,EAAzGxE,WAAYC,EAA6FuE,EAA7FvE,eAAgBC,EAA6EsE,EAA7EtE,UAAWnD,EAAkEyH,EAAlEzH,OAAQqD,EAA0DoE,EAA1DpE,MAAOC,EAAmDmE,EAAnDnE,IAAKa,EAA8CsD,EAA9CtD,QAASf,EAAqCqE,EAArCrE,SAAUc,EAA2BuD,EAA3BvD,cAAeX,EAAYkE,EAAZlE,QAD3J,SAEX,EAAKtC,IAAIC,IAAIyG,gBAAgBnG,KAAKlE,EAAI,CAAEuB,GAAIA,EAAI7E,KAAMA,EAAM8I,UAAWA,EAAWE,SAAUA,EAAU5D,SAAUA,EAAUW,OAAQA,EAAQkD,WAAYA,EAAYC,eAAgBA,EAAgBC,UAAWA,EAAWnD,OAAQA,EAAQqD,MAAOA,EAAOC,IAAKA,EAAKa,QAASA,EAASf,SAAUA,EAAUc,cAAeA,EAAeX,QAASA,EAASa,UAAWA,EAAW1G,QAAS,IAF1W,uBAGX,EAAKuD,IAAIC,IAAIQ,sBAAsBC,MAAM,CAAEC,IAAK6F,EAAMnK,KAH3C,OAIjB,EAAKgH,YAJY,2CAjDzB,0DAwDI9J,SAxDJ,uCAwDe,WAAOoE,GAAP,SAAAb,EAAA,sEACD,EAAKtC,KAAKC,UAAUsD,mBAAmBJ,GADtC,2CAxDf,wDA6DIkJ,oBA7DJ,uCA6D0B,WAAOL,GAAP,qBAAA1J,EAAA,6DACZT,EAAOmK,EAAPnK,GADY,SAED,EAAK2D,IAAIC,IAAIQ,sBAAsBC,MAAM,CAAEC,IAAKtE,IAF/C,OAEdqB,EAFc,OAGd4B,EAAQ5B,EAAKmC,IAAIwB,OAAS,EAAI3D,EAAKmC,SAAMxG,EACzCd,EAAsB,CACtBoF,YAAQtE,EACRqE,KAAMA,EAAKmC,IAAI,GACfP,MAAOA,GAEX,EAAK1D,UAAUsC,EAAiB3F,GATd,2CA7D1B,8UAAsC0B,GAAtC,iDAEK4G,KAFL,iECxBMhF,GAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,WAAY+C,KAAM,KAAMC,UAAU,GAC1C,CAAEhD,KAAM,QAAS+C,KAAM,KAAMC,UAAU,GACvC,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,UAAWC,UAAU,GAC7C,CAAEhD,KAAM,SAAU+C,KAAM,WAGfgL,GAAb,2MAEY7K,UAFZ,IAGY8K,iBAHZ,IAKY5K,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACf6B,SAAU,CACN5B,OAAQ,KAAMvD,MAAO,qBAAOiC,YAAa,uCACzCsH,OAAO,WAAD,4BAAE,WAAO1F,EAAkB9D,EAAcgI,GAAvC,SAAAjE,EAAA,sEAA+D,EAAKtE,WAAWwO,aAAanK,EAAS9D,EAAMgI,GAA3G,mFAAF,uDAAC,GACP0B,QAAS,SAAC/E,GAEN,OAAKA,EACE,gCACFgF,YAAGhF,GAAM,SAAAjE,GAAC,OAAI,gCAAGA,EAAEV,UAFN,yBAAO8B,UAAU,cAAjB,0CAM1BoM,MAAO,CACH1K,OAAQ,KAAMvD,MAAO,eAAMiC,YAAa,iCACxCsH,OAAO,WAAD,4BAAE,WAAO1F,EAAkB9D,EAAcgI,GAAvC,SAAAjE,EAAA,sEAA+D,EAAKtE,WAAW0O,UAAUrK,EAAS9D,EAAMgI,GAAxG,mFAAF,uDAAC,GACP0B,QAAS,SAAC/E,GAEN,OAAKA,EACE,gCACFgF,YAAGhF,GAAM,SAAAjE,GAAC,OAAI,gCAAGA,EAAEmE,QAFN,yBAAO/C,UAAU,cAAjB,oCAM1BsM,OAAQ,CAAE5K,OAAQ,OAAQvD,MAAO,uCAAUiC,YAAa,wCACxDmM,OAAQ,CAAE7K,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBACpDoM,OAAQ,CAAE9K,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GACzDC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BAjChE,EA0CY+B,kBA1CZ,uCA0CgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKtE,WAAW8O,gBAAgBzK,EAAQZ,KAAKe,MAD3B,2CA1ChC,0DA8CYuK,iBAAmB,WAAO,IAExBC,EAAa,EAAKhP,WAAlBgP,SACA5J,EAAqF4J,EAArF5J,GAAI6J,EAAiFD,EAAjFC,IAAKjH,EAA4EgH,EAA5EhH,YAAakH,EAA+DF,EAA/DE,cAAeC,EAAgDH,EAAhDG,gBAAiBC,EAA+BJ,EAA/BI,gBAA+BJ,EAAdK,UAE7E,OAAO,uBAAKhN,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,6DAErH,uBAAKA,UAAU,2BACX,uBAAKA,UAAU,qCACX,uBAAKA,UAAU,oBAAf,WAA+C,uBAAKA,UAAU,SAAS+C,IAE3E,uBAAK/C,UAAU,qCACX,uBAAKA,UAAU,oBAAf,QAA4C,uBAAKA,UAAU,SAAS4M,IAExE,uBAAK5M,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAAS2F,IAEzE,uBAAK3F,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAAS6M,IAEzE,uBAAK7M,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAAS8M,IAExE,uBAAK9M,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAAS+M,OAxExF,EA8EYrN,KAAO,WACX,IAAI0C,EAAkBC,IAAEC,MAAM,EAAK4J,aAEnC,OAAO,gBAAC,IAAD,CAAMnN,OAAO,2BAAOyB,gBAAgB,cACtC,EAAKkM,mBACN,uBAAK1M,UAAU,YACX,gBAAC,IAAD,CAAMuC,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfkB,SAAUJ,EACVK,cAAe,EAAKV,kBACpBW,eAAgB,OAzFpC,6GAqCewJ,GArCf,iEAsCQjN,KAAKiN,YAAcA,EACnBjN,KAAKC,SAASD,KAAKS,MAvC3B,4GAAiCP,KCV3B6B,GAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,UAAWC,UAAU,GAC7C,CAAEhD,KAAM,SAAU+C,KAAM,WAGfgM,GAAb,2MAEY7L,UAFZ,IAGY8K,iBAHZ,IAKY5K,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACf6K,OAAQ,CAAE5K,OAAQ,OAAQvD,MAAO,uCAAUiC,YAAa,wCACxDmM,OAAQ,CAAE7K,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBACpDoM,OAAQ,CAAE9K,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GACzDC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BAXhE,EAoBY+B,kBApBZ,uCAoBgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKtE,WAAWuP,kBAAkB,EAAKhB,YAAalK,EAAQZ,KAAKe,MAD/C,2CApBhC,0DAwBYgL,gBAAkB,SAACC,GAAkB,IAEnC9J,EAA4H8J,EAA5H9J,SAAU8I,EAAkHgB,EAAlHhB,MAAezG,GAAmGyH,EAA3Gd,OAA2Gc,EAAnGzH,aAAa0H,EAAsFD,EAAtFC,aAAoCT,GAAkDQ,EAAxEpK,WAAwEoK,EAA5DT,SAA4DS,EAAlDR,KAAaE,GAAqCM,EAA7Cb,OAA6Ca,EAArCN,iBAAiBC,EAAoBK,EAApBL,gBAClGO,EAAiBhK,EAASyF,IAAhC7K,KACFqP,OAAoB/O,IAAV4N,OAAsB5N,EAAY4N,EAAMrD,IAAIhG,GAE1D,OAAO,uBAAK/C,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,uDAErH,uBAAKA,UAAU,2BACX,uBAAKA,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAASsN,IAExE,uBAAKtN,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAASuN,IAEvE,uBAAKvN,UAAU,qCACX,uBAAKA,UAAU,oBAAf,QAA4C,uBAAKA,UAAU,SAAS4M,IAExE,uBAAK5M,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAAS2F,IAEzE,uBAAK3F,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAASqN,IAEzE,uBAAKrN,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAAS8M,IAExE,uBAAK9M,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAAS+M,OAtDxF,EA6DYrN,KAAO,WACX,IAAI0C,EAAkBC,IAAEC,MAAM,EAAK4J,aAEnC,OAAO,gBAAC,IAAD,CAAMnN,OAAO,2BAAOyB,gBAAgB,cACtC,EAAK2M,gBAAgB/K,GACtB,uBAAKpC,UAAU,YACX,gBAAC,IAAD,CAAMuC,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfkB,SAAUJ,EACVK,cAAe,EAAKV,kBACpBW,eAAgB,OAxEpC,6GAeewJ,GAff,iEAgBQjN,KAAKiN,YAAcA,EACnBjN,KAAKC,SAASD,KAAKS,MAjB3B,4GAAkCP,KCPrBqO,GAAb,2MACYJ,aADZ,IAEYK,kBAFZ,IAGYC,SAAkB,GAH9B,EAaYC,WAAa,WAAO,IAClBC,EAAsB,EAAKjQ,WAAWgC,KAAKkO,SAA3CD,kBAEN,OAAO,uBAAK5N,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,UAAU,wBAAM8B,UAAU,6BAA4B,wDAE9G,EAAKyN,cAAgB,gBAAC,IAAD,CAAMlM,MAAO,EAAKmM,SAAU7K,KAAM,CAAEpF,OAAQ,EAAKqQ,iBACvE,uBAAK9N,UAAU,+CAA+CK,QAAS,kBAAMuN,EAAkB,EAAKR,WAAU,gBAAC,IAAD,CAAIlP,KAAK,SAAvH,kBArBZ,EA0BY4P,cAAgB,SAACjL,EAAWgB,GAAmB,IAAD,EACL,EAAKlG,WAAWgC,KAAKkO,SAA5DE,EAD4C,EAC5CA,gBAAiBC,EAD2B,EAC3BA,kBACbC,GAA2DpL,EAA/DrB,GAA+DqB,EAA3DoL,QAAQC,EAAmDrL,EAAnDqL,OAAQC,EAA2CtL,EAA3CsL,KAAMlN,EAAqC4B,EAArC5B,KAAMmN,EAA+BvL,EAA/BuL,MAAOC,EAAwBxL,EAAxBwL,SAAUC,EAAczL,EAAdyL,UAEnDC,GADqB,EAAKnB,QAAxBjJ,eACkB,IAAX8J,EAAgB,gCAAGA,EAAH,MAAcC,EAAQC,GAAW,gCAAGD,EAAQC,IACrE7J,EAAO,uBAAKtE,UAAU,aAAaK,QAAS,kBAAM2N,EAAkBnL,KACpE,gBAAC,IAAD,CAAI3E,KAAK,OAAO8B,UAAU,sBACzBuO,EAFM,IAEC,uBAAKvO,UAAU,yBAAkC,IAATiB,EAAa,2BAAS,mCAEtElB,OACUvB,IAAV4P,EACI,uBAAKpO,UAAU,oCACX,wBAAMK,QAAS,kBAAM0N,EAAgB,EAAKX,QAASvK,KAAO,gBAAC,IAAD,CAAI7C,UAAU,4CAA4C9B,KAAK,WACpH,uBAAK8B,UAAU,mCACpB,4BAAOoO,EAAOvG,YAAGwG,GAAU,SAAAzP,GAAC,OAAI,gCAAGA,EAAEV,UACrC,uBAAK8B,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM8J,MAEnD,OAAO,gBAAC,IAAD,CAAKhK,KAAMA,EAAMvE,MAAOA,EAAOC,UAAU,UA3CxD,EA+CYuE,OAAS,WACKlC,IAAEC,MAAM,EAAK8K,SAA/B,IADmB,EAGmH,EAAKA,QAArIrK,EAHa,EAGbA,GAAIO,EAHS,EAGTA,SAAU8I,EAHD,EAGCA,MAAOE,EAHR,EAGQA,OAAQ3G,EAHhB,EAGgBA,YAAa0H,EAH7B,EAG6BA,aAAoCT,GAHjE,EAG2C5J,WAH3C,EAGuD2J,SAHvD,EAGiEC,KAAKL,EAHtE,EAGsEA,OAAQO,EAH9E,EAG8EA,gBAAiBC,EAH/F,EAG+FA,gBACtGO,EAAiBhK,EAASyF,IAAhC7K,KACFqP,OAAoB/O,IAAV4N,OAAsB5N,EAAY4N,EAAMrD,IAAI7K,KAE1D,OAAO,uBAAK8B,UAAU,sBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,uDAErH,uBAAKA,UAAU,2BACX,uBAAKA,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAAS+C,IAEvE,uBAAK/C,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAASsN,IAExE,uBAAKtN,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAASuN,IAEvE,uBAAKvN,UAAU,qCACX,uBAAKA,UAAU,oBAAf,QAA4C,uBAAKA,UAAU,SAAS4M,IAExE,uBAAK5M,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAAS2F,IAEzE,uBAAK3F,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAASqN,IAEzE,uBAAKrN,UAAU,qCACX,uBAAKA,UAAU,oBAAf,yCAA+C,uBAAKA,UAAU,SAASsM,IAE3E,uBAAKtM,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAASuM,IAEvE,uBAAKvM,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAAS8M,IAExE,uBAAK9M,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAAS+M,OAvFxF,EA6FYrN,KAAO,WAEX,IAAIX,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,6BAGJ,OAAO,gBAAC,IAAD,CAAMjB,OAAQA,EAAQyB,gBAAgB,cACxC,EAAK+D,SACL,EAAKoJ,eArGlB,6GAKejQ,GALf,2EAMcoF,EAAwBpF,EAAxBoF,OAAQD,EAAgBnF,EAAhBmF,KAAM4B,EAAU/G,EAAV+G,MACpBxF,KAAKmO,QAAUtK,EACf7D,KAAKwO,aAAe5K,EACpB5D,KAAKyO,SAAWjJ,EAChBxF,KAAKC,SAASD,KAAKS,MAV3B,4GAAoCP,KCFvBqP,GAAb,2MASY5L,mBAAqB,SAACC,EAAWC,GACgBD,EAA/CE,GADgD,IAC5C4C,EAA2C9C,EAA3C8C,YAAyBrC,GAAkBT,EAA9BG,WAA8BH,EAAlBS,UAAUsJ,EAAQ/J,EAAR+J,IADQ,EAEV,EAAKjP,WAA1C8Q,EAF+C,EAE/CA,cAAeC,EAFgC,EAEhCA,kBAEjB3O,EAAQ,uBAAKC,UAAU,+BAA+BK,QAAS,kBAAMoO,EAAc5L,KACnF,gBAAC,IAAD,CAAI3E,KAAK,UAEToG,EAAO,uBAAKjE,QAAS,kBAAMqO,EAAkB7L,KAC7C,uBAAK7C,UAAU,oBAAf,YAAuC4M,GACvC,uBAAK5M,UAAU,oBAAf,2BAAuC2F,GACvC,uBAAK3F,UAAU,oBAAf,2BAAuC6H,YAAGvE,GAAU,SAAA1E,GAAC,OAAI,gCAAGA,EAAEV,WAElE,OAAO,gBAAC,IAAD,CAAKoG,KAAMA,EAAMvE,MAAOA,EAAOC,UAAU,0BArBxD,EAyBYN,KAAOyD,aAAS,WAAO,IAAD,EACyC,EAAKxF,WAAlEgR,EADoB,EACpBA,SAAwBC,GADJ,EACVC,aADU,EACID,oBAAoBE,EADxB,EACwBA,aAE9C/O,EAAQ,uBAAKC,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,OACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiByO,EAAmBzO,IAC9CC,YAAY,8DAChB,wBAAMC,QAAS,kBAAMyO,KAAgB9O,UAAU,YAC3C,qBAAGA,UAAU,0CACb,qBAAGA,UAAU,6BAGjBjB,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,iBAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQgB,MAAOA,EAAOS,gBAAgB,cACvD,gBAAC,IAAD,CAAMe,MAAOoN,EAAU9L,KAAM,CAAEpF,OAAQ,EAAKmF,0BA1CxD,6GAEelF,GAFf,2LAMQ,OAAO,qBAAMgC,KAAN,UANf,GAAkCP,KCArB4P,GAAb,2MAKYrP,KAAOyD,aAAS,WAAO,IAAD,EACe,EAAKxF,WAAxCyF,EADoB,EACpBA,UAAWtD,EADS,EACTA,oBAEbf,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,mCAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQiQ,eAAgB,EAAKA,eAAgBxO,gBAAgB,cAC9E,gBAAC,IAAD,CAAWR,UAAU,iBACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiBL,EAAoBK,IAC/CC,YAAY,yCAChB,gBAAC,IAAD,CAAMmB,MAAO6B,EAAWP,KAAM,CAAEpF,OAAQ,EAAKwR,WAAY5O,QAAS,EAAKA,eAhBnF,EAqBY2O,eArBZ,sBAqB6B,sBAAA/M,EAAA,sEACf,EAAKtE,WAAWyF,UAAU8L,OADX,2CArB7B,EAyBY7O,QAzBZ,uCAyBsB,WAAOsL,GAAP,SAAA1J,EAAA,sEACR,EAAKtE,WAAWwR,eAAexD,GADvB,OAEd,EAAKnD,YAFS,2CAzBtB,wDA8BYyG,WAAa,SAACpM,EAAWgB,GAAmB,IAC1C3F,EAAS2E,EAAT3E,KACN,OAAO,gBAAC,IAAD,CAAK8B,UAAU,eAClB,2BAAK,gBAAC,IAAD,CAAI9B,KAAK,SAAS8B,UAAU,sBAA0B9B,KAjCvE,6GACeR,GADf,iEAEQuB,KAAKC,SAASD,KAAKS,MAF3B,4GAAmCP,KCK7BuF,G,YAGF,WAAYC,GAAqB,IAAD,8BAC5B,+CAFIC,oBACwB,EAE5B,EAAKC,UAAY,EAAKC,SAAW,GACjC,EAAKF,eAAiBD,EAHM,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAK2F,eAAelF,KAAKhC,EAAOqH,EAAWD,G,cAAvDE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAf5ByD,KAmBdmK,IAAb,0PASItP,oBATJ,uCAS0B,WAAOK,GAAP,SAAA8B,EAAA,sDAClB,EAAKmB,UAAY,IAAIsB,GAAa,EAAKS,IAAIC,IAAIC,gBAC/C,EAAKjC,UAAUkC,MAAM,CAAEnF,IAAKA,IAFV,2CAT1B,wDAcIgP,eAAiB,SAACxD,GACd,EAAKL,WAAWK,IAfxB,sHAIwBjO,GAJxB,iEAKQuB,KAAKa,oBAAoBpC,GACzBuB,KAAK8B,UAAUgO,IANvB,4GAAmC3P,GAAnC,uCAEK4G,KAFL,iECvBMhF,GAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,KAAM+C,KAAM,SAAUC,UAAU,GACxC,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,UAAW+C,KAAM,UAAWC,UAAU,GAC9C,CAAEhD,KAAM,SAAU+C,KAAM,WAGfoO,GAAb,2MAEYjO,UAFZ,IAGYkO,eAHZ,IAKYhO,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACfsB,GAAI,CAAErB,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,gBAClDlC,KAAM,CAAEwD,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,gBACpDwB,QAAS,CAAEF,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GAC1DC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BAXhE,EAoBY+B,kBApBZ,uCAoBgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKtE,WAAW4R,cAAcvN,EAAQZ,KAAKe,MADzB,2CApBhC,0DAwBYzC,KAAO,WACX,IAAI0C,EAAkBC,IAAEC,MAAM,EAAKgN,WAEnC,OAAO,gBAAC,IAAD,CAAMvQ,OAAO,2BAAOyB,gBAAgB,cACvC,uBAAKR,UAAU,YACX,gBAAC,IAAD,CAAMuC,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfkB,SAAUJ,EACVK,cAAe,EAAKV,kBACpBW,eAAgB,OAlCpC,6GAee4M,GAff,iEAgBQrQ,KAAKqQ,UAAYA,EACjBrQ,KAAKC,SAASD,KAAKS,MAjB3B,4GAA4BP,KCTfqQ,GAAb,2MAKY9P,KAAOyD,aAAS,WAAO,IAAD,EACqB,EAAKxF,WAA9C8R,EADoB,EACpBA,OAAQC,EADY,EACZA,iBAAkBC,EADN,EACMA,WAE5B5P,EAAQ,uBAAKC,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,OACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiBuP,EAAiBvP,IAC5CC,YAAY,yCAChB,wBAAMC,QAAS,kBAAMsP,KAAc3P,UAAU,YACzC,qBAAGA,UAAU,0CACb,qBAAGA,UAAU,6BAGjBjB,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,6BAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQgB,MAAOA,EAAOiP,eAAgB,EAAKA,eAAgBxO,gBAAgB,cAC5F,gBAAC,IAAD,CAAMe,MAAOkO,EAAQ5M,KAAM,CAAEpF,OAAQ,EAAKwR,WAAY5O,QAAS,EAAKA,eAtBhF,EA2BY2O,eA3BZ,sBA2B6B,sBAAA/M,EAAA,sEACf,EAAKtE,WAAW8R,OAAOP,OADR,2CA3B7B,EA+BY7O,QA/BZ,uCA+BsB,WAAOsL,GAAP,SAAA1J,EAAA,sEACR,EAAKtE,WAAWiS,YAAYjE,GADpB,OAEd,EAAKnD,YAFS,2CA/BtB,wDAoCYyG,WAAa,SAACpM,EAAWgB,GAAmB,IAC1Cd,EAAaF,EAAbE,GAAI7E,EAAS2E,EAAT3E,KACV,OAAO,gBAAC,IAAD,CAAK8B,UAAU,eAClB,2BAAK,gBAAC,IAAD,CAAI9B,KAAK,SAAS8B,UAAU,sBAA0B+C,EAA3D,MAAkE7E,KAvC9E,6GACeR,GADf,iEAEQuB,KAAKC,SAASD,KAAKS,MAF3B,4GAAgCP,KCI1B0Q,G,YAGF,WAAYlL,GAAqB,IAAD,8BAC5B,+CAFImL,iBACwB,EAE5B,EAAKjL,UAAY,EAAKC,SAAW,GACjC,EAAKgL,YAAcnL,EAHS,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAK6Q,YAAYpQ,KAAKhC,EAAOqH,EAAWD,G,cAApDE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAf/ByD,KAmBX8K,IAAb,uPASIL,iBATJ,uCASuB,WAAOvP,GAAP,SAAA8B,EAAA,sDACf,EAAKwN,OAAS,IAAII,GAAU,EAAK1K,IAAIC,IAAI4K,aACzC,EAAKP,OAAOnK,MAAM,CAAEnF,IAAKA,IAFV,2CATvB,wDAcIoP,cAdJ,uCAcoB,WAAOnD,GAAP,SAAAnK,EAAA,8DAEKzD,IAAb4N,EAAM5K,GAFE,gCAGF,EAAK2D,IAAIC,IAAI6K,MAAMvK,UAAKlH,EAAW4N,GAHjC,6CAKF,EAAKjH,IAAIC,IAAI6K,MAAMvK,KAAK0G,EAAM5K,GAAI4K,GALhC,cAOZ,EAAK5D,YAPO,UAQN,EAAKkH,iBAAiB,IARhB,4CAdpB,wDA4BIC,WA5BJ,sBA4BiB,sBAAA1N,EAAA,sDACT,EAAKlB,UAAUsO,GAAQ,CAAE1J,iBAAanH,IAD7B,2CA5BjB,EAmCI0R,YAnCJ,uCAmCkB,WAAO9D,GAAP,SAAAnK,EAAA,sDACV,EAAKlB,UAAUsO,GAAQjD,GADb,2CAnClB,wDAuCIwD,YAAc,SAACjE,GACX,EAAKL,WAAWK,IAxCxB,sHAIwBjO,GAJxB,iEAKQuB,KAAKyQ,iBAAiBhS,GACtBuB,KAAK8B,UAAUyO,IANvB,4GAA4BpQ,GAA5B,oCAEK4G,KAFL,iECdMmK,G,YAGF,WAAYxL,GAAqB,IAAD,8BAC5B,+CAFIyL,mBACwB,EAE5B,EAAKvL,UAAY,EAAKC,SAAW,GACjC,EAAKsL,cAAgBzL,EAHO,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAKmR,cAAc1Q,KAAKhC,EAAOqH,EAAWD,G,cAAtDE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAf7ByD,KAmBboL,IAAb,gQAGI1D,cAHJ,IAUIiC,mBAVJ,uCAUyB,WAAOzO,GAAP,SAAA8B,EAAA,sDACjB,EAAK0M,SAAW,IAAIwB,GAAY,EAAKhL,IAAIC,IAAIkL,eAC7C,EAAK3B,SAASrJ,MAAM,CAAEnF,IAAKA,IAFV,2CAVzB,wDAeIgM,aAfJ,uCAemB,WAAOnK,EAAkB9D,EAAcgI,GAAvC,eAAAjE,EAAA,6DACPsO,EAAgB,EAAK9E,KAAK2D,IADnB,SAEEmB,EAAc7E,OAFhB,mFAfnB,4DAoBIW,UApBJ,uCAoBgB,WAAOrK,EAAkB9D,EAAcgI,GAAvC,eAAAjE,EAAA,6DACJuO,EAAS,EAAK/E,KAAKsE,IADf,SAEKS,EAAO9E,OAFZ,mFApBhB,4DAyBIoD,aAzBJ,sBAyBmB,sBAAA7M,EAAA,sEACW,EAAKtC,KAAK8Q,UAAU/E,OAD/B,yDAzBnB,EA6BIe,gBA7BJ,uCA6BsB,WAAOW,GAAP,6BAAAnL,EAAA,8DAEKzD,IAAf4O,EAAQ5L,GAFE,qBAGN,EAAKmL,SAHC,0BAI0E,EAAKA,SAA/EnL,EAJA,EAIAA,GAAIoL,EAJJ,EAIIA,IAAKjH,EAJT,EAISA,YAAakH,EAJtB,EAIsBA,cAAeC,EAJrC,EAIqCA,gBAAiBC,EAJtD,EAIsDA,gBAC5DK,EAAQzH,YAAcA,EACtByH,EAAQC,aAAeR,EACvBO,EAAQpK,WAAauC,KAAKC,MAC1B4H,EAAQjJ,oBAAiB3F,EARnB,SASa,EAAK2G,IAAIC,IAAIsL,QAAQhL,UAAKlH,EAAW4O,GATlD,cASFtB,EATE,iBAUA,EAAK3G,IAAIC,IAAIuL,gBAAgBC,IAAI,CAAExD,QAAStB,EAAOtK,GAAIqP,KAAM,CAAC,CAAElE,SAAUnL,EAAIoL,IAAKA,EAAKE,gBAAiBA,EAAiBC,gBAAiBA,EAAiBR,OAAQa,EAAQb,WAV5K,eAad,EAAK/D,YAbS,UAcR,EAAK9J,WAdG,4CA7BtB,wDA8CIwO,kBA9CJ,uCA8CwB,WAAO4D,EAAkBnF,GAAzB,eAAA1J,EAAA,0DAEZ6O,EAFY,uBAGZA,EAAYxE,OAASX,EAAMW,OAC3BwE,EAAYtE,OAAS,EACfG,EAAamE,EAAbnE,SALM,SAMN,EAAKxH,IAAIC,IAAIsL,QAAQhL,KAAKiG,EAAMnK,GAAIsP,GAN9B,uBAON,EAAK3L,IAAIC,IAAIuL,gBAAgBC,IAAI,CAAExD,QAASzB,EAAMnK,GAAIqP,KAAM,CAAC,CAAElE,SAAUA,EAASnL,GAAIoL,IAAKkE,EAAYlE,IAAKE,gBAAiBgE,EAAYhE,gBAAiBC,gBAAiB+D,EAAY/D,gBAAiBR,OAAQZ,EAAMY,WAPhN,cAShB,EAAK/D,YATW,UAUV,EAAK9J,WAVK,4CA9CxB,0DA8DImQ,aA9DJ,uCA8DmB,WAAOlD,GAAP,SAAA1J,EAAA,sDACX,EAAK0K,SAAWhB,EAChB,EAAK5K,UAAUkL,GAAa,CAAEmB,aAAS5O,IAF5B,2CA9DnB,wDAsEIiQ,cAtEJ,uCAsEoB,WAAOrB,GAAP,SAAAnL,EAAA,sDACZ,EAAKlB,UAAUkM,GAAcG,GADjB,2CAtEpB,wDA6EIsB,kBA7EJ,uCA6EwB,WAAO/C,GAAP,mBAAA1J,EAAA,6DACVT,EAAOmK,EAAPnK,GADU,SAEE,EAAK2D,IAAIC,IAAI2L,QAAQlL,MAAM,CAAEC,IAAKtE,IAFpC,OAEZwP,EAFY,OAGZtT,EAAsB,CACtBoF,OAAQ6I,EACR9I,KAAMmO,EAAMhM,IAAI,GAChBP,MAAOuM,EAAMhM,KAEjB,EAAKjE,UAAUyM,GAAgB9P,GARf,2CA7ExB,wDAwFIgB,SAxFJ,sBAwFe,sBAAAuD,EAAA,sEACD,EAAK2M,mBAAmB,UADvB,2CAxFf,EA4FInR,OAAS0F,aAAS,WACd,OAAO,EAAKtC,WAAW2N,OA7F/B,EAgGIlQ,IAAM,WACF,OAAO,gBAAC,EAAKb,OAAN,OAjGf,sHAKwBC,GALxB,iEAMQuB,KAAK2P,mBAAmBlR,GANhC,4GAA8B0B,GAA9B,sCAEK4G,KAFL,iEC5BaiL,GAAb,2MAKYvR,KAAOyD,aAAS,WAAO,IAAD,EACe,EAAKxF,WAAxCuT,EADoB,EACpBA,UAAWC,EADS,EACTA,oBACXtC,EAAiB,EAAKlR,WAAWgC,KAAK9B,SAAtCgR,aAEF9P,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,uBAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQiQ,eAAgB,EAAKA,eAAgBxO,gBAAgB,cAC9E,gBAAC,IAAD,CAAWR,UAAU,iBACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiBgR,EAAoBhR,IAC/CC,YAAY,8DAChB,gBAAC,IAAD,CAAMmB,MAAO2P,EAAWrO,KAAM,CAAEpF,OAAQ,EAAKwR,WAAY5O,QAASwO,SAjB9E,EAsBYG,eAtBZ,sBAsB6B,sBAAA/M,EAAA,sEACf,EAAKtE,WAAWuT,UAAUhC,OADX,2CAtB7B,EA2BYD,WAAa,SAACpM,EAAWgB,GAAmB,IAC1C+I,EAAqB/J,EAArB+J,IAAKjH,EAAgB9C,EAAhB8C,YACX,OAAO,gBAAC,IAAD,CAAK3F,UAAU,eAClB,2BAAK,gBAAC,IAAD,CAAI9B,KAAK,SAAS8B,UAAU,sBAAjC,OAA+D4M,GAC/D,uBAAK5M,UAAU,yBAAf,qBAA2C2F,KA/BvD,6GACejI,GADf,iEAEQuB,KAAKC,SAASD,KAAKS,MAF3B,4GAA+BP,KCGzBiS,G,YAGF,WAAYzM,GAAqB,IAAD,8BAC5B,+CAFI0M,oBACwB,EAE5B,EAAKxM,UAAY,EAAKC,SAAW,EACjC,EAAKuM,eAAiB1M,EAHM,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAKoS,eAAe3R,KAAKhC,EAAOqH,EAAWD,G,cAAvDE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAf5ByD,KAmBdqM,IAAb,2PASIH,oBATJ,uCAS0B,WAAOhR,GAAP,SAAA8B,EAAA,sDAClB,EAAKiP,UAAY,IAAIE,GAAa,EAAKjM,IAAIwH,SAAS4E,gBACpD,EAAKL,UAAU5L,MAAM,CAAEnF,IAAKA,IAFV,2CAT1B,4KAIwBzC,GAJxB,iEAKQuB,KAAKkS,oBAAoBzT,GACzBuB,KAAK8B,UAAUkQ,IANvB,4GAA+B7R,GAA/B,wCAEK4G,KAFL,iECrBawL,GAAb,2MACYpQ,UADZ,IAEYyB,UAFZ,IAGYC,YAHZ,IAWY9B,OAAiB,CACrB,CAAE9C,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,UAAW+C,KAAM,UAAWC,UAAU,GAC9C,CAAEhD,KAAM,SAAU+C,KAAM,WAjBhC,EAoBYK,SAAqB,CACzBC,MAAO,CACH0M,OAAQ,CAAEvM,OAAQ,OAAQvD,MAAO,SAAKiC,YAAa,eAAMyB,aAAc,GACvEqM,OAAQ,CAAExM,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,eAAMyB,aAAc,GAC1EsM,KAAM,CAAEzM,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBAClDa,KAAM,CAAES,OAAQ,QAASvD,MAAO,eAAM2I,KAAM,CAAC,CAAEZ,MAAO,EAAGa,MAAO,4BAAU,CAAEb,MAAO,EAAGa,MAAO,oCAC7FnF,QAAS,CAAEF,OAAQ,WAAYvD,MAAO,eAAM0D,cAAc,GAC1DC,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BA3BhE,EA+BY+B,kBA/BZ,uCA+BgC,WAAO7D,EAAc8D,GAArB,iBAAAC,EAAA,6DAClBwP,EAAgB,EAAK9T,WAArB8T,YACFjQ,EAAK,EAAKqB,MAAQ,EAAKA,KAAKrB,GAFR,SAGlBiQ,EAAYjQ,EAAIQ,EAAQZ,KAAKe,KAAM,EAAKW,QAHtB,OAIxB,EAAK0F,YAJmB,2CA/BhC,0DAsCY9I,KAAOyD,aAAS,WAEpB,OAAO,gBAAC,IAAD,CAAMpE,OAAO,2BAAOyB,gBAAgB,cACvC,gBAAC,IAAD,CAAM+B,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,YACrCwC,SAAU,EAAKK,KACf7B,OAAQ,EAAKA,OACbM,SAAU,EAAKA,SACfmB,cAAe,EAAKV,kBACpB0G,cAAc,QA9C9B,6GAIe/K,GAJf,yEAKcmF,EAAiBnF,EAAjBmF,KAAMC,EAAWpF,EAAXoF,OACZ7D,KAAK4D,KAAOA,EACZ5D,KAAK6D,OAASA,EACd7D,KAAKC,SAASD,KAAKS,MAR3B,4GAA8BP,KCDjBuS,GAAb,2MAEYC,aAFZ,IASYjS,KAAO,WACX,IAAIkS,EAAcvP,IAAEC,MAAM,EAAKqP,SACzB1D,EAGoD2D,EAHpD3D,OAAQC,EAG4C0D,EAH5C1D,OAAQC,EAGoCyD,EAHpCzD,KAAMlN,EAG8B2Q,EAH9B3Q,KAAMmN,EAGwBwD,EAHxBxD,MAAOC,EAGiBuD,EAHjBvD,SAAUwD,EAGOD,EAHPC,QAASC,EAGFF,EAHEE,aAAcC,EAGhBH,EAHgBG,SACpEC,EAEoDJ,EAFpDI,iBAAkBC,EAEkCL,EAFlCK,WAAYC,EAEsBN,EAFtBM,gBAAiBC,EAEKP,EAFLO,SAC/CC,EACoDR,EADpDQ,WAAYC,EACwCT,EADxCS,cAAe/D,EACyBsD,EADzBtD,UAAWgE,EACcV,EADdU,cACtCC,EAAoDX,EAApDW,cAAeC,EAAqCZ,EAArCY,YAAaC,EAAwBb,EAAxBa,QAASC,EAAed,EAAfc,WACvCnE,EAAoB,IAAXN,EAAgB,gCAAGA,EAAH,MAAcC,EAAQC,GAAW,gCAAGD,EAAQC,GAErEpP,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,6BAAyCuO,IAG7C,OAAO,gBAAC,IAAD,CAAMxP,OAAQA,EAAQyB,gBAAgB,cACzC,uBAAKR,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAkB,IAATiB,EAAa,2BAAmB,IAATA,EAAa,iCAAU,KAE1E,uBAAKjB,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAASoO,OAAoB5P,IAAb6P,EAAyB,GAAKxG,YAAGwG,GAAU,SAAAzP,GAAC,OAAI,gCAAGA,EAAEV,WAExF,uBAAK8B,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAAqB,IAAZ6R,EAAgB,SAAmB,IAAZA,EAAgB,eAAO,KAE1E,uBAAK7R,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAA0B,IAAjB8R,EAAqB,SAAwB,IAAjBA,EAAqB,eAAO,KAEpF,uBAAK9R,UAAU,oCACX,uBAAKA,UAAU,oBAAf,iBACA,uBAAKA,UAAU,SAAS+R,OAA+BvT,IAArBwT,EAAiC,GAAKnK,YAAGmK,GAAkB,SAAApT,GAAC,OAAI,gCAAGA,EAAEV,WAE3G,uBAAK8B,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAASiS,OAAgCzT,IAApB0T,EAAgC,GAAKrK,YAAGqK,GAAiB,SAAAtT,GAAC,OAAI,gCAAGA,EAAEV,WAE3G,uBAAK8B,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAASmS,IAE5B,uBAAKnS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAwB,IAAfoS,EAAmB,SAAsB,IAAfA,EAAmB,SAAM,KAE/E,uBAAKpS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM6N,MAE3C,uBAAKrS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM8J,MAE3C,uBAAKtO,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM8N,MAE3C,uBAAKtS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM+N,MAE3C,uBAAKvS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,cAAyBxB,IAAhBgU,EAA4B,GAAsB,IAAhBA,EAAoB,6CAA6B,IAAhBA,EAAoB,6CAAY,6BAE/H,uBAAKxS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAASyS,IAE5B,uBAAKzS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAS0S,MAhFxC,6GAIehV,GAJf,iEAKQuB,KAAK0S,QAAUjU,EACfuB,KAAKC,SAASD,KAAKS,MAN3B,4GAAoCP,KCM9BwT,G,YAEF,WAAYhO,GAAqB,IAAD,8BAC5B,+CAFIiO,mBACwB,EAE5B,EAAK/N,UAAY,EAAKC,SAAW,GACjC,EAAK8N,cAAgBjO,EAHO,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAK2T,cAAclT,KAAKhC,EAAOqH,EAAWD,G,cAAtDE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAd7ByD,KAkBb4N,IAAb,8PAMIC,mBANJ,uCAMyB,WAAOhQ,EAAa3C,GAApB,SAAA8B,EAAA,kEACM0Q,GADN,SACwB,EAAKxN,IAAIC,IAAI2L,QAAQlL,MAAM,CAAEC,IAAKhD,EAAOtB,KADjE,mBACjB,EAAKuR,YADY,eAEjB,EAAKA,YAAYzN,MAAM,CAAEnF,IAAKA,IAFb,2CANzB,0DAYIyN,kBAAoB,SAACjC,GACjB,IAAIjO,EAAsB,CACtBoF,OAAQ6I,EACR9I,UAAMrE,EACNiG,WAAOjG,GAEX,EAAKuC,UAAUyQ,GAAU9T,IAlBjC,EAqBIqQ,gBArBJ,uCAqBsB,WAAOjL,EAAa6I,GAApB,eAAA1J,EAAA,sDACVvE,EAAsB,CACtBoF,OAAQA,EACRD,KAAM8I,EACNlH,MAAOkH,GAEX,EAAK5K,UAAUyQ,GAAU9T,GANX,2CArBtB,0DA8BIsQ,kBA9BJ,uCA8BwB,WAAOrC,GAAP,SAAA1J,EAAA,sDAChB,EAAKlB,UAAU2Q,GAAgB/F,GADf,2CA9BxB,wDAkCI8F,YAlCJ,uCAkCkB,WAAOjQ,EAAY9D,EAAYoF,GAA/B,SAAAb,EAAA,sEAEJ,EAAKkD,IAAIC,IAAIsL,QAAQsC,QAAQ,OAAQlQ,EAAOtB,GAAIA,EAAI9D,GAFhD,OAGV,EAAK8K,YAHK,2CAlClB,4DAwCI9J,SAxCJ,uCAwCe,WAAOoE,GAAP,SAAAb,EAAA,sEACD,EAAKtC,KAAKC,UAAUsD,mBAAmBJ,GADtC,2CAxCf,wDA6CImQ,YA7CJ,uCA6CkB,WAAOtH,GAAP,qBAAA1J,EAAA,6DACJT,EAAOmK,EAAPnK,GADI,SAEO,EAAK2D,IAAIC,IAAI2L,QAAQlL,MAAM,CAAEC,IAAKtE,IAFzC,OAENqB,EAFM,OAGN4B,EAAQ5B,EAAKmC,IAAIwB,OAAS,EAAI3D,EAAKmC,SAAMxG,EACzCd,EAAsB,CACtBoF,YAAQtE,EACRqE,KAAMA,EAAKmC,IAAI,GACfP,MAAOA,GAEX,EAAK1D,UAAUyM,GAAgB9P,GATrB,2CA7ClB,8UAA8B0B,GAA9B,2CAEK4G,KAFL,kECxBakN,GAAb,2MAKYxT,KAAOyD,aAAS,WAAO,IAAD,EACa,EAAKxF,WAAtCgR,EADoB,EACpBA,SAAUC,EADU,EACVA,mBACVuE,EAAwB,EAAKxV,WAAWgC,KAAK3B,mBAA7CmV,oBAEFpU,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,6BAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQiQ,eAAgB,EAAKA,eAAgBxO,gBAAgB,cAC9E,gBAAC,IAAD,CAAWR,UAAU,iBACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiByO,EAAmBzO,IAC9CC,YAAY,yCAChB,gBAAC,IAAD,CAAMmB,MAAOoN,EAAU9L,KAAM,CAAEpF,OAAQ,EAAKwR,WAAY5O,QAAS8S,SAjB7E,EAsBYnE,eAtBZ,sBAsB6B,sBAAA/M,EAAA,sEACf,EAAKtE,WAAWgR,SAASO,OADV,2CAtB7B,EA0BYD,WAAa,SAACpM,EAAWgB,GAAmB,IAC1C+I,EAA+B/J,EAA/B+J,IAAKjH,EAA0B9C,EAA1B8C,YAAarC,EAAaT,EAAbS,SACxB,OAAO,gBAAC,IAAD,CAAKtD,UAAU,eAClB,2BAAK,gBAAC,IAAD,CAAI9B,KAAK,SAAS8B,UAAU,sBAA0B4M,GAC3D,uBAAK5M,UAAU,yBAAyB2F,GACxC,uBAAK3F,UAAU,yBAAyB6H,YAAGvE,GAAU,SAAA1E,GAAC,OAAI,gCAAGA,EAAEV,YA/B3E,6GACeR,GADf,iEAEQuB,KAAKC,SAASD,KAAKS,MAF3B,4GAAkCP,KCI5BgR,G,YAGF,WAAYxL,GAAqB,IAAD,8BAC5B,+CAFIyL,mBACwB,EAE5B,EAAKvL,UAAY,EAAKC,SAAW,GACjC,EAAKsL,cAAgBzL,EAHO,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAKmR,cAAc1Q,KAAKhC,EAAOqH,EAAWD,G,cAAtDE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAf7ByD,KAmBbmO,IAAb,2PASIxE,mBATJ,uCASyB,WAAOzO,GAAP,SAAA8B,EAAA,sDACjB,EAAK0M,SAAW,IAAIwB,GAAY,EAAKhL,IAAIC,IAAIkL,eAC7C,EAAK3B,SAASrJ,MAAM,CAAEnF,IAAKA,IAFV,2CATzB,4KAIwBzC,GAJxB,iEAKQuB,KAAK2P,mBAAmBlR,GACxBuB,KAAK8B,UAAUmS,IANvB,4GAAkC9T,GAAlC,wCAEK4G,KAFL,kECvBaqN,GAAb,2MASYzQ,mBAAqB,SAACC,EAAWC,GAAiB,IAChDQ,EAA0BT,EAA1BS,SAAUgQ,EAAgBzQ,EAAhByQ,YACVC,EAA+B,EAAK5V,WAApC4V,2BAEFxT,EAAQ,uBAAKC,UAAU,4BACvB,gBAAC,IAAD,CAAUwE,KAAM8O,KAEhBhP,EAAO,2BAAMuD,YAAGvE,GAAU,SAAA1E,GAAC,OAAI,gCAAGA,EAAEV,UACxC,OAAO,gBAAC,IAAD,CAAKoG,KAAMA,EAAMvE,MAAOA,EAAOC,UAAU,YAAYK,QAAS,kBAAMkT,EAA2B1Q,OAjB9G,EAqBYnD,KAAOyD,aAAS,WAAO,IAAD,EAC2B,EAAKxF,WAApD6V,EADoB,EACpBA,gBAAiBC,EADG,EACHA,0BAEnB1T,EAAQ,uBAAKC,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,OACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiBsT,EAA0BtT,IACrDC,YAAY,4DAEhBrB,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,uBAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQgB,MAAOA,EAAOiP,eAAgB,EAAKA,eAAgBxO,gBAAgB,cAC5F,gBAAC,IAAD,CAAMe,MAAOiS,EAAiB3Q,KAAM,CAAEpF,OAAQ,EAAKmF,oBAAsB8Q,KAAK,2EAlC1F,EAsCY1E,eAtCZ,sBAsC6B,sBAAA/M,EAAA,sEACf,EAAKtE,WAAW6V,gBAAgBtE,OADjB,2CAtC7B,6GAEexR,GAFf,2LAMQ,OAAO,qBAAMgC,KAAN,UANf,GAAyCP,KCCnC6B,GAAiB,CACnB,CAAE9C,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,WAGf0S,GAAb,2MACYvS,UADZ,IAEYwS,aAFZ,IAGYnG,kBAHZ,IAIYC,SAAkB,GAJ9B,EAMYpM,SAAqB,CACzBC,MAAO,CACHuK,OAAQ,CAAEpK,OAAQ,QAASvD,MAAO,2BAAQ2I,KAAM,CAAC,CAAEZ,MAAO,EAAGa,MAAO,sBAAS,CAAEb,MAAO,EAAGa,MAAO,wBAChGjF,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BAThE,EAqBY+B,kBArBZ,uCAqBgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKtE,WAAWkW,gBAAgB7R,EAAQZ,KAAKe,KAAM,EAAKyR,QAAS,EAAKlG,UADpD,2CArBhC,0DAyBYC,WAAa,WACjB,OAAO,uBAAK3N,UAAU,kBACjB,EAAKyN,cAAgB,gBAAC,IAAD,CAAMlM,MAAO,EAAKmM,SAAU7K,KAAM,CAAEpF,OAAQ,EAAKqQ,mBA3BnF,EA+BYA,cAAgB,SAACjL,EAAWgB,GAEqEhB,EAA/FrB,GAA+FqB,EAA3FiR,eAA2FjR,EAA3EkR,KAA2ElR,EAArEmR,WAFmB,IAEP5G,EAAyDvK,EAAzDuK,QAAS6G,EAAgDpR,EAAhDoR,SAAUhG,EAAsCpL,EAAtCoL,OAAQC,EAA8BrL,EAA9BqL,OAAQC,EAAsBtL,EAAtBsL,KAAMvB,EAAgB/J,EAAhB+J,IAFnC,GAEmD/J,EAAX0J,OAC/Ca,EAAQrE,KAA7CqD,EAH4C,EAG5CA,MAAOzG,EAHqC,EAGrCA,YACT4I,GAJ8C,EAGxBlB,aACF,IAAXY,EAAgB,gCAAGA,EAAH,MAAcC,EAAQC,GAAW,gCAAGD,EAAQC,IAGrEpO,QAFsBvB,IAAV4N,GAAkCA,EAAMrD,IAAI7K,KAGxD,uBAAK8B,UAAU,8BACX,wBAAMK,QAAS,kBAAM,EAAK1C,WAAWuW,yBAAyBrR,KAAO,gBAAC,IAAD,CAAI7C,UAAU,4CAA4C9B,KAAK,YAE5I,OAAO,gBAAC,IAAD,CAAK6B,MAAOA,EAAOC,UAAU,cAChC,2BAAK,gBAAC,IAAD,CAAI9B,KAAK,SAAS8B,UAAU,sBAAjC,YAA+D4M,GAC/D,uBAAK5M,UAAU,yBAAf,qBAA2C2F,GAC3C,uBAAK3F,UAAU,yBAAf,qBAA2CiU,EAA3C,MAAwD1F,KA7CpE,EAiDYhK,OAAS,SAAC4P,GAAwB,IAEhC7Q,EAAmL6Q,EAAnL7Q,SAAU8Q,EAAyKD,EAAzKC,YAAyEC,GAAgGF,EAA5JG,kBAA4JH,EAAzII,sBAAyIJ,EAAlHK,iBAAkHL,EAAhGE,eAAyCI,GAAuDN,EAAjFO,aAAiFP,EAAnEQ,WAAmER,EAAvDM,KAAKG,EAAkDT,EAAlDS,YAAatB,EAAqCa,EAArCb,YAAaS,EAAwBI,EAAxBJ,KAAMvP,EAAkB2P,EAAlB3P,KACjKhD,GADmL2S,EAAZU,QAChKd,EAAPvS,IACIsT,EAASF,EAAbpT,GAEN,OAAO,uBAAKxB,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAAhB,2BAAgD,yBAAI6H,YAAGvE,GAAU,SAAA1E,GAAC,OAAI,gCAAGA,EAAEV,YAEpJ,uBAAK8B,UAAU,uBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,kBAAkB,wBAAM8B,UAAU,6BAAhB,2BAAgD,yBAAIoU,GAApD,yCAAqF,yBAAIC,KAEpK,uBAAKrU,UAAU,uBAAf,OACU,wBAAMA,UAAU,6BAAhB,2BAAgD,yBAAIwB,GAApD,yCAA4E,yBAAG,gBAAC,IAAD,CAAUgD,KAAMA,OAEzG,uBAAKxE,UAAU,uBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,kBAAkB,wBAAM8B,UAAU,6BAAhB,2BAAgD,yBAAI8U,GAApD,yCAA8E,yBAAG,gBAAC,IAAD,CAAUtQ,KAAM8O,OAE5K,uBAAKtT,UAAU,uBAAf,OACU,wBAAMA,UAAU,6BAAhB,iCAAiD,yBAAY,IAARyU,EAAY,oBAAqB,IAARA,EAAY,2BAAS,gCArEzH,EA0EY/U,KAAO,WACX,IAAIyU,EAAgB9R,IAAEC,MAAM,EAAKsR,SAC7B7U,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,6BAGJ,OAAO,gBAAC,IAAD,CAAMjB,OAAQA,EAAQyB,gBAAgB,cACxC,EAAK+D,OAAO4P,GACZ,EAAKxG,aACN,gBAAC,IAAD,CAAMpL,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfkB,SAAU2R,EACV1R,cAAe,EAAKV,kBACpBW,eAAgB,MAxFhC,6GAaehF,GAbf,2EAccoF,EAAwBpF,EAAxBoF,OAAQD,EAAgBnF,EAAhBmF,KAAM4B,EAAU/G,EAAV+G,MACpBxF,KAAK2U,QAAU9Q,EACf7D,KAAKwO,aAAe5K,EACpB5D,KAAKyO,SAAWjJ,EAChBxF,KAAKC,SAASD,KAAKS,MAlB3B,4GAA2CP,KCN9B4V,GAAb,2MAMYrV,KAAO,WAAO,IACZsV,EAAc,EAAKrX,WAAnBqX,UACN,OAAO,gBAAC,IAAD,CAAMjW,OAAO,4BAChB,uBAAKiB,UAAU,kBACVgV,EAAUrW,KAAI,SAACC,GAAD,OAAY,EAAKqW,eAAerW,EAAG,EAAKsW,uBAVvE,EAeYD,eAAiB,SAAC5G,EAAehO,GAAkB,IACjDmB,EAAa6M,EAAb7M,GAAItD,EAASmQ,EAATnQ,KACV,OAAO,uBAAKiC,IAAKqB,EAAIxB,UAAU,0CAC3B,uBAAKA,UAAU,iBAAiBK,QAAS,kBAAM,EAAK6U,gBAAgB7G,IAChE/N,MAAO,CAAEoJ,OAAQ,oBAAqBC,YAAa,OAAQC,aAAc,SAEzE,wBAAM5J,UAAU,qBACZ,gBAAC,IAAD,CAAI9B,KAAK,gBAAgB8B,UAAU,oBADvC,QAEY9B,MAvB5B,EA6BYgX,gBA7BZ,uCA6B8B,WAAOrS,GAAP,SAAAZ,EAAA,sEAChB,EAAKtE,WAAWwX,eAAetS,GADf,OAEtB,EAAK2F,YAFiB,2CA7B9B,mKAEe9K,GAFf,iEAGQuB,KAAKC,SAASD,KAAKS,MAH3B,4GAA+BP,KCAlBiW,IAAb,4PASID,eAAiB,SAACxJ,GACd,EAAKL,WAAWK,IAVxB,yMAK+B1M,KAAKkG,IAAIwF,OAAO0K,SAASxK,OAAO,GAAI,EAAG,KALtE,OAKQ5L,KAAK+V,UALb,OAMQ/V,KAAK8B,UAAUgU,IANvB,2GAA+B3V,GAA/B,yCAEK4G,KAFL,kECCMhF,GAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,WAAY+C,KAAM,SAAUC,UAAU,GAC9C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,YAAa+C,KAAM,SAAUC,UAAU,GAC/C,CAAEhD,KAAM,QAAS+C,KAAM,SAAUC,UAAU,GAC3C,CAAEhD,KAAM,WAAY+C,KAAM,KAAMC,UAAU,GAC1C,CAAEhD,KAAM,UAAW+C,KAAM,SAAUC,UAAU,GAC7C,CAAEhD,KAAM,eAAgB+C,KAAM,SAAUC,UAAU,GAClD,CAAEhD,KAAM,WAAY+C,KAAM,SAAUC,UAAU,GAC9C,CAAEhD,KAAM,mBAAoB+C,KAAM,KAAMC,UAAU,GAClD,CAAEhD,KAAM,aAAc+C,KAAM,SAAUC,UAAU,GAChD,CAAEhD,KAAM,kBAAmB+C,KAAM,KAAMC,UAAU,GACjD,CAAEhD,KAAM,WAAY+C,KAAM,SAAUC,UAAU,GAC9C,CAAEhD,KAAM,aAAc+C,KAAM,SAAUC,UAAU,GAChD,CAAEhD,KAAM,gBAAiB+C,KAAM,OAAQC,UAAU,GACjD,CAAEhD,KAAM,YAAa+C,KAAM,OAAQC,UAAU,GAC7C,CAAEhD,KAAM,gBAAiB+C,KAAM,OAAQC,UAAU,GACjD,CAAEhD,KAAM,gBAAiB+C,KAAM,OAAQC,UAAU,GACjD,CAAEhD,KAAM,cAAe+C,KAAM,SAAUC,UAAU,GACjD,CAAEhD,KAAM,UAAW+C,KAAM,SAAUC,UAAU,GAC7C,CAAEhD,KAAM,aAAc+C,KAAM,SAAUC,UAAU,GAChD,CAAEhD,KAAM,WAAY+C,KAAM,SAAUC,UAAU,GAC9C,CAAEhD,KAAM,UAAW+C,KAAM,SAAUC,UAAU,GAC7C,CAAEhD,KAAM,cAAe+C,KAAM,SAAUC,UAAU,GACjD,CAAEhD,KAAM,eAAgB+C,KAAM,SAAUC,UAAU,GAClD,CAAEhD,KAAM,oBAAqB+C,KAAM,SAAUC,UAAU,GACvD,CAAEhD,KAAM,SAAU+C,KAAM,WAGfqU,GAAb,2MAEYlU,UAFZ,IAGYmU,iBAHZ,IAKYjU,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACfwS,SAAU,CAAEvS,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,eAAMyB,aAAc,GAC1EoM,OAAQ,CAAEvM,OAAQ,OAAQvD,MAAO,SAAKiC,YAAa,eAAMyB,aAAc,GACvEqM,OAAQ,CAAExM,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,gBACtD+N,KAAM,CAAEzM,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBAClDoV,UAAW,CAAE9T,OAAQ,OAAQvD,MAAO,qBAAOiC,YAAa,sBACxDgO,MAAO,CAAE1M,OAAQ,OAAQvD,MAAO,qBAAOiC,YAAa,gBACpDiO,SAAU,CACN3M,OAAQ,KAAMvD,MAAO,2BAAQiC,YAAa,2BAC1CsH,OAAO,WAAD,4BAAE,WAAO1F,EAAkB9D,EAAcgI,GAAvC,SAAAjE,EAAA,sEAA+D,EAAKtE,WAAW8X,aAAazT,EAAS9D,EAAMgI,GAA3G,mFAAF,uDAAC,GACP0B,QAAS,SAAC/E,GACN,OAAKA,EACE,gCACFgF,YAAGhF,GAAM,SAAAjE,GAAC,OAAI,gCAAGA,EAAEV,UAFN,yBAAO8B,UAAU,cAAjB,gDAM1B6R,QAAS,CAAEnQ,OAAQ,QAASvD,MAAO,qBAAO2I,KAAM,CAAC,CAAEZ,MAAO,IAAKa,MAAO,UAAO,CAAEb,MAAO,IAAKa,MAAO,YAClG+K,aAAc,CAAEpQ,OAAQ,QAASvD,MAAO,qBAAO2I,KAAM,CAAC,CAAEZ,MAAO,IAAKa,MAAO,UAAO,CAAEb,MAAO,IAAKa,MAAO,YACvGgL,SAAU,CAAErQ,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBACtD4R,iBAAkB,CACdtQ,OAAQ,KAAMvD,MAAO,2BAAQiC,YAAa,2BAC1CsH,OAAO,WAAD,4BAAE,WAAO1F,EAAkB9D,EAAcgI,GAAvC,SAAAjE,EAAA,sEAA+D,EAAKtE,WAAW8X,aAAazT,EAAS9D,EAAMgI,GAA3G,mFAAF,uDAAC,GACP0B,QAAS,SAAC/E,GACN,OAAKA,EACE,gCACFgF,YAAGhF,GAAM,SAAAjE,GAAC,OAAI,gCAAGA,EAAEV,UAFN,yBAAO8B,UAAU,cAAjB,gDAM1BiS,WAAY,CAAEvQ,OAAQ,OAAQvD,MAAO,qBAAOiC,YAAa,sBACzD8R,gBAAiB,CACbxQ,OAAQ,KAAMvD,MAAO,iCAASiC,YAAa,iCAC3CsH,OAAO,WAAD,4BAAE,WAAO1F,EAAkB9D,EAAcgI,GAAvC,SAAAjE,EAAA,sEAA+D,EAAKtE,WAAW8X,aAAazT,EAAS9D,EAAMgI,GAA3G,mFAAF,uDAAC,GACP0B,QAAS,SAAC/E,GACN,OAAKA,EACE,gCACFgF,YAAGhF,GAAM,SAAAjE,GAAC,OAAI,gCAAGA,EAAEV,UAFN,yBAAO8B,UAAU,cAAjB,sDAM1BmS,SAAU,CAAEzQ,OAAQ,OAAQvD,MAAO,qBAAOiC,YAAa,sBACvDgS,WAAY,CAAE1Q,OAAQ,QAASvD,MAAO,eAAM2I,KAAM,CAAC,CAAEZ,MAAO,IAAKa,MAAO,UAAO,CAAEb,MAAO,IAAKa,MAAO,YACpGsL,cAAe,CAAE3Q,OAAQ,OAAQvD,MAAO,wCACxCmQ,UAAW,CAAE5M,OAAQ,OAAQvD,MAAO,iCAASiC,YAAa,gBAC1DkS,cAAe,CAAE5Q,OAAQ,OAAQvD,MAAO,iCAASiC,YAAa,gBAC9DmS,cAAe,CAAE7Q,OAAQ,OAAQvD,MAAO,iCAASiC,YAAa,gBAC9DoS,YAAa,CAAE9Q,OAAQ,QAASvD,MAAO,2BAAQ2I,KAAM,CAAC,CAAEZ,MAAO,IAAKa,MAAO,8CAAa,CAAEb,MAAO,IAAKa,MAAO,8CAAa,CAAEb,MAAO,IAAKa,MAAO,8BAC/I0L,QAAS,CAAE/Q,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,4BACvDsS,WAAY,CAAEhR,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,4BAC1DsV,SAAU,CAAEhU,OAAQ,QAASvD,MAAO,2BAAQ2I,KAAM,CAAC,CAAEZ,MAAO,IAAKa,MAAO,4BAAU,CAAEb,MAAO,IAAKa,MAAO,oCACvG8N,QAAS,CAAEnT,OAAQ,OAAQvD,MAAO,eAAMwX,IAAK,GAAIvV,YAAa,gBAC9DwV,YAAa,CAAElU,OAAQ,OAAQvD,MAAO,8BAAWiC,YAAa,+BAC9DyV,aAAc,CAAEnU,OAAQ,OAAQvD,MAAO,+BAAYiC,YAAa,gCAChE0V,kBAAmB,CAAEpU,OAAQ,OAAQvD,MAAO,6CAAWiC,YAAa,8CACpE0B,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BA9DhE,EAuEY+B,kBAvEZ,uCAuEgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKtE,WAAWoY,mBAAmB/T,EAAQZ,KAAKe,KAAM,EAAKoT,aADzC,2CAvEhC,0DA2EY7V,KAAO,WACX,IAAI0C,EAAkBC,IAAEC,MAAM,EAAKiT,aAEnC,OAAO,gBAAC,IAAD,CAAMxW,OAAO,uCAASyB,gBAAgB,cACzC,uBAAKR,UAAU,YACX,gBAAC,IAAD,CAAMuC,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfkB,SAAUJ,EACVK,cAAe,EAAKV,kBACpBW,eAAgB,OArFpC,6GAkEe6S,GAlEf,iEAmEQtW,KAAKsW,YAAcA,EACnBtW,KAAKC,SAASD,KAAKS,MApE3B,4GAA2CP,KC3BrC6W,G,YAGF,WAAYrR,GAAqB,IAAD,8BAC5B,+CAFIsR,0BACwB,EAE5B,EAAKpR,UAAY,EAAKC,SAAW,GACjC,EAAKmR,qBAAuBtR,EAHA,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAKgX,qBAAqBvW,KAAKhC,EAAOqH,EAAWD,G,cAA7DE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAftByD,KAmBpBiR,IAAb,+TAII9I,aAJJ,IAUIqG,0BAVJ,uCAUgC,WAAOtT,GAAP,SAAA8B,EAAA,sDACxB,EAAKuR,gBAAkB,IAAIwC,GAAmB,EAAK7Q,IAAIC,IAAI+Q,sBAC3D,EAAK3C,gBAAgBlO,MAAM,CAAEnF,IAAKA,IAFV,2CAVhC,wDAeIiW,uBAfJ,uCAe6B,WAAOzK,GAAP,+BAAA1J,EAAA,8DAEJzD,IAAbmN,EAAMnK,GAFW,oBAGb,EAAK4L,QAHQ,yBAIU,EAAKA,QAAtB5L,EAJO,EAIPA,GAAI8B,EAJG,EAIHA,SACA+S,EAAe/S,EAAnB9B,GACAyS,EAAmCtI,EAAnCsI,SAAUhG,EAAyBtC,EAAzBsC,OAAQC,EAAiBvC,EAAjBuC,OAAQC,EAASxC,EAATwC,KAC5BzQ,EAAQ,CACR4F,SAAU+S,EACVjJ,QAAS5L,EACTyS,SAAUA,EACVhG,OAAQA,EACRC,OAAQA,EACRC,KAAMA,GAbG,SAeP,EAAKhJ,IAAIC,IAAIkR,kBAAkBxU,OAAOpE,GAf/B,cAkBrB,EAAK8K,YAlBgB,UAmBf,EAAK9J,WAnBU,4CAf7B,wDAqCI6X,eAAiB,SAAC5K,EAAYiI,EAAcrS,GAAkB,IAEpDwE,EAA4L6N,EAA5L7N,QAASqO,EAAmLR,EAAnLQ,YAAaE,EAAsKV,EAAtKU,kBAAmBC,EAAmJX,EAAnJW,sBAAuBC,EAA4HZ,EAA5HY,iBAAkBH,EAA0GT,EAA1GS,cAAeK,EAA2Fd,EAA3Fc,aAAcC,EAA6Ef,EAA7Ee,WAAYZ,EAAiEH,EAAjEG,KAAMvP,EAA2DoP,EAA3DpP,KAAM8O,EAAqDM,EAArDN,YAAasB,EAAwChB,EAAxCgB,YAAatR,EAA2BsQ,EAA3BtQ,SAAUmR,EAAiBb,EAAjBa,IAAKI,EAAYjB,EAAZiB,QAClL2B,EAAsB,GAY1B,OAXAjV,EAAMkV,SAAQ,SAAAC,GACV,IAAIC,EAAOC,KAAKC,MAAMH,EAAGI,SACzBN,EAAaO,KAAK,CACd3J,QAASsJ,EAAGtJ,QAAS4J,gBAAiBN,EAAGzC,SAAUgD,cAAeP,EAAGzI,OAAQiJ,cAAeR,EAAGxI,OAAQiJ,YAAaT,EAAGvI,KAAMiJ,SAAUV,EAAG3C,KAAMsD,eAAgBX,EAAG1C,WACjKC,SAAU0C,EAAK1C,SAAUhG,OAAQ0I,EAAK1I,OAAQC,OAAQyI,EAAKzI,OAAQC,KAAMwI,EAAKxI,KAAMqH,UAAWmB,EAAKnB,UAAWpH,MAAOuI,EAAKvI,MAAOC,SAAUsI,EAAKtI,SACjJwD,QAAS8E,EAAK9E,QAASC,aAAc6E,EAAK7E,aAAcC,SAAU4E,EAAK5E,SAAUC,iBAAkB2E,EAAK3E,iBAAkBC,WAAY0E,EAAK1E,WAC3IC,gBAAiByE,EAAKzE,gBAAiBC,SAAUwE,EAAKxE,SAAUC,WAAYuE,EAAKvE,WAAYC,cAAesE,EAAKtE,cAAe/D,UAAWqI,EAAKrI,UAChJgE,cAAeqE,EAAKrE,cAAeC,cAAeoE,EAAKpE,cAAeC,YAAamE,EAAKnE,YAAaC,QAASkE,EAAKlE,QAASC,WAAYiE,EAAKjE,WAC7IgD,SAAUiB,EAAKjB,SAAUE,YAAae,EAAKf,YAAaC,aAAcc,EAAKd,aAAcC,kBAAmBa,EAAKb,kBAAmBwB,eAAgBX,EAAK9B,aAG5J,CACHvR,SAAUA,EACVyC,QAASA,EACTqO,YAAaA,EACbE,kBAAmBA,EACnBC,sBAAuBA,EACvBC,iBAAkBA,EAClBH,cAAeA,EACfK,aAAcA,EACdC,WAAYA,EACZF,IAAKA,EACL3I,OAAQH,EAAMG,OACdiI,KAAMA,EACNC,WAAYxP,EACZoQ,YAAaA,EACbtB,YAAaA,EACbuB,QAASA,EACT0C,aAAcf,IArE1B,EAyEI3C,gBAzEJ,uCAyEsB,WAAOlI,EAAYiI,EAAc4D,GAAjC,mBAAAvV,EAAA,6DAERT,EAAOoS,EAAPpS,GAFQ,SAIU,EAAK2D,IAAIC,IAAIqS,aAAa/R,KAAK,eAAgB,EAAK6Q,eAAe5K,EAAOiI,EAAS4D,IAJ7F,cAIV1L,EAJU,gBAKR,EAAK3G,IAAIC,IAAIqS,aAAaC,OAAO5L,EAAOtK,GAAIsK,EAAO6L,KAAM7L,EAAO8L,MAAO,UAL/D,WAMV9L,EANU,wBAQNpO,EAAQ,CACR8D,GAAIA,GATE,UAWJ,EAAK2D,IAAIC,IAAIyS,qBAAqB/V,OAAOpE,GAXrC,eAcd,EAAK8K,YAdS,UAeR,EAAK9J,WAfG,4CAzEtB,4DA2FIqX,mBA3FJ,uCA2FyB,WAAOpK,EAAYmM,GAAnB,+EAAA7V,EAAA,0DAEb6V,EAFa,uBAIPtW,EAAkDsW,EAAlDtW,GAAIsS,EAA8CgE,EAA9ChE,eAAgBC,EAA8B+D,EAA9B/D,KAAMC,EAAwB8D,EAAxB9D,WAAwB8D,EAAZhB,QACtC1J,EAAY0G,EAAe/K,IAA3BqE,QALO,SAMP,EAAKjI,IAAIC,IAAI2S,mBAAmBnH,IAAI,CAAEoH,eAAgBxW,EAAIqP,KAAM,CAAC,CAAEiD,eAAgBA,EAAetS,GAAIuS,KAAMA,EAAKvS,GAAIwS,WAAYA,EAAY8C,QAASF,KAAKqB,UAAUtM,OAN9J,cASPsI,EAAgUtI,EAAhUsI,SAAUhG,EAAsTtC,EAAtTsC,OAAQC,EAA8SvC,EAA9SuC,OAAQC,EAAsSxC,EAAtSwC,KAAMqH,EAAgS7J,EAAhS6J,UAAWpH,EAAqRzC,EAArRyC,MAAOC,EAA8Q1C,EAA9Q0C,SAAUwD,EAAoQlG,EAApQkG,QAASC,EAA2PnG,EAA3PmG,aAAcC,EAA6OpG,EAA7OoG,SAAUC,EAAmOrG,EAAnOqG,iBAAkBC,EAAiNtG,EAAjNsG,WAAYC,EAAqMvG,EAArMuG,gBAAiBC,EAAoLxG,EAApLwG,SAAUC,EAA0KzG,EAA1KyG,WAAYC,EAA8J1G,EAA9J0G,cAAe/D,EAA+I3C,EAA/I2C,UAAWgE,EAAoI3G,EAApI2G,cAAeC,EAAqH5G,EAArH4G,cAAeC,EAAsG7G,EAAtG6G,YAAaC,EAAyF9G,EAAzF8G,QAASC,EAAgF/G,EAAhF+G,WAAYgD,EAAoE/J,EAApE+J,SAAUb,EAA0DlJ,EAA1DkJ,QAASe,EAAiDjK,EAAjDiK,YAAaC,EAAoClK,EAApCkK,aAAcC,EAAsBnK,EAAtBmK,kBAC5SpY,EAAQ,CACR0P,QAASA,EACT6G,SAAUA,EACVhG,OAAQA,EACRC,OAAQA,EACRC,KAAMA,EACNqH,UAAWA,EACXpH,MAAOA,EACPC,SAAUA,EACVwD,QAASA,EACTC,aAAcA,EACdC,SAAUA,EACVC,iBAAkBA,EAClBC,WAAYA,EACZC,gBAAiBA,EACjBC,SAAUA,EACVC,WAAYA,EACZC,cAAeA,EACf/D,UAAWA,EACXgE,cAAeA,EACfC,cAAeA,EACfC,YAAaA,EACbC,QAASA,EACTC,WAAYA,EACZgD,SAAUA,EACVb,QAASA,EACTe,YAAaA,EACbC,aAAcA,EACdC,kBAAmBA,GAtCV,SAwCP,EAAK3Q,IAAIC,IAAI8S,gBAAgBpW,OAAOpE,GAxC7B,cA0CjB,EAAK8K,YA1CY,UA2CX,EAAK9J,WA3CM,4CA3FzB,0DA4II6U,2BA5IJ,uCA4IiC,WAAO1Q,GAAP,mBAAAZ,EAAA,6DACnBT,EAAOqB,EAAPrB,GADmB,SAEP,EAAK2D,IAAIC,IAAI+S,+BAA+BtS,MAAM,CAAEC,IAAKtE,IAFlD,OAErBwP,EAFqB,OAGrBtT,EAAsB,CACtBoF,OAAQD,EACRA,KAAMmO,EAAMhM,IAAI,GAChBP,MAAOuM,EAAMhM,KAEjB,EAAKjE,UAAU4S,GAAuBjW,GARb,2CA5IjC,wDAuJI+X,aAvJJ,uCAuJmB,WAAOzT,EAAkB9D,EAAcgI,GAAvC,eAAAjE,EAAA,6DACPmW,EAAY,EAAK3M,KAAK2J,IADf,SAEEgD,EAAU1M,OAFZ,mFAvJnB,4DA4JIwI,yBA5JJ,uCA4J+B,WAAOrR,GAAP,iCAAAZ,EAAA,6DACjBT,EAAuBqB,EAAvBrB,GAAIsS,EAAmBjR,EAAnBiR,eADa,SAEF,EAAK3O,IAAIC,IAAI2S,mBAAmBhN,MAAM,CAAEiN,eAAgBxW,EAAIsS,eAAgBA,EAAetS,KAFzF,OAEnBkM,EAFmB,SAG+FA,EAAS,GAAzG2K,EAHC,EAGjBL,eAAmDM,EAHlC,EAGkBxE,eAAmCC,EAHrD,EAGqDA,KAAMC,EAH3D,EAG2DA,gBAE/DxV,KAFoF+Z,EAHhF,EAGuEzB,SAG1FnL,EAAQ9I,IAER8I,EAAQiL,KAAKC,MAAM0B,IACbP,eAAiBK,EACvB1M,EAAMmI,eAAiBwE,EACvB3M,EAAMoI,KAAOA,EACbpI,EAAMqI,WAAaA,GAEvB,EAAKjT,UAAUuU,GAAuB3J,GAdf,2CA5J/B,wDA6KIjN,SA7KJ,sBA6Ke,sBAAAuD,EAAA,sEACD,EAAKwR,0BAA0B,IAD9B,2CA7Kf,EAiLIhW,OAAS0F,aAAS,WACd,OAAO,EAAKtC,WAAWwS,OAlL/B,EAqLI/U,IAAM,WACF,OAAO,gBAAC,EAAKb,OAAN,OAtLf,sHAMwBC,GANxB,iEAOQuB,KAAKwU,0BAA0B/V,GAPvC,4GAAqC0B,GAArC,+CAEK4G,KAFL,gHAGKA,KAHL,kECzBawS,GAAb,2MASY5V,mBAAqB,SAACC,EAAWC,GAAiB,IAChDQ,EAAyFT,EAAzFS,SAA+CgQ,GAA0CzQ,EAA/EuR,YAA+EvR,EAAlE+R,YAAkE/R,EAArD4V,UAAqD5V,EAA1CyQ,aAAa9O,EAA6B3B,EAA7B2B,KAAMkU,EAAuB7V,EAAvB6V,MAAOjE,EAAgB5R,EAAhB4R,IAAK3I,EAAWjJ,EAAXiJ,OAC9E6M,EAAsB,EAAKhb,WAA3Bgb,kBAEF5Y,EAAQ,uBAAKC,UAAU,kCACvB,gDAAQ,gBAAC,IAAD,CAAUwE,KAAM8O,KACxB,gDAAQ,gBAAC,IAAD,CAAU9O,KAAM8O,KACxB,gDAAQ,gBAAC,IAAD,CAAU9O,KAAMA,MAExBF,EAAO,2BACP,2BAAMuD,YAAGvE,GAAU,SAAA1E,GAAC,OAAI,gCAAGA,EAAEV,UAC7B,uBAAK8B,UAAU,oBAAf,qBAA8C,IAARyU,EAAY,oBAAqB,IAARA,EAAY,2BAAS,4BACpF,uBAAKzU,UAAU,oBAAf,qBAAiD,IAAX8L,EAAe,qBAAiB,IAAR2I,EAAY,qBAAQ,WAEtF,OAAO,gBAAC,IAAD,CAAKnQ,KAAMA,EAAMvE,MAAOA,EAAOC,UAAU,uBAAuBK,QAAS,kBAAMsY,EAAkBD,OAvBhH,EA2BYhZ,KAAOyD,aAAS,WAAO,IAAD,EACa,EAAKxF,WAAtCib,EADoB,EACpBA,SAAUC,EADU,EACVA,mBAEZ9Y,EAAQ,uBAAKC,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,OACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiB0Y,EAAmB1Y,IAC9CC,YAAY,4DAEhBrB,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,uBAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQgB,MAAOA,EAAOiP,eAAgB,EAAKA,eAAgBxO,gBAAgB,cAC5F,gBAAC,IAAD,CAAMe,MAAOqX,EAAU/V,KAAM,CAAEpF,OAAQ,EAAKmF,oBAAsB8Q,KAAK,+DAxCnF,EA4CY1E,eA5CZ,sBA4C6B,sBAAA/M,EAAA,sEACf,EAAKtE,WAAWib,SAAS1J,OADV,2CA5C7B,6GAEexR,GAFf,2LAMQ,OAAO,qBAAMgC,KAAN,UANf,GAAkCP,KCErB2Z,GAAb,2MAMYC,gBAAkB,SAAClW,EAAWgB,GAAmB,IAC/CuJ,EAA4CvK,EAA5CuK,QAAmBa,GAAyBpL,EAAnCoR,SAAmCpR,EAAzBoL,QAAQC,EAAiBrL,EAAjBqL,OAAQC,EAAStL,EAATsL,KACrCI,EAAoB,IAAXN,EAAgB,gCAAGA,EAAH,MAAcC,EAAQC,GAAW,gCAAGD,EAAQC,GACnE3M,EAAO4L,EAAP5L,GACN,OAAO,2BACH,uBAAKxB,UAAU,+CAA+CK,QAAS,kBAAM,EAAK1C,WAAWqb,kBAAkBnW,KAC3G,uBAAK1C,IAAK0D,EAAO7D,UAAU,QAAQ,gBAAC,IAAD,CAAI9B,KAAK,cAAc8B,UAAU,iBAApE,OAA4FuO,GAC5F,uBAAKvO,UAAU,mDAAkD,yBAAOA,UAAU,cAAc,EAAKrC,WAAWsb,cAAczX,QAb9I,EAkBY9B,KAAO,SAACoY,GAAkB,IAExBoB,EAAgBpB,EAAhBoB,MAAO/W,EAAS2V,EAAT3V,KACHY,GAAuCmW,EAA3C1X,GAA2C0X,EAAvCnW,IAAwByB,GAAe0U,EAAnCtB,MAAmCsB,EAA5BvT,YAA4BuT,EAAf1U,MAAMuP,EAASmF,EAATnF,KAClCzQ,EAAmKnB,EAAnKmB,SAAU8Q,EAAyJjS,EAAzJiS,YAAaE,EAA4InS,EAA5ImS,kBAAmBC,EAAyHpS,EAAzHoS,sBAAuBC,EAAkGrS,EAAlGqS,iBAAkBH,EAAgFlS,EAAhFkS,cAAeK,EAAiEvS,EAAjEuS,aAAcC,EAAmDxS,EAAnDwS,WAAYF,EAAuCtS,EAAvCsS,IAAKI,EAAkC1S,EAAlC0S,QAAS0C,EAAyBpV,EAAzBoV,aAAczL,EAAW3J,EAAX2J,OAE1J/M,EAAS,mEAAUgE,GACvB,OAAO,gBAAC,IAAD,CAAMhE,OAAQA,EAAQyB,gBAAgB,cACzC,gBAAC,IAAD,CAAMe,MAAOgW,EAAc1U,KAAM,CAAEpF,OAAQ,EAAKsb,mBAChD,uBAAK/Y,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAAS6H,YAAGvE,GAAU,SAAA1E,GAAC,OAAI,gCAAGA,EAAEV,WAEnD,uBAAK8B,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAASoU,IAE5B,uBAAKpU,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAASsU,IAE5B,uBAAKtU,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAASuU,IAE5B,uBAAKvU,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAASwU,IAE5B,uBAAKxU,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAASqU,IAE5B,uBAAKrU,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAAS0U,IAE5B,uBAAK1U,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAAS2U,IAE5B,uBAAK3U,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAiB,IAARyU,EAAY,oBAAqB,IAARA,EAAY,2BAAS,6BAE1E,uBAAKzU,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAoB,IAAX8L,EAAe,qBAAiB,IAAR2I,EAAY,qBAAQ,WAExE,uBAAKzU,UAAU,oCACX,uBAAKA,UAAU,oBAAf,iBACA,uBAAKA,UAAU,SAAS6U,IAE5B,uBAAK7U,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAMA,MAE3C,uBAAKxE,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAAS+T,MA7ExC,6GAEe+D,GAFf,iEAGQ7Y,KAAKC,SAASD,KAAKS,KAAMoY,GAHjC,4GAAoC3Y,KCAvBuS,GAAb,2MAMYhS,KAAO,SAACmD,GAAe,IAErBmU,EAE2InU,EAF3ImU,gBAAiBC,EAE0HpU,EAF1HoU,cAAeC,EAE2GrU,EAF3GqU,cAAeC,EAE4FtU,EAF5FsU,YAAaC,EAE+EvU,EAF/EuU,SAAUC,EAEqExU,EAFrEwU,eAAgBpD,EAEqDpR,EAFrDoR,SAAUhG,EAE2CpL,EAF3CoL,OAAQC,EAEmCrL,EAFnCqL,OAAQC,EAE2BtL,EAF3BsL,KAAMqH,EAEqB3S,EAFrB2S,UAAWpH,EAEUvL,EAFVuL,MACjIC,EAC2IxL,EAD3IwL,SAAUwD,EACiIhP,EADjIgP,QAASC,EACwHjP,EADxHiP,aAAcC,EAC0GlP,EAD1GkP,SAAUC,EACgGnP,EADhGmP,iBAAkBC,EAC8EpP,EAD9EoP,WAAYC,EACkErP,EADlEqP,gBAAiBC,EACiDtP,EADjDsP,SAAUC,EACuCvP,EADvCuP,WAAYC,EAC2BxP,EAD3BwP,cAAe/D,EACYzL,EADZyL,UAC/HgE,EAA2IzP,EAA3IyP,cAAeC,EAA4H1P,EAA5H0P,cAAeC,EAA6G3P,EAA7G2P,YAAaC,EAAgG5P,EAAhG4P,QAASC,EAAuF7P,EAAvF6P,WAAYgD,EAA2E7S,EAA3E6S,SAAU4B,EAAiEzU,EAAjEyU,eAAgB1B,EAAiD/S,EAAjD+S,YAAaC,EAAoChT,EAApCgT,aAAcC,EAAsBjT,EAAtBiT,kBACvHqD,EAAkC,IAAlBlC,EAAuB,gCAAGA,EAAH,MAAqBC,EAAeC,GAAkB,gCAAGD,EAAeC,GAC/G5I,EAAoB,IAAXN,EAAgB,gCAAGA,EAAH,MAAcC,EAAQC,GAAW,gCAAGD,EAAQC,GAErEpP,EAAS,yEAAWiY,EAAX,MAA+BmC,GAC5C,OAAO,gBAAC,IAAD,CAAMpa,OAAQA,EAAQyB,gBAAgB,cACzC,uBAAKR,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAASiU,EAAxB,MAAqC1F,IAEzC,uBAAKvO,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAASoX,EAAS5V,KAErC,uBAAKxB,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM6S,MAE3C,uBAAKrX,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAASwV,IAE5B,uBAAKxV,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAASoO,OAAoB5P,IAAb6P,EAAyB,GAAKxG,YAAGwG,EAAStF,KAAK,SAAAnK,GAAC,OAAI,gCAAGA,EAAEV,WAE5F,uBAAK8B,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAAqB,IAAZ6R,EAAgB,SAAM,iBAElD,uBAAK7R,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAA0B,IAAjB8R,EAAqB,SAAM,iBAEvD,uBAAK9R,UAAU,oCACX,uBAAKA,UAAU,oBAAf,iBACA,uBAAKA,UAAU,SAAS+R,OAA+BvT,IAArBwT,EAAiC,GAAKnK,YAAGmK,EAAiBjJ,KAAK,SAAAnK,GAAC,OAAI,gCAAGA,EAAEV,WAE/G,uBAAK8B,UAAU,oCACX,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SAASiS,OAAgCzT,IAApB0T,EAAgC,GAAKrK,YAAGqK,EAAgBnJ,KAAK,SAAAnK,GAAC,OAAI,gCAAGA,EAAEV,WAE/G,uBAAK8B,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAASmS,IAE5B,uBAAKnS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAwB,IAAfoS,EAAmB,SAAM,WAErD,uBAAKpS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM6N,MAE3C,uBAAKrS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM8J,MAE3C,uBAAKtO,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM8N,MAE3C,uBAAKtS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,mCACA,uBAAKA,UAAU,SAAQ,gBAAC,IAAD,CAAUwE,KAAM+N,MAE3C,uBAAKvS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,cAAyBxB,IAAhBgU,EAA4B,GAAsB,IAAhBA,EAAoB,6CAA6B,IAAhBA,EAAoB,6CAAY,6BAE/H,uBAAKxS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAASyS,IAE5B,uBAAKzS,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAS0S,IAE5B,uBAAK1S,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAAsB,IAAb0V,EAAiB,2BAAuB,IAAbA,EAAiB,iCAAU,KAElF,uBAAK1V,UAAU,oCACX,uBAAKA,UAAU,oBAAf,iBACA,uBAAKA,UAAU,SAASsX,IAE5B,uBAAKtX,UAAU,oCACX,uBAAKA,UAAU,oBAAf,gCACA,uBAAKA,UAAU,SAAS4V,IAE5B,uBAAK5V,UAAU,oCACX,uBAAKA,UAAU,oBAAf,iCACA,uBAAKA,UAAU,SAAS6V,IAE5B,uBAAK7V,UAAU,oCACX,uBAAKA,UAAU,oBAAf,+CACA,uBAAKA,UAAU,SAAS8V,MA1GxC,6GAEesD,GAFf,iEAGQna,KAAKC,SAASD,KAAKS,KAAM0Z,GAHjC,4GAAoCja,KCE9Bka,G,YAGF,WAAY1U,GAAqB,IAAD,8BAC5B,+CAFI2U,mBACwB,EAE5B,EAAKzU,UAAY,EAAKC,SAAW,GACjC,EAAKwU,cAAgB3U,EAHO,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAKqa,cAAc5Z,KAAKhC,EAAOqH,EAAWD,G,cAAtDE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAf7ByD,KAmBbsU,IAAb,iTASIV,mBATJ,uCASyB,WAAO1Y,GAAP,SAAA8B,EAAA,sDACjB,EAAK2W,SAAW,IAAIS,GAAY,EAAKlU,IAAIC,IAAIoU,iBAC7C,EAAKZ,SAAStT,MAAM,CAAEnF,IAAKA,IAFV,2CATzB,wDAcIwY,kBAdJ,uCAcwB,WAAOnX,GAAP,qBAAAS,EAAA,sEAEI,EAAKkD,IAAIC,IAAIqS,aAAagC,SAASjY,GAFvC,OAEZsW,EAFY,OAGV3V,EAAS2V,EAAT3V,KACAoV,EAAiBpV,EAAjBoV,aACFmC,EAAuBC,GAAYpC,GACvCpV,EAAKyX,aAAeF,EACpB,EAAK3Y,UAAU+X,GAAgBhB,GAPf,2CAdxB,wDAwBIkB,kBAxBJ,uCAwBwB,WAAOnW,GAAP,SAAAZ,EAAA,sDAChB,EAAKlB,UAAU2Q,GAAgB7O,GADf,2CAxBxB,wDA4BIoW,cAAgB,SAACzX,GACb,OAAO,EAAKX,WAAWgZ,GAAcrY,IA7B7C,EAgCIsY,WAhCJ,uCAgCiB,WAAOC,GAAP,eAAA9X,EAAA,sEACW,EAAKkD,IAAIC,IAAI4U,kBAAkBnU,MAAM,CAAEC,IAAKiU,IADvD,cACL3M,EADK,OAET,EAAK0D,YAAc1D,EAAQpI,IAAI,GAFtB,kBAGFoI,EAAQpI,IAAI,IAHV,2CAhCjB,wDAsCItG,SAtCJ,sBAsCe,sBAAAuD,EAAA,sEACD,EAAK4W,mBAAmB,IADvB,2CAtCf,EA0CIpb,OAAS0F,aAAS,WACd,OAAO,EAAKtC,WAAW2X,OA3C/B,EA8CIla,IAAM,WACF,OAAO,gBAAC,EAAKb,OAAN,OA/Cf,sHAKwBC,GALxB,iEAMQuB,KAAK4Z,mBAAmBnb,GANhC,4GAA8B0B,GAA9B,wCAEK4G,KAFL,yGAGKA,KAHL,kEAmDa6T,GAAb,2MAOcI,cAAgB9W,aAAS,SAACzF,GAChC,IAAIwc,EACAC,EAAM,EAAKxc,WAAWmT,YAC1B,QAAYtS,IAAR2b,EAAmB,CAAC,IACdxU,EAAqBwU,EAArBxU,YAAaiH,EAAQuN,EAARvN,IACnBsN,EAAa,wBAAMla,UAAU,oBAAoB2F,EAApC,YAA8DiH,GAE/E,OAAOsN,KAdf,sEAEWxc,GAGH,OAFqBuB,KAAftB,WACKmc,WAAWpc,GACf,qBAAMuc,cAAN,CAAoBF,IAAKrc,QALxC,GAAkCgD,KAkB3B,SAASiZ,GAAYS,GACxB,IAAItO,EAAgB,GADsB,uBAE1C,IAF0C,IAE1C,EAF0C,iBAEjCuO,EAFiC,QAGhCjN,EAAkDiN,EAAlDjN,QAASuJ,EAAyC0D,EAAzC1D,KAAM1C,EAAmCoG,EAAnCpG,SAAUhG,EAAyBoM,EAAzBpM,OAAQC,EAAiBmM,EAAjBnM,OAAQC,EAASkM,EAATlM,KAC3CmM,EAAe,CACf3D,KAAMA,EACN1C,SAAUA,EACV1F,MAAmB,IAAXN,EAAgB,gCAAGA,EAAH,MAAcC,EAAQC,GAAW,gCAAGD,EAAQC,IAEpEoM,EAAMzO,EAAO0O,MAAK,SAAAC,GAAC,OAAIA,EAAErN,QAAQ5L,KAAO4L,EAAQ5L,WACxChD,IAAR+b,IACAA,EAAM,CAAEnN,QAASA,EAASsN,MAAO,IACjC5O,EAAOiL,KAAKwD,IAEhBA,EAAIG,MAAM3D,KAAKuD,IAZnB,EAAqBF,EAArB,+CAAiC,IAFS,kFAgB1C,OAAOtO,EC3GX,I,SAAM9K,GAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,WAAY+C,KAAM,SAAUC,UAAU,GAC9C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,SAAU+C,KAAM,SAAUC,UAAU,GAC5C,CAAEhD,KAAM,OAAQ+C,KAAM,SAAUC,UAAU,GAC1C,CAAEhD,KAAM,SAAU+C,KAAM,WAGf0Z,GAAb,2MAEYvZ,UAFZ,IAGYwZ,wBAHZ,IAKYtZ,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACfwS,SAAU,CAAEvS,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,eAAMyB,aAAc,GAC1EoM,OAAQ,CAAEvM,OAAQ,OAAQvD,MAAO,SAAKiC,YAAa,eAAMyB,aAAc,GACvEqM,OAAQ,CAAExM,OAAQ,OAAQvD,MAAO,2BAAQiC,YAAa,gBACtD+N,KAAM,CAAEzM,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,gBAClD0B,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BAZhE,EAqBY+B,kBArBZ,uCAqBgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKtE,WAAWkd,0BAA0B7Y,EAAQZ,KAAKe,MADrC,2CArBhC,0DAwBY2Y,iBAAmB,WAAO,IAExB1N,EAAY,EAAKzP,WAAjByP,QACA9J,EAA4D8J,EAA5D9J,SAAU8I,EAAkDgB,EAAlDhB,MAAOzG,EAA2CyH,EAA3CzH,YAAa0H,EAA8BD,EAA9BC,aAAcT,EAAgBQ,EAAhBR,IAC5C1O,GAD4DkP,EAAXb,OACxCjJ,EAASyF,IAAlB7K,MACF6c,OAAsBvc,IAAV4N,OAAsB5N,EAAY4N,EAAMrD,IAAI7K,KAE5D,OAAO,uBAAK8B,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAA4B,uDAErH,uBAAKA,UAAU,2BACX,uBAAKA,UAAU,qCACX,uBAAKA,UAAU,oBAAf,uBAA4C,uBAAKA,UAAU,SAAS9B,IAExE,uBAAK8B,UAAU,qCACX,uBAAKA,UAAU,oBAAf,iBAA2C,uBAAKA,UAAU,SAAS+a,IAEvE,uBAAK/a,UAAU,qCACX,uBAAKA,UAAU,oBAAf,QAA4C,uBAAKA,UAAU,SAAS4M,IAExE,uBAAK5M,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAAS2F,IAEzE,uBAAK3F,UAAU,qCACX,uBAAKA,UAAU,oBAAf,6BAA6C,uBAAKA,UAAU,SAASqN,OAjDzF,EAuDY3N,KAAO,WACX,IAAI0C,EAAkBC,IAAEC,MAAM,EAAKsY,oBAInC,OAAO,gBAAC,IAAD,CAAM7b,OAAO,qBAAMyB,gBAAgB,cACrC,EAAKsa,mBACN,uBAAK9a,UAAU,YACX,gBAAC,IAAD,CAAMuC,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfkB,SAAUJ,EACVK,cAAe,EAAKV,kBACpBW,eAAgB,OApEpC,6GAgBekY,GAhBf,iEAiBQ3b,KAAK2b,mBAAqBA,EAC1B3b,KAAKC,SAASD,KAAKS,MAlB3B,4GAAwCP,KCV3B6b,GAAb,2MASYpY,mBAAqB,SAACC,EAAWC,GAAiB,IAChDQ,EAAmBT,EAAnBS,SAAUkB,EAAS3B,EAAT2B,KACVyW,EAAkC,EAAKtd,WAAvCsd,8BAEFlb,EAAQ,uBAAKC,UAAU,4BACvB,gBAAC,IAAD,CAAUwE,KAAMA,KAEpB,OAAO,gBAAC,IAAD,CAAKzE,MAAOA,EAAOC,UAAU,YAAYK,QAAS,kBAAM4a,EAA8BpY,KACzF,2BAAMgF,YAAGvE,GAAU,SAAA1E,GAAC,OAAI,gCAAGA,EAAEV,YAjBzC,EAqBYwB,KAAOyD,aAAS,WAAO,IAAD,EACmE,EAAKxF,WAA5Fud,EADoB,EACpBA,mBAAyCC,GADrB,EACAhI,oBADA,EACqBgI,8BAA8BC,EADnD,EACmDA,YAEzErb,EAAQ,uBAAKC,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,OACjBC,KAAK,KACLC,SAAU,SAACC,GAAD,OAAiBgb,EAA6Bhb,IACxDC,YAAY,2DAChB,wBAAMC,QAAS,kBAAM+a,KAAepb,UAAU,YAC1C,qBAAGA,UAAU,0CACb,qBAAGA,UAAU,6BAGjBjB,EAAS,0BAAQiB,UAAU,oCAC3B,wBAAMA,UAAU,kBAAkBM,MAAO,CAAEC,UAAW,WAAtD,uBAEJ,OAAO,gBAAC,IAAD,CAAMxB,OAAQA,EAAQgB,MAAOA,EAAOiP,eAAgB,EAAKA,eAAgBxO,gBAAgB,cAC5F,gBAAC,IAAD,CAAMe,MAAO2Z,EAAoBrY,KAAM,CAAEpF,OAAQ,EAAKmF,oBAAsB8Q,KAAK,2EAtC7F,EA0CY1E,eA1CZ,sBA0C6B,sBAAA/M,EAAA,sEACf,EAAKtE,WAAWud,mBAAmBhM,OADpB,2CA1C7B,6GAEexR,GAFf,2LAMQ,OAAO,qBAAMgC,KAAN,UANf,GAA4CP,KCCtC6B,GAAiB,CACnB,CAAE9C,KAAM,KAAM+C,KAAM,KAAMC,UAAU,GACpC,CAAEhD,KAAM,MAAO+C,KAAM,SAAUC,UAAU,GACzC,CAAEhD,KAAM,UAAW+C,KAAM,SAAUC,UAAU,GAC7C,CAAEhD,KAAM,SAAU+C,KAAM,WAGfoa,GAAb,2MACYja,UADZ,IAEYka,eAFZ,IAGY7N,kBAHZ,IAIYC,SAAkB,GAJ9B,EAMYpM,SAAqB,CACzBC,MAAO,CACHC,GAAI,CAAEC,SAAS,GACfgT,IAAK,CAAE/S,OAAQ,QAASvD,MAAO,2BAAQ2I,KAAM,CAAC,CAAEZ,MAAO,EAAGa,MAAO,qBAAa,CAAEb,MAAO,EAAGa,MAAO,4BAAU,CAAEb,MAAO,EAAGa,MAAO,8BAC9H8N,QAAS,CAAEnT,OAAQ,OAAQvD,MAAO,eAAMiC,YAAa,eAAMmb,KAAM,GACjEzZ,OAAQ,CAAEJ,OAAQ,SAAUvD,MAAO,eAAM6B,UAAW,+BAXhE,EAuBY+B,kBAvBZ,uCAuBgC,WAAO7D,EAAc8D,GAArB,SAAAC,EAAA,sEAClB,EAAKtE,WAAW6d,0BAA0BxZ,EAAQZ,KAAKe,KAAM,EAAKmZ,WADhD,2CAvBhC,0DA2BY3N,WAAa,WACjB,OAAO,uBAAK3N,UAAU,kBACjB,EAAKyN,cAAgB,gBAAC,IAAD,CAAMlM,MAAO,EAAKmM,SAAU7K,KAAM,CAAEpF,OAAQ,EAAKqQ,mBA7BnF,EAiCYA,cAAgB,SAACjL,EAAWgB,GAAmB,IAC7C4X,EAAgC,EAAK9d,WAArC8d,4BACAja,EAA+FqB,EAA/FrB,GAAIsS,EAA2FjR,EAA3FiR,eAAkC1G,GAAyDvK,EAA3EkR,KAA2ElR,EAArEmR,WAAqEnR,EAAzDuK,SAAS6G,EAAgDpR,EAAhDoR,SAAUhG,EAAsCpL,EAAtCoL,OAAQC,EAA8BrL,EAA9BqL,OAAQC,EAAsBtL,EAAtBsL,KAAMvB,EAAgB/J,EAAhB+J,IAC3E8O,GAD2F7Y,EAAX0J,OACrEuH,EAAftS,IAH4C,EAIP4L,EAAQrE,IAA7CqD,EAJ4C,EAI5CA,MAAOzG,EAJqC,EAIrCA,YACT4I,GAL8C,EAIxBlB,aACF,IAAXY,EAAgB,gCAAGA,EAAH,MAAcC,EAAQC,GAAW,gCAAGD,EAAQC,IAGrEpO,QAFsBvB,IAAV4N,GAAkCA,EAAMrD,IAAI7K,KAGxD,uBAAK8B,UAAU,8BACX,wBAAMK,QAAS,kBAAMob,EAA4Bja,EAAIka,KAAS,gBAAC,IAAD,CAAI1b,UAAU,8CAA8C9B,KAAK,cAEvI,OAAO,gBAAC,IAAD,CAAK6B,MAAOA,EAAOC,UAAU,cAChC,2BAAK,gBAAC,IAAD,CAAI9B,KAAK,SAAS8B,UAAU,sBAAjC,YAA+D4M,GAC/D,uBAAK5M,UAAU,yBAAf,qBAA2C2F,GAC3C,uBAAK3F,UAAU,yBAAf,qBAA2CiU,EAA3C,MAAwD1F,KAhDpE,EAoDYhK,OAAS,SAAC4P,GAAwB,IAEhC7Q,EAAkC6Q,EAAlC7Q,SAAUyQ,EAAwBI,EAAxBJ,KAAMvP,EAAkB2P,EAAlB3P,KAChBhD,GADkC2S,EAAZU,QACfd,EAAPvS,IAEN,OAAO,uBAAKxB,UAAU,iBAClB,uBAAKA,UAAU,kBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,gBAAgB,wBAAM8B,UAAU,6BAAhB,2BAAgD,yBAAI6H,YAAGvE,GAAU,SAAA1E,GAAC,OAAI,gCAAGA,EAAEV,YAEpJ,uBAAK8B,UAAU,uBAAf,OACU,gBAAC,IAAD,CAAIA,UAAU,4BAA4B9B,KAAK,kBAAkB,wBAAM8B,UAAU,6BAAhB,2BAAgD,yBAAIwB,KAE/H,uBAAKxB,UAAU,kBAAf,OACU,wBAAMA,UAAU,6BAAhB,iCAAiD,yBAAG,gBAAC,IAAD,CAAUwE,KAAMA,SAjE1F,EAuEY9E,KAAO,WACX,IAAIyU,EAAgB9R,IAAEC,MAAM,EAAKgZ,WAE3BK,EAA6B,EAAKhe,WAAlCge,yBACF5c,EAAS,0BAAQiB,UAAU,+BAC3B,wBAAMA,UAAU,mBAAhB,6BAEAD,EAAQ,uBAAKC,UAAU,gBACvB,wBAAMK,QAAS,kBAAMsb,EAAyBxH,IAAgBnU,UAAU,YACpE,qBAAGA,UAAU,0CACb,qBAAGA,UAAU,2CAGrB,OAAO,gBAAC,IAAD,CAAMjB,OAAQA,EAAQgB,MAAOA,EAAOS,gBAAgB,cACtD,EAAK+D,OAAO4P,GACb,gBAAC,IAAD,CAAM5R,IAAK,SAAA3D,GAAC,OAAI,EAAKwC,KAAOxC,GAAGoB,UAAU,MACrCgB,OAAQA,GACRM,SAAU,EAAKA,SACfkB,SAAU2R,EACV1R,cAAe,EAAKV,kBACpBW,eAAgB,IAEnB,EAAKiL,eA7FlB,6GAeejQ,GAff,2EAgBcoF,EAAwBpF,EAAxBoF,OAAQD,EAAgBnF,EAAhBmF,KAAM4B,EAAU/G,EAAV+G,MACpBxF,KAAKqc,UAAYxY,EACjB7D,KAAKwO,aAAe5K,EACpB5D,KAAKyO,SAAWjJ,EAChBxF,KAAKC,SAASD,KAAKS,MApB3B,4GAA8CP,KCHxCyc,G,YAGF,WAAYjX,GAAqB,IAAD,8BAC5B,+CAFIkX,6BACwB,EAE5B,EAAKhX,UAAY,EAAKC,SAAW,GACjC,EAAK+W,wBAA0BlX,EAHH,E,2GAMXjH,EAAYqH,EAAgBD,G,mFAC3BtG,IAAduG,IAAyBA,EAAY,G,SACzB9F,KAAK4c,wBAAwBnc,KAAKhC,EAAOqH,EAAWD,G,cAAhEE,E,yBACGA,G,8IAEYnC,GACnB5D,KAAK8F,eAAqBvG,IAATqE,EAAqB,EAAIA,EAAKrB,O,GAfnByD,KAmBvB6W,IAAb,qUAII1O,aAJJ,IAUI+N,6BAVJ,uCAUmC,WAAOhb,GAAP,SAAA8B,EAAA,sDAC3B,EAAKiZ,mBAAqB,IAAIU,GAAsB,EAAKzW,IAAIC,IAAI2W,yBACjE,EAAKb,mBAAmB5V,MAAM,CAAEnF,IAAKA,IAFV,2CAVnC,wDAkBIgT,oBAlBJ,uCAkB0B,WAAOxH,GAAP,SAAA1J,EAAA,sDAClB,EAAKmL,QAAUzB,EACf,EAAK5K,UAAU4Z,GAAoB,CAAEqB,oBAAgBxd,IAFnC,2CAlB1B,wDAuBI4c,YAvBJ,sBAuBkB,sBAAAnZ,EAAA,sEACY,EAAKtC,KAAKsc,aAAavQ,OADnC,yDAvBlB,EA2BImP,0BA3BJ,uCA2BgC,WAAOlP,GAAP,+BAAA1J,EAAA,8DAEPzD,IAAbmN,EAAMnK,GAFc,oBAGhB,EAAK4L,QAHW,yBAIO,EAAKA,QAAtB5L,EAJU,EAIVA,GAAI8B,EAJM,EAINA,SACA+S,EAAe/S,EAAnB9B,GAEAyS,EAAmCtI,EAAnCsI,SAAUhG,EAAyBtC,EAAzBsC,OAAQC,EAAiBvC,EAAjBuC,OAAQC,EAASxC,EAATwC,KAC5BzQ,EAAQ,CACR4F,SAAU+S,EACVjJ,QAAS5L,EACTyS,SAAUA,EACVhG,OAAQA,EACRC,OAAQA,EACRC,KAAMA,EACN0G,aAfY,YAiBV,EAAK1P,IAAIC,IAAIkR,kBAAkBxU,OAAOpE,GAjB5B,cAoBxB,EAAK8K,YApBmB,UAqBlB,EAAK9J,WArBa,4CA3BhC,wDAmDIid,yBAnDJ,uCAmD+B,WAAO9Y,GAAP,iBAAAZ,EAAA,6DACjBT,EAAOqB,EAAPrB,GACF9D,EAAQ,CACR8D,GAAIA,GAHe,SAKjB,EAAK2D,IAAIC,IAAIyS,qBAAqB/V,OAAOpE,GALxB,cAMvB,EAAK8K,YANkB,SAOjB,EAAK9J,WAPY,2CAnD/B,wDA6DI+c,4BA7DJ,uCA6DkC,WAAOS,EAAmBR,GAA1B,eAAAzZ,EAAA,6DAEtBvE,EAAQ,CACR8D,GAAI0a,EACJnC,IAAK2B,GAJiB,SAMpB,EAAKvW,IAAIC,IAAI+W,qBAAqBra,OAAOpE,GANrB,cAO1B,EAAK8K,YAPqB,SAQpB,EAAK9J,WARe,2CA7DlC,0DAwEI8c,0BAxEJ,uCAwEgC,WAAO7P,EAAY9I,GAAnB,mBAAAZ,EAAA,6DAClBT,EAAiBqB,EAAjBrB,GAAI8B,EAAaT,EAAbS,SACN5F,EAAQ,CACR8D,GAAIA,EACJ8B,SAAUA,EACVmR,IAAK9I,EAAM8I,IACXI,QAASlJ,EAAMkJ,SANK,SAQlB,EAAK1P,IAAIC,IAAIgX,qBAAqBta,OAAOpE,GARvB,cASxB,EAAK8K,YATmB,SAUlB,EAAK9J,WAVa,2CAxEhC,0DAwFIuc,8BAxFJ,uCAwFoC,WAAOpY,GAAP,mBAAAZ,EAAA,6DACtBT,EAAOqB,EAAPrB,GADsB,SAEV,EAAK2D,IAAIC,IAAI+S,+BAA+BtS,MAAM,CAAEC,IAAKtE,IAF/C,OAExBwP,EAFwB,OAGxBtT,EAAsB,CACtBoF,OAAQD,EACRA,KAAMmO,EAAMhM,IAAI,GAChBP,MAAOuM,EAAMhM,KAEjB,EAAKjE,UAAUsa,GAA0B3d,GARb,2CAxFpC,wDAmGIgB,SAnGJ,sBAmGe,sBAAAuD,EAAA,sEACD,EAAKkZ,6BAA6B,IADjC,2CAnGf,EAuGI1d,OAAS0F,aAAS,WACd,OAAO,EAAKtC,WAAWma,OAxG/B,EA2GI1c,IAAM,WACF,OAAO,gBAAC,EAAKb,OAAN,OA5Gf,sHAMwBC,GANxB,iEAOQuB,KAAKkc,6BAA6Bzd,GAP1C,4GAAwC0B,GAAxC,kDAEK4G,KAFL,mHAGKA,KAHL,kECXaqW,GAAb,2MAGIC,YAHJ,IAII1e,WAJJ,IAKIgC,eALJ,IAMI2Q,mBANJ,IAOI5M,sBAPJ,IAQI9F,cARJ,IASIoe,kBATJ,IAUIxL,eAVJ,IAWID,YAXJ,IAYI3C,cAZJ,IAaI/P,qBAbJ,IAcIC,cAdJ,IAeIqa,eAfJ,IAgBIpa,wBAhBJ,sEAkBsCiD,GAC9B,OAAO,IAAIA,EAAKhC,QAnBxB,6JAwBQA,KAAKrB,MAAQqB,KAAKwM,KAAK9K,GACvB1B,KAAKW,UAAYX,KAAKwM,KAAKvG,GAC3BjG,KAAKsR,cAAgBtR,KAAKwM,KAAK2D,IAC/BnQ,KAAKpB,SAAWoB,KAAKwM,KAAK4E,IAC1BpR,KAAKgd,aAAehd,KAAKwM,KAAK2H,IAC9BnU,KAAKwR,UAAYxR,KAAKwM,KAAK6F,IAC3BrS,KAAKuR,OAASvR,KAAKwM,KAAKsE,IACxB9Q,KAAK4O,SAAW5O,KAAKwM,KAAKoH,IAC1B5T,KAAK0E,iBAAmB1E,KAAKwM,KAAKF,IAClCtM,KAAKnB,gBAAkBmB,KAAKwM,KAAKyK,IACjCjX,KAAKlB,SAAWkB,KAAKwM,KAAK8N,IAC1Bta,KAAKmZ,UAAYnZ,KAAKwM,KAAK2J,IAC3BnW,KAAKjB,mBAAqBiB,KAAKwM,KAAKqQ,KAChCS,EAAgC,IAC3BxF,KAAK9X,KAAKW,UAAUkB,SAtCrC,UAuCc0b,QAAQC,IAAIF,GAvC1B,QAwCQtd,KAAKyd,WACLzd,KAAKqd,OAASK,IAAIL,SAzC1B,sIA4CaM,GACL3d,KAAK8B,UAAUvD,EAAOof,KA7C9B,6EA+CwB7I,GA/CxB,sLACqB,OAAO9U,KAAKK,SADjC,GAA0Bud,KCVbC,GAAuB,CAChCC,QAAS,uDACTC,QAAS,QACTC,ICTmB,GDUnBC,IAAK,sBENTP,IAAIQ,YAAYL,I,IAaDM,G,2MATLC,U,sBAAY,sBAAApb,EAAA,sEACZnB,YAAMub,GAAMS,IADA,2C,wEAKlB,OAAO,gBAAC,IAAD,CAASO,UAAWpe,KAAKoe,gB,GAPlBC,aCIEC,QACW,cAA7BC,OAAOC,SAASC,UAEa,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCXJC,IAASngB,OAAO,kBAAC,GAAD,MAASogB,SAASC,eAAe,SDoI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.c92aea3f.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\r\nimport { CApp } from '../CApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\n\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    render = (param?: any): JSX.Element => {\r\n        let { cHome, cProduct, cPendingInquiry, cInquiry, cNewPendingInquiry } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'supplier', label: '', icon: 'glide', content: cHome.tab, notify: undefined },\r\n            { name: 'product', label: '', icon: 'flask', content: cProduct.tab, onShown: cProduct.loadList },\r\n            { name: 'pendingInquiry', label: '', icon: 'pencil-square-o', content: cNewPendingInquiry.tab, onShown: cNewPendingInquiry.loadList },\r\n            { name: 'inquirying', label: '', icon: 'check-square-o ', content: cPendingInquiry.tab, onShown: cPendingInquiry.loadList },\r\n            { name: 'inquiry', label: '', icon: 'bandcamp', content: cInquiry.tab, onShown: cInquiry.loadList }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify, onShown } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n                onShown: onShown,\r\n            }\r\n        });\r\n        return <Page header={false}>\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import { CSub, CBase } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CApp } from \"./CApp\";\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): CUqBase { return this._owner as CUqBase; };\r\n}\r\n","import * as React from 'react';\r\nimport { CHome } from './CHome';\r\nimport { Page, View, SearchBox } from 'tonva';\r\n\r\nexport class VHome extends View<CHome> {\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = () => {\r\n        let { onNewSupplier, searchSupplierByKey } = this.controller.cApp.cSupplier;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"\" />\r\n            <span onClick={() => onNewSupplier()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page right={right} header={header} headerClassName=\"bg-primary\">\r\n            <this.content />\r\n        </Page>;\r\n    };\r\n\r\n    private content = () => {\r\n        let { controller } = this;\r\n        let { toSupplierList } = controller;\r\n        return <>\r\n            {toSupplierList()}\r\n        </>\r\n    };\r\n}","import { CUqBase } from '../CBase';\r\nimport { VHome } from './VHome';\r\n\r\nexport class CHome extends CUqBase {\r\n\r\n    async internalStart(param: any) {\r\n\r\n        let { cSupplier } = this.cApp;\r\n        await cSupplier.start();\r\n        this.openVPage(VHome);\r\n    }\r\n\r\n    toSupplierList = () => {\r\n        let { cSupplier } = this.cApp;\r\n        return cSupplier.renderRootList();\r\n    }\r\n    tab = () => this.renderView(VHome);\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'abbreviation', type: 'string', required: false },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VSupplier extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            abbreviation: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierData(context.form.data);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"p-3 bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page } from 'tonva';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nexport class VSupplierList extends View<CSupplier> {\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, name, createTime } = item;\r\n        let { onEditSupplier, onSupplierSelected } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-info\" onClick={() => onEditSupplier(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        return <LMR right={right} className=\"py-2 px-3 \">\r\n            <div onClick={() => onSupplierSelected(item)}>{name}</div>\r\n        </LMR>\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.content />\r\n    }\r\n\r\n    private content = observer(() => {\r\n        let { suppliers } = this.controller;\r\n        return <div className=\"py-2\"><List items={suppliers} item={{ render: this.renderRootCategory }} /></div>;\r\n    });\r\n} \r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from \"./CSupplier\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nexport class VSupplierDetail extends VPage<CSupplier> {\r\n\r\n    private supplier: any;\r\n    private firstSupplierContact: any;\r\n    private supplierContacts: any[] = [];\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        this.supplier = parent;\r\n        this.firstSupplierContact = item;\r\n        this.supplierContacts = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getSupplierContact = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div className=\"bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"users\" /><span className=\"h6 py-2 px-1 align-middle\"><b> </b></span>\r\n            </div>\r\n            {this.firstSupplierContact && <List items={this.supplierContacts} item={{ render: this.renderContact }} />}\r\n            <div className=\"text-primary text-center small bg-white py-2\" onClick={() => showCreateSupplierContact(this.supplier)}><FA name=\"plus\" /></div>\r\n\r\n        </div>\r\n    }\r\n\r\n    private renderContact = (item: any, index: number) => {\r\n        let { delSupplierContact, showEditSupplierContact, showSupplierContactDetail } = this.controller.cApp.cSupplierContact;\r\n        let { no, name, id, gender, mobile } = item;\r\n        let { defaultContact } = this.supplier;\r\n        let fa_text = defaultContact === undefined ? \"px-2 text-muted small\" : (defaultContact.id === id ? \"px-2 text-info small\" : \"px-2 text-muted small\");\r\n        let fa_gender = gender === \"0\" ? <FA name=\"female\" className=\"px-2 text-danger\"></FA> : <FA name=\"male\" className=\"px-2 text-primary\"></FA>;\r\n        let left = <div className={fa_text} onClick={() => showSupplierContactDetail(item)}>\r\n            {fa_gender}\r\n            {name} - {mobile === undefined ? \"\" : mobile}</div>\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right small\">\r\n                <span onClick={() => delSupplierContact(this.supplier, item)}><FA className=\"align-middle text-danger\" name=\"remove\" /></span>\r\n                <span onClick={() => showEditSupplierContact(this.supplier, item)}><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = () => {\r\n        let supplierData = _.clone(this.supplier);\r\n        let { name, no, abbreviation, createTime } = supplierData;\r\n\r\n        return <div className=\"py-2 bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> </b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{no}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{name}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{abbreviation}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{<EasyDate date={createTime} />}</div>\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            {this.rowTop()}\r\n            {this.getSupplierContact()}\r\n        </Page>\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VSupplier } from './VSupplier';\r\nimport { VSupplierList } from './VSupplierList';\r\nimport { VHome } from '../VHome';\r\nimport { VSupplierDetail } from './VSupplierDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    renderRootList() {\r\n        return this.renderView(VSupplierList);\r\n    }\r\n\r\n    saveSupplierData = async (supplier: any) => {\r\n\r\n        if (supplier.id === undefined) {\r\n            supplier.createTime = Date.now();\r\n            supplier.defaultContact = undefined;\r\n            await this.uqs.rms.Supplier.save(undefined, supplier);\r\n        } else {\r\n            await this.uqs.rms.Supplier.save(supplier.id, supplier);\r\n        }\r\n        await this.cApp.cHome.start();\r\n    }\r\n\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewSupplier = async () => {\r\n        this.openVPage(VSupplier, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onEditSupplier = async (supplier: any) => {\r\n        this.openVPage(VSupplier, supplier);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onSupplierSelected = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        let contact = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: contact.ret[0],\r\n            child: contact.ret,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n}\r\n\r\n","\r\nexport function telephoneValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function mobileValidation(value: string) {\r\n    if (value && !/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function emailValidation(value: string) {\r\n    if (value && !/\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(value))\r\n        return \"Email\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function faxValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function addressDetailValidation(value: string) {\r\n    return (value && value.length > 200) ? \"200\" : undefined;\r\n}\r\n\r\nexport function zipCodeValidation(value: string) {\r\n    return (value && value.length > 15) ? \"\" : undefined;\r\n}\r\n\r\n\r\nexport function organizationNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function departmentNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function salutationValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function nameValidation(value: string) {\r\n    return (value && value.length > 50) ? \"50\" : undefined;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CSupplierContact } from './CSupplierContact';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\n\r\nexport class VSupplierContact extends VPage<CSupplierContact> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'gender', type: 'string', required: true },\r\n        { name: 'firstName', type: 'string', required: false },\r\n        { name: 'lastName', type: 'string', required: false },\r\n        { name: 'salutation', type: 'string', required: false },\r\n        { name: 'departmentName', type: 'string', required: false },\r\n        { name: 'telephone', type: 'string', required: false },\r\n        { name: 'mobile', type: 'string', required: true },\r\n        { name: 'wechatId', type: 'string', required: false },\r\n        { name: 'email', type: 'string' },\r\n        { name: 'fax', type: 'string', required: false },\r\n        { name: 'address', type: 'id', required: true },\r\n        { name: 'addressString', type: 'string', required: true },\r\n        { name: 'zipCode', type: 'string', required: false },\r\n        { name: 'isDefault', type: 'boolean', required: false },\r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '', list: [{ value: '1', title: '' }, { value: '0', title: '' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '', placeholder: '', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            salutation: { widget: 'text', label: '', placeholder: '', rules: salutationValidation } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '', placeholder: '', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '', placeholder: '', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '', placeholder: '', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiTextItem,\r\n            fax: { widget: 'text', label: '', placeholder: '', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">()</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* tvtvbug, Henry */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\"></small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '', placeholder: '', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '', placeholder: '', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'checkbox', label: '', defaultValue: false },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { saveSupplierContact } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await saveSupplierContact(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <Form ref={v => this.form = v} className=\"my-3 mx-3\"\r\n                formData={this.item}\r\n                schema={this.schema}\r\n                uiSchema={this.uiSchema}\r\n                onButtonClick={this.onFormButtonClick}\r\n                requiredFlag={true}\r\n            />\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage, tv } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CSupplierContact } from \"./CSupplierContact\";\r\n\r\nexport class VSupplierContactDetail extends VPage<CSupplierContact> {\r\n\r\n    private supplierContact: any;\r\n\r\n    async open(supplierContact: any) {\r\n        this.supplierContact = supplierContact;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let supplierContactData = _.clone(this.supplierContact);\r\n        let { no, name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = supplierContactData;\r\n\r\n        let contactAddress = address === undefined ? undefined : address.obj;\r\n        let ad;\r\n        if (contactAddress === undefined) {\r\n            ad = \"\";\r\n        } else {\r\n            let { country, province, city, county } = contactAddress;\r\n            ad = <>{country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}</>\r\n        };\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <div className=\"py-2 bg-white mb-3\">\r\n                <div className=\"cursor-pointer\">\r\n                    &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> </b></span>\r\n                </div>\r\n                <div className=\"py-2 cat-root-sub\">\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{no}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{name}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{lastName}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{firstName}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">:\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{gender === \"0\" ? \"\" : (gender === \"1\" ? \"\" : \"\")}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{salutation}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{departmentName}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{telephone}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{mobile}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{wechatId}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">Email:</div><div className=\"col-9\">{email}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{fax}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{ad}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{addressString}</div>\r\n                    </div>\r\n                    <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                        <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{zipCode}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List, FA } from 'tonva';\r\nimport { CAddress } from './CAddress';\r\nimport { GLOABLE } from 'configuration';\r\n\r\nexport class VAddress extends VPage<CAddress> {\r\n    private countryId: number;\r\n    private provinceId: number;\r\n    private cityId: number;\r\n    private countyId: number;\r\n    private backLevel = 0;\r\n\r\n    async open(param: any) {\r\n\r\n        let countrys = await this.controller.getCountry();\r\n        this.openPage(this.page, { countrys: countrys });\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        this.backLevel++;\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"row no-gutters\">\r\n                {param.countrys.map((v: any) => this.renderPCC(v, this.onCountryClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPCC = (pcc: BoxId, onClick: any) => {\r\n        return <div key={pcc.id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            {tv(pcc, (value) => {\r\n                let { id, chineseName } = value;\r\n                return <>\r\n                    <div className=\"pt-1 pb-1 px-2\" onClick={() => onClick(id)}\r\n                        style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n                    >\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                            &nbsp; {chineseName}\r\n                        </span>\r\n                    </div>\r\n                </>;\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    private onCountryClick = async (countryId: any) => {\r\n        this.countryId = countryId;\r\n        let provinces = await this.controller.getCountryProvince(countryId);\r\n        if (provinces) {\r\n            let len = provinces.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onProvinceClick(provinces[0].province.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"\">\r\n                        <div className=\"row no-gutters\">\r\n                            {provinces.map(v => this.renderPCC(v.province, this.onProvinceClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let len = cities.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onCityClick(cities[0].city.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"\">\r\n                        <div className=\"row no-gutters\">\r\n                            {cities.map(v => this.renderPCC(v.city, this.onCityClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            this.openPageElement(<Page header=\"\">\r\n                <div className=\"row no-gutters\">\r\n                    {counties.map(v => this.renderPCC(v.county, this.onCountyClick))}\r\n                </div>\r\n            </Page>);\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        this.closePage(this.backLevel);\r\n        this.saveAddress();\r\n    }\r\n\r\n    private saveAddress = async () => {\r\n        await this.controller.saveAddress(this.countryId, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n","import { VAddress } from './VAddress';\r\nimport { CUqBase } from 'CBase';\r\n\r\nexport class CAddress extends CUqBase {\r\n    protected async internalStart() {\r\n        this.openVPage(VAddress);\r\n    }\r\n\r\n    getCountry = async (): Promise<any[]> => {\r\n        return await this.uqs.common.Country.search(\"\", 0, 300);\r\n    }\r\n\r\n    getCountryProvince = async (countryId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCountryProvinces.table({ country: countryId });\r\n    }\r\n\r\n    getProvinceCities = async (provinceId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetProvinceCities.table({ province: provinceId });\r\n    }\r\n\r\n    getCityCounties = async (cityId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCityCounties.table({ city: cityId });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId?: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.returnCall(addressId);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VSupplierContact } from \"./VSupplierContact\";\r\nimport { VSupplierContactDetail } from \"./VSupplierContactDetail\";\r\nimport { VSupplierDetail } from \"../supplier/VSupplierDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"./CAddress\";\r\n\r\nclass PageSupplierContact extends PageItems<any> {\r\n    private searchSupplierContact: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplierContact = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplierContact.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplierContact extends CUqBase {\r\n\r\n    @observable pageSupplierContact: PageSupplierContact;\r\n    protected async internalStart() {\r\n\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    //\r\n    showCreateSupplierContact = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showEditSupplierContact = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showSupplierContactDetail = async (model: any) => {\r\n        this.openVPage(VSupplierContactDetail, model);\r\n    }\r\n\r\n    saveSupplierContact = async (id: number, param: any, parent: any) => {\r\n        let { name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address, isDefault } = param;\r\n        let parrm = { name: name, firstName: firstName, lastName: lastName, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, supplier: parent.id, isValid: 1 };\r\n        let result = await this.uqs.rms.SupplierContact.save(id, parrm);\r\n        if (isDefault === true) {\r\n            let sid = id;\r\n            if (sid === undefined) {\r\n                sid = result.id;\r\n            }\r\n            await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, createTime: parent.createTime, isValid: 1, defaultContact: sid });\r\n        }\r\n        this.cApp.cHome.start();\r\n    }\r\n\r\n    delSupplierContact = async (parent: any, model: any) => {\r\n        let { id, no, name, firstName, lastName, isDefault, isValid, supplier, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = model;\r\n        await this.uqs.rms.SupplierContact.save(id, { no: no, name: name, firstName: firstName, lastName: lastName, supplier: supplier, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, isDefault: isDefault, isValid: 0 });\r\n        await this.uqs.rms.SearchSupplierContact.query({ _id: model.id });\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //\r\n    showSupplierContact = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'supplier', type: 'id', required: true },\r\n    { name: 'brand', type: 'id', required: false },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'isTrue', type: 'boolean', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VAddProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            supplier: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickSupplier(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            brand: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickBrand(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.no}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            origin: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            purity: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            isTrue: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveProductData(context.form.data);\r\n    }\r\n\r\n    private showChemicalData = () => {\r\n\r\n        let { chemical } = this.controller;\r\n        let { no, CAS, description, descriptoinCN, molecularFomula, molecularWeight, mdlNumber } = chemical;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b></b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">chemid:</div><div className=\"col-9\">{no}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">CAS:</div><div className=\"col-9\">{CAS}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{description}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{descriptoinCN}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{molecularFomula}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{molecularWeight}</div>\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            {this.showChemicalData()}\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'isTrue', type: 'boolean', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VEditProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            origin: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            purity: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            isTrue: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.updateProductData(this.productData, context.form.data);\r\n    }\r\n\r\n    private showProductData = (product: any) => {\r\n\r\n        let { supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight } = product;\r\n        let { name: suppliername } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.no;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b></b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{suppliername}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{brandno}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">CAS:</div><div className=\"col-9\">{CAS}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{description}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{descriptionC}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{molecularFomula}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{molecularWeight}</div>\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            {this.showProductData(descriptionData)}\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nexport class VProductDetail extends VPage<CProduct> {\r\n    private product: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        this.product = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        let { showCreatePackage } = this.controller.cApp.cPackage;\r\n\r\n        return <div className=\"bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"cubes\" /><span className=\"h6 py-2 px-1 align-middle\"><b> </b></span>\r\n            </div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n            <div className=\"text-primary text-center small bg-white py-2\" onClick={() => showCreatePackage(this.product)}><FA name=\"plus\" /></div>\r\n\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { showEditPackage, showPackageDetail } = this.controller.cApp.cPackage;\r\n        let { id, radiox, radioy, unit, type, price, currency, validUpto } = item;\r\n        let { defaultContact } = this.product;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let left = <div className=\"px-2 small\" onClick={() => showPackageDetail(item)}>\r\n            <FA name=\"cube\" className=\"px-2 text-primary\"></FA>\r\n            {radio} <div className=\"text-muted small px-4\">{type === 1 ? \"\" : \"\"}</div></div>\r\n\r\n        let right =\r\n            price === undefined ?\r\n                <div className=\"px-2 text-muted text-right small\">\r\n                    <span onClick={() => showEditPackage(this.product, item)}><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n                </div> : <div className=\"px-2 text-info text-right small\">\r\n                    <span>{price}{tv(currency, v => <>{v.name}</>)}</span>\r\n                    <div className=\"small\"><EasyDate date={validUpto} /></div>\r\n                </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = () => {\r\n        let productData = _.clone(this.product);\r\n\r\n        let { no, supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight } = this.product;\r\n        let { name: suppliername } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"py-2 bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b></b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{no}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{suppliername}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{brandno}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">CAS:</div><div className=\"col-9\">{CAS}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{description}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{descriptionC}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{origin}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{purity}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{molecularFomula}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{molecularWeight}</div>\r\n                </div>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            {this.rowTop()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CProduct } from './CProduct';\r\n\r\nexport class VProductList extends VPage<CProduct> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, description, createTime, supplier, CAS } = item;\r\n        let { onEditProduct, showProductDetail } = this.controller;\r\n\r\n        let right = <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditProduct(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        let left = <div onClick={() => showProductDetail(item)}>\r\n            <div className=\"text-muted small\">CAS{CAS}</div>\r\n            <div className=\"text-muted small\">{description}</div>\r\n            <div className=\"text-muted small\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </div>\r\n        return <LMR left={left} right={right} className=\"py-2 px-3 border-top\">\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, onNewProduct, searchProductByKey, pickChemical } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"cas\" />\r\n            <span onClick={() => pickChemical()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} headerClassName=\"bg-primary\">\r\n            <List items={products} item={{ render: this.renderRootCategory }} />\r\n        </Page >;\r\n    })\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickSupplier } from './CPickSupplier';\r\n\r\nexport class VPickSupplier extends VPage<CPickSupplier> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { suppliers, searchSupplierByKey } = this.controller;\r\n\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"\" />\r\n            <List items={suppliers} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.suppliers.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnSupplier(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { VPickSupplier } from './VPickSupplier';\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n        this.openVPage(VPickSupplier);\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    returnSupplier = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CBrand } from './CBrand';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'no', type: 'string', required: true },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VBrand extends VPage<CBrand> {\r\n\r\n    private form: Form;\r\n    private brandData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            no: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(brandData: any) {\r\n        this.brandData = brandData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveBrandData(context.form.data);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.brandData);\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CBrand } from './CBrand';\r\n\r\nexport class VPickBrand extends VPage<CBrand> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { brands, searchBrandByKey, onNewBrand } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchBrandByKey(key)}\r\n                placeholder=\"\" />\r\n            <span onClick={() => onNewBrand()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\" >\r\n            <List items={brands} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.brands.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnBrand(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { no, name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{no} - {name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VBrand } from './VBrand';\r\nimport { VPickBrand } from './VPickBrand';\r\n\r\nclass PageBrand extends PageItems<any> {\r\n\r\n    private searchBrand: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchBrand = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchBrand.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CBrand extends CUqBase {\r\n\r\n    @observable brands: PageBrand;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchBrandByKey(param);\r\n        this.openVPage(VPickBrand);\r\n    }\r\n\r\n    searchBrandByKey = async (key: string) => {\r\n        this.brands = new PageBrand(this.uqs.rms.SearchBrand);\r\n        this.brands.first({ key: key });\r\n    }\r\n\r\n    saveBrandData = async (brand: any) => {\r\n\r\n        if (brand.id === undefined) {\r\n            await this.uqs.rms.Brand.save(undefined, brand);\r\n        } else {\r\n            await this.uqs.rms.Brand.save(brand.id, brand);\r\n        }\r\n        this.closePage();\r\n        await this.searchBrandByKey(\"\");\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewBrand = async () => {\r\n        this.openVPage(VBrand, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onEditBrand = async (brand: any) => {\r\n        this.openVPage(VBrand, brand);\r\n    }\r\n\r\n    returnBrand = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VAddProduct } from './VAddProduct';\r\nimport { VEditProduct } from './VEditProduct';\r\nimport { VProductDetail } from './VProductDetail';\r\nimport { VProductList } from './VProductList';\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CChemical } from './CChemical';\r\nimport { CBrand } from './CBrand';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n    chemical: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        //this.openVPage(VProductList);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key });\r\n    }\r\n\r\n    pickSupplier = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cPickSupplier = this.newC(CPickSupplier);\r\n        return await cPickSupplier.call<number>();\r\n    }\r\n\r\n    pickBrand = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cBrand = this.newC(CBrand);\r\n        return await cBrand.call<number>();\r\n    }\r\n\r\n    pickChemical = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call();\r\n    }\r\n\r\n    saveProductData = async (product: any) => {\r\n\r\n        if (product.id === undefined) {\r\n            if (this.chemical) {\r\n                let { id, CAS, description, descriptoinCN, molecularFomula, molecularWeight } = this.chemical;\r\n                product.description = description;\r\n                product.descriptionC = descriptoinCN;\r\n                product.createTime = Date.now();\r\n                product.defaultContact = undefined;\r\n                let result = await this.uqs.rms.Product.save(undefined, product);\r\n                await this.uqs.rms.ProductChemical.add({ product: result.id, arr1: [{ chemical: id, CAS: CAS, molecularFomula: molecularFomula, molecularWeight: molecularWeight, purity: product.purity }] });\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    updateProductData = async (productdata: any, model: any) => {\r\n\r\n        if (productdata) {\r\n            productdata.origin = model.origin;\r\n            productdata.isTrue = 1;\r\n            let { chemical } = productdata;\r\n            await this.uqs.rms.Product.save(model.id, productdata);\r\n            await this.uqs.rms.ProductChemical.add({ product: model.id, arr1: [{ chemical: chemical.id, CAS: productdata.CAS, molecularFomula: productdata.molecularFomula, molecularWeight: productdata.molecularWeight, purity: model.purity }] });\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewProduct = async (model: any) => {\r\n        this.chemical = model;\r\n        this.openVPage(VAddProduct, { product: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onEditProduct = async (product: any) => {\r\n        this.openVPage(VEditProduct, product);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    showProductDetail = async (model: any) => {\r\n        let { id } = model;\r\n        let pitem = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchProductByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VProductList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CChemical } from './CChemical';\r\n\r\nexport class VChemical extends VPage<CChemical> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { chemicals, searchChemicalByKey } = this.controller;\r\n        let { onNewProduct } = this.controller.cApp.cProduct;\r\n\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}>chemid</span>\r\n        </header>;\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchChemicalByKey(key)}\r\n                placeholder=\"CAS\" />\r\n            <List items={chemicals} item={{ render: this.renderItem, onClick: onNewProduct }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.chemicals.more();\r\n    }\r\n\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS:{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VChemical } from './VChemical';\r\n\r\nclass PageChemical extends PageItems<any> {\r\n\r\n    private searchChemical: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 8;\r\n        this.searchChemical = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchChemical.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CChemical extends CUqBase {\r\n\r\n    @observable chemicals: PageChemical;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchChemicalByKey(param);\r\n        this.openVPage(VChemical);\r\n    }\r\n\r\n    searchChemicalByKey = async (key: string) => {\r\n        this.chemicals = new PageChemical(this.uqs.chemical.SearchChemical);\r\n        this.chemicals.first({ key: key });\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackage extends VPage<CPackage> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'radiox', type: 'number', required: true },\r\n        { name: 'radioy', type: 'number', required: true },\r\n        { name: 'unit', type: 'string', required: true },\r\n        { name: 'type', type: 'string', required: true },\r\n        { name: 'isValid', type: 'boolean', required: true },\r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            unit: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            type: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 2, title: '' }] } as UiRadio,\r\n            isValid: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { savePackage } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await savePackage(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <Form ref={v => this.form = v} className=\"my-3 mx-3\"\r\n                formData={this.item}\r\n                schema={this.schema}\r\n                uiSchema={this.uiSchema}\r\n                onButtonClick={this.onFormButtonClick}\r\n                requiredFlag={true}\r\n            />\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage, EasyDate, tv } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackageDetail extends VPage<CPackage> {\r\n\r\n    private package: any;\r\n\r\n    async open(param: any) {\r\n        this.package = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let packageData = _.clone(this.package);\r\n        let { radiox, radioy, unit, type, price, currency, isTaxIn, isTransFeeIn, transFee\r\n            , transFeecurrency, packingFee, packingcurrency, otherFee\r\n            , customized, customizeUpto, validUpto, minArriveDate\r\n            , maxArriveDate, invoiceType, vatRate, tariffRate } = packageData;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\">: {radio}</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{type === 1 ? \"\" : (type === 2 ? \"\" : \"\")}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{isTaxIn === 1 ? \"\" : (isTaxIn === 0 ? \"\" : \"\")}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{isTransFeeIn === 1 ? \"\" : (isTransFeeIn === 0 ? \"\" : \"\")}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{otherFee}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{customized === 1 ? \"\" : (customized === 0 ? \"\" : \"\")}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={customizeUpto} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={validUpto} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={minArriveDate} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={maxArriveDate} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{invoiceType === undefined ? \"\" : (invoiceType === 1 ? \"\" : (invoiceType === 2 ? \"\" : \"\"))}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{vatRate}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{tariffRate}</div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPackage } from \"./VPackage\";\r\nimport { VPackageDetail } from \"./VPackageDetail\";\r\nimport { VProductDetail } from \"../product/VProductDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PagePackage extends PageItems<any> {\r\n    private searchPackage: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPackage = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPackage.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPackage extends CUqBase {\r\n\r\n    @observable pagePackage: PagePackage;\r\n    protected async internalStart() {\r\n    }\r\n\r\n    searchPackageByKey = async (parent: any, key: string) => {\r\n        this.pagePackage = new PagePackage(await this.uqs.rms.GetPack.query({ _id: parent.id }));\r\n        this.pagePackage.first({ key: key });\r\n    }\r\n\r\n    //\r\n    showCreatePackage = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showEditPackage = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showPackageDetail = async (model: any) => {\r\n        this.openVPage(VPackageDetail, model);\r\n    }\r\n\r\n    savePackage = async (id: number, param: any, parent: any) => {\r\n\r\n        await this.uqs.rms.Product.saveArr(\"Pack\", parent.id, id, param);\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //\r\n    showPackage = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickProduct } from './CPickProduct';\r\n\r\nexport class VPickProduct extends VPage<CPickProduct> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, searchProductByKey } = this.controller;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n\r\n        let header = <header className=\"py-2 px-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"\" />\r\n            <List items={products} item={{ render: this.renderItem, onClick: onNewPendingInquiry }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description, supplier } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VPickProduct } from './VPickProduct';\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        this.openVPage(VPickProduct);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key });\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryList extends VPage<CPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, inquiryDate } = item;\r\n        let { onShowPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-info\">\r\n            <EasyDate date={inquiryDate} />\r\n        </div>\r\n        let left = <div>{tv(supplier, v => <>{v.name}</>)}</div>\r\n        return <LMR left={left} right={right} className=\"py-2 px-3\" onClick={() => onShowPendingInquiryDetail(item)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pendingInquirys, searchPendingInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchPendingInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={pendingInquirys} item={{ render: this.renderRootCategory }} none=\"\" />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiRadio, Form, Context } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'result', type: 'number', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiryDetail extends VPage<CPendingInquiry> {\r\n    private form: Form;\r\n    private pending: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            result: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 2, title: '' }] } as UiRadio,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(param: any) {\r\n        let { parent, item, child } = param;\r\n        this.pending = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveInquiryData(context.form.data, this.pending, this.packages);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div className=\"bg-white px-2 \">\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity } = item;\r\n        let { brand, description, descriptionC } = product.obj;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span onClick={() => this.controller.openPendingInquiryResult(item)}><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"py-2 small\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{quantity} * {radio}</div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, inquiryUser, inquiryDate, user, date, remarks } = suppplierData;\r\n        let { id } = user;\r\n        let { id: inid } = inquiryUser;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{tv(supplier, v => <>{v.name}</>)}</b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{contactName}</b>&nbsp;&nbsp;<b>{contactMobile}</b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<span className=\"h6 py-2 px-4 align-middle\"><b>{id}</b>&nbsp;&nbsp;<b><EasyDate date={date} /></b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{inid}</b>&nbsp;&nbsp;<b><EasyDate date={inquiryDate} /></b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<span className=\"h6 py-2 px-4 align-middle\"><b>{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")}</b></span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.pending);\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            {this.getPackage()}\r\n            <Form ref={v => this.form = v} className=\"m-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                formData={suppplierData}\r\n                onButtonClick={this.onFormButtonClick}\r\n                fieldLabelSize={3}\r\n            />\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CCurrency } from './CCurrency';\r\n\r\nexport class VCurrency extends VPage<CCurrency> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { currencys } = this.controller;\r\n        return <Page header=\"\">\r\n            <div className=\"row no-gutters\">\r\n                {currencys.map((v: any) => this.renderCurrency(v, this.onCurrencyClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderCurrency = (currency: any, onClick: any) => {\r\n        let { id, name } = currency;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onCurrencyClick(currency)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {name}\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onCurrencyClick = async (item: any) => {\r\n        await this.controller.returnCurrency(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VCurrency } from './VCurrency';\r\n\r\nexport class CCurrency extends CUqBase {\r\n\r\n    @observable currencys: any;\r\n\r\n    protected async internalStart() {\r\n        this.currencys = await this.uqs.common.Currency.search(\"\", 0, 100);\r\n        this.openVPage(VCurrency);\r\n    }\r\n\r\n    returnCurrency = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiTextItem, UiRadio, tv, UiIdItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'string', required: true },\r\n    { name: 'listPrice', type: 'number', required: false },\r\n    { name: 'price', type: 'number', required: true },\r\n    { name: 'currency', type: 'id', required: true },\r\n    { name: 'isTaxIn', type: 'number', required: true },\r\n    { name: 'isTransFeeIn', type: 'number', required: true },\r\n    { name: 'transFee', type: 'number', required: false },\r\n    { name: 'transFeecurrency', type: 'id', required: false },\r\n    { name: 'packingFee', type: 'number', required: false },\r\n    { name: 'packingcurrency', type: 'id', required: false },\r\n    { name: 'otherFee', type: 'number', required: false },\r\n    { name: 'customized', type: 'number', required: true },\r\n    { name: 'customizeUpto', type: 'date', required: false },\r\n    { name: 'validUpto', type: 'date', required: true },\r\n    { name: 'minArriveDate', type: 'date', required: true },\r\n    { name: 'maxArriveDate', type: 'date', required: true },\r\n    { name: 'invoiceType', type: 'number', required: true },\r\n    { name: 'vatRate', type: 'number', required: false },\r\n    { name: 'tariffRate', type: 'number', required: false },\r\n    { name: 'packType', type: 'number', required: true },\r\n    { name: 'remarks', type: 'string', required: false },\r\n    { name: 'coaFilePath', type: 'string', required: false },\r\n    { name: 'msdsFilePath', type: 'string', required: false },\r\n    { name: 'quotationFilePath', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiryResult extends VPage<CPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private inquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            listPrice: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            price: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            isTransFeeIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            customized: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            customizeUpto: { widget: 'date', label: '' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            invoiceType: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }, { value: \"3\", title: '' }] } as UiRadio,\r\n            vatRate: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            tariffRate: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            packType: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }] } as UiRadio,\r\n            remarks: { widget: 'text', label: '', row: 10, placeholder: '' } as UiInputItem,\r\n            coaFilePath: { widget: 'text', label: 'COA', placeholder: 'COA' } as UiInputItem,\r\n            msdsFilePath: { widget: 'text', label: 'MSOS', placeholder: 'MSOS' } as UiInputItem,\r\n            quotationFilePath: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(inquiryData: any) {\r\n        this.inquiryData = inquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveInquiryPackage(context.form.data, this.inquiryData);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.inquiryData);\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPendingInquiryList } from './VPendingInquiryList';\r\nimport { VPendingInquiryDetail } from './VPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CCurrency } from '../PendingInquiry/CCurrency';\r\nimport { VPendingInquiryResult } from '../PendingInquiry/VPendingInquiryResult';\r\n\r\nclass PagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPendingInquiry extends CUqBase {\r\n\r\n    @observable pendingInquirys: PagePendingInquiry;\r\n    @observable pendingInquiryList: PagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchPendingInquiryByKey = async (key: string) => {\r\n        this.pendingInquirys = new PagePendingInquiry(this.uqs.rms.SearchInquiryPending);\r\n        this.pendingInquirys.first({ key: key });\r\n    }\r\n\r\n    savePendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let { quantity, radiox, radioy, unit } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    getDataForSave = (model: any, pending: any, items: any[]) => {\r\n\r\n        let { contact, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, user, date, inquiryDate, inquiryUser, supplier, way, remarks } = pending;\r\n        let inquiryItems: any[] = [];\r\n        items.forEach(pk => {\r\n            let pack = JSON.parse(pk.jsonStr);\r\n            inquiryItems.push({\r\n                product: pk.product, inquiryQuantity: pk.quantity, inquiryRadiox: pk.radiox, inquiryRadioy: pk.radioy, inquiryUnit: pk.unit, itemuser: pk.user, itemcreateDate: pk.createDate\r\n                , quantity: pack.quantity, radiox: pack.radiox, radioy: pack.radioy, unit: pack.unit, listPrice: pack.listPrice, price: pack.price, currency: pack.currency\r\n                , isTaxIn: pack.isTaxIn, isTransFeeIn: pack.isTransFeeIn, transFee: pack.transFee, transFeecurrency: pack.transFeecurrency, packingFee: pack.packingFee\r\n                , packingcurrency: pack.packingcurrency, otherFee: pack.otherFee, customized: pack.customized, customizeUpto: pack.customizeUpto, validUpto: pack.validUpto\r\n                , minArriveDate: pack.minArriveDate, maxArriveDate: pack.maxArriveDate, invoiceType: pack.invoiceType, vatRate: pack.vatRate, tariffRate: pack.tariffRate\r\n                , packType: pack.packType, coaFilePath: pack.coaFilePath, msdsFilePath: pack.msdsFilePath, quotationFilePath: pack.quotationFilePath, inquiryRemarks: pack.remarks\r\n            })\r\n        });\r\n        return {\r\n            supplier: supplier,\r\n            contact: contact,\r\n            contactName: contactName,\r\n            contactSalutation: contactSalutation,\r\n            contactDepartmentName: contactDepartmentName,\r\n            contactTelephone: contactTelephone,\r\n            contactMobile: contactMobile,\r\n            contactEmail: contactEmail,\r\n            contactfax: contactfax,\r\n            way: way,\r\n            result: model.result,\r\n            user: user,\r\n            createDate: date,\r\n            inquiryUser: inquiryUser,\r\n            inquiryDate: inquiryDate,\r\n            remarks: remarks,\r\n            inquiryitems: inquiryItems,\r\n        }\r\n    }\r\n\r\n    saveInquiryData = async (model: any, pending: any, packageList: any[]) => {\r\n\r\n        let { id } = pending;\r\n        //sheethistory\r\n        let result: any = await this.uqs.rms.InquirySheet.save(\"InquirySheet\", this.getDataForSave(model, pending, packageList));\r\n        await this.uqs.rms.InquirySheet.action(result.id, result.flow, result.state, \"submit\");\r\n        if (result) {\r\n            //pending\r\n            let param = {\r\n                id: id,\r\n            };\r\n            await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n        }\r\n\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    saveInquiryPackage = async (model: any, inquiry: any) => {\r\n\r\n        if (inquiry) {\r\n            //\r\n            let { id, inquiryPackage, user, createDate, jsonStr } = inquiry;\r\n            let { product } = inquiryPackage.obj;\r\n            await this.uqs.rms.InquiryPendingItem.add({ inquiryPending: id, arr1: [{ inquiryPackage: inquiryPackage.id, user: user.id, createDate: createDate, jsonStr: JSON.stringify(model) }] });\r\n\r\n            //\r\n            let { quantity, radiox, radioy, unit, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, customized, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, remarks, coaFilePath, msdsFilePath, quotationFilePath } = model;\r\n            let param = {\r\n                product: product,\r\n                quantity: quantity,\r\n                radiox: radiox,\r\n                radioy: radioy,\r\n                unit: unit,\r\n                listPrice: listPrice,\r\n                price: price,\r\n                currency: currency,\r\n                isTaxIn: isTaxIn,\r\n                isTransFeeIn: isTransFeeIn,\r\n                transFee: transFee,\r\n                transFeecurrency: transFeecurrency,\r\n                packingFee: packingFee,\r\n                packingcurrency: packingcurrency,\r\n                otherFee: otherFee,\r\n                customized: customized,\r\n                customizeUpto: customizeUpto,\r\n                validUpto: validUpto,\r\n                minArriveDate: minArriveDate,\r\n                maxArriveDate: maxArriveDate,\r\n                invoiceType: invoiceType,\r\n                vatRate: vatRate,\r\n                tariffRate: tariffRate,\r\n                packType: packType,\r\n                remarks: remarks,\r\n                coaFilePath: coaFilePath,\r\n                msdsFilePath: msdsFilePath,\r\n                quotationFilePath: quotationFilePath,\r\n            };\r\n            await this.uqs.rms.AddPackagePrice.submit(param);\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VPendingInquiryDetail, param);\r\n    }\r\n\r\n    pickCurrency = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cCurrency = this.newC(CCurrency);\r\n        return await cCurrency.call<number>();\r\n    }\r\n\r\n    openPendingInquiryResult = async (item: any) => {\r\n        let { id, inquiryPackage } = item;\r\n        let packages = await this.uqs.rms.InquiryPendingItem.table({ inquiryPending: id, inquiryPackage: inquiryPackage.id });\r\n        let { inquiryPending: newinquiryPending, inquiryPackage: newinquiryPackage, user, createDate, jsonStr: newjsonStr } = packages[0];\r\n        let model;\r\n        if (newjsonStr === undefined) {\r\n            model = item;\r\n        } else {\r\n            model = JSON.parse(newjsonStr);\r\n            model.inquiryPending = newinquiryPending;\r\n            model.inquiryPackage = newinquiryPackage;\r\n            model.user = user;\r\n            model.createDate = createDate;\r\n        }\r\n        this.openVPage(VPendingInquiryResult, model);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\n\r\nexport class VInquiryList extends VPage<CInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, contactName, inquiryUser, startDate, inquiryDate, date, sheet, way, result } = item;\r\n        let { openInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-info small\">\r\n            <div><EasyDate date={inquiryDate} /></div>\r\n            <div><EasyDate date={inquiryDate} /></div>\r\n            <div><EasyDate date={date} /></div>\r\n        </div>\r\n        let left = <div>\r\n            <div>{tv(supplier, v => <>{v.name}</>)}</div>\r\n            <div className=\"text-muted small\">{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")}</div>\r\n            <div className=\"text-muted small\">{result === 1 ? \"\" : (way === 2 ? \"\" : \"\")}</div>\r\n        </div>\r\n        return <LMR left={left} right={right} className=\"py-2 px-3 border-top\" onClick={() => openInquiryDetail(sheet)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { inquirys, searchInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={inquirys} item={{ render: this.renderRootCategory }} none=\"\" />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.inquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VInquiryDetail extends VPage<CInquiry> {\r\n\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private renderOrderItem = (item: any, index: number) => {\r\n        let { product, quantity, radiox, radioy, unit } = item;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let { id } = product;\r\n        return <div>\r\n            <div className=\"d-flex px-3 py-2 bg-white align-items-center\" onClick={() => this.controller.openPackageDetail(item)}>\r\n                <div key={index} className=\"w-6c\" ><FA name=\"angle-right\" className=\"text-primary\" />&nbsp;{radio}</div>\r\n                <div className=\"flex-fill d-flex justify-content-end text-right\"><small className=\"text-muted\">{this.controller.renderProduct(id)}</small></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n\r\n        let { brief, data } = inquiry;\r\n        let { id, no, state, description, date, user } = brief;\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, remarks, inquiryitems, result } = data;\r\n\r\n        let header = <>: {no}</>\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <List items={inquiryitems} item={{ render: this.renderOrderItem }} />\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactName}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactSalutation}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactDepartmentName}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactTelephone}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactMobile}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactEmail}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{contactfax}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{result === 1 ? \"\" : (way === 2 ? \"\" : \"\")}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{remarks}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={date} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{user}</div>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VPackageDetail extends VPage<CInquiry> {\r\n\r\n    async open(packitem: any) {\r\n        this.openPage(this.page, packitem);\r\n    }\r\n\r\n    private page = (item: any) => {\r\n\r\n        let { inquiryQuantity, inquiryRadiox, inquiryRadioy, inquiryUnit, itemuser, itemcreateDate, quantity, radiox, radioy, unit, listPrice, price\r\n            , currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, customized, customizeUpto, validUpto\r\n            , minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, inquiryRemarks, coaFilePath, msdsFilePath, quotationFilePath } = item;\r\n        let inquiryRadio = (inquiryRadiox !== 1) ? <>{inquiryRadiox} * {inquiryRadioy}{inquiryUnit}</> : <>{inquiryRadioy}{inquiryUnit}</>;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n\r\n        let header = <>: {inquiryQuantity} * {inquiryRadio}</>\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{quantity} * {radio}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{itemuser.id}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={itemcreateDate} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{listPrice}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{price}{currency === undefined ? \"\" : tv(currency.obj, v => <>{v.name}</>)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{isTaxIn === 1 ? \"\" : \"\"}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{isTransFeeIn === 1 ? \"\" : \"\"}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency.obj, v => <>{v.name}</>)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency.obj, v => <>{v.name}</>)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{otherFee}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{customized === 1 ? \"\" : \"\"}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={customizeUpto} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={validUpto} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={minArriveDate} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\"><EasyDate date={maxArriveDate} /></div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{invoiceType === undefined ? \"\" : (invoiceType === 1 ? \"\" : (invoiceType === 2 ? \"\" : \"\"))}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{vatRate}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{tariffRate}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{packType === 1 ? \"\" : (packType === 2 ? \"\" : \"\")}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{inquiryRemarks}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">COA:</div>\r\n                <div className=\"col-9\">{coaFilePath}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">MSOS:</div>\r\n                <div className=\"col-9\">{msdsFilePath}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">:</div>\r\n                <div className=\"col-9\">{quotationFilePath}</div>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VInquiryList } from './VInquiryList';\r\nimport { VInquiryDetail } from './VInquiryDetail';\r\nimport { VPackageDetail } from './VPackageDetail';\r\n\r\nclass PageInquiry extends PageItems<any> {\r\n\r\n    private searchInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchInquiry = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CInquiry extends CUqBase {\r\n\r\n    @observable inquirys: PageInquiry;\r\n    @observable productdata: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchInquiryByKey(param);\r\n    }\r\n\r\n    searchInquiryByKey = async (key: string) => {\r\n        this.inquirys = new PageInquiry(this.uqs.rms.GetInquirySheet);\r\n        this.inquirys.first({ key: key });\r\n    }\r\n\r\n    openInquiryDetail = async (id: number) => {\r\n\r\n        let inquiry = await this.uqs.rms.InquirySheet.getSheet(id);\r\n        let { data } = inquiry;\r\n        let { inquiryitems } = data;\r\n        let inquiryItemssGrouped = groupByPack(inquiryitems);\r\n        data.InquiryItems = inquiryItemssGrouped;\r\n        this.openVPage(VInquiryDetail, inquiry);\r\n    }\r\n\r\n    openPackageDetail = async (item: any) => {\r\n        this.openVPage(VPackageDetail, item);\r\n    }\r\n\r\n    renderProduct = (id: BoxId) => {\r\n        return this.renderView(VProductView, id);\r\n    }\r\n\r\n    getProduct = async (pid: number) => {\r\n        let product = await this.uqs.rms.SearchProductById.query({ _id: pid });\r\n        this.productdata = product.ret[0];\r\n        return product.ret[0];\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n\r\nexport class VProductView extends View<CInquiry> {\r\n\r\n    render(param: any): JSX.Element {\r\n        let { controller } = this;\r\n        controller.getProduct(param);\r\n        return <this.contentagency pid={param} />\r\n    }\r\n    protected contentagency = observer((param: any) => {\r\n        let LocationUI;\r\n        let pro = this.controller.productdata;\r\n        if (pro !== undefined) {\r\n            let { description, CAS } = pro;\r\n            LocationUI = <span className=\"text-muted small\">{description}y&nbsp;&nbsp;{CAS}</span>;\r\n        }\r\n        return LocationUI;\r\n    });\r\n}\r\n\r\nexport function groupByPack(packItems: any[]) {\r\n    let result: any[] = [];\r\n    for (let packItem of packItems) {\r\n        let { product, pack, quantity, radiox, radioy, unit } = packItem;\r\n        let packRow: any = {\r\n            pack: pack,\r\n            quantity: quantity,\r\n            radio: (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>\r\n        }\r\n        let cpi = result.find(e => e.product.id === product.id);\r\n        if (cpi === undefined) {\r\n            cpi = { product: product, packs: [] };\r\n            result.push(cpi);\r\n        }\r\n        cpi.packs.push(packRow);\r\n    }\r\n    return result;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA, UiTextItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'string', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VNewPendingInquiry extends VPage<CNewPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private pendingInquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(pendingInquiryData: any) {\r\n        this.pendingInquiryData = pendingInquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveNewPendingInquiryData(context.form.data);\r\n    }\r\n    private showProductlData = () => {\r\n\r\n        let { product } = this.controller;\r\n        let { supplier, brand, description, descriptionC, CAS, purity } = product;\r\n        let { name } = supplier.obj;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b></b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{name}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{brandname}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">CAS:</div><div className=\"col-9\">{CAS}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{description}</div>\r\n                </div>\r\n                <div className=\"bg-white row no-gutters px-4 my-1\">\r\n                    <div className=\"col-3 text-muted\">:</div><div className=\"col-9\">{descriptionC}</div>\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.pendingInquiryData);\r\n\r\n        let footer: any;\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            {this.showProductlData()}\r\n            <div className=\"bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryList extends VPage<CNewPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, date } = item;\r\n        let { onShowNewPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-info\">\r\n            <EasyDate date={date} />\r\n        </div>\r\n        return <LMR right={right} className=\"px-3 py-2\" onClick={() => onShowNewPendingInquiryDetail(item)}>\r\n            <div>{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { newpendingInquirys, onNewPendingInquiry, searchNewPendingInquiryByKey, pickProduct } = this.controller;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchNewPendingInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n            <span onClick={() => pickProduct()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}></span>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={newpendingInquirys} item={{ render: this.renderRootCategory }} none=\"\" />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.newpendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'way', type: 'number', required: true },\r\n    { name: 'remarks', type: 'number', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VNewPendingInquiryDetail extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private suppplier: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            way: { widget: 'radio', label: '', list: [{ value: 1, title: 'Email' }, { value: 2, title: '' }, { value: 3, title: '' }] } as UiRadio,\r\n            remarks: { widget: 'text', label: '', placeholder: '', rows: 5 } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(param: any) {\r\n        let { parent, item, child } = param;\r\n        this.suppplier = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.updatePendingInquiryState(context.form.data, this.suppplier);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div className=\"bg-white px-2 \">\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { deletePendingInquiryPackage } = this.controller;\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity } = item;\r\n        let { id: packid } = inquiryPackage;\r\n        let { brand, description, descriptionC } = product.obj;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span onClick={() => deletePendingInquiryPackage(id, packid)}><FA className=\"align-middle p-2 cursor-pointer text-danger\" name=\"remove\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"py-2 small\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{quantity} * {radio}</div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, user, date, remarks } = suppplierData;\r\n        let { id } = user;\r\n\r\n        return <div className=\"py-2 bg-white\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{tv(supplier, v => <>{v.name}</>)}</b></span>\r\n            </div>\r\n            <div className=\"py-2 cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"user-circle-o\" /><span className=\"h6 py-2 px-2 align-middle\"><b>{id}</b></span>\r\n            </div>\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<span className=\"h6 py-2 px-4 align-middle\"><b><EasyDate date={date} /></b></span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.suppplier);\r\n\r\n        let { deletePendingInquiryData } = this.controller;\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\"></span>\r\n        </header>;\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <span onClick={() => deletePendingInquiryData(suppplierData)} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-remove fa-stack-1x text-danger\"></i>\r\n            </span>\r\n        </div>;\r\n        return <Page header={header} right={right} headerClassName=\"bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            <Form ref={v => this.form = v} className=\"m-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                formData={suppplierData}\r\n                onButtonClick={this.onFormButtonClick}\r\n                fieldLabelSize={3}\r\n            />\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VNewPendingInquiry } from './VNewPendingInquiry';\r\nimport { VNewPendingInquiryList } from './VNewPendingInquiryList';\r\nimport { VNewPendingInquiryDetail } from './VNewPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass NewPagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchNewPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchNewPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchNewPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CNewPendingInquiry extends CUqBase {\r\n\r\n    @observable newpendingInquirys: NewPagePendingInquiry;\r\n    @observable newpendingInquiryList: NewPagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchNewPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchNewPendingInquiryByKey = async (key: string) => {\r\n        this.newpendingInquirys = new NewPagePendingInquiry(this.uqs.rms.SearchNewInquiryPending);\r\n        this.newpendingInquirys.first({ key: key });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewPendingInquiry = async (model: any) => {\r\n        this.product = model;\r\n        this.openVPage(VNewPendingInquiry, { pendingInquiry: undefined });\r\n    }\r\n\r\n    pickProduct = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cPickProduct.call();\r\n    }\r\n\r\n    saveNewPendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let note;\r\n                let { quantity, radiox, radioy, unit } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                    remarks: note\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    deletePendingInquiryData = async (item: any) => {\r\n        let { id } = item;\r\n        let param = {\r\n            id: id,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    deletePendingInquiryPackage = async (pendingid: number, packid: number) => {\r\n\r\n        let param = {\r\n            id: pendingid,\r\n            pid: packid,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPackage.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    updatePendingInquiryState = async (model: any, item: any) => {\r\n        let { id, supplier } = item;\r\n        let param = {\r\n            id: id,\r\n            supplier: supplier,\r\n            way: model.way,\r\n            remarks: model.remarks,\r\n        };\r\n        await this.uqs.rms.UpdateInquiryPending.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowNewPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VNewPendingInquiryDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchNewPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VNewPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import { CAppBase, IConstructor, User, nav } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CUqBase } from \"./CBase\";\r\nimport { VMain } from './ui/main';\r\nimport { CHome } from \"./information/CHome\";\r\nimport { CSupplier } from \"./information/supplier/CSupplier\";\r\nimport { CSupplierContact } from \"./information/supplierContact/CSupplierContact\";\r\nimport { CProduct } from \"./information/product/CProduct\";\r\nimport { CChemical } from \"./information/product/CChemical\";\r\nimport { CBrand } from \"./information/product/CBrand\";\r\nimport { CPackage } from \"./information/package/CPackage\";\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CPickProduct } from 'information/product/CPickProduct';\r\nimport { CPendingInquiry } from 'information/PendingInquiry/CPendingInquiry';\r\nimport { CInquiry } from 'information/Inquiry/CInquiry';\r\nimport { CCurrency } from 'information/PendingInquiry/CCurrency';\r\nimport { CNewPendingInquiry } from 'information/newPendingInquiry/CNewPendingInquiry';\r\n\r\nexport class CApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs as UQs };\r\n\r\n    topKey: any;\r\n    cHome: CHome;\r\n    cSupplier: CSupplier;\r\n    cPickSupplier: CPickSupplier;\r\n    cSupplierContact: CSupplierContact;\r\n    cProduct: CProduct;\r\n    cPickProduct: CPickProduct;\r\n    cChemical: CChemical;\r\n    cBrand: CBrand;\r\n    cPackage: CPackage;\r\n    cPendingInquiry: CPendingInquiry;\r\n    cInquiry: CInquiry;\r\n    cCurrency: CCurrency;\r\n    cNewPendingInquiry: CNewPendingInquiry;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n\r\n        this.cHome = this.newC(CHome);\r\n        this.cSupplier = this.newC(CSupplier);\r\n        this.cPickSupplier = this.newC(CPickSupplier);\r\n        this.cProduct = this.newC(CProduct);\r\n        this.cPickProduct = this.newC(CPickProduct);\r\n        this.cChemical = this.newC(CChemical);\r\n        this.cBrand = this.newC(CBrand);\r\n        this.cPackage = this.newC(CPackage);\r\n        this.cSupplierContact = this.newC(CSupplierContact);\r\n        this.cPendingInquiry = this.newC(CPendingInquiry);\r\n        this.cInquiry = this.newC(CInquiry);\r\n        this.cCurrency = this.newC(CCurrency);\r\n        this.cNewPendingInquiry = this.newC(CNewPendingInquiry);\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cSupplier.start());\r\n        await Promise.all(promises);\r\n        this.showMain();\r\n        this.topKey = nav.topKey();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n    async loginCallBack(user: User) {\r\n\r\n    }\r\n}\r\n","import { AppConfig } from \"tonva\";\r\nimport { tvs } from \"./tvs\";\r\nimport AnalyticalChemistry from './images/AnalyticalChemistry.png';\r\nimport LabSupplies from './images/LabSupplies.png';\r\nimport LifeScience from './images/LifeScience.png';\r\nimport MaterialScience from './images/MaterialScience.png';\r\nimport OrganicChemistry from './images/OrganicChemistry.png';\r\n\r\nexport const appConfig: AppConfig = {\r\n    appName: '/rms',\r\n    version: '1.0.1',\r\n    tvs: tvs,\r\n    oem: ''\r\n};\r\n// \r\nexport const GLOABLE = {\r\n    CHINA: 43,\r\n    TIPDISPLAYTIME: 2000\r\n}","import { TVs } from \"tonva\";\r\n\r\nexport const tvs:TVs = {\r\n\r\n}","import * as React from 'react';\r\nimport './App.css';\r\nimport { NavView, nav, start } from 'tonva';\r\nimport { CApp } from './CApp';\r\nimport { appConfig } from './configuration';\r\n\r\nnav.setSettings(appConfig);\r\n\r\nclass App extends React.Component {\r\n\r\n  private onLogined = async () => {\r\n    await start(CApp, appConfig);\r\n  }\r\n  public render() {\r\n    // return <NavView onLogined={this.onLogined} notLogined={this.onLogined} />\r\n    return <NavView onLogined={this.onLogined} />\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}