{"version":3,"sources":["ui/main.tsx","CBase.ts","information/VHome.tsx","information/CHome.tsx","tools/inputValidations.ts","information/supplier/VSupplier.tsx","information/supplier/VSupplierBankAccount.tsx","information/supplier/VSupplierBankAccountDetail.tsx","information/supplier/VSupplierList.tsx","information/supplier/VSupplierDetail.tsx","information/supplierContact/VAddress.tsx","information/supplierContact/CAddress.tsx","information/supplier/CSupplier.tsx","information/supplierContact/VSupplierContact.tsx","information/supplierContact/VSupplierContactDetail.tsx","information/supplierContact/CSupplierContact.tsx","information/product/VAddProduct.tsx","information/product/VProductDetail.tsx","information/product/VProductList.tsx","information/supplier/VPickSupplier.tsx","information/supplier/CPickSupplier.tsx","information/product/VBrand.tsx","information/product/VPickBrand.tsx","information/product/CBrand.tsx","information/product/VStorageRange.tsx","information/product/CStorageRange.tsx","information/product/VRestrictMark.tsx","information/product/CRestrictMark.tsx","information/product/VProductProperty.tsx","information/product/VProductPropertyDetail.tsx","information/product/CProduct.tsx","information/product/VChemical.tsx","information/product/VAddChemical.tsx","tools/webApiClient.ts","information/product/CChemical.tsx","information/package/VPackage.tsx","information/package/VPackageDetail.tsx","information/package/VVatRate.tsx","information/package/CVatRate.tsx","information/package/VPackUnit.tsx","information/package/CPackUnit.tsx","information/package/CPackage.tsx","information/product/VPickProduct.tsx","information/product/CPickProduct.tsx","information/PendingInquiry/VPendingInquiryList.tsx","information/PendingInquiry/VPendingInquiryDetail.tsx","information/PendingInquiry/VCurrency.tsx","information/PendingInquiry/CCurrency.tsx","information/PendingInquiry/VPendingInquiryResult.tsx","information/PendingInquiry/CPendingInquiry.tsx","information/Inquiry/VInquiryList.tsx","information/Inquiry/VInquiryDetail.tsx","information/Inquiry/VPackageDetail.tsx","information/Inquiry/CInquiry.tsx","information/newPendingInquiry/VNewPendingInquiry.tsx","information/newPendingInquiry/VPendingInquiry.tsx","information/newPendingInquiry/VNewPendingInquiryList.tsx","information/newPendingInquiry/VNewPendingInquiryDetail.tsx","information/newPendingInquiry/CNewPendingInquiry.tsx","CApp.tsx","tvs/common.tsx","configuration.ts","tvs/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["color","selected","VMain","render","param","controller","cHome","cProduct","cPendingInquiry","cInquiry","cNewPendingInquiry","faceTabs","name","label","icon","content","tab","notify","undefined","onShown","loadList","map","v","caption","TabCaptionComponent","header","tabs","this","openPage","VPage","CUqBase","_cApp","_uqs","CBase","CSub","VHome","page","cApp","cSupplier","onNewSupplier","searchSupplierByKey","right","className","size","onSearch","key","placeholder","onClick","style","fontSize","onScrollBottom","headerClassName","toSupplierList","a","suppliers","more","View","CHome","renderRootList","renderView","start","openVPage","telephoneValidation","value","test","mobileValidation","emailValidation","faxValidation","addressDetailValidation","length","zipCodeValidation","departmentNameValidation","nameValidation","tariffRateValidation","schema","type","required","VSupplier","form","supplierData","uiSchema","items","id","visible","widget","abbreviation","businessArea","list","title","webSite","address","pickId","context","pickAddress","Templet","tv","addressValue","country","province","city","county","chineseName","addressString","rules","productionAddress","taxNo","profile","rows","submit","onFormButtonClick","saveSupplierData","data","onDelSupplier","vCall","VConfirmDeleteSupplier","delSupplier","closePage","buttonDel","descriptionData","_","clone","ref","formData","onButtonClick","fieldLabelSize","onConfirm","returnCall","onCancel","supplier","back","left","top","VSupplierBankAccount","accountName","accountNo","bank","bankAddress","usageType","bankSWIFT","bankIBAN","bankRTN","saveSupplierBankData","VSupplierBankAccountDetail","bankAccount","bankData","loadBank","item","uqs","rms","BankAccount","load","rowTop","onBankDataChanged","itemSchema","newValue","preValue","updateBankAccountData","onShowSupplierBankAccount","onDelSupplierBankAccount","VConfirmDeleteSupplierBankAccount","delSupplierBankAccount","onSupplierSelected","onItemChanged","parent","supplierBankAccount","VSupplierList","renderRootCategory","no","onEditSupplier","observer","VSupplierDetail","firstSupplierContact","supplierContacts","firstSupplierrBankAccount","supplierBankAccounts","getSupplierBankAccount","cSupplierContact","showCreateSupplierContact","onNewSupplierBankAccount","renderBankAccount","getSupplierContact","pickChemical","renderContact","index","showEditSupplierContact","gender","mobile","telephone","email","defaultContact","financeContact","inquiryContact","fa_defaultContact","fa_financeContact","fa_inquiryContact","fa_gender","tele","mob","ema","onSupplierDataChanged","updateSupplierData","child","item2","child2","VAddress","countryId","provinceId","cityId","countyId","backLevel","countrys","renderPCC","onCountryClick","pcc","border","marginRight","marginBottom","getCountryProvince","provinces","len","onProvinceClick","openPageElement","saveAddress","getProvinceCities","cities","onCityClick","getCityCounties","counties","onCountyClick","getCountry","CAddress","common","Country","search","GetCountryProvinces","table","GetProvinceCities","GetCityCounties","Address","save","newAddress","addressId","boxId","PageSupplier","searchQuery","searchSupplier","firstSize","pageSize","pageStart","ret","PageItems","CSupplier","SearchSupplier","first","cAddress","newC","call","cChemical","model","isValid","Supplier","newBank","SupplierBankAccount","add","arr1","description","SearchSupplierContact","query","_id","contact","SearchSupplierBankAccount","del","bankdata","observable","VSupplierContact","firstName","lastName","salutation","position","departmentName","wechatId","fax","zipCode","isDefault","defaultValue","isFinance","isInquiry","saveSupplierContact","requiredFlag","VSupplierContactDetail","contactData","loadContact","SupplierContact","onContactDataChanged","updateContactData","showSupplierContactDetail","onDelSupplierContact","VConfirmDeleteContact","delSupplierContact","CSupplierContact","parrm","result","inquiryid","showSupplierContact","supplierContact","VAddProduct","productData","pickSupplier","brand","pickBrand","origin","chemical","descriptionC","purity","saveProductData","showChemicalData","CAS","molecularFomula","descriptoinCN","molecularWeight","mdlNumber","VProductDetail","product","firstPackage","packages","purityData","loadProduct","getPackage","showCreatePackage","cPackage","onNewPendingInquiry","showd","renderPackage","onDelPackage","VConfirmDeletePakage","delPakage","showPackageDetail","showEditPackage","radiox","radioy","unit","price","currency","validUpto","minArriveDate","maxArriveDate","obj","radio","valid","Date","now","date","down","mi","arriveDate","createTime","suppliername","supplierno","brandno","showProductPropertyDetail","onPurityChanged","updateProductData","showProductDetail","onDelProduct","VConfirmDeleteProduct","delProduct","pakage","VProductList","pickType","showcas","showpurity","pickSelect","VSelectType","products","searchProductByKey","onNewProduct","filter","VPickSupplier","renderItem","returnSupplier","CPickSupplier","VBrand","brandData","saveBrandData","VPickBrand","brands","searchBrandByKey","onNewBrand","returnBrand","PageBrand","searchBrand","CBrand","SearchBrand","RsBrand","onEditBrand","VStorageRange","storageRanges","renderStorageRange","onStorageRangeClick","storageRange","returnStorageRange","CStorageRange","StorageRange","VRestrictMark","restrictMarks","renderRestrictMark","onRestrictMarkClick","restrictMark","returnRestrictMark","CRestrictMark","RestrictMark","VProductProperty","isspot","pickStorageRange","expiry","expiryUnit","pickRestrictMark","refractiveIndex","opticalRotation","flashPoint","meltingPoint","boilingPoint","character","chroma","density","waterContent","useFor","remark","saveProductProperty","VProductPropertyDetail","property","propertyData","onPropertyDataChanged","updatProductPropertyData","PageProduct","searchProduct","CProduct","SearchProduct","cPickSupplier","cBrand","cStorageRange","cRestrictMark","isTrue","newCAS","trim","slice","Product","RsProductChemical","productdata","ProductProperty","propertydata","GetPack","pitem","SearchProductProperty","ppackage","saveArr","VChemical","chemicals","searchChemicalByKey","onNewChemical","VAddChemical","chemicalData","saveChemicalData","httpClient","EnglishName","ChineseName","MolecularFomula","MolecularWeight","getUrl","url","fetchInit","headers","method","fetch","res","status","console","error","statusText","code","json","ok","log","params","keys","Object","c","k","encodeURIComponent","PageChemical","searchChemical","CChemical","SearchChemical","newChemical","Chemical","VPackage","quantity","pickPackUnit","listPrice","pickCurrency","isTaxIn","vatRate","pickVatRate","tariffRate","isTransFeeIn","transFee","transFeecurrency","packingFee","packingcurrency","otherFee","otherFeecurrency","customizeUpto","invoiceType","savePackage","VPackageDetail","package","packageData","VVatRate","vatRates","renderVatRate","onVatRateClick","returnVatRate","CVatRate","SearchVatRate","VPackUnit","packUnits","renderPackUnit","onPackUnitClick","packUnit","returnPackUnit","CPackUnit","SearchPackType","PagePackage","searchPackage","CPackage","searchPackageByKey","pagePackage","cVatRate","cPackUnit","paramn","AddPackage","showPackage","VPickProduct","CPickProduct","VPendingInquiryList","inquiryDate","onShowPendingInquiryDetail","pendingInquirys","searchPendingInquiryByKey","VPendingInquiryDetail","pending","inquiryPackage","user","createDate","inquiryRemarks","jsonStr","resultclass","openPendingInquiryResult","rowEnd","onEndInquiry","VConfirmEndInquiry","saveInquiryData","suppplierData","contactName","contactTelephone","contactSalutation","contactDepartmentName","contactMobile","contactEmail","way","contactfax","inquiryUser","remarks","inid","inquiry","VCurrency","currencys","renderCurrency","onCurrencyClick","returnCurrency","CCurrency","Currency","VPendingInquiryResult","inquiryData","packType","row","coaFilePath","msdsFilePath","quotationFilePath","saveInquiryPackage","PagePendingInquiry","searchPendingInquiry","CPendingInquiry","SearchInquiryPending","savePendingInquiryData","supplierid","AddInquiryPending","getDataForSave","inquiryItems","forEach","pk","pack","JSON","parse","push","inquiryQuantity","inquiryRadiox","inquiryRadioy","inquiryUnit","itemuser","itemcreateDate","inquirypurity","inquiryitems","packageList","InquirySheet","action","flow","state","DeleteInquiryPending","stringify","InquiryPendingItem","inquiryPending","rremarks","AddPackagePrice","SearchInquiryPendingBySupplier","cCurrency","newinquiryPending","newinquiryPackage","newjsonStr","VInquiryList","startDate","sheet","openInquiryDetail","inquirys","searchInquiryByKey","VInquiryDetail","renderPackageItem","openPackageDetail","renderProductItem","packs","renderProduct","brief","InquiryItems","inquiryname","packitem","PageInquiry","searchInquiry","CInquiry","GetInquirySheet","getSheet","inquiryItemssGrouped","groupByPack","VProductView","getProduct","pid","SearchProductById","contentagency","LocationUI","pro","packItems","packItem","packRow","cpi","find","e","VNewPendingInquiry","pendingInquiryData","saveNewPendingInquiryData","showProductlData","brandname","VPendingInquiry","updatePendingInquiryState","VNewPendingInquiryList","onShowNewPendingInquiryDetail","newpendingInquirys","searchNewPendingInquiryByKey","pickProduct","VNewPendingInquiryDetail","suppplier","onDelInquiryPackage","onEditPendingInquiry","cont","onPendingInquiry","onDelInquiry","VConfirmDeleteInquiry","deletePendingInquiryData","VConfirmDeleteInquiryPackage","packid","deletePendingInquiryPackage","NewPagePendingInquiry","searchNewPendingInquiry","CNewPendingInquiry","SearchNewInquiryPending","cPickProduct","InquiryPackage","pendingid","DeleteInquiryPackage","UpdateInquiryPending","CApp","topKey","promises","Promise","all","showMain","nav","initTabName","CAppBase","tvCountry","values","appConfig","appName","version","tvs","oem","setSettings","App","onLogined","React","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.647b9afd.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\r\nimport { CApp } from '../CApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\n\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    render = (param?: any): JSX.Element => {\r\n        let { cHome, cProduct, cPendingInquiry, cInquiry, cNewPendingInquiry } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'supplier', label: '', icon: 'glide', content: cHome.tab, notify: undefined },\r\n            { name: 'product', label: '', icon: 'flask', content: cProduct.tab, onShown: cProduct.loadList },\r\n            { name: 'pendingInquiry', label: '', icon: 'pencil-square-o', content: cNewPendingInquiry.tab, onShown: cNewPendingInquiry.loadList },\r\n            { name: 'inquirying', label: '', icon: 'check-square-o ', content: cPendingInquiry.tab, onShown: cPendingInquiry.loadList },\r\n            { name: 'inquiry', label: '', icon: 'bandcamp', content: cInquiry.tab, onShown: cInquiry.loadList }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify, onShown } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n                onShown: onShown,\r\n            }\r\n        });\r\n        return <Page header={false}>\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import { CSub, CBase } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CApp } from \"./CApp\";\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): CUqBase { return this._owner as CUqBase; };\r\n}\r\n","import * as React from 'react';\r\nimport { CHome } from './CHome';\r\nimport { Page, View, SearchBox } from 'tonva';\r\n\r\nexport class VHome extends View<CHome> {\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = () => {\r\n        let { onNewSupplier, searchSupplierByKey } = this.controller.cApp.cSupplier;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"\" />\r\n            <div><span onClick={() => onNewSupplier()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        return <Page right={right} header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <this.content />\r\n        </Page>;\r\n    };\r\n\r\n    private content = () => {\r\n        let { controller } = this;\r\n        let { toSupplierList } = controller;\r\n        return <>\r\n            {toSupplierList()}\r\n        </>\r\n    };\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.cApp.cSupplier.suppliers.more();\r\n    }\r\n}","import { CUqBase } from '../CBase';\r\nimport { VHome } from './VHome';\r\n\r\nexport class CHome extends CUqBase {\r\n\r\n    async internalStart(param: any) {\r\n\r\n        let { cSupplier } = this.cApp;\r\n        await cSupplier.start();\r\n        this.openVPage(VHome);\r\n    }\r\n\r\n    toSupplierList = () => {\r\n        let { cSupplier } = this.cApp;\r\n        return cSupplier.renderRootList();\r\n    }\r\n    tab = () => this.renderView(VHome);\r\n}","\r\nexport function telephoneValidation(value: string) {\r\n    if (value && !/^(\\+\\d{2,3}-)?(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}(-\\d{3,5})?$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function mobileValidation(value: string) {\r\n    if (value && !/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function emailValidation(value: string) {\r\n    if (value && !/\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(value))\r\n        return \"Email\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function faxValidation(value: string) {\r\n    if (value && !/^(\\+\\d{2,3}-)?(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}(-\\d{3,5})?$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function addressDetailValidation(value: string) {\r\n    return (value && value.length > 200) ? \"200\" : undefined;\r\n}\r\n\r\nexport function zipCodeValidation(value: string) {\r\n    return (value && value.length > 15) ? \"\" : undefined;\r\n}\r\n\r\n\r\nexport function organizationNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function departmentNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function salutationValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function nameValidation(value: string) {\r\n    return (value && value.length > 50) ? \"50\" : undefined;\r\n}\r\n\r\nexport function tariffRateValidation(value: string) {\r\n    if (value && !/^\\d+(\\.\\d{1,4})$/.test(value))\r\n        return \"4\";\r\n    else\r\n        return undefined;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, BoxId, tv, UiIdItem, UiTextItem, UiRadio } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'abbreviation', type: 'string', required: false },\r\n    { name: 'businessArea', type: 'string', required: true },\r\n    { name: 'webSite', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: true },\r\n    { name: 'addressString', type: 'string', required: true },\r\n    { name: 'productionAddress', type: 'string', required: false },\r\n    { name: 'taxNo', type: 'string', required: false },\r\n    { name: 'profile', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VSupplier extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            abbreviation: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            businessArea: { widget: 'radio', label: '', list: [{ value: '', title: '' }, { value: '', title: '' }] } as UiRadio,\r\n            webSite: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            address: {\r\n                widget: 'id', label: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">()</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\"></small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '', placeholder: '', rules: addressDetailValidation } as UiTextItem,\r\n            productionAddress: { widget: 'text', label: '', placeholder: '', rules: addressDetailValidation } as UiTextItem,\r\n            taxNo: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            profile: { widget: 'textarea', label: '', placeholder: '', rows: 10 } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierData(context.form.data, this.supplierData);\r\n    }\r\n\r\n    private onDelSupplier = async () => {\r\n        if (await this.vCall(VConfirmDeleteSupplier, this.supplierData) === true) {\r\n            await this.controller.delSupplier(this.supplierData);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        let buttonDel: any;\r\n        if (descriptionData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplier()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"\" right={buttonDel} headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n\r\n\r\nclass VConfirmDeleteSupplier extends VPage<CSupplier> {\r\n    async open(supplier: any) {\r\n        this.openPage(this.page, supplier);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (supplier: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, BoxId, tv, UiIdItem, UiTextItem, UiRadio } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'accountName', type: 'string', required: true },\r\n    { name: 'accountNo', type: 'string', required: true },\r\n    { name: 'bank', type: 'string', required: true },\r\n    { name: 'bankAddress', type: 'string', required: true },\r\n    { name: 'usageType', type: 'number', required: true },\r\n    { name: 'bankSWIFT', type: 'string', required: false },\r\n    { name: 'bankIBAN', type: 'string', required: false },\r\n    { name: 'bankRTN', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VSupplierBankAccount extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            accountName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            accountNo: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            bank: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            bankAddress: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            usageType: { widget: 'radio', label: '', list: [{ value: 0, title: '' }, { value: 1, title: '' }] } as UiRadio,\r\n            bankSWIFT: { widget: 'text', label: 'SWIFT/BIC', placeholder: 'SWIFT/BIC' } as UiInputItem,\r\n            bankIBAN: { widget: 'text', label: 'IBAN', placeholder: 'IBAN' } as UiInputItem,\r\n            bankRTN: { widget: 'text', label: 'RTN ', placeholder: 'RTN ' } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierBankData(context.form.data, this.supplierData);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem, UiRadio, BoxId } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CSupplier } from './CSupplier';\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'accountName', type: 'string', required: true },\r\n    { name: 'accountNo', type: 'string', required: true },\r\n    { name: 'bank', type: 'string', required: true },\r\n    { name: 'bankAddress', type: 'string', required: true },\r\n    { name: 'usageType', type: 'number', required: true },\r\n    { name: 'bankSWIFT', type: 'string', required: false },\r\n    { name: 'bankIBAN', type: 'string', required: false },\r\n    { name: 'bankRTN', type: 'string', required: false },\r\n];\r\n\r\n\r\nexport class VSupplierBankAccountDetail extends VPage<CSupplier> {\r\n    private supplier: any;\r\n    private bankAccount: any;\r\n    private bankData: any;\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item } = param;\r\n        this.supplier = parent;\r\n        await this.loadBank(item);\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private loadBank = async (item: any) => {\r\n        this.bankAccount = await this.controller.cApp.uqs.rms.BankAccount.load(item.id);\r\n        let { bankAddress, bankSWIFT, bankIBAN, bankRTN, bank, accountNo, accountName, usageType } = this.bankAccount;\r\n        this.bankData = {\r\n            bankAddress: bankAddress,\r\n            bankSWIFT: bankSWIFT,\r\n            bankIBAN: bankIBAN,\r\n            bankRTN: bankRTN,\r\n            bank: bank,\r\n            accountNo: accountNo,\r\n            accountName: accountName,\r\n            usageType: usageType\r\n        };\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            accountName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            accountNo: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            bank: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            bankAddress: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            usageType: { widget: 'radio', label: '', list: [{ value: 0, title: '' }, { value: 1, title: '' }] } as UiRadio,\r\n            bankSWIFT: { widget: 'text', label: 'SWIFT/BIC', placeholder: 'SWIFT/BIC' } as UiInputItem,\r\n            bankIBAN: { widget: 'text', label: 'IBAN', placeholder: 'IBAN' } as UiInputItem,\r\n            bankRTN: { widget: 'text', label: 'RTN ', placeholder: 'RTN ' } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private rowTop = () => {\r\n\r\n        let { name } = this.supplier;\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">:</div><div className=\"col-8 text-muted text-right\"><b>{name}</b></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onBankDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.bankAccount[name] = newValue;\r\n        await this.controller.updateBankAccountData(this.bankAccount);\r\n        this.closePage();\r\n        this.controller.cApp.cSupplier.onShowSupplierBankAccount(this.supplier, this.bankAccount);\r\n    }\r\n\r\n    private onDelSupplierBankAccount = async () => {\r\n        if (await this.vCall(VConfirmDeleteSupplierBankAccount, this.bankAccount) === true) {\r\n            await this.controller.delSupplierBankAccount(this.bankAccount, this.supplier);\r\n            this.closePage();\r\n            this.controller.onSupplierSelected(this.supplier);\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let bankAccountData = _.clone(this.bankAccount);\r\n        let buttonDel: any;\r\n        if (bankAccountData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplierBankAccount()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop()}\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.bankData}\r\n                onItemChanged={this.onBankDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteSupplierBankAccount extends VPage<CSupplier> {\r\n    async open(supplierBankAccount: any) {\r\n        this.openPage(this.page, supplierBankAccount);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (supplierBankAccount: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, tv } from 'tonva';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nexport class VSupplierList extends View<CSupplier> {\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, name, address, businessArea, addressString } = item;\r\n        let { onSupplierSelected, onEditSupplier } = this.controller;\r\n        let right = <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditSupplier(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        return <LMR right={right} className=\"px-3 d-flex p-1 cursor-pointer\">\r\n            <div onClick={() => onSupplierSelected(item)}>\r\n                <b>{name}</b>\r\n                <div>{businessArea} {no}</div>\r\n                <div className=\"small py-1 text-muted\">{tv(address)} {addressString}</div>\r\n            </div>\r\n        </LMR>\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.content />\r\n    }\r\n\r\n    private content = observer(() => {\r\n        let { suppliers } = this.controller;\r\n        return <List items={suppliers} item={{ render: this.renderRootCategory }} />;\r\n    });\r\n} \r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, Edit, EasyDate, tv, LMR, List, UiIdItem, UiTextItem, ItemSchema, UiSchema, UiInputItem, Form, Context, BoxId } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from \"./CSupplier\";\r\nimport { ParamItem } from \"model/supplierItem\";\r\nimport { TuidBoxDiv } from 'tonva/dist/uq/tuid/tuid';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nexport class VSupplierDetail extends VPage<CSupplier> {\r\n\r\n    private supplier: any;\r\n    private firstSupplierContact: any;\r\n    private supplierContacts: any[] = [];\r\n    private firstSupplierrBankAccount: any;\r\n    private supplierBankAccounts: any[] = [];\r\n\r\n    async open(param: ParamItem) {\r\n        let { parent, item, child, item2, child2 } = param;\r\n        this.supplier = parent;\r\n        this.firstSupplierContact = item;\r\n        this.supplierContacts = child;\r\n        this.firstSupplierrBankAccount = item2;\r\n        this.supplierBankAccounts = child2;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getSupplierBankAccount = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.controller.onNewSupplierBankAccount(this.supplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"bank\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n            <div>\r\n                {this.firstSupplierrBankAccount && <List items={this.supplierBankAccounts} item={{ render: this.renderBankAccount }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private getSupplierContact = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div>\r\n            <div className=\" d-flex px-3 py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => showCreateSupplierContact(this.supplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b></b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n                <div className=\"flex-grow-1\"></div>\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.controller.pickChemical(this.supplier)} >\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"filter\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </ button>\r\n            </div>\r\n            <div>\r\n                {this.firstSupplierContact && <List items={this.supplierContacts} item={{ render: this.renderContact }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private renderBankAccount = (item: any, index: number) => {\r\n        let { onShowSupplierBankAccount } = this.controller;\r\n        let { bankAddress, bankSWIFT, bankIBAN, bankRTN, bank, accountNo, accountName, usageType } = item;\r\n        let left = <div className=\"px-2\">\r\n            <FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{accountName}\r\n            <div className=\"small px-4 text-muted\">{accountNo}</div>\r\n            <div className=\"small px-4 text-muted\">{bankAddress}</div>\r\n        </div>\r\n        let right =\r\n            <div className=\"px-2 text-right text-muted\">\r\n                {usageType === 0 ? \"\" : \"\"}\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => onShowSupplierBankAccount(this.supplier, item)}>\r\n        </LMR>;\r\n    }\r\n\r\n    private renderContact = (item: any, index: number) => {\r\n        let { showEditSupplierContact } = this.controller.cApp.cSupplierContact;\r\n        let { no, name, id, gender, mobile, telephone, email } = item;\r\n        let { defaultContact, financeContact, inquiryContact } = this.supplier;\r\n        let fa_defaultContact = defaultContact === undefined ? \"\" : defaultContact.id === id ? <div className=\"small text-muted\"></div> : \"\";\r\n        let fa_financeContact = financeContact === undefined ? \"\" : financeContact.id === id ? <div className=\"small text-muted\"></div> : \"\";\r\n        let fa_inquiryContact = inquiryContact === undefined ? \"\" : inquiryContact.id === id ? <div className=\"small text-muted\"></div> : \"\";\r\n        let fa_gender = gender === \"0\" ? <FA name=\"female\" className=\"px-2 text-danger\"></FA> : <FA name=\"male\" className=\"px-2 text-primary\"></FA>;\r\n        let tele = (telephone === undefined) ? <span></span> :\r\n            <div className=\"small px-4 text-muted\">{telephone}</div>;\r\n        let mob = (mobile === undefined) ? <span></span> :\r\n            <div className=\"small px-4 text-muted\">{mobile}</div>;\r\n\r\n        let ema = (email === undefined) ? <span></span> :\r\n            <div className=\"small px-4 text-muted\">{email}</div>;\r\n\r\n        let left = <div className=\"px-2\">\r\n            {fa_gender}{name}\r\n            {ema}\r\n            {tele}\r\n            {mob}\r\n        </div>\r\n        let right =\r\n            <div className=\"px-2 text-right\">\r\n                {fa_defaultContact}\r\n                {fa_financeContact}\r\n                {fa_inquiryContact}\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => showEditSupplierContact(item, this.supplier)}>\r\n        </LMR>;\r\n    }\r\n\r\n    private onSupplierDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.supplier[name] = newValue;\r\n        await this.controller.updateSupplierData(this.supplier);\r\n    }\r\n\r\n    private rowTop = (supplierData: any) => {\r\n        let { name, no, abbreviation, businessArea, webSite, address, addressString, productionAddress, profile, taxNo } = supplierData;\r\n\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\"><b>{businessArea} {name}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{webSite === undefined ? \"()\" : webSite}</div>\r\n            </div>\r\n            {taxNo === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{taxNo}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{tv(address)} {addressString}</div>\r\n            </div>\r\n            {productionAddress === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{productionAddress}</div>\r\n                </div></>}\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let supplierData = _.clone(this.supplier);\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(supplierData)}\r\n            {this.getSupplierBankAccount()}\r\n            {this.getSupplierContact()}\r\n        </Page>\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List, FA } from 'tonva';\r\nimport { CAddress } from './CAddress';\r\n\r\nexport class VAddress extends VPage<CAddress> {\r\n    private countryId: number;\r\n    private provinceId: number;\r\n    private cityId: number;\r\n    private countyId: number;\r\n    private backLevel = 0;\r\n\r\n    async open(param: any) {\r\n\r\n        let countrys = await this.controller.getCountry();\r\n        this.openPage(this.page, { countrys: countrys });\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        this.backLevel++;\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"row no-gutters\">\r\n                {param.countrys.map((v: any) => this.renderPCC(v, this.onCountryClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPCC = (pcc: BoxId, onClick: any) => {\r\n        return <div key={pcc.id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            {tv(pcc, (value) => {\r\n                let { id, chineseName } = value;\r\n                return <>\r\n                    <div className=\"pt-1 pb-1 px-2\" onClick={() => onClick(id)}\r\n                        style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n                    >\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                            &nbsp; {chineseName}\r\n                        </span>\r\n                    </div>\r\n                </>;\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    private onCountryClick = async (countryId: any) => {\r\n        this.countryId = countryId;\r\n        let provinces = await this.controller.getCountryProvince(countryId);\r\n        if (provinces) {\r\n            let len = provinces.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onProvinceClick(provinces[0].province.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"\">\r\n                        <div className=\"row no-gutters\">\r\n                            {provinces.map(v => this.renderPCC(v.province, this.onProvinceClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let len = cities.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onCityClick(cities[0].city.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"\">\r\n                        <div className=\"row no-gutters\">\r\n                            {cities.map(v => this.renderPCC(v.city, this.onCityClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            this.openPageElement(<Page header=\"\">\r\n                <div className=\"row no-gutters\">\r\n                    {counties.map(v => this.renderPCC(v.county, this.onCountyClick))}\r\n                </div>\r\n            </Page>);\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        this.closePage(this.backLevel);\r\n        this.saveAddress();\r\n    }\r\n\r\n    private saveAddress = async () => {\r\n        await this.controller.saveAddress(this.countryId, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n","import { VAddress } from './VAddress';\r\nimport { CUqBase } from 'CBase';\r\n\r\nexport class CAddress extends CUqBase {\r\n    protected async internalStart() {\r\n        this.openVPage(VAddress);\r\n    }\r\n\r\n    getCountry = async (): Promise<any[]> => {\r\n        return await this.uqs.common.Country.search(\"\", 0, 300);\r\n    }\r\n\r\n    getCountryProvince = async (countryId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCountryProvinces.table({ country: countryId });\r\n    }\r\n\r\n    getProvinceCities = async (provinceId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetProvinceCities.table({ province: provinceId });\r\n    }\r\n\r\n    getCityCounties = async (cityId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCityCounties.table({ city: cityId });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId?: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.returnCall(addressId);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VSupplier } from './VSupplier';\r\nimport { VSupplierBankAccount } from './VSupplierBankAccount';\r\nimport { VSupplierBankAccountDetail } from './VSupplierBankAccountDetail';\r\nimport { VSupplierList } from './VSupplierList';\r\nimport { VHome } from '../VHome';\r\nimport { VSupplierDetail } from './VSupplierDetail';\r\nimport { ParamItem, SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"../supplierContact/CAddress\";\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    pickChemical = async (supplier: any): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call(supplier);\r\n    }\r\n\r\n    renderRootList() {\r\n        return this.renderView(VSupplierList);\r\n    }\r\n\r\n    saveSupplierData = async (supplier: any, model: any) => {\r\n\r\n        let name = supplier.name;\r\n        if (supplier.id === undefined) {\r\n            supplier.defaultContact = undefined;\r\n            supplier.financeContact = undefined;\r\n            supplier.inquiryContact = undefined;\r\n            supplier.isValid = 1;\r\n            await this.uqs.rms.Supplier.save(undefined, supplier);\r\n        } else {\r\n            let { id } = supplier;\r\n            supplier.isValid = 1;\r\n            supplier.defaultContact = model.defaultContact;\r\n            supplier.financeContact = model.financeContact;\r\n            supplier.inquiryContact = model.inquiryContact;\r\n            supplier.no = model.no;\r\n            await this.uqs.rms.Supplier.save(id, supplier);\r\n        }\r\n        this.closePage();\r\n        await this.searchSupplierByKey(name);\r\n    }\r\n\r\n    saveSupplierBankData = async (param: any, supplier: any) => {\r\n\r\n        if (supplier.id !== undefined) {\r\n            let newBank = await this.uqs.rms.BankAccount.save(undefined, param);\r\n            await this.uqs.rms.SupplierBankAccount.add({ supplier: supplier.id, arr1: [{ bankAccount: newBank.id }] });\r\n        }\r\n        this.cApp.cSupplier.onSupplierSelected(supplier);\r\n        this.closePage();\r\n    }\r\n\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewSupplier = async () => {\r\n        this.openVPage(VSupplier, { description: undefined });\r\n    }\r\n\r\n    /**\r\n* \r\n*/\r\n    onEditSupplier = async (supplier: any) => {\r\n        this.openVPage(VSupplier, supplier);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    updateSupplierData = async (supplier: any) => {\r\n        supplier.isValid = 1;\r\n        await this.uqs.rms.Supplier.save(supplier.id, supplier);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewSupplierBankAccount = async (supplier: any) => {\r\n        this.openVPage(VSupplierBankAccount, supplier);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowSupplierBankAccount = async (supplier: any, supplierBankAccount: any) => {\r\n\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: supplierBankAccount,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierBankAccountDetail, param);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onSupplierSelected = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        supplier = await this.uqs.rms.Supplier.load(id);\r\n        let contact = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let bankAccount = await this.uqs.rms.SearchSupplierBankAccount.query({ _id: id });\r\n        let param: ParamItem = {\r\n            parent: supplier,\r\n            item: contact.ret[0],\r\n            child: contact.ret,\r\n            item2: bankAccount.ret[0],\r\n            child2: bankAccount.ret,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n\r\n    delSupplier = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        supplier.isValid = 0;\r\n        await this.uqs.rms.Supplier.save(id, supplier);\r\n    }\r\n\r\n    delSupplierBankAccount = async (bankAccount: any, supplier: any) => {\r\n        let { id } = supplier;\r\n        await this.uqs.rms.SupplierBankAccount.del({ supplier: id, arr1: [{ bankAccount: bankAccount.id }] });\r\n    }\r\n\r\n    updateBankAccountData = async (bankdata: any) => {\r\n        let { id } = bankdata;\r\n        await this.uqs.rms.BankAccount.save(id, bankdata);\r\n    }\r\n\r\n\r\n\r\n    loadList = async () => {\r\n        await this.searchSupplierByKey(\"\");\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CSupplierContact } from './CSupplierContact';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\n\r\nexport class VSupplierContact extends VPage<CSupplierContact> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'gender', type: 'string', required: true },\r\n        { name: 'firstName', type: 'string', required: false },\r\n        { name: 'lastName', type: 'string', required: false },\r\n        { name: 'salutation', type: 'string', required: false },\r\n        { name: 'position', type: 'string', required: false },\r\n        { name: 'departmentName', type: 'string', required: false },\r\n        { name: 'telephone', type: 'string', required: false },\r\n        { name: 'mobile', type: 'string', required: false },\r\n        { name: 'wechatId', type: 'string', required: false },\r\n        { name: 'email', type: 'string' },\r\n        { name: 'fax', type: 'string', required: false },\r\n        { name: 'address', type: 'id', required: false },\r\n        { name: 'addressString', type: 'string', required: false },\r\n        { name: 'zipCode', type: 'string', required: false },\r\n        { name: 'isDefault', type: 'boolean', required: false },\r\n        { name: 'isFinance', type: 'boolean', required: false },\r\n        { name: 'isInquiry', type: 'boolean', required: false },\r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '', list: [{ value: '1', title: '' }, { value: '0', title: '' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '', placeholder: '', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            salutation: { widget: 'radio', label: '', list: [{ value: 'Mr.', title: 'Mr.' }, { value: 'Ms.', title: 'Ms.' }] } as UiRadio,\r\n            position: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '', placeholder: '', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '', placeholder: '+86-010-40020020-0852', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '', placeholder: '', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiTextItem,\r\n            fax: { widget: 'text', label: '', placeholder: '+86-010-40020020-0852', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">()</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* tvtvbug, Henry */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\"></small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '', placeholder: '', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '', placeholder: '', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'checkbox', label: '', defaultValue: false },\r\n            isFinance: { widget: 'checkbox', label: '', defaultValue: false },\r\n            isInquiry: { widget: 'checkbox', label: '', defaultValue: false },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { saveSupplierContact } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await saveSupplierContact(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.item}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Edit, Form, UiRadio, ItemSchema, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv, UiTagMulti } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplierContact } from \"./CSupplierContact\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { Tag, TagValue } from \"tonva\";\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'gender', type: 'string', required: true },\r\n    { name: 'firstName', type: 'string', required: false },\r\n    { name: 'lastName', type: 'string', required: false },\r\n    { name: 'salutation', type: 'string', required: false },\r\n    { name: 'position', type: 'string', required: false },\r\n    { name: 'departmentName', type: 'string', required: false },\r\n    { name: 'telephone', type: 'string', required: false },\r\n    { name: 'mobile', type: 'string', required: false },\r\n    { name: 'wechatId', type: 'string', required: false },\r\n    { name: 'email', type: 'string' },\r\n    { name: 'fax', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: false },\r\n    { name: 'addressString', type: 'string', required: false },\r\n    { name: 'zipCode', type: 'string', required: false },\r\n    { name: 'isDefault', type: 'string', required: false },\r\n    { name: 'isFinance', type: 'number', required: false },\r\n    { name: 'isInquiry', type: 'number', required: false },\r\n];\r\n\r\nexport class VSupplierContactDetail extends VPage<CSupplierContact> {\r\n\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    private contactData: any;\r\n\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.parent = parent;\r\n        await this.loadContact(item);\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private loadContact = async (item: any) => {\r\n        this.item = await this.controller.cApp.uqs.rms.SupplierContact.load(item.id);\r\n        this.parent = await this.controller.cApp.uqs.rms.Supplier.load(this.parent.id);\r\n        let { defaultContact, financeContact, inquiryContact } = this.parent;\r\n        let { id, name, firstName, lastName, gender, salutation, position, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = this.item;\r\n        this.contactData = {\r\n            name: name,\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            gender: gender,\r\n            salutation: salutation,\r\n            position: position,\r\n            departmentName: departmentName,\r\n            telephone: telephone,\r\n            mobile: mobile,\r\n            email: email,\r\n            fax: fax,\r\n            zipCode: zipCode,\r\n            wechatId: wechatId,\r\n            addressString: addressString,\r\n            address: address,\r\n            isDefault: defaultContact === undefined ? 0 : (defaultContact.id === id ? 1 : 0),\r\n            isFinance: financeContact === undefined ? 0 : (financeContact.id === id ? 1 : 0),\r\n            isInquiry: inquiryContact === undefined ? 0 : (inquiryContact.id === id ? 1 : 0)\r\n        };\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '', list: [{ value: '1', title: '' }, { value: '0', title: '' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '', placeholder: '', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            salutation: { widget: 'radio', label: '', list: [{ value: 'Mr.', title: 'Mr.' }, { value: 'Ms.', title: 'Ms.' }] } as UiRadio,\r\n            position: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '', placeholder: '', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '', placeholder: '', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '', placeholder: '', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiTextItem,\r\n            fax: { widget: 'text', label: '', placeholder: '', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">()</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* tvtvbug, Henry */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\"></small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '', placeholder: '', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '', placeholder: '', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 0, title: '' }] } as UiRadio,\r\n            isFinance: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 0, title: '' }] } as UiRadio,\r\n            isInquiry: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 0, title: '' }] } as UiRadio,\r\n        }\r\n    }\r\n\r\n    private onContactDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.item[name] = newValue;\r\n        await this.controller.updateContactData(this.item, this.parent);\r\n        this.closePage();\r\n        this.controller.showSupplierContactDetail(this.item, this.parent);\r\n    }\r\n\r\n    private onDelSupplierContact = async () => {\r\n        if (await this.vCall(VConfirmDeleteContact, this.item) === true) {\r\n            await this.controller.delSupplierContact(this.item, this.parent);\r\n            this.closePage();\r\n            this.controller.cApp.cSupplier.onSupplierSelected(this.parent);\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let buttonDel: any;\r\n        if (this.item !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplierContact()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.contactData}\r\n                onItemChanged={this.onContactDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteContact extends VPage<CSupplierContact> {\r\n    async open(contact: any) {\r\n        this.openPage(this.page, contact);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (contact: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VSupplierContact } from \"./VSupplierContact\";\r\nimport { VSupplierContactDetail } from \"./VSupplierContactDetail\";\r\nimport { VSupplierDetail } from \"../supplier/VSupplierDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"./CAddress\";\r\n\r\nclass PageSupplierContact extends PageItems<any> {\r\n    private searchSupplierContact: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplierContact = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplierContact.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplierContact extends CUqBase {\r\n\r\n    @observable pageSupplierContact: PageSupplierContact;\r\n    protected async internalStart() {\r\n\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    //\r\n    showCreateSupplierContact = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showEditSupplierContact = async (model: any, supplier: any) => {\r\n        model.isDefault = supplier.defaultContact === undefined ? false : supplier.defaultContact.id === model.id ? true : false;\r\n        model.isFinance = supplier.financeContact === undefined ? false : supplier.financeContact.id === model.id ? true : false;\r\n        model.isInquiry = supplier.inquiryContact === undefined ? false : supplier.inquiryContact.id === model.id ? true : false;\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showSupplierContactDetail = async (model: any, supplier: any) => {\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContactDetail, param);\r\n    }\r\n\r\n    saveSupplierContact = async (id: number, param: any, parent: any) => {\r\n        let { name, firstName, lastName, gender, salutation, position, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address, isDefault, isFinance, isInquiry } = param;\r\n        let parrm = { name: name, firstName: firstName, lastName: lastName, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, supplier: parent.id, isValid: 1, position: position };\r\n        let result = await this.uqs.rms.SupplierContact.save(id, parrm);\r\n        if (id === undefined) {\r\n            id = result.id;\r\n        }\r\n        if (isDefault === true) {\r\n            parent.defaultContact = id;\r\n        } else {\r\n            if (parent.defaultContact !== undefined) {\r\n                if (parent.defaultContact.id === id) {\r\n                    parent.defaultContact = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (isFinance === true) {\r\n            parent.financeContact = id;\r\n        } else {\r\n            if (parent.financeContact !== undefined) {\r\n                if (parent.financeContact.id === id) {\r\n                    parent.financeContact = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (isInquiry === true) {\r\n            parent.inquiryContact = id;\r\n        } else {\r\n            if (parent.inquiryContact !== undefined) {\r\n                if (parent.inquiryContact.id === id) {\r\n                    parent.inquiryContact = undefined;\r\n                }\r\n            }\r\n        }\r\n        await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, webSite: parent.webSite, address: parent.address, addressString: parent.addressString, productionAddress: parent.productionAddress, profile: parent.profile, taxNo: parent.taxNo, isValid: 1, defaultContact: parent.defaultContact, financeContact: parent.financeContact, inquiryContact: parent.inquiryContact });\r\n        this.cApp.cSupplier.onSupplierSelected(parent);\r\n        this.closePage();\r\n    }\r\n\r\n    updateContactData = async (param: any, parent: any) => {\r\n        let { isDefault, isFinance, inquiryid } = param;\r\n        await this.uqs.rms.SupplierContact.save(param.id, param);\r\n        parent.defaultContact = (isDefault === 1 ? param : undefined);\r\n        parent.financeContact = (isFinance === 1 ? param : undefined);\r\n        parent.inquiryContact = (inquiryid === 1 ? param : undefined);\r\n        await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, webSite: parent.webSite, address: parent.address, addressString: parent.addressString, productionAddress: parent.productionAddress, profile: parent.profile, taxNo: parent.taxNo, isValid: 1, defaultContact: parent.defaultContact, financeContact: parent.financeContact, inquiryContact: parent.inquiryContact });\r\n    }\r\n\r\n    //\r\n    showSupplierContact = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n\r\n    delSupplierContact = async (supplierContact: any, supplier: any) => {\r\n        let { id } = supplierContact;\r\n        supplierContact.isValid = 0;\r\n        await this.uqs.rms.SupplierContact.save(id, supplierContact);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'supplier', type: 'id', required: true },\r\n    { name: 'brand', type: 'id', required: false },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'description', type: 'string', required: true },\r\n    { name: 'descriptionC', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VAddProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n    private model: any = this.controller.supplier;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            supplier: {\r\n                widget: 'id', label: '', placeholder: '', defaultValue: this.model,\r\n                pickId: async (context: Context, name: string, value: number) => this.model !== undefined ? this.model : await this.controller.pickSupplier(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            brand: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickBrand(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.no}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            origin: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            description: { widget: 'text', label: '', placeholder: '', defaultValue: this.controller.chemical.description } as UiInputItem,\r\n            descriptionC: { widget: 'text', label: '', placeholder: '', defaultValue: this.controller.chemical.descriptionC } as UiInputItem,\r\n            purity: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveProductData(context.form.data);\r\n    }\r\n\r\n    private showChemicalData = () => {\r\n        let { chemical } = this.controller;\r\n        let { no, CAS, description, descriptoinCN, molecularFomula, molecularWeight, mdlNumber } = chemical;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">CAS:</div><div className=\"col-9 text-muted text-right\">{CAS === undefined ? \"()\" : CAS}</div>\r\n            </div>\r\n            {molecularFomula === undefined ? \"\" : <>\r\n                <div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{molecularFomula}</div>\r\n                </div></>\r\n            }\r\n            {molecularWeight === undefined ? \"\" : <>\r\n                <div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{molecularWeight}</div>\r\n                </div></>\r\n            }\r\n        </div >;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.showChemicalData()}\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'description', type: 'string', required: true },\r\n    { name: 'descriptionC', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n];\r\n\r\nexport class VProductDetail extends VPage<CProduct> {\r\n    private product: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n    private purityData: any;\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        await this.loadProduct(parent);\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private loadProduct = async (product: any) => {\r\n        this.product = product;\r\n        let { origin, description, descriptionC, purity } = this.product;\r\n        this.purityData = {\r\n            origin: origin,\r\n            description: description,\r\n            descriptionC: descriptionC,\r\n            purity: purity\r\n        };\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            origin: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            description: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            descriptionC: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            purity: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private getPackage = () => {\r\n        let { showCreatePackage } = this.controller.cApp.cPackage;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n        let { supplier, inquiryContact } = this.product;\r\n        let showd = inquiryContact === undefined ?\r\n            <b className=\"px-3 py-2 text-danger small\"></b> : <div className=\" d-flex px-3 py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => showCreatePackage(this.product)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"cube\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n                <div className=\"flex-grow-1\"></div>\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => onNewPendingInquiry(this.product)} >\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"filter\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </ button>\r\n            </div>;\r\n        return <div>\r\n            {showd}\r\n            <div>\r\n                {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private onDelPackage = async (item: any) => {\r\n        if (await this.vCall(VConfirmDeletePakage, item) === true) {\r\n            await this.controller.delPakage(item);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { showEditPackage, showPackageDetail } = this.controller.cApp.cPackage;\r\n        let { id, radiox, radioy, unit, type, price, currency, validUpto, minArriveDate, maxArriveDate } = item;\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let { inquiryContact } = this.product;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{name}</> : <>{radioy}{name}</>;\r\n        let valid = (validUpto < Date.now()) ? <span className=\"text-danger\"><EasyDate date={validUpto} /></span> : <span><EasyDate date={validUpto} /></span>;\r\n\r\n        let down =\r\n            price === undefined ? <div></div> : <div className=\"px-4 text-muted small\">\r\n                <span>&nbsp;{price}{tv(currency, v => <>{v.name}</>)}&nbsp;</span>\r\n                {valid}\r\n            </div>;\r\n        let mi = minArriveDate !== undefined ? <span><EasyDate date={minArriveDate} /></span> : \"\";\r\n        let arriveDate = maxArriveDate !== undefined ? <span>~<EasyDate date={maxArriveDate} /></span> : \"\";\r\n        let right =\r\n            <div>\r\n                <div className=\"px-2 cursor-pointer text-danger text-right\" onClick={() => this.onDelPackage(item)}>\r\n                    <FA name=\"trash\" />\r\n                    <div className=\"text-muted small\">{mi}{arriveDate}</div>\r\n                </div>\r\n            </div>;\r\n        let left = <div className=\"px-2\" onClick={() => showPackageDetail(item)}>\r\n            <FA name=\"cube\" className=\"px-2 text-primary\"></FA>\r\n            {radio} <span className=\"small\">{type === 1 ? \"\" : \"\"}</span>\r\n            {down}\r\n        </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (productData: any) => {\r\n\r\n        let { no, supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight, inquiryContact } = this.product;\r\n        let { name: suppliername, no: supplierno, id } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\"></div><div className=\"col-8 text-muted text-right\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\"></div><div className=\"col-8 text-muted text-right\"><b>{suppliername} {supplierno}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\"></div><div className=\"col-8 text-muted text-right\">{inquiryContact === undefined ? \"[]\" : inquiryContact.obj.name}</div>\r\n            </div>\r\n            {brandno === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\"></div><div className=\"col-8 text-muted text-right\">{brandno}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">CAS</div><div className=\"col-8 text-muted text-right\">{CAS}</div>\r\n            </div>\r\n            {molecularFomula === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\"></div><div className=\"col-8 text-muted text-right\">{molecularFomula}</div>\r\n                </div></>}\r\n            {molecularWeight === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\"></div><div className=\"col-8 text-muted text-right\">{molecularWeight}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\" onClick={() => this.controller.showProductPropertyDetail(this.product)}>\r\n                <div className=\"col-4\"></div><div className=\"col-8 text-muted text-right\"><b>></b></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onPurityChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.product[name] = newValue;\r\n        await this.controller.updateProductData(this.product);\r\n        this.closePage();\r\n        this.controller.showProductDetail(this.product);\r\n    }\r\n\r\n    private onDelProduct = async () => {\r\n        if (await this.vCall(VConfirmDeleteProduct, this.product) === true) {\r\n            await this.controller.delProduct(this.product);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let productData = _.clone(this.product);\r\n\r\n        let buttonDel: any;\r\n        if (productData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelProduct()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(productData)}\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.purityData}\r\n                onItemChanged={this.onPurityChanged} />\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeletePakage extends VPage<CProduct> {\r\n    async open(pakage: any) {\r\n        this.openPage(this.page, pakage);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (pakage: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteProduct extends VPage<CProduct> {\r\n    async open(product: any) {\r\n        this.openPage(this.page, product);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (product: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CProduct } from './CProduct';\r\n\r\nexport class VProductList extends VPage<CProduct> {\r\n\r\n    private pickType: string;\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { origin, description, createTime, supplier, CAS, purity, brand } = item;\r\n        let { showProductDetail } = this.controller;\r\n        let showcas = CAS === undefined ? <b>[]</b> : <b>{CAS}</b>;\r\n        let showpurity = purity === undefined ? \"\" : <b>{purity}</b>;\r\n        let brandno = brand === undefined ? undefined : brand.obj.no;\r\n        let first = origin === undefined && brandno === undefined ? \"\" : origin === undefined ? <b>{brandno}</b> : <b>{origin}&nbsp;&nbsp;{brandno}</b>;\r\n\r\n\r\n        return <LMR className=\"px-3 d-flex p-1 cursor-pointer\">\r\n            <div onClick={() => showProductDetail(item)}>\r\n                {first}\r\n                <div>{showcas}&nbsp;&nbsp;{showpurity}</div>\r\n                <div><b>{description}</b></div>\r\n                <div className=\"py-1 text-muted\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n            </div>\r\n        </LMR>\r\n    }\r\n\r\n    private pickSelect = async () => {\r\n        this.pickType = await this.vCall(VSelectType);\r\n        this.closePage();\r\n        this.controller.start();\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, onNewProduct, searchProductByKey, pickChemical } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <div><span onClick={() => this.pickSelect()} className=\"fa-stack\">\r\n                <i className=\"fa fa-filter fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(this.pickType, key)}\r\n                placeholder=\"cas\" />\r\n            <div><span onClick={() => pickChemical()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        let filter = this.pickType === undefined ? \"\" : <div className=\"text-muted small px-3 py-2\">{this.pickType}</div>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            {filter}\r\n            <List items={products} item={{ render: this.renderRootCategory }} />\r\n        </Page >;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n}\r\n\r\nclass VSelectType extends VPage<CProduct> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onConfirm = async (name: string) => {\r\n        await this.returnCall(name);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (pakage: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"d-flex mt-3 justify-content-end\">\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm(undefined)}></button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('')}></button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('')}></button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('')}></button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('CAS')}>CAS</button>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickSupplier } from './CPickSupplier';\r\n\r\nexport class VPickSupplier extends VPage<CPickSupplier> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { suppliers, searchSupplierByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        return <Page header=\"\" right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={suppliers} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.suppliers.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnSupplier(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { VPickSupplier } from './VPickSupplier';\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n        this.openVPage(VPickSupplier);\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    returnSupplier = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CBrand } from './CBrand';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'no', type: 'string', required: true },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VBrand extends VPage<CBrand> {\r\n\r\n    private form: Form;\r\n    private brandData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            no: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(brandData: any) {\r\n        this.brandData = brandData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveBrandData(context.form.data);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.brandData);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CBrand } from './CBrand';\r\n\r\nexport class VPickBrand extends VPage<CBrand> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { brands, searchBrandByKey, onNewBrand } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchBrandByKey(key)}\r\n                placeholder=\"\" />\r\n            <div><span onClick={() => onNewBrand()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span>\r\n            </div>\r\n        </div>;\r\n        let header = <header>\r\n            <div></div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\" >\r\n            <List items={brands} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.brands.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnBrand(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { no, name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{no} - {name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VBrand } from './VBrand';\r\nimport { VPickBrand } from './VPickBrand';\r\n\r\nclass PageBrand extends PageItems<any> {\r\n\r\n    private searchBrand: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchBrand = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchBrand.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CBrand extends CUqBase {\r\n\r\n    @observable brands: PageBrand;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchBrandByKey(param);\r\n        this.openVPage(VPickBrand);\r\n    }\r\n\r\n    searchBrandByKey = async (key: string) => {\r\n        this.brands = new PageBrand(this.uqs.rms.SearchBrand);\r\n        this.brands.first({ key: key });\r\n    }\r\n\r\n    saveBrandData = async (brand: any) => {\r\n\r\n        if (brand.id === undefined) {\r\n            await this.uqs.rms.RsBrand.save(undefined, brand);\r\n        } else {\r\n            await this.uqs.rms.RsBrand.save(brand.id, brand);\r\n        }\r\n        this.closePage();\r\n        await this.searchBrandByKey(\"\");\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewBrand = async () => {\r\n        this.openVPage(VBrand, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onEditBrand = async (brand: any) => {\r\n        this.openVPage(VBrand, brand);\r\n    }\r\n\r\n    returnBrand = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CStorageRange } from './CStorageRange';\r\n\r\nexport class VStorageRange extends VPage<CStorageRange> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { storageRanges } = this.controller;\r\n        return <Page header=\"\">\r\n            <div className=\"row no-gutters\">\r\n                {storageRanges.map((v: any) => this.renderStorageRange(v, this.onStorageRangeClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderStorageRange = (storageRange: any, onClick: any) => {\r\n        let { id, no, description } = storageRange;\r\n        return <div key={id} className=\"col-12 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onStorageRangeClick(storageRange)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {no} [{description}]\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onStorageRangeClick = async (item: any) => {\r\n        await this.controller.returnStorageRange(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { VStorageRange } from './VStorageRange';\r\n\r\nexport class CStorageRange extends CUqBase {\r\n\r\n    @observable storageRanges: any;\r\n\r\n    protected async internalStart() {\r\n        this.storageRanges = await this.uqs.rms.StorageRange.search(\"\", 0, 100);\r\n        this.openVPage(VStorageRange);\r\n    }\r\n\r\n    returnStorageRange = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CRestrictMark } from './CRestrictMark';\r\n\r\nexport class VRestrictMark extends VPage<CRestrictMark> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { restrictMarks } = this.controller;\r\n        return <Page header=\"\">\r\n            <div className=\"row no-gutters\">\r\n                {restrictMarks.map((v: any) => this.renderRestrictMark(v, this.onRestrictMarkClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderRestrictMark = (restrictMark: any, onClick: any) => {\r\n        let { id, no, description } = restrictMark;\r\n        return <div key={id} className=\"col-12 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onRestrictMarkClick(restrictMark)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {no} [{description}]\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onRestrictMarkClick = async (item: any) => {\r\n        await this.controller.returnRestrictMark(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { VRestrictMark } from './VRestrictMark';\r\n\r\nexport class CRestrictMark extends CUqBase {\r\n\r\n    @observable restrictMarks: any;\r\n\r\n    protected async internalStart() {\r\n        this.restrictMarks = await this.uqs.rms.RestrictMark.search(\"\", 0, 200);\r\n        this.openVPage(VRestrictMark);\r\n    }\r\n\r\n    returnRestrictMark = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiSelect, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CProduct } from './CProduct';\r\nimport _ from 'lodash';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'isspot', type: 'number', required: false },\r\n    { name: 'storageRange', type: 'id', required: false },\r\n    { name: 'expiry', type: 'string', required: false },\r\n    { name: 'expiryUnit', type: 'string', required: false },\r\n    { name: 'restrictMark', type: 'id', required: false },\r\n    { name: 'refractiveIndex', type: 'string', required: false },\r\n    { name: 'opticalRotation', type: 'string', required: false },\r\n    { name: 'flashPoint', type: 'string', required: false },\r\n    { name: 'meltingPoint', type: 'string', required: false },\r\n    { name: 'boilingPoint', type: 'string', required: false },\r\n    { name: 'character', type: 'string', required: false },\r\n    { name: 'chroma', type: 'string', required: false },\r\n    { name: 'waterContent', type: 'string', required: false },\r\n    { name: 'useFor', type: 'string', required: false },\r\n    { name: 'remark', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VProductProperty extends VPage<CProduct> {\r\n    private form: Form;\r\n    private product: any;\r\n\r\n    async open(param?: any) {\r\n        this.product = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            isspot: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 0, title: '' }] } as UiRadio,\r\n            storageRange: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickStorageRange(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            expiry: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            expiryUnit: { widget: 'select', label: '', list: [{ value: '', title: '' }, { value: '', title: '' }, { value: '', title: '' }, { value: '', title: '' }] } as UiSelect,\r\n            restrictMark: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickRestrictMark(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            refractiveIndex: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            opticalRotation: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            flashPoint: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            meltingPoint: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            boilingPoint: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            character: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            chroma: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            density: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            waterContent: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            useFor: { widget: 'textarea', label: '', placeholder: '', rows: 2 } as UiInputItem,\r\n            remark: { widget: 'textarea', label: '', placeholder: '', rows: 2 } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveProductProperty(context.form.data, this.product);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let descriptionData = _.clone(this.product);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, UiSelect, tv, UiIdItem, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem, UiRadio, Context } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'isspot', type: 'number', required: false },\r\n    { name: 'storageRange', type: 'id', required: false },\r\n    { name: 'expiry', type: 'string', required: false },\r\n    { name: 'expiryUnit', type: 'string', required: false },\r\n    { name: 'restrictMark', type: 'id', required: false },\r\n    { name: 'refractiveIndex', type: 'string', required: false },\r\n    { name: 'opticalRotation', type: 'string', required: false },\r\n    { name: 'flashPoint', type: 'string', required: false },\r\n    { name: 'meltingPoint', type: 'string', required: false },\r\n    { name: 'boilingPoint', type: 'string', required: false },\r\n    { name: 'character', type: 'string', required: false },\r\n    { name: 'chroma', type: 'string', required: false },\r\n    { name: 'waterContent', type: 'string', required: false },\r\n    { name: 'useFor', type: 'string', required: false },\r\n    { name: 'remark', type: 'string', required: false },\r\n];\r\n\r\n\r\nexport class VProductPropertyDetail extends VPage<CProduct> {\r\n    private property: any;\r\n    private propertyData: any;\r\n\r\n    async open(param: any) {\r\n        this.property = undefined;\r\n        this.property = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            isspot: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 0, title: '' }] } as UiRadio,\r\n            storageRange: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickStorageRange(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            expiry: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            expiryUnit: { widget: 'select', label: '', list: [{ value: '', title: '' }, { value: '', title: '' }, { value: '', title: '' }, { value: '', title: '' }] } as UiSelect,\r\n            restrictMark: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickRestrictMark(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            refractiveIndex: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            opticalRotation: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            flashPoint: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            meltingPoint: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            boilingPoint: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            character: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            chroma: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            density: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            waterContent: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            useFor: { widget: 'textarea', label: '', placeholder: '', rows: 5 } as UiInputItem,\r\n            remark: { widget: 'textarea', label: '', placeholder: '', rows: 5 } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private onPropertyDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.property[name] = newValue;\r\n        await this.controller.updatProductPropertyData(this.property);\r\n        let { product } = this.property;\r\n        this.closePage();\r\n        await this.controller.showProductPropertyDetail(product);\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.property}\r\n                onItemChanged={this.onPropertyDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VAddProduct } from './VAddProduct';\r\nimport { VProductDetail } from './VProductDetail';\r\nimport { VProductList } from './VProductList';\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CChemical } from './CChemical';\r\nimport { CBrand } from './CBrand';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CStorageRange } from './CStorageRange';\r\nimport { CRestrictMark } from './CRestrictMark';\r\nimport { VProductProperty } from './VProductProperty';\r\nimport { VProductPropertyDetail } from './VProductPropertyDetail';\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 10;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n    chemical: any;\r\n    supplier: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(\"\", param);\r\n        //this.openVPage(VProductList);\r\n    }\r\n\r\n    searchProductByKey = async (pickType: string, key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key, pickType: pickType });\r\n    }\r\n\r\n    pickSupplier = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cPickSupplier = this.newC(CPickSupplier);\r\n        return await cPickSupplier.call<number>();\r\n    }\r\n\r\n    pickBrand = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cBrand = this.newC(CBrand);\r\n        return await cBrand.call<number>();\r\n    }\r\n\r\n    pickChemical = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call();\r\n    }\r\n\r\n    pickStorageRange = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cStorageRange = this.newC(CStorageRange);\r\n        return await cStorageRange.call<number>();\r\n    }\r\n\r\n    pickRestrictMark = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cRestrictMark = this.newC(CRestrictMark);\r\n        return await cRestrictMark.call<number>();\r\n    }\r\n\r\n    saveProductData = async (product: any) => {\r\n\r\n        if (product.id === undefined) {\r\n            if (this.chemical) {\r\n                let { id, CAS, description, descriptoinCN, molecularFomula, molecularWeight } = this.chemical;\r\n                product.createTime = Date.now();\r\n                product.isTrue = 1;\r\n                product.inquiryContact = undefined;\r\n                let len = CAS.length;\r\n                let newCAS = CAS;\r\n                if (len > 4 && len <= 15) {\r\n                    newCAS = CAS.trim();\r\n                    newCAS = CAS.slice(0, len - 3) + '-' + CAS.slice(len - 3, len - 1) + '-' + CAS.slice(len - 1, len);\r\n                }\r\n\r\n                let result = await this.uqs.rms.Product.save(undefined, product);\r\n                await this.uqs.rms.RsProductChemical.add({ product: result.id, arr1: [{ chemical: id, CAS: newCAS, molecularFomula: molecularFomula, molecularWeight: molecularWeight, purity: product.purity }] });\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    updateProductData = async (productdata: any) => {\r\n\r\n        if (productdata) {\r\n            productdata.isTrue = 1;\r\n            let { chemical } = productdata;\r\n            await this.uqs.rms.Product.save(productdata.id, productdata);\r\n            await this.uqs.rms.RsProductChemical.add({ product: productdata.id, arr1: [{ chemical: chemical.id, CAS: productdata.CAS, molecularFomula: productdata.molecularFomula, molecularWeight: productdata.molecularWeight, purity: productdata.purity }] });\r\n        }\r\n    }\r\n\r\n    saveProductProperty = async (property: any, product: any) => {\r\n\r\n        if (property.id === undefined) {\r\n            property.product = product;\r\n            let result = await this.uqs.rms.ProductProperty.save(undefined, property);\r\n        }\r\n        this.closePage();\r\n    }\r\n\r\n    updatProductPropertyData = async (propertydata: any) => {\r\n\r\n        if (propertydata) {\r\n            await this.uqs.rms.ProductProperty.save(propertydata.id, propertydata);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewProduct = async (model: any, supplier?: any) => {\r\n        this.chemical = model;\r\n        this.supplier = supplier;\r\n        this.openVPage(VAddProduct, { product: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    showProductDetail = async (model: any) => {\r\n        let { id } = model;\r\n        let pitem = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    showProductPropertyDetail = async (product: any) => {\r\n        let { id } = product;\r\n        let property = await this.uqs.rms.SearchProductProperty.query({ _id: id });\r\n        if (property.ret.length === 0) {\r\n            this.openVPage(VProductProperty, id);\r\n        } else {\r\n            this.openVPage(VProductPropertyDetail, property.ret[0]);\r\n        }\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchProductByKey(\"\", \"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VProductList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n\r\n    delProduct = async (product: any) => {\r\n        let { id } = product;\r\n        product.isTrue = 0;\r\n        await this.uqs.rms.Product.save(id, product);\r\n    }\r\n\r\n    delPakage = async (ppackage: any) => {\r\n        let { id, product } = ppackage;\r\n        let param = {\r\n            radiox: ppackage.radiox,\r\n            radioy: ppackage.radioy,\r\n            unit: ppackage.unit,\r\n            type: ppackage.type,\r\n            isValid: 0,\r\n        }\r\n        let result = await this.uqs.rms.Product.saveArr(\"Pack\", product.id, id, param);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CChemical } from './CChemical';\r\n\r\nexport class VChemical extends VPage<CChemical> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { chemicals, searchChemicalByKey, onNewChemical } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchChemicalByKey(key)}\r\n                placeholder=\"CAS\" />\r\n            <div><span onClick={() => onNewChemical()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span>\r\n            </div>\r\n        </div>;\r\n\r\n        return <Page header=\"\" right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={chemicals} item={{ render: this.renderItem }} />\r\n        </Page>;\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.chemicals.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description } = item;\r\n        let { supplier } = this.controller;\r\n        let { onNewProduct } = this.controller.cApp.cProduct;\r\n        return <LMR className=\"py-2 border\" onClick={() => onNewProduct(item, supplier)}>\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CChemical } from './CChemical';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'CAS', type: 'string', required: false },\r\n    { name: 'description', type: 'string', required: false },\r\n    { name: 'descriptoinCN', type: 'string', required: false },\r\n    { name: 'molecularFomula', type: 'string', required: false },\r\n    { name: 'molecularWeight', type: 'number', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VAddChemical extends VPage<CChemical> {\r\n\r\n    private form: Form;\r\n    private chemicalData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            CAS: { widget: 'text', label: 'CAS', placeholder: 'CAS' } as UiInputItem,\r\n            description: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            descriptoinCN: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            molecularFomula: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            molecularWeight: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(chemicalData: any) {\r\n        this.chemicalData = chemicalData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveChemicalData(context.form.data);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.chemicalData);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import fetch, { Headers } from 'node-fetch';\r\n\r\nexport class WebApiClient {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    async newChemical(model?: any): Promise<any> {\r\n        try {\r\n            let { CAS, description, descriptoinCN, molecularFomula, molecularWeight } = model;\r\n            let chemical = { CAS: CAS, EnglishName: description, ChineseName: descriptoinCN, MolecularFomula: molecularFomula, MolecularWeight: molecularWeight };\r\n\r\n            let url = await this.getUrl(\"http://localhost:38311/api/Chemical/CreateChemid\", chemical);\r\n            let fetchInit = {\r\n                headers: {\r\n                    \"Content-Type\": 'application/x-www-form-urlencoded'\r\n                },\r\n                method: \"post\"\r\n            };\r\n            let res = await fetch(url, fetchInit);\r\n            if (res.status !== 200) {\r\n                console.error(res.statusText, res.status);\r\n                throw {\r\n                    error: res.statusText,\r\n                    code: res.status,\r\n                };\r\n            }\r\n            let json = await res.json();\r\n            if (json.error !== undefined) {\r\n                throw json.error;\r\n            }\r\n            if (json.ok === true) {\r\n                return json;\r\n            }\r\n            return json;\r\n        } catch (error) {\r\n            console.log(error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    protected async getUrl(url: string, params: any = undefined): Promise<any> {\r\n        if (params) {\r\n            let keys = Object.keys(params);\r\n            if (keys.length > 0) {\r\n                let c = '?';\r\n                for (let k of keys) {\r\n                    let v = params[k];\r\n                    if (v === undefined) continue;\r\n                    url += c + k + '=' + encodeURIComponent(params[k]);\r\n                    c = '&';\r\n                }\r\n            }\r\n        }\r\n        return url;\r\n    }\r\n}\r\nexport const httpClient = new WebApiClient();","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VChemical } from './VChemical';\r\nimport { VAddChemical } from './VAddChemical';\r\nimport { httpClient } from \"../../tools/webApiClient\";\r\n\r\nclass PageChemical extends PageItems<any> {\r\n\r\n    private searchChemical: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchChemical = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchChemical.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CChemical extends CUqBase {\r\n\r\n    @observable chemicals: PageChemical;\r\n    @observable supplier: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.supplier = param;\r\n        this.searchChemicalByKey(\"\");\r\n        this.openVPage(VChemical);\r\n    }\r\n\r\n    searchChemicalByKey = async (key: string) => {\r\n        this.chemicals = new PageChemical(this.uqs.chemical.SearchChemical);\r\n        this.chemicals.first({ key: key });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewChemical = async () => {\r\n        this.openVPage(VAddChemical, { description: undefined });\r\n    }\r\n\r\n    saveChemicalData = async (chemical: any) => {\r\n\r\n        if (chemical.id === undefined) {\r\n            chemical.no = await httpClient.newChemical(chemical);\r\n            await this.uqs.chemical.Chemical.save(undefined, chemical);\r\n        }\r\n        this.closePage();\r\n        await this.searchChemicalByKey(\"\");\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CPackage } from './CPackage';\r\nimport { tariffRateValidation } from 'tools/inputValidations';\r\n\r\nexport class VPackage extends VPage<CPackage> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'quantity', type: 'number', required: true },\r\n        { name: 'radiox', type: 'number', required: true },\r\n        { name: 'radioy', type: 'number', required: true },\r\n        { name: 'unit', type: 'id', required: true },\r\n        { name: 'purity', type: 'string', required: false },\r\n        { name: 'type', type: 'string', required: true },\r\n        { name: 'listPrice', type: 'number', required: false },\r\n        { name: 'price', type: 'number', required: true },\r\n        { name: 'currency', type: 'id', required: true },\r\n        { name: 'isTaxIn', type: 'number', required: true },\r\n        { name: 'vatRate', type: 'id', required: false },\r\n        { name: 'tariffRate', type: 'number', required: false },\r\n        { name: 'isTransFeeIn', type: 'number', required: true },\r\n        { name: 'transFee', type: 'number', required: false },\r\n        { name: 'transFeecurrency', type: 'id', required: false },\r\n        { name: 'packingFee', type: 'number', required: false },\r\n        { name: 'packingcurrency', type: 'id', required: false },\r\n        { name: 'otherFee', type: 'number', required: false },\r\n        { name: 'otherFeecurrency', type: 'id', required: false },\r\n        { name: 'customizeUpto', type: 'date', required: false },\r\n        { name: 'validUpto', type: 'date', required: true },\r\n        { name: 'minArriveDate', type: 'date', required: false },\r\n        { name: 'maxArriveDate', type: 'date', required: false },\r\n        { name: 'invoiceType', type: 'number', required: true },\r\n        { name: 'remark', type: 'string', required: false },\r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickPackUnit(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            purity: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            type: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 2, title: '' }] } as UiRadio,\r\n            listPrice: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            price: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            vatRate: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickVatRate(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description * 100}</>)}%\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            tariffRate: { widget: 'text', label: '', placeholder: '', rules: tariffRateValidation } as UiInputItem,\r\n            isTransFeeIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            otherFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            customizeUpto: { widget: 'date', label: '' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            invoiceType: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }, { value: \"3\", title: '' }, { value: \"4\", title: '' }] } as UiRadio,\r\n            remark: { widget: 'textarea', label: '', placeholder: '', rows: 2 } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { savePackage } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await savePackage(id, context.form.data, this.parent);\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.item}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage, EasyDate, tv } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackageDetail extends VPage<CPackage> {\r\n\r\n    private package: any;\r\n\r\n    async open(param: any) {\r\n        this.package = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let packageData = _.clone(this.package);\r\n        let { radiox, radioy, unit, type, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee\r\n            , transFeecurrency, packingFee, packingcurrency, otherFee\r\n            , otherFeecurrency, customizeUpto, validUpto, minArriveDate\r\n            , maxArriveDate, invoiceType, vatRate, tariffRate, remark } = packageData;\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{name}</> : <>{radioy}{name}</>;\r\n\r\n        let header = <header>\r\n            <span>: {radio}</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\" >\r\n            <div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{type === 1 ? \"\" : (type === 2 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{listPrice}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTaxIn === 1 ? \"\" : (isTaxIn === 0 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTransFeeIn === 1 ? \"\" : (isTransFeeIn === 0 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{otherFee}{otherFeecurrency === undefined ? \"\" : tv(otherFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={customizeUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={validUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={minArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={maxArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{invoiceType === undefined ? \"\" : (invoiceType.id === 1 ? \"\" : (invoiceType.id === 2 ? \"\" : (invoiceType === 3 ? \"\" : \"\")))}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{vatRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{tariffRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{remark}</div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CVatRate } from './CVatRate';\r\n\r\nexport class VVatRate extends VPage<CVatRate> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { vatRates } = this.controller;\r\n        return <Page header=\"\">\r\n            <div className=\"row no-gutters\">\r\n                {vatRates.map((v: any) => this.renderVatRate(v, this.onVatRateClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderVatRate = (vatRate: any, onClick: any) => {\r\n        let { id, description } = vatRate;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onVatRateClick(vatRate)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {description * 100}%\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onVatRateClick = async (item: any) => {\r\n        await this.controller.returnVatRate(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VVatRate } from './VVatRate';\r\n\r\nexport class CVatRate extends CUqBase {\r\n\r\n    @observable vatRates: any;\r\n\r\n    protected async internalStart() {\r\n        let result = await this.uqs.rms.SearchVatRate.query(\"\");\r\n        this.vatRates = result.ret;\r\n        this.openVPage(VVatRate);\r\n    }\r\n\r\n    returnVatRate = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CPackUnit } from './CPackUnit';\r\n\r\nexport class VPackUnit extends VPage<CPackUnit> {\r\n\r\n    async open(param: any[]) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { packUnits } = this.controller;\r\n        return <Page header=\"\">\r\n            <div className=\"row no-gutters\">\r\n                {packUnits.map((v: any) => this.renderPackUnit(v, this.onPackUnitClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPackUnit = (packUnit: any, onClick: any) => {\r\n        let { id, name } = packUnit;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onPackUnitClick(packUnit)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {name}\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onPackUnitClick = async (item: any) => {\r\n        await this.controller.returnPackUnit(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPackUnit } from './VPackUnit';\r\n\r\nexport class CPackUnit extends CUqBase {\r\n\r\n    @observable packUnits: any;\r\n\r\n    protected async internalStart() {\r\n        let result = await this.uqs.common.SearchPackType.query(\"\");\r\n        this.packUnits = result.ret;\r\n        this.openVPage(VPackUnit);\r\n    }\r\n\r\n    returnPackUnit = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPackage } from \"./VPackage\";\r\nimport { VPackageDetail } from \"./VPackageDetail\";\r\nimport { VProductDetail } from \"../product/VProductDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CVatRate } from \"./CVatRate\";\r\nimport { CPackUnit } from './CPackUnit';\r\n\r\nclass PagePackage extends PageItems<any> {\r\n    private searchPackage: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPackage = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPackage.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPackage extends CUqBase {\r\n\r\n    @observable pagePackage: PagePackage;\r\n    protected async internalStart() {\r\n    }\r\n\r\n    searchPackageByKey = async (parent: any, key: string) => {\r\n        this.pagePackage = new PagePackage(await this.uqs.rms.GetPack.query({ _id: parent.id }));\r\n        this.pagePackage.first({ key: key });\r\n    }\r\n\r\n    pickVatRate = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cVatRate = this.newC(CVatRate);\r\n        return await cVatRate.call<number>();\r\n    }\r\n\r\n    pickPackUnit = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cPackUnit = this.newC(CPackUnit);\r\n        return await cPackUnit.call<number>();\r\n    }\r\n\r\n    //\r\n    showCreatePackage = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showEditPackage = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showPackageDetail = async (model: any) => {\r\n        this.openVPage(VPackageDetail, model);\r\n    }\r\n\r\n    savePackage = async (id: number, param: any, parent: any) => {\r\n        // await this.uqs.rms.Product.saveArr(\"Pack\", parent.id, id, param);\r\n        let { quantity, radiox, radioy, unit, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, type, remark, purity } = param;\r\n        let paramn = {\r\n            product: parent,\r\n            quantity: quantity,\r\n            radiox: radiox,\r\n            radioy: radioy,\r\n            unit: unit,\r\n            listPrice: listPrice,\r\n            price: price,\r\n            currency: currency,\r\n            isTaxIn: isTaxIn,\r\n            isTransFeeIn: isTransFeeIn,\r\n            transFee: transFee,\r\n            transFeecurrency: transFeecurrency,\r\n            packingFee: packingFee,\r\n            packingcurrency: packingcurrency,\r\n            otherFee: otherFee,\r\n            otherFeecurrency: otherFeecurrency,\r\n            customizeUpto: customizeUpto,\r\n            validUpto: validUpto,\r\n            minArriveDate: minArriveDate,\r\n            maxArriveDate: maxArriveDate,\r\n            invoiceType: invoiceType,\r\n            vatRate: vatRate,\r\n            tariffRate: tariffRate,\r\n            type: type,\r\n            remark: remark,\r\n            purity: purity\r\n        };\r\n        await this.uqs.rms.AddPackage.submit(paramn);\r\n        this.cApp.cProduct.showProductDetail(parent);\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //\r\n    showPackage = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickProduct } from './CPickProduct';\r\n\r\nexport class VPickProduct extends VPage<CPickProduct> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, searchProductByKey } = this.controller;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        return <Page header=\"\"  right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={products} item={{ render: this.renderItem, onClick: onNewPendingInquiry }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description, supplier } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VPickProduct } from './VPickProduct';\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        this.openVPage(VPickProduct);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key, pickType: undefined });\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryList extends VPage<CPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, inquiryDate } = item;\r\n        let { onShowPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted\">\r\n            <EasyDate date={inquiryDate} />\r\n        </div>\r\n        let left = <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n        return <LMR left={left} right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => onShowPendingInquiryDetail(item)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pendingInquirys, searchPendingInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchPendingInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={pendingInquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiRadio, Form, Context } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryDetail extends VPage<CPendingInquiry> {\r\n    private pending: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n    private model: any;\r\n\r\n    async open(param: any) {\r\n        this.model = param;\r\n        let { parent, item, child } = param;\r\n        this.pending = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity, inquiryRemarks, jsonStr } = item;\r\n        let { brand, description, descriptionC, origin } = product.obj;\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{name}</> : <>{radioy}{name}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n        let resultclass = jsonStr === undefined ? \"px-2 text-warning\" : \"px-2 text-primary\";\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => this.controller.openPendingInquiryResult(item)}>\r\n            <div><FA name=\"caret-right\" className={resultclass}></FA>{origin}&nbsp;&nbsp;{CAS}&nbsp;&nbsp;{quantity} * {radio}</div>\r\n            <div className=\"px-4 text-muted\">{description}</div>\r\n            <div className=\"px-4 text-muted\"><span className=\"text-muted small\">{inquiryRemarks}</span></div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowEnd = () => {\r\n        return this.firstPackage && <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.onEndInquiry()}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b></b></span>\r\n                    <span className=\"px-2\"><FA name=\"chevron-right fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private onEndInquiry = async () => {\r\n        if (await this.vCall(VConfirmEndInquiry, this.pending) === true) {\r\n            await this.controller.saveInquiryData(this.pending, this.packages);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, inquiryUser, inquiryDate, user, date, remarks } = suppplierData;\r\n        let { id } = user;\r\n        let { id: inid } = inquiryUser;\r\n\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\"><span>{contactName}&nbsp;{contactTelephone} {contactMobile} {contactEmail}</span></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\">{id}&nbsp;<EasyDate date={date} /></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\">{inid}&nbsp;{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")} <EasyDate date={inquiryDate} /></div>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.pending);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            {this.rowEnd()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmEndInquiry extends VPage<CPendingInquiry> {\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CCurrency } from './CCurrency';\r\n\r\nexport class VCurrency extends VPage<CCurrency> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { currencys } = this.controller;\r\n        return <Page header=\"\">\r\n            <div className=\"row no-gutters\">\r\n                {currencys.map((v: any) => this.renderCurrency(v, this.onCurrencyClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderCurrency = (currency: any, onClick: any) => {\r\n        let { id, name } = currency;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onCurrencyClick(currency)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {name}\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onCurrencyClick = async (item: any) => {\r\n        await this.controller.returnCurrency(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VCurrency } from './VCurrency';\r\n\r\nexport class CCurrency extends CUqBase {\r\n\r\n    @observable currencys: any;\r\n\r\n    protected async internalStart() {\r\n        this.currencys = await this.uqs.common.Currency.search(\"\", 0, 100);\r\n        this.openVPage(VCurrency);\r\n    }\r\n\r\n    returnCurrency = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiTextItem, UiRadio, tv, UiIdItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\nimport { tariffRateValidation } from 'tools/inputValidations';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'id', required: true },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'listPrice', type: 'number', required: false },\r\n    { name: 'price', type: 'number', required: true },\r\n    { name: 'currency', type: 'id', required: true },\r\n    { name: 'isTaxIn', type: 'number', required: true },\r\n    { name: 'vatRate', type: 'id', required: false },\r\n    { name: 'tariffRate', type: 'number', required: false },\r\n    { name: 'isTransFeeIn', type: 'number', required: true },\r\n    { name: 'transFee', type: 'number', required: false },\r\n    { name: 'transFeecurrency', type: 'id', required: false },\r\n    { name: 'packingFee', type: 'number', required: false },\r\n    { name: 'packingcurrency', type: 'id', required: false },\r\n    { name: 'otherFee', type: 'number', required: false },\r\n    { name: 'otherFeecurrency', type: 'id', required: false },\r\n    { name: 'customizeUpto', type: 'date', required: false },\r\n    { name: 'validUpto', type: 'date', required: true },\r\n    { name: 'minArriveDate', type: 'date', required: true },\r\n    { name: 'maxArriveDate', type: 'date', required: true },\r\n    { name: 'invoiceType', type: 'number', required: true },\r\n    { name: 'packType', type: 'number', required: true },\r\n    { name: 'remarks', type: 'string', required: false },\r\n    { name: 'coaFilePath', type: 'string', required: false },\r\n    { name: 'msdsFilePath', type: 'string', required: false },\r\n    { name: 'quotationFilePath', type: 'string', required: false },\r\n    { name: 'result', type: 'number', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiryResult extends VPage<CPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private inquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPackage.pickPackUnit(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            purity: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            listPrice: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            price: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            vatRate: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPackage.pickVatRate(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description * 100}</>)}%\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            tariffRate: { widget: 'text', label: '', placeholder: '', rules: tariffRateValidation } as UiInputItem,\r\n            isTransFeeIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            otherFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            customizeUpto: { widget: 'date', label: '' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            invoiceType: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }, { value: \"3\", title: '' }, { value: \"4\", title: '' }] } as UiRadio,\r\n            packType: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }] } as UiRadio,\r\n            remarks: { widget: 'text', label: '', row: 10, placeholder: '' } as UiInputItem,\r\n            coaFilePath: { widget: 'text', label: 'COA', placeholder: 'COA' } as UiInputItem,\r\n            msdsFilePath: { widget: 'text', label: 'MSOS', placeholder: 'MSOS' } as UiInputItem,\r\n            quotationFilePath: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            result: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }, { value: \"3\", title: ',' }] } as UiRadio,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(inquiryData: any) {\r\n        this.inquiryData = inquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveInquiryPackage(context.form.data, this.inquiryData);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.inquiryData);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPendingInquiryList } from './VPendingInquiryList';\r\nimport { VPendingInquiryDetail } from './VPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CCurrency } from '../PendingInquiry/CCurrency';\r\nimport { VPendingInquiryResult } from '../PendingInquiry/VPendingInquiryResult';\r\n\r\nclass PagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPendingInquiry extends CUqBase {\r\n\r\n    @observable pendingInquirys: PagePendingInquiry;\r\n    @observable pendingInquiryList: PagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchPendingInquiryByKey = async (key: string) => {\r\n        this.pendingInquirys = new PagePendingInquiry(this.uqs.rms.SearchInquiryPending);\r\n        this.pendingInquirys.first({ key: key });\r\n    }\r\n\r\n    savePendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let { quantity, radiox, radioy, unit } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    getDataForSave = (pending: any, items: any[]) => {\r\n\r\n        let { contact, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, user, date, inquiryDate, inquiryUser, supplier, way } = pending;\r\n        let inquiryItems: any[] = [];\r\n        items.forEach(pk => {\r\n            if (pk.jsonStr === undefined) { return; };\r\n            let pack = JSON.parse(pk.jsonStr);\r\n            inquiryItems.push({\r\n                no: undefined, product: pk.product, inquiryQuantity: pk.quantity, inquiryRadiox: pk.radiox, inquiryRadioy: pk.radioy, inquiryUnit: pk.unit, itemuser: pk.user, itemcreateDate: pk.createDate\r\n                , quantity: pack.quantity, radiox: pack.radiox, radioy: pack.radioy, unit: pack.unit, listPrice: pack.listPrice, price: pack.price, currency: pack.currency\r\n                , isTaxIn: pack.isTaxIn, isTransFeeIn: pack.isTransFeeIn, transFee: pack.transFee, transFeecurrency: pack.transFeecurrency, packingFee: pack.packingFee\r\n                , packingcurrency: pack.packingcurrency, otherFee: pack.otherFee, otherFeecurrency: pack.otherFeecurrency, customizeUpto: pack.customizeUpto, validUpto: pack.validUpto\r\n                , minArriveDate: pack.minArriveDate, maxArriveDate: pack.maxArriveDate, invoiceType: pack.invoiceType, vatRate: pack.vatRate, tariffRate: pack.tariffRate\r\n                , packType: pack.packType, coaFilePath: pack.coaFilePath, msdsFilePath: pack.msdsFilePath, quotationFilePath: pack.quotationFilePath\r\n                , inquiryRemarks: pack.remarks, remarks: pk.inquiryRemarks, result: pack.result, inquirypurity: pk.purity, purity: pack.pack\r\n            })\r\n        });\r\n        return {\r\n            supplier: supplier,\r\n            contact: contact,\r\n            contactName: contactName,\r\n            contactSalutation: contactSalutation,\r\n            contactDepartmentName: contactDepartmentName,\r\n            contactTelephone: contactTelephone,\r\n            contactMobile: contactMobile,\r\n            contactEmail: contactEmail,\r\n            contactfax: contactfax,\r\n            way: way,\r\n            user: user,\r\n            createDate: date,\r\n            inquiryUser: inquiryUser,\r\n            inquiryDate: inquiryDate,\r\n            inquiryitems: inquiryItems,\r\n        }\r\n    }\r\n\r\n    saveInquiryData = async (pending: any, packageList: any[]) => {\r\n\r\n        let { id } = pending;\r\n        //sheethistory\r\n        let result: any = await this.uqs.rms.InquirySheet.save(\"InquirySheet\", this.getDataForSave(pending, packageList));\r\n        await this.uqs.rms.InquirySheet.action(result.id, result.flow, result.state, \"submit\");\r\n        if (result) {\r\n            //pending\r\n            let param = {\r\n                id: id,\r\n            };\r\n            await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n        }\r\n\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    saveInquiryPackage = async (model: any, inquiry: any) => {\r\n\r\n        if (inquiry) {\r\n            //\r\n            let { id, inquiryPackage, user, createDate, inquiryRemarks, jsonStr } = inquiry;\r\n            let { product } = inquiryPackage.obj;\r\n            let jsons = JSON.stringify(model);\r\n            await this.uqs.rms.InquiryPendingItem.add({ inquiryPending: id, arr1: [{ inquiryPackage: inquiryPackage.id, user: user.id, createDate: createDate, remarks: inquiryRemarks, jsonStr: JSON.stringify(model) }] });\r\n\r\n            //\r\n            let { quantity, radiox, radioy, unit, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, remarks: rremarks, coaFilePath, msdsFilePath, quotationFilePath, result } = model;\r\n            let param = {\r\n                product: product,\r\n                quantity: quantity,\r\n                radiox: radiox,\r\n                radioy: radioy,\r\n                unit: unit,\r\n                listPrice: listPrice,\r\n                price: price,\r\n                currency: currency,\r\n                isTaxIn: isTaxIn,\r\n                isTransFeeIn: isTransFeeIn,\r\n                transFee: transFee,\r\n                transFeecurrency: transFeecurrency,\r\n                packingFee: packingFee,\r\n                packingcurrency: packingcurrency,\r\n                otherFee: otherFee,\r\n                otherFeecurrency: otherFeecurrency,\r\n                customizeUpto: customizeUpto,\r\n                validUpto: validUpto,\r\n                minArriveDate: minArriveDate,\r\n                maxArriveDate: maxArriveDate,\r\n                invoiceType: invoiceType,\r\n                vatRate: vatRate,\r\n                tariffRate: tariffRate,\r\n                packType: packType,\r\n                remarks: rremarks,\r\n                coaFilePath: coaFilePath,\r\n                msdsFilePath: msdsFilePath,\r\n                quotationFilePath: quotationFilePath\r\n            };\r\n            await this.uqs.rms.AddPackagePrice.submit(param);\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VPendingInquiryDetail, param);\r\n    }\r\n\r\n    pickCurrency = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cCurrency = this.newC(CCurrency);\r\n        return await cCurrency.call<number>();\r\n    }\r\n\r\n    openPendingInquiryResult = async (item: any) => {\r\n        let { id, inquiryPackage } = item;\r\n        let { unit } = inquiryPackage.obj;\r\n        let packages = await this.uqs.rms.InquiryPendingItem.table({ inquiryPending: id, inquiryPackage: inquiryPackage.id });\r\n        let { inquiryPending: newinquiryPending, inquiryPackage: newinquiryPackage, user, createDate, jsonStr: newjsonStr } = packages[0];\r\n        let model;\r\n        if (newjsonStr === undefined) {\r\n            model = item;\r\n            model.unit = unit.obj;\r\n        } else {\r\n            model = JSON.parse(newjsonStr);\r\n            model.inquiryPending = newinquiryPending;\r\n            model.inquiryPackage = newinquiryPackage;\r\n            model.user = user;\r\n            model.createDate = createDate;\r\n        }\r\n        this.openVPage(VPendingInquiryResult, model);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\n\r\nexport class VInquiryList extends VPage<CInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, contactName, inquiryUser, startDate, inquiryDate, date, sheet, way } = item;\r\n        let { openInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted small\">\r\n            {/* <div><EasyDate date={inquiryDate} /></div> */}\r\n            <div><EasyDate date={inquiryDate} /></div>\r\n            <div><EasyDate date={date} /></div>\r\n        </div>\r\n        let left = <div>\r\n            <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            <div className=\"text-muted small\">{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")}</div>\r\n        </div>\r\n        return <LMR left={left} right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => openInquiryDetail(sheet)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { inquirys, searchInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={inquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.inquirys.more();\r\n\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA, LMR } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VInquiryDetail extends VPage<CInquiry> {\r\n\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private renderPackageItem = (item: any, index: number) => {\r\n        let { pack, inquiryQuantity, no, inquiryUnit, inquirypurity } = item;\r\n        let { name } = inquiryUnit.obj;\r\n        return <LMR key={index} className=\"d-flex cursor-pointer py-1\" onClick={() => this.controller.openPackageDetail(item)}>\r\n            <div><FA name=\"chevron-right\" className=\"px-2 text-primary\"></FA>{inquiryQuantity} * {pack}{name} {inquirypurity} </div>\r\n        </LMR>;\r\n    }\r\n\r\n    private renderProductItem = (item: any, index: number) => {\r\n        let { product, packs } = item;\r\n        let { id } = product;\r\n\r\n        return <LMR key={index} className=\"d-flex px-3 cursor-pointer\">\r\n            <div>{this.controller.renderProduct(id)}</div>\r\n            <div className=\"py-1\">\r\n                <List items={packs} item={{ render: this.renderPackageItem }} />\r\n            </div>\r\n        </LMR>;\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n\r\n        let { brief, data } = inquiry;\r\n        let { id, no, state, description, date, user } = brief;\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, remarks, InquiryItems } = data;\r\n\r\n        let header = <>: {no}</>\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\">\r\n            <div>\r\n                <div className=\"bg-white py-2\">\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{contactName} {contactSalutation} {contactDepartmentName}</div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{contactTelephone} {contactMobile} {contactEmail} {contactfax}</div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")}&nbsp;{user}&nbsp;<EasyDate date={date} /></div>\r\n                    </div>\r\n                    {remarks === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{remarks}</div>\r\n                        </div></>}\r\n                </div>\r\n            </div>\r\n            <div className=\"py-2\">\r\n                <List items={InquiryItems} item={{ render: this.renderProductItem }} />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VPackageDetail extends VPage<CInquiry> {\r\n\r\n    async open(packitem: any) {\r\n        this.openPage(this.page, packitem);\r\n    }\r\n\r\n    private page = (item: any) => {\r\n\r\n        let { inquiryQuantity, pack, unit, inquirypurity, itemuser, itemcreateDate, quantity, radio, inquiryUnit, listPrice, price, purity\r\n            , currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto\r\n            , minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, inquiryRemarks, coaFilePath, msdsFilePath, quotationFilePath } = item;\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let { name: inquiryname } = inquiryUnit.obj;\r\n\r\n        let header = <>: {inquiryQuantity} * {pack}{inquiryname}  {inquirypurity}</>\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\">\r\n            <div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{quantity} * {radio}{name} {purity}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{itemuser.id}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={itemcreateDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{listPrice}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packType === 1 ? \"\" : (packType === 2 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTaxIn === 1 ? \"\" : (isTaxIn === 0 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTransFeeIn === 1 ? \"\" : (isTransFeeIn === 0 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{otherFee}{otherFeecurrency === undefined ? \"\" : tv(otherFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={customizeUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={validUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={minArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={maxArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{invoiceType === undefined ? \"\" : (invoiceType === 1 ? \"\" : (invoiceType === 2 ? \"\" : (invoiceType === 3 ? \"\" : \"\")))}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{vatRate === undefined ? \"\" : tv(vatRate, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{tariffRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{inquiryRemarks}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>COA:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{coaFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>MSOS:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{msdsFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{quotationFilePath}</div>\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VInquiryList } from './VInquiryList';\r\nimport { VInquiryDetail } from './VInquiryDetail';\r\nimport { VPackageDetail } from './VPackageDetail';\r\n\r\nclass PageInquiry extends PageItems<any> {\r\n\r\n    private searchInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchInquiry = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CInquiry extends CUqBase {\r\n\r\n    @observable inquirys: PageInquiry;\r\n    @observable productdata: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchInquiryByKey(param);\r\n    }\r\n\r\n    searchInquiryByKey = async (key: string) => {\r\n        this.inquirys = new PageInquiry(this.uqs.rms.GetInquirySheet);\r\n        this.inquirys.first({ key: key });\r\n    }\r\n\r\n    openInquiryDetail = async (id: number) => {\r\n\r\n        let inquiry = await this.uqs.rms.InquirySheet.getSheet(id);\r\n        let { data } = inquiry;\r\n        let { inquiryitems } = data;\r\n        let inquiryItemssGrouped = groupByPack(inquiryitems);\r\n        data.InquiryItems = inquiryItemssGrouped;\r\n        this.openVPage(VInquiryDetail, inquiry);\r\n    }\r\n\r\n    openPackageDetail = async (item: any) => {\r\n        this.openVPage(VPackageDetail, item);\r\n    }\r\n\r\n    renderProduct = (id: BoxId) => {\r\n        return this.renderView(VProductView, id);\r\n    }\r\n\r\n    getProduct = async (pid: number) => {\r\n        let product = await this.uqs.rms.SearchProductById.query({ _id: pid });\r\n        this.productdata = product.ret[0];\r\n        return product.ret[0];\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n\r\nexport class VProductView extends View<CInquiry> {\r\n\r\n    render(param: any): JSX.Element {\r\n        let { controller } = this;\r\n        controller.getProduct(param);\r\n        return <this.contentagency pid={param} />\r\n    }\r\n    protected contentagency = observer((param: any) => {\r\n        let LocationUI;\r\n        let pro = this.controller.productdata;\r\n        if (pro !== undefined) {\r\n            let { description, CAS, purity } = pro;\r\n            LocationUI = <span className=\"text-muted small\">{description}&nbsp;&nbsp;{CAS}&nbsp;&nbsp;{purity}</span>;\r\n        }\r\n        return LocationUI;\r\n    });\r\n}\r\n\r\nexport function groupByPack(packItems: any[]) {\r\n    let result: any[] = [];\r\n    for (let packItem of packItems) {\r\n        let { product, inquiryQuantity, inquiryRadiox, inquiryRadioy, inquiryUnit, inquirypurity, itemuser, itemcreateDate, quantity, radiox, radioy, unit, purity, listPrice, price\r\n            , currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto\r\n            , minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, inquiryRemarks, coaFilePath, msdsFilePath, quotationFilePath } = packItem;\r\n        let packRow: any = {\r\n            inquiryQuantity: inquiryQuantity,\r\n            pack: (inquiryRadiox !== 1) ? <>{inquiryRadiox} * {inquiryRadioy}</> : <>{inquiryRadioy}</>,\r\n            inquiryUnit: inquiryUnit,\r\n            inquirypurity: inquirypurity,\r\n            quantity: quantity,\r\n            radio: (radiox !== 1) ? <>{radiox} * {radioy}</> : <>{radioy}</>,\r\n            unit: unit,\r\n            purity: purity,\r\n            itemuser: itemuser,\r\n            itemcreateDate: itemcreateDate,\r\n            listPrice: listPrice,\r\n            price: price,\r\n            currency: currency,\r\n            isTaxIn: isTaxIn,\r\n            isTransFeeIn: isTransFeeIn,\r\n            transFee: transFee,\r\n            transFeecurrency: transFeecurrency,\r\n            packingFee: packingFee,\r\n            packingcurrency: packingcurrency,\r\n            otherFee: otherFee,\r\n            otherFeecurrency: otherFeecurrency,\r\n            customizeUpto: customizeUpto,\r\n            validUpto: validUpto,\r\n            minArriveDate: minArriveDate,\r\n            maxArriveDate: maxArriveDate,\r\n            invoiceType: invoiceType,\r\n            vatRate: vatRate,\r\n            tariffRate: tariffRate,\r\n            packType: packType,\r\n            inquiryRemarks: inquiryRemarks,\r\n            coaFilePath: coaFilePath,\r\n            msdsFilePath: msdsFilePath,\r\n            quotationFilePath: quotationFilePath\r\n        }\r\n        let cpi = result.find(e => e.product.id === product.id);\r\n        if (cpi === undefined) {\r\n            cpi = { product: product, packs: [] };\r\n            result.push(cpi);\r\n        }\r\n        cpi.packs.push(packRow);\r\n    }\r\n    return result;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA, UiTextItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'id', required: true },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'remarks', type: 'number', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VNewPendingInquiry extends VPage<CNewPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private pendingInquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPackage.pickPackUnit(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            purity: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            remarks: { widget: 'textarea', label: '', placeholder: '', rows: 5 } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(pendingInquiryData: any) {\r\n        this.pendingInquiryData = pendingInquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveNewPendingInquiryData(context.form.data);\r\n    }\r\n    private showProductlData = () => {\r\n\r\n        let { product } = this.controller;\r\n        let { no, supplier, origin, brand, description, descriptionC, CAS, purity } = product;\r\n        let { name } = supplier.obj;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{name}</div>\r\n            </div>\r\n            {brandname === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{brandname}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">CAS:</div><div className=\"col-9 text-muted text-right\">{CAS === undefined ? \"()\" : CAS}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{description}</div>\r\n            </div>\r\n            {descriptionC === undefined ? \"\" : <><div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{descriptionC}</div>\r\n            </div></>\r\n            }\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.pendingInquiryData);\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.showProductlData()}\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'way', type: 'number', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiry extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private supplier: any;\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            way: { widget: 'radio', label: '', list: [{ value: 1, title: 'Email' }, { value: 2, title: '' }, { value: 3, title: '' }] } as UiRadio,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(param: any) {\r\n        this.supplier = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.updatePendingInquiryState(context.form.data, this.supplier);\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.supplier);\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n            <Form ref={v => this.form = v} className=\"my-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                formData={suppplierData}\r\n                onButtonClick={this.onFormButtonClick}\r\n                fieldLabelSize={3}\r\n            />\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryList extends VPage<CNewPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, date } = item;\r\n        let { onShowNewPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted\">\r\n            <EasyDate date={date} />\r\n        </div>\r\n        return <LMR right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => onShowNewPendingInquiryDetail(item)}>\r\n            <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { newpendingInquirys, onNewPendingInquiry, searchNewPendingInquiryByKey, pickProduct } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchNewPendingInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n            <div><span onClick={() => pickProduct()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={newpendingInquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.newpendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryDetail extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private suppplier: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    async open(param: any) {\r\n        let { parent, item, child } = param;\r\n        this.suppplier = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity, inquiryRemarks } = item;\r\n        let { brand, description, descriptionC, origin } = product.obj;\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{name}</> : <>{radioy}{name}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span onClick={() => this.onDelInquiryPackage(item, inquiryPackage)}><FA className=\"align-middle p-2 cursor-pointer text-danger\" name=\"trash\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"p-1 d-flex cursor-pointer\">\r\n            <div onClick={() => this.controller.onEditPendingInquiry(item, inquiryPackage)}>\r\n                <div><FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{origin} {CAS}&nbsp;&nbsp;{quantity} * {radio}&nbsp;&nbsp;{purity}</div>\r\n                <div className=\"px-4 text-muted\">{description}</div>\r\n                <div className=\"px-4 text-muted\"><span className=\"text-muted small\">{inquiryRemarks}</span></div>\r\n            </div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, user, date } = suppplierData;\r\n        let { id } = user;\r\n        let { inquiryContact, defaultContact } = supplier.obj;\r\n        let cont = inquiryContact === undefined ? undefined : defaultContact;\r\n        let contactName = cont === undefined ? undefined : cont.obj.name;\r\n        let contactTelephone = cont === undefined ? undefined : cont.obj.telephone;\r\n        let contactMobile = cont === undefined ? undefined : cont.obj.mobile;\r\n        let contactEmail = cont === undefined ? undefined : cont.obj.email;\r\n\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{id}&nbsp;<EasyDate date={date} /></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\"><span>{contactName}&nbsp;{contactTelephone} {contactMobile} {contactEmail}</span></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private rowEnd = () => {\r\n        let { onPendingInquiry } = this.controller;\r\n\r\n        return this.firstPackage && <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => onPendingInquiry(this.suppplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"chevron-right fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private onDelInquiry = async () => {\r\n        if (await this.vCall(VConfirmDeleteInquiry, this.suppplier) === true) {\r\n            await this.controller.deletePendingInquiryData(this.suppplier);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private onDelInquiryPackage = async (item: any, pack: any) => {\r\n        if (await this.vCall(VConfirmDeleteInquiryPackage, pack) === true) {\r\n            let { id: packid } = pack;\r\n            let { id } = item;\r\n            await this.controller.deletePendingInquiryPackage(id, packid);\r\n            this.closePage();\r\n            await this.controller.onShowNewPendingInquiryDetail(item);\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.suppplier);\r\n\r\n        let right =\r\n            <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelInquiry()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        return <Page right={right} header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            {this.rowEnd()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteInquiry extends VPage<CNewPendingInquiry> {\r\n    async open(inquiryPending: any) {\r\n        this.openPage(this.page, inquiryPending);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiryPending: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteInquiryPackage extends VPage<CNewPendingInquiry> {\r\n    async open(inquiryPackage: any) {\r\n        this.openPage(this.page, inquiryPackage);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiryPackage: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VNewPendingInquiry } from './VNewPendingInquiry';\r\nimport { VPendingInquiry } from './VPendingInquiry';\r\nimport { VNewPendingInquiryList } from './VNewPendingInquiryList';\r\nimport { VNewPendingInquiryDetail } from './VNewPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass NewPagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchNewPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchNewPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchNewPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CNewPendingInquiry extends CUqBase {\r\n\r\n    @observable newpendingInquirys: NewPagePendingInquiry;\r\n    @observable newpendingInquiryList: NewPagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchNewPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchNewPendingInquiryByKey = async (key: string) => {\r\n        this.newpendingInquirys = new NewPagePendingInquiry(this.uqs.rms.SearchNewInquiryPending);\r\n        this.newpendingInquirys.first({ key: key });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewPendingInquiry = async (model: any) => {\r\n        this.product = model;\r\n        this.openVPage(VNewPendingInquiry, undefined);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onEditPendingInquiry = async (model: any, inquiryPackage: any) => {\r\n        this.product = model;\r\n        if (model !== undefined) {\r\n            inquiryPackage.obj.remarks = model.inquiryRemarks;\r\n        }\r\n        this.openVPage(VNewPendingInquiry, inquiryPackage.obj);\r\n    }\r\n\r\n    onPendingInquiry = async (model: any) => {\r\n        this.openVPage(VPendingInquiry, model);\r\n    }\r\n\r\n    pickProduct = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cPickProduct.call();\r\n    }\r\n\r\n    saveNewPendingInquiryData = async (model: any) => {\r\n        if (this.product) {\r\n            let { id, supplier } = this.product;\r\n            let { id: supplierid } = supplier;\r\n            let { quantity, radiox, radioy, unit, remarks, purity } = model;\r\n            let param = {\r\n                supplier: supplierid,\r\n                product: id,\r\n                quantity: quantity,\r\n                radiox: radiox,\r\n                radioy: radioy,\r\n                unit: unit,\r\n                purity: purity,\r\n                remarks: remarks\r\n            };\r\n            if (model.id === undefined) {\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n                this.closePage();\r\n                await this.loadList();\r\n            } else {\r\n                let { supplier, inquiryPending, user, createDate, jsonStr, product } = this.product;\r\n                model.supplier = supplier.id;\r\n                model.product = product.obj.id;\r\n                await this.uqs.rms.InquiryPackage.save(model.id, model);\r\n                await this.uqs.rms.InquiryPendingItem.add({ inquiryPending: inquiryPending, arr1: [{ inquiryPackage: model.id, user: user, createDate: createDate, remarks: remarks, jsonStr: jsonStr }] });\r\n                this.closePage();\r\n                await this.onShowNewPendingInquiryDetail(this.product);\r\n            }\r\n        }\r\n    }\r\n\r\n    deletePendingInquiryData = async (item: any) => {\r\n        let { id } = item;\r\n        let param = {\r\n            id: id,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n    }\r\n\r\n    deletePendingInquiryPackage = async (pendingid: number, packid: number) => {\r\n\r\n        let param = {\r\n            id: pendingid,\r\n            pid: packid,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPackage.submit(param);\r\n    }\r\n\r\n    updatePendingInquiryState = async (model: any, item: any) => {\r\n        let { id, supplier } = item;\r\n        let param = {\r\n            id: id,\r\n            supplier: supplier,\r\n            way: model.way,\r\n        };\r\n        await this.uqs.rms.UpdateInquiryPending.submit(param);\r\n        this.closePage(2);\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowNewPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VNewPendingInquiryDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchNewPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VNewPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import { CAppBase, IConstructor, User, nav } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CUqBase } from \"./CBase\";\r\nimport { VMain } from './ui/main';\r\nimport { CHome } from \"./information/CHome\";\r\nimport { CSupplier } from \"./information/supplier/CSupplier\";\r\nimport { CSupplierContact } from \"./information/supplierContact/CSupplierContact\";\r\nimport { CProduct } from \"./information/product/CProduct\";\r\nimport { CChemical } from \"./information/product/CChemical\";\r\nimport { CBrand } from \"./information/product/CBrand\";\r\nimport { CPackage } from \"./information/package/CPackage\";\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CPickProduct } from 'information/product/CPickProduct';\r\nimport { CPendingInquiry } from 'information/PendingInquiry/CPendingInquiry';\r\nimport { CInquiry } from 'information/Inquiry/CInquiry';\r\nimport { CCurrency } from 'information/PendingInquiry/CCurrency';\r\nimport { CNewPendingInquiry } from 'information/newPendingInquiry/CNewPendingInquiry';\r\n\r\nexport class CApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs as UQs };\r\n\r\n    topKey: any;\r\n    cHome: CHome;\r\n    cSupplier: CSupplier;\r\n    cPickSupplier: CPickSupplier;\r\n    cSupplierContact: CSupplierContact;\r\n    cProduct: CProduct;\r\n    cPickProduct: CPickProduct;\r\n    cChemical: CChemical;\r\n    cBrand: CBrand;\r\n    cPackage: CPackage;\r\n    cPendingInquiry: CPendingInquiry;\r\n    cInquiry: CInquiry;\r\n    cCurrency: CCurrency;\r\n    cNewPendingInquiry: CNewPendingInquiry;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n\r\n        this.cHome = this.newC(CHome);\r\n        this.cSupplier = this.newC(CSupplier);\r\n        this.cPickSupplier = this.newC(CPickSupplier);\r\n        this.cProduct = this.newC(CProduct);\r\n        this.cPickProduct = this.newC(CPickProduct);\r\n        this.cChemical = this.newC(CChemical);\r\n        this.cBrand = this.newC(CBrand);\r\n        this.cPackage = this.newC(CPackage);\r\n        this.cSupplierContact = this.newC(CSupplierContact);\r\n        this.cPendingInquiry = this.newC(CPendingInquiry);\r\n        this.cInquiry = this.newC(CInquiry);\r\n        this.cCurrency = this.newC(CCurrency);\r\n        this.cNewPendingInquiry = this.newC(CNewPendingInquiry);\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cSupplier.start());\r\n        await Promise.all(promises);\r\n        this.showMain();\r\n        this.topKey = nav.topKey();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n    async loginCallBack(user: User) {\r\n\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { tv } from 'tonva';\r\n\r\nexport const tvAddress = (values: any) => {\r\n    let { country, province, city, county } = values;\r\n    return <>\r\n        {tv(country)}{tv(province, undefined, undefined, () => <></>)}{tv(city, undefined, undefined, () => <></>)}{tv(county, undefined, undefined, () => <></>)}\r\n    </>\r\n}\r\n\r\nexport const tvCountry = (values: any) => {\r\n    return <> {values.chineseName} </>;\r\n}\r\n\r\nexport const tvCurrency = (values: any) => {\r\n    return <> {values.name} </>;\r\n}\r\n\r\nexport const common = {\r\n    address: tvAddress,\r\n    country: tvCountry,\r\n    province: tvCountry,\r\n    city: tvCountry,\r\n    county: tvCountry,\r\n    currency: tvCurrency,\r\n};\r\n","import { AppConfig } from \"tonva\";\r\nimport { tvs } from \"./tvs\";\r\nimport AnalyticalChemistry from './images/AnalyticalChemistry.png';\r\nimport LabSupplies from './images/LabSupplies.png';\r\nimport LifeScience from './images/LifeScience.png';\r\nimport MaterialScience from './images/MaterialScience.png';\r\nimport OrganicChemistry from './images/OrganicChemistry.png';\r\n\r\nexport const appConfig: AppConfig = {\r\n    appName: '/rms',\r\n    version: '1.0.1',\r\n    tvs: tvs,\r\n    oem: ''\r\n};","import { TVs } from \"tonva\";\r\nimport { common } from \"./common\";\r\n\r\nexport const tvs: TVs = {\r\n    common: common,\r\n}","import * as React from 'react';\r\nimport './App.css';\r\nimport { NavView, nav, start } from 'tonva';\r\nimport { CApp } from './CApp';\r\nimport { appConfig } from './configuration';\r\n\r\nnav.setSettings(appConfig);\r\n\r\nclass App extends React.Component {\r\n\r\n  private onLogined = async () => {\r\n    await start(CApp, appConfig);\r\n  }\r\n  public render() {\r\n    // return <NavView onLogined={this.onLogined} notLogined={this.onLogined} />\r\n    return <NavView onLogined={this.onLogined} />\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}