{"version":3,"sources":["ui/main.tsx","CBase.ts","information/VHome.tsx","information/CHome.tsx","tools/inputValidations.ts","information/supplier/VSupplier.tsx","information/supplier/VSupplierBankAccount.tsx","information/supplier/VSupplierBankAccountDetail.tsx","information/supplier/VSupplierList.tsx","information/supplier/VSupplierDetail.tsx","information/supplierContact/VAddress.tsx","information/supplierContact/CAddress.tsx","information/supplier/CSupplier.tsx","information/supplierContact/VSupplierContact.tsx","information/supplierContact/VSupplierContactDetail.tsx","information/supplierContact/CSupplierContact.tsx","information/product/VAddProduct.tsx","information/product/VProductDetail.tsx","information/product/VProductList.tsx","information/supplier/VPickSupplier.tsx","information/supplier/CPickSupplier.tsx","information/product/VBrand.tsx","information/product/VPickBrand.tsx","information/product/CBrand.tsx","information/product/CProduct.tsx","information/product/VChemical.tsx","information/product/CChemical.tsx","information/package/VPackage.tsx","information/package/VPackageDetail.tsx","information/package/CPackage.tsx","information/product/VPickProduct.tsx","information/product/CPickProduct.tsx","information/PendingInquiry/VPendingInquiryList.tsx","information/PendingInquiry/VPendingInquiryDetail.tsx","information/PendingInquiry/VCurrency.tsx","information/PendingInquiry/CCurrency.tsx","information/PendingInquiry/VPendingInquiryResult.tsx","information/PendingInquiry/CPendingInquiry.tsx","information/Inquiry/VInquiryList.tsx","information/Inquiry/VInquiryDetail.tsx","information/Inquiry/VPackageDetail.tsx","information/Inquiry/CInquiry.tsx","information/newPendingInquiry/VNewPendingInquiry.tsx","information/newPendingInquiry/VPendingInquiry.tsx","information/newPendingInquiry/VNewPendingInquiryList.tsx","information/newPendingInquiry/VNewPendingInquiryDetail.tsx","information/newPendingInquiry/CNewPendingInquiry.tsx","CApp.tsx","tvs/common.tsx","configuration.ts","tvs/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["color","selected","VMain","render","param","controller","cHome","cProduct","cPendingInquiry","cInquiry","cNewPendingInquiry","faceTabs","name","label","icon","content","tab","notify","undefined","onShown","loadList","map","v","caption","TabCaptionComponent","header","tabs","this","openPage","VPage","CUqBase","_cApp","_uqs","CBase","CSub","VHome","page","cApp","cSupplier","onNewSupplier","searchSupplierByKey","right","className","size","onSearch","key","placeholder","onClick","style","fontSize","onScrollBottom","headerClassName","toSupplierList","a","suppliers","more","View","CHome","renderRootList","renderView","start","openVPage","telephoneValidation","value","test","mobileValidation","emailValidation","faxValidation","addressDetailValidation","length","zipCodeValidation","departmentNameValidation","nameValidation","schema","type","required","VSupplier","form","supplierData","uiSchema","items","id","visible","widget","abbreviation","webSite","address","pickId","context","pickAddress","Templet","tv","addressValue","country","province","city","county","chineseName","addressString","rules","productionAddress","taxNo","profile","rows","submit","onFormButtonClick","saveSupplierData","data","onDelSupplier","vCall","VConfirmDeleteSupplier","delSupplier","closePage","buttonDel","descriptionData","_","clone","ref","formData","onButtonClick","fieldLabelSize","onConfirm","returnCall","onCancel","supplier","back","left","top","VSupplierBankAccount","accountName","accountNo","bank","bankAddress","usageType","list","title","bankSWIFT","bankIBAN","bankRTN","saveSupplierBankData","VSupplierBankAccountDetail","bankAccount","bankData","loadBank","item","uqs","rms","BankAccount","load","rowTop","onBankDataChanged","itemSchema","newValue","preValue","updateBankAccountData","onShowSupplierBankAccount","onDelSupplierBankAccount","VConfirmDeleteSupplierBankAccount","delSupplierBankAccount","onSupplierSelected","onItemChanged","parent","supplierBankAccount","VSupplierList","renderRootCategory","no","onEditSupplier","observer","VSupplierDetail","firstSupplierContact","supplierContacts","firstSupplierrBankAccount","supplierBankAccounts","getSupplierBankAccount","cSupplierContact","showCreateSupplierContact","onNewSupplierBankAccount","renderBankAccount","getSupplierContact","pickChemical","renderContact","index","showSupplierContactDetail","gender","mobile","telephone","email","defaultContact","fa_text","fa_gender","tele","mob","ema","onSupplierDataChanged","updateSupplierData","child","item2","child2","VAddress","countryId","provinceId","cityId","countyId","backLevel","countrys","renderPCC","onCountryClick","pcc","border","marginRight","marginBottom","getCountryProvince","provinces","len","onProvinceClick","openPageElement","saveAddress","getProvinceCities","cities","onCityClick","getCityCounties","counties","onCountyClick","getCountry","CAddress","common","Country","search","GetCountryProvinces","table","GetProvinceCities","GetCityCounties","Address","save","newAddress","addressId","boxId","PageSupplier","searchQuery","searchSupplier","firstSize","pageSize","pageStart","ret","PageItems","CSupplier","SearchSupplier","first","cAddress","newC","call","cChemical","isValid","Supplier","newBank","SupplierBankAccount","add","arr1","description","SearchSupplierContact","query","_id","contact","SearchSupplierBankAccount","del","bankdata","observable","VSupplierContact","firstName","lastName","salutation","position","departmentName","wechatId","fax","zipCode","isDefault","defaultValue","saveSupplierContact","requiredFlag","VSupplierContactDetail","contactData","loadContact","SupplierContact","onContactDataChanged","updateContactData","onDelSupplierContact","VConfirmDeleteContact","delSupplierContact","CSupplierContact","model","parrm","result","sid","showSupplierContact","supplierContact","VAddProduct","productData","pickSupplier","brand","pickBrand","origin","chemical","descriptionC","purity","saveProductData","showChemicalData","CAS","molecularFomula","descriptoinCN","molecularWeight","mdlNumber","VProductDetail","product","firstPackage","packages","purityData","loadProduct","getPackage","showCreatePackage","cPackage","onNewPendingInquiry","showd","obj","renderPackage","onDelPackage","VConfirmDeletePakage","delPakage","showPackageDetail","showEditPackage","radiox","radioy","unit","price","currency","validUpto","minArriveDate","maxArriveDate","radio","valid","Date","now","date","down","mi","arriveDate","createTime","suppliername","supplierno","brandno","onPurityChanged","updateProductData","showProductDetail","onDelProduct","VConfirmDeleteProduct","delProduct","pakage","VProductList","pickType","showcas","showpurity","pickSelect","VSelectType","products","searchProductByKey","onNewProduct","filter","VPickSupplier","renderItem","returnSupplier","CPickSupplier","VBrand","brandData","saveBrandData","VPickBrand","brands","searchBrandByKey","onNewBrand","returnBrand","PageBrand","searchBrand","CBrand","SearchBrand","RsBrand","onEditBrand","PageProduct","searchProduct","CProduct","SearchProduct","cPickSupplier","cBrand","isTrue","Product","RsProductChemical","productdata","GetPack","pitem","ppackage","saveArr","VChemical","chemicals","searchChemicalByKey","PageChemical","searchChemical","CChemical","SearchChemical","VPackage","quantity","pickCurrency","isTaxIn","isTransFeeIn","transFee","transFeecurrency","packingFee","packingcurrency","otherFee","otherFeecurrency","customizeUpto","invoiceType","vatRate","tariffRate","savePackage","VPackageDetail","package","packageData","PagePackage","searchPackage","CPackage","searchPackageByKey","pagePackage","paramn","AddPackage","showPackage","VPickProduct","CPickProduct","VPendingInquiryList","inquiryDate","onShowPendingInquiryDetail","pendingInquirys","searchPendingInquiryByKey","VPendingInquiryDetail","pending","inquiryPackage","user","createDate","inquiryRemarks","openPendingInquiryResult","rowEnd","onEndInquiry","VConfirmEndInquiry","saveInquiryData","suppplierData","contactName","contactTelephone","contactSalutation","contactDepartmentName","contactMobile","contactEmail","way","contactfax","inquiryUser","remarks","inid","inquiry","VCurrency","currencys","renderCurrency","onCurrencyClick","returnCurrency","CCurrency","Currency","VPendingInquiryResult","inquiryData","listPrice","packType","row","coaFilePath","msdsFilePath","quotationFilePath","saveInquiryPackage","PagePendingInquiry","searchPendingInquiry","CPendingInquiry","SearchInquiryPending","savePendingInquiryData","supplierid","AddInquiryPending","getDataForSave","inquiryItems","forEach","pk","jsonStr","pack","JSON","parse","push","inquiryQuantity","inquiryRadiox","inquiryRadioy","inquiryUnit","itemuser","itemcreateDate","inquiryitems","packageList","InquirySheet","action","flow","state","DeleteInquiryPending","InquiryPendingItem","inquiryPending","stringify","rremarks","AddPackagePrice","SearchInquiryPendingBySupplier","cCurrency","newinquiryPending","newinquiryPackage","newjsonStr","VInquiryList","startDate","sheet","openInquiryDetail","inquirys","searchInquiryByKey","VInquiryDetail","renderPackageItem","openPackageDetail","renderProductItem","packs","renderProduct","brief","InquiryItems","packitem","PageInquiry","searchInquiry","CInquiry","GetInquirySheet","getSheet","inquiryItemssGrouped","groupByPack","VProductView","getProduct","pid","SearchProductById","contentagency","LocationUI","pro","packItems","packItem","packRow","cpi","find","e","VNewPendingInquiry","pendingInquiryData","saveNewPendingInquiryData","showProductlData","brandname","VPendingInquiry","updatePendingInquiryState","VNewPendingInquiryList","onShowNewPendingInquiryDetail","newpendingInquirys","searchNewPendingInquiryByKey","pickProduct","VNewPendingInquiryDetail","suppplier","onDelInquiryPackage","onPendingInquiry","onDelInquiry","VConfirmDeleteInquiry","deletePendingInquiryData","VConfirmDeleteInquiryPackage","packid","deletePendingInquiryPackage","NewPagePendingInquiry","searchNewPendingInquiry","CNewPendingInquiry","SearchNewInquiryPending","pendingInquiry","cPickProduct","pendingid","DeleteInquiryPackage","UpdateInquiryPending","CApp","topKey","promises","Promise","all","showMain","nav","initTabName","CAppBase","tvCountry","values","appConfig","appName","version","tvs","oem","setSettings","App","onLogined","React","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2c8f36e4.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\r\nimport { CApp } from '../CApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\n\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    render = (param?: any): JSX.Element => {\r\n        let { cHome, cProduct, cPendingInquiry, cInquiry, cNewPendingInquiry } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'supplier', label: '', icon: 'glide', content: cHome.tab, notify: undefined },\r\n            { name: 'product', label: '', icon: 'flask', content: cProduct.tab, onShown: cProduct.loadList },\r\n            { name: 'pendingInquiry', label: '', icon: 'pencil-square-o', content: cNewPendingInquiry.tab, onShown: cNewPendingInquiry.loadList },\r\n            { name: 'inquirying', label: '', icon: 'check-square-o ', content: cPendingInquiry.tab, onShown: cPendingInquiry.loadList },\r\n            { name: 'inquiry', label: '', icon: 'bandcamp', content: cInquiry.tab, onShown: cInquiry.loadList }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify, onShown } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n                onShown: onShown,\r\n            }\r\n        });\r\n        return <Page header={false}>\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import { CSub, CBase } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CApp } from \"./CApp\";\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): CUqBase { return this._owner as CUqBase; };\r\n}\r\n","import * as React from 'react';\r\nimport { CHome } from './CHome';\r\nimport { Page, View, SearchBox } from 'tonva';\r\n\r\nexport class VHome extends View<CHome> {\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = () => {\r\n        let { onNewSupplier, searchSupplierByKey } = this.controller.cApp.cSupplier;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"\" />\r\n            <div><span onClick={() => onNewSupplier()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        return <Page right={right} header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <this.content />\r\n        </Page>;\r\n    };\r\n\r\n    private content = () => {\r\n        let { controller } = this;\r\n        let { toSupplierList } = controller;\r\n        return <>\r\n            {toSupplierList()}\r\n        </>\r\n    };\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.cApp.cSupplier.suppliers.more();\r\n    }\r\n}","import { CUqBase } from '../CBase';\r\nimport { VHome } from './VHome';\r\n\r\nexport class CHome extends CUqBase {\r\n\r\n    async internalStart(param: any) {\r\n\r\n        let { cSupplier } = this.cApp;\r\n        await cSupplier.start();\r\n        this.openVPage(VHome);\r\n    }\r\n\r\n    toSupplierList = () => {\r\n        let { cSupplier } = this.cApp;\r\n        return cSupplier.renderRootList();\r\n    }\r\n    tab = () => this.renderView(VHome);\r\n}","\r\nexport function telephoneValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function mobileValidation(value: string) {\r\n    if (value && !/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function emailValidation(value: string) {\r\n    if (value && !/\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(value))\r\n        return \"Email\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function faxValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function addressDetailValidation(value: string) {\r\n    return (value && value.length > 200) ? \"200\" : undefined;\r\n}\r\n\r\nexport function zipCodeValidation(value: string) {\r\n    return (value && value.length > 15) ? \"\" : undefined;\r\n}\r\n\r\n\r\nexport function organizationNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function departmentNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function salutationValidation(value: string) {\r\n    return (value && value.length > 100) ? \"100\" : undefined;\r\n}\r\n\r\nexport function nameValidation(value: string) {\r\n    return (value && value.length > 50) ? \"50\" : undefined;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, BoxId, tv, UiIdItem, UiTextItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'abbreviation', type: 'string', required: false },\r\n    { name: 'webSite', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: true },\r\n    { name: 'addressString', type: 'string', required: true },\r\n    { name: 'productionAddress', type: 'string', required: false },\r\n    { name: 'taxNo', type: 'string', required: false },\r\n    { name: 'profile', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VSupplier extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            abbreviation: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            webSite: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            address: {\r\n                widget: 'id', label: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">()</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\"></small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '', placeholder: '', rules: addressDetailValidation } as UiTextItem,\r\n            productionAddress: { widget: 'text', label: '', placeholder: '', rules: addressDetailValidation } as UiTextItem,\r\n            taxNo: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            profile: { widget: 'textarea', label: '', placeholder: '', rows: 10 } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierData(context.form.data);\r\n    }\r\n\r\n    private onDelSupplier = async () => {\r\n        if (await this.vCall(VConfirmDeleteSupplier, this.supplierData) === true) {\r\n            await this.controller.delSupplier(this.supplierData);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        let buttonDel: any;\r\n        if (descriptionData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplier()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"\" right={buttonDel} headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n\r\n\r\nclass VConfirmDeleteSupplier extends VPage<CSupplier> {\r\n    async open(supplier: any) {\r\n        this.openPage(this.page, supplier);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (supplier: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, BoxId, tv, UiIdItem, UiTextItem, UiRadio } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'accountName', type: 'string', required: true },\r\n    { name: 'accountNo', type: 'string', required: true },\r\n    { name: 'bank', type: 'string', required: true },\r\n    { name: 'bankAddress', type: 'string', required: true },\r\n    { name: 'usageType', type: 'number', required: true },\r\n    { name: 'bankSWIFT', type: 'string', required: false },\r\n    { name: 'bankIBAN', type: 'string', required: false },\r\n    { name: 'bankRTN', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VSupplierBankAccount extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            accountName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            accountNo: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            bank: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            bankAddress: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            usageType: { widget: 'radio', label: '', list: [{ value: 0, title: '' }, { value: 1, title: '' }] } as UiRadio,\r\n            bankSWIFT: { widget: 'text', label: 'SWIFT/BIC', placeholder: 'SWIFT/BIC' } as UiInputItem,\r\n            bankIBAN: { widget: 'text', label: 'IBAN', placeholder: 'IBAN' } as UiInputItem,\r\n            bankRTN: { widget: 'text', label: 'RTN ', placeholder: 'RTN ' } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierBankData(context.form.data, this.supplierData);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem, UiRadio, BoxId } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CSupplier } from './CSupplier';\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'accountName', type: 'string', required: true },\r\n    { name: 'accountNo', type: 'string', required: true },\r\n    { name: 'bank', type: 'string', required: true },\r\n    { name: 'bankAddress', type: 'string', required: true },\r\n    { name: 'usageType', type: 'number', required: true },\r\n    { name: 'bankSWIFT', type: 'string', required: false },\r\n    { name: 'bankIBAN', type: 'string', required: false },\r\n    { name: 'bankRTN', type: 'string', required: false },\r\n];\r\n\r\n\r\nexport class VSupplierBankAccountDetail extends VPage<CSupplier> {\r\n    private supplier: any;\r\n    private bankAccount: any;\r\n    private bankData: any;\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item } = param;\r\n        this.supplier = parent;\r\n        await this.loadBank(item);\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private loadBank = async (item: any) => {\r\n        this.bankAccount = await this.controller.cApp.uqs.rms.BankAccount.load(item.id);\r\n        let { bankAddress, bankSWIFT, bankIBAN, bankRTN, bank, accountNo, accountName, usageType } = this.bankAccount;\r\n        this.bankData = {\r\n            bankAddress: bankAddress,\r\n            bankSWIFT: bankSWIFT,\r\n            bankIBAN: bankIBAN,\r\n            bankRTN: bankRTN,\r\n            bank: bank,\r\n            accountNo: accountNo,\r\n            accountName: accountName,\r\n            usageType: usageType\r\n        };\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            accountName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            accountNo: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            bank: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            bankAddress: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            usageType: { widget: 'radio', label: '', list: [{ value: 0, title: '' }, { value: 1, title: '' }] } as UiRadio,\r\n            bankSWIFT: { widget: 'text', label: 'SWIFT/BIC', placeholder: 'SWIFT/BIC' } as UiInputItem,\r\n            bankIBAN: { widget: 'text', label: 'IBAN', placeholder: 'IBAN' } as UiInputItem,\r\n            bankRTN: { widget: 'text', label: 'RTN ', placeholder: 'RTN ' } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private rowTop = () => {\r\n\r\n        let { name } = this.supplier;\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">:</div><div className=\"col-8 text-muted text-right\"><b>{name}</b></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onBankDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.bankAccount[name] = newValue;\r\n        await this.controller.updateBankAccountData(this.bankAccount);\r\n        this.closePage();\r\n        this.controller.cApp.cSupplier.onShowSupplierBankAccount(this.supplier, this.bankAccount);\r\n    }\r\n\r\n    private onDelSupplierBankAccount = async () => {\r\n        if (await this.vCall(VConfirmDeleteSupplierBankAccount, this.bankAccount) === true) {\r\n            await this.controller.delSupplierBankAccount(this.bankAccount, this.supplier);\r\n            this.closePage();\r\n            this.controller.onSupplierSelected(this.supplier);\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let bankAccountData = _.clone(this.bankAccount);\r\n        let buttonDel: any;\r\n        if (bankAccountData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplierBankAccount()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop()}\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.bankData}\r\n                onItemChanged={this.onBankDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteSupplierBankAccount extends VPage<CSupplier> {\r\n    async open(supplierBankAccount: any) {\r\n        this.openPage(this.page, supplierBankAccount);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (supplierBankAccount: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, tv } from 'tonva';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nexport class VSupplierList extends View<CSupplier> {\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, name, address, addressString } = item;\r\n        let { onSupplierSelected, onEditSupplier } = this.controller;\r\n        let right = <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditSupplier(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        return <LMR right={right} className=\"px-3 d-flex p-1 cursor-pointer\">\r\n            <div onClick={() => onSupplierSelected(item)}>\r\n                <b>{name}</b>\r\n                <div className=\"small py-1 text-muted\">{tv(address)} {addressString}</div>\r\n            </div>\r\n        </LMR>\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.content />\r\n    }\r\n\r\n    private content = observer(() => {\r\n        let { suppliers } = this.controller;\r\n        return <List items={suppliers} item={{ render: this.renderRootCategory }} />;\r\n    });\r\n} \r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, Edit, EasyDate, tv, LMR, List, UiIdItem, UiTextItem, ItemSchema, UiSchema, UiInputItem, Form, Context, BoxId } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from \"./CSupplier\";\r\nimport { ParamItem } from \"model/supplierItem\";\r\nimport { TuidBoxDiv } from 'tonva/dist/uq/tuid/tuid';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nexport class VSupplierDetail extends VPage<CSupplier> {\r\n\r\n    private supplier: any;\r\n    private firstSupplierContact: any;\r\n    private supplierContacts: any[] = [];\r\n    private firstSupplierrBankAccount: any;\r\n    private supplierBankAccounts: any[] = [];\r\n\r\n    async open(param: ParamItem) {\r\n        let { parent, item, child, item2, child2 } = param;\r\n        this.supplier = parent;\r\n        this.firstSupplierContact = item;\r\n        this.supplierContacts = child;\r\n        this.firstSupplierrBankAccount = item2;\r\n        this.supplierBankAccounts = child2;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getSupplierBankAccount = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.controller.onNewSupplierBankAccount(this.supplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"bank\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n            <div>\r\n                {this.firstSupplierrBankAccount && <List items={this.supplierBankAccounts} item={{ render: this.renderBankAccount }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private getSupplierContact = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div>\r\n            <div className=\" d-flex px-3 py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => showCreateSupplierContact(this.supplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b></b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n                <div className=\"flex-grow-1\"></div>\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.controller.pickChemical(this.supplier)} >\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"filter\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </ button>\r\n            </div>\r\n            <div>\r\n                {this.firstSupplierContact && <List items={this.supplierContacts} item={{ render: this.renderContact }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private renderBankAccount = (item: any, index: number) => {\r\n        let { onShowSupplierBankAccount } = this.controller;\r\n        let { bankAddress, bankSWIFT, bankIBAN, bankRTN, bank, accountNo, accountName, usageType } = item;\r\n        let left = <div className=\"px-2\">\r\n            <FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{accountName}\r\n            <div className=\"small px-4 text-muted\">{accountNo}</div>\r\n            <div className=\"small px-4 text-muted\">{bankAddress}</div>\r\n        </div>\r\n        let right =\r\n            <div className=\"px-2 text-right text-muted\">\r\n                {usageType === 0 ? \"\" : \"\"}\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => onShowSupplierBankAccount(this.supplier, item)}>\r\n        </LMR>;\r\n    }\r\n\r\n    private renderContact = (item: any, index: number) => {\r\n        let { showSupplierContactDetail } = this.controller.cApp.cSupplierContact;\r\n        let { no, name, id, gender, mobile, telephone, email } = item;\r\n        let { defaultContact } = this.supplier;\r\n        let fa_text = defaultContact === undefined ? \"px-2\" : (defaultContact.id === id ? \"px-2 text-info \" : \"px-2 \");\r\n        let fa_gender = gender === \"0\" ? <FA name=\"female\" className=\"px-2 text-danger\"></FA> : <FA name=\"male\" className=\"px-2 text-primary\"></FA>;\r\n        let tele = (telephone === undefined) ? <span></span> :\r\n            <div className=\"small text-muted\">{telephone}</div>;\r\n        let mob = (mobile === undefined) ? <span></span> :\r\n            <div className=\"small text-muted\">{mobile}</div>;\r\n\r\n        let ema = (email === undefined) ? <span></span> :\r\n            <div className=\"small px-4 text-muted\">{email}</div>;\r\n\r\n        let left = <div className={fa_text}>\r\n            {fa_gender}{name}\r\n            {ema}\r\n        </div>\r\n        let right =\r\n            <div className=\"px-2 text-right\">\r\n                {tele}\r\n                {mob}\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => showSupplierContactDetail(item, this.supplier)}>\r\n        </LMR>;\r\n    }\r\n\r\n    private onSupplierDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.supplier[name] = newValue;\r\n        await this.controller.updateSupplierData(this.supplier);\r\n    }\r\n\r\n    private rowTop = (supplierData: any) => {\r\n        let { name, no, abbreviation, webSite, address, addressString, productionAddress, profile, taxNo } = supplierData;\r\n\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\"><b>{name}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{webSite === undefined ? \"()\" : webSite}</div>\r\n            </div>\r\n            {taxNo === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{taxNo}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{tv(address)} {addressString}</div>\r\n            </div>\r\n            {productionAddress === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{productionAddress}</div>\r\n                </div></>}\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let supplierData = _.clone(this.supplier);\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(supplierData)}\r\n            {this.getSupplierBankAccount()}\r\n            {this.getSupplierContact()}\r\n        </Page>\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List, FA } from 'tonva';\r\nimport { CAddress } from './CAddress';\r\n\r\nexport class VAddress extends VPage<CAddress> {\r\n    private countryId: number;\r\n    private provinceId: number;\r\n    private cityId: number;\r\n    private countyId: number;\r\n    private backLevel = 0;\r\n\r\n    async open(param: any) {\r\n\r\n        let countrys = await this.controller.getCountry();\r\n        this.openPage(this.page, { countrys: countrys });\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        this.backLevel++;\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"row no-gutters\">\r\n                {param.countrys.map((v: any) => this.renderPCC(v, this.onCountryClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPCC = (pcc: BoxId, onClick: any) => {\r\n        return <div key={pcc.id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            {tv(pcc, (value) => {\r\n                let { id, chineseName } = value;\r\n                return <>\r\n                    <div className=\"pt-1 pb-1 px-2\" onClick={() => onClick(id)}\r\n                        style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n                    >\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                            &nbsp; {chineseName}\r\n                        </span>\r\n                    </div>\r\n                </>;\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    private onCountryClick = async (countryId: any) => {\r\n        this.countryId = countryId;\r\n        let provinces = await this.controller.getCountryProvince(countryId);\r\n        if (provinces) {\r\n            let len = provinces.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onProvinceClick(provinces[0].province.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"\">\r\n                        <div className=\"row no-gutters\">\r\n                            {provinces.map(v => this.renderPCC(v.province, this.onProvinceClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let len = cities.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onCityClick(cities[0].city.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"\">\r\n                        <div className=\"row no-gutters\">\r\n                            {cities.map(v => this.renderPCC(v.city, this.onCityClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            this.openPageElement(<Page header=\"\">\r\n                <div className=\"row no-gutters\">\r\n                    {counties.map(v => this.renderPCC(v.county, this.onCountyClick))}\r\n                </div>\r\n            </Page>);\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        this.closePage(this.backLevel);\r\n        this.saveAddress();\r\n    }\r\n\r\n    private saveAddress = async () => {\r\n        await this.controller.saveAddress(this.countryId, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n","import { VAddress } from './VAddress';\r\nimport { CUqBase } from 'CBase';\r\n\r\nexport class CAddress extends CUqBase {\r\n    protected async internalStart() {\r\n        this.openVPage(VAddress);\r\n    }\r\n\r\n    getCountry = async (): Promise<any[]> => {\r\n        return await this.uqs.common.Country.search(\"\", 0, 300);\r\n    }\r\n\r\n    getCountryProvince = async (countryId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCountryProvinces.table({ country: countryId });\r\n    }\r\n\r\n    getProvinceCities = async (provinceId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetProvinceCities.table({ province: provinceId });\r\n    }\r\n\r\n    getCityCounties = async (cityId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCityCounties.table({ city: cityId });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId?: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.returnCall(addressId);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VSupplier } from './VSupplier';\r\nimport { VSupplierBankAccount } from './VSupplierBankAccount';\r\nimport { VSupplierBankAccountDetail } from './VSupplierBankAccountDetail';\r\nimport { VSupplierList } from './VSupplierList';\r\nimport { VHome } from '../VHome';\r\nimport { VSupplierDetail } from './VSupplierDetail';\r\nimport { ParamItem, SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"../supplierContact/CAddress\";\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    pickChemical = async (supplier: any): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call(supplier);\r\n    }\r\n\r\n    renderRootList() {\r\n        return this.renderView(VSupplierList);\r\n    }\r\n\r\n    saveSupplierData = async (supplier: any) => {\r\n\r\n        let name = supplier.name;\r\n        if (supplier.id === undefined) {\r\n            supplier.defaultContact = undefined;\r\n            supplier.isValid = 1;\r\n            await this.uqs.rms.Supplier.save(undefined, supplier);\r\n        } else {\r\n            let { id } = supplier;\r\n            let bankmap: any[] = [];\r\n            supplier.isValid = 1;\r\n            await this.uqs.rms.Supplier.save(id, supplier);\r\n        }\r\n        this.closePage();\r\n        await this.searchSupplierByKey(name);\r\n    }\r\n\r\n    saveSupplierBankData = async (param: any, supplier: any) => {\r\n\r\n        if (supplier.id !== undefined) {\r\n            let newBank = await this.uqs.rms.BankAccount.save(undefined, param);\r\n            await this.uqs.rms.SupplierBankAccount.add({ supplier: supplier.id, arr1: [{ bankAccount: newBank.id }] });\r\n        }\r\n        this.cApp.cSupplier.onSupplierSelected(supplier);\r\n        this.closePage();\r\n    }\r\n\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewSupplier = async () => {\r\n        this.openVPage(VSupplier, { description: undefined });\r\n    }\r\n\r\n    /**\r\n* \r\n*/\r\n    onEditSupplier = async (supplier: any) => {\r\n        this.openVPage(VSupplier, supplier);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    updateSupplierData = async (supplier: any) => {\r\n        supplier.isValid = 1;\r\n        await this.uqs.rms.Supplier.save(supplier.id, supplier);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewSupplierBankAccount = async (supplier: any) => {\r\n        this.openVPage(VSupplierBankAccount, supplier);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowSupplierBankAccount = async (supplier: any, supplierBankAccount: any) => {\r\n\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: supplierBankAccount,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierBankAccountDetail, param);\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onSupplierSelected = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        let contact = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let bankAccount = await this.uqs.rms.SearchSupplierBankAccount.query({ _id: id });\r\n        let param: ParamItem = {\r\n            parent: supplier,\r\n            item: contact.ret[0],\r\n            child: contact.ret,\r\n            item2: bankAccount.ret[0],\r\n            child2: bankAccount.ret,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n\r\n    delSupplier = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        supplier.isValid = 0;\r\n        await this.uqs.rms.Supplier.save(id, supplier);\r\n    }\r\n\r\n    delSupplierBankAccount = async (bankAccount: any, supplier: any) => {\r\n        let { id } = supplier;\r\n        await this.uqs.rms.SupplierBankAccount.del({ supplier: id, arr1: [{ bankAccount: bankAccount.id }] });\r\n    }\r\n\r\n    updateBankAccountData = async (bankdata: any) => {\r\n        let { id } = bankdata;\r\n        await this.uqs.rms.BankAccount.save(id, bankdata);\r\n    }\r\n\r\n\r\n\r\n    loadList = async () => {\r\n        await this.searchSupplierByKey(\"\");\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CSupplierContact } from './CSupplierContact';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\n\r\nexport class VSupplierContact extends VPage<CSupplierContact> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'gender', type: 'string', required: true },\r\n        { name: 'firstName', type: 'string', required: false },\r\n        { name: 'lastName', type: 'string', required: false },\r\n        { name: 'salutation', type: 'string', required: false },\r\n        { name: 'position', type: 'string', required: false },\r\n        { name: 'departmentName', type: 'string', required: false },\r\n        { name: 'telephone', type: 'string', required: false },\r\n        { name: 'mobile', type: 'string', required: false },\r\n        { name: 'wechatId', type: 'string', required: false },\r\n        { name: 'email', type: 'string' },\r\n        { name: 'fax', type: 'string', required: false },\r\n        { name: 'address', type: 'id', required: false },\r\n        { name: 'addressString', type: 'string', required: false },\r\n        { name: 'zipCode', type: 'string', required: false },\r\n        { name: 'isDefault', type: 'boolean', required: false },\r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '', list: [{ value: '1', title: '' }, { value: '0', title: '' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '', placeholder: '', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            salutation: { widget: 'radio', label: '', list: [{ value: 'Mr.', title: 'Mr.' }, { value: 'Ms.', title: 'Ms.' }] } as UiRadio,\r\n            position: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '', placeholder: '', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '', placeholder: '', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '', placeholder: '', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiTextItem,\r\n            fax: { widget: 'text', label: '', placeholder: '', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">()</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* tvtvbug, Henry */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\"></small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '', placeholder: '', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '', placeholder: '', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'checkbox', label: '', defaultValue: false },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { saveSupplierContact } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await saveSupplierContact(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.item}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Edit, Form, UiRadio, ItemSchema, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplierContact } from \"./CSupplierContact\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'gender', type: 'string', required: true },\r\n    { name: 'firstName', type: 'string', required: false },\r\n    { name: 'lastName', type: 'string', required: false },\r\n    { name: 'salutation', type: 'string', required: false },\r\n    { name: 'position', type: 'string', required: false },\r\n    { name: 'departmentName', type: 'string', required: false },\r\n    { name: 'telephone', type: 'string', required: false },\r\n    { name: 'mobile', type: 'string', required: false },\r\n    { name: 'wechatId', type: 'string', required: false },\r\n    { name: 'email', type: 'string' },\r\n    { name: 'fax', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: false },\r\n    { name: 'addressString', type: 'string', required: false },\r\n    { name: 'zipCode', type: 'string', required: false },\r\n    { name: 'isDefault', type: 'number', required: false },\r\n];\r\n\r\nexport class VSupplierContactDetail extends VPage<CSupplierContact> {\r\n\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    private contactData: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        await this.loadContact(item);\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private loadContact = async (item: any) => {\r\n        this.item = await this.controller.cApp.uqs.rms.SupplierContact.load(item.id);\r\n        let { bankAddress, bankSWIFT, bankIBAN, bankRTN, bank, accountNo, accountName, usageType } = this.item;\r\n        this.contactData = {\r\n            bankAddress: bankAddress,\r\n            bankSWIFT: bankSWIFT,\r\n            bankIBAN: bankIBAN,\r\n            bankRTN: bankRTN,\r\n            bank: bank,\r\n            accountNo: accountNo,\r\n            accountName: accountName,\r\n            usageType: usageType\r\n        };\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '', list: [{ value: '1', title: '' }, { value: '0', title: '' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '', placeholder: '', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            salutation: { widget: 'radio', label: '', list: [{ value: 'Mr.', title: 'Mr.' }, { value: 'Ms.', title: 'Ms.' }] } as UiRadio,\r\n            position: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '', placeholder: '', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '', placeholder: '', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '', placeholder: '', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiTextItem,\r\n            fax: { widget: 'text', label: '', placeholder: '', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">()</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* tvtvbug, Henry */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\"></small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '', placeholder: '', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '', placeholder: '', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 0, title: '' }] } as UiRadio,\r\n        }\r\n    }\r\n\r\n    private onContactDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.item[name] = newValue;\r\n        await this.controller.updateContactData(this.item, this.parent);\r\n        this.closePage();\r\n        this.controller.showSupplierContactDetail(this.item, this.parent);\r\n    }\r\n\r\n    private onDelSupplierContact = async () => {\r\n        if (await this.vCall(VConfirmDeleteContact, this.item) === true) {\r\n            await this.controller.delSupplierContact(this.item, this.parent);\r\n            this.closePage();\r\n            this.controller.cApp.cSupplier.onSupplierSelected(this.parent);\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let { defaultContact } = this.parent;\r\n        let { id, name, firstName, lastName, gender, salutation, position, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = this.item;\r\n        this.contactData = {\r\n            name: name,\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            gender: gender,\r\n            salutation: salutation,\r\n            position: position,\r\n            departmentName: departmentName,\r\n            telephone: telephone,\r\n            mobile: mobile,\r\n            email: email,\r\n            fax: fax,\r\n            zipCode: zipCode,\r\n            wechatId: wechatId,\r\n            addressString: addressString,\r\n            address: address,\r\n            isDefault: defaultContact === undefined ? 0 : (defaultContact.id === id ? 1 : 0)\r\n        };\r\n\r\n        let buttonDel: any;\r\n        if (this.item !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplierContact()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.contactData}\r\n                onItemChanged={this.onContactDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteContact extends VPage<CSupplierContact> {\r\n    async open(contact: any) {\r\n        this.openPage(this.page, contact);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (contact: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VSupplierContact } from \"./VSupplierContact\";\r\nimport { VSupplierContactDetail } from \"./VSupplierContactDetail\";\r\nimport { VSupplierDetail } from \"../supplier/VSupplierDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"./CAddress\";\r\n\r\nclass PageSupplierContact extends PageItems<any> {\r\n    private searchSupplierContact: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplierContact = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplierContact.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplierContact extends CUqBase {\r\n\r\n    @observable pageSupplierContact: PageSupplierContact;\r\n    protected async internalStart() {\r\n\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    //\r\n    showCreateSupplierContact = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showSupplierContactDetail = async (model: any, supplier: any) => {\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContactDetail, param);\r\n    }\r\n\r\n    saveSupplierContact = async (id: number, param: any, parent: any) => {\r\n        let { name, firstName, lastName, gender, salutation, position, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address, isDefault } = param;\r\n        let parrm = { name: name, firstName: firstName, lastName: lastName, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, supplier: parent.id, isValid: 1, position: position };\r\n        let result = await this.uqs.rms.SupplierContact.save(id, parrm);\r\n        if (isDefault === true) {\r\n            let sid = id;\r\n            if (sid === undefined) {\r\n                sid = result.id;\r\n            }\r\n            await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, webSite: parent.webSite, address: parent.address, addressString: parent.addressString, productionAddress: parent.productionAddress, profile: parent.profile, taxNo: parent.taxNo, isValid: 1, defaultContact: sid });\r\n        }\r\n        this.cApp.cSupplier.onSupplierSelected(parent);\r\n        this.closePage();\r\n    }\r\n\r\n    updateContactData = async (param: any, parent: any) => {\r\n        let { isDefault } = param;\r\n        await this.uqs.rms.SupplierContact.save(param.id, param);\r\n        if (isDefault === 1) {\r\n            parent.defaultContact = param;\r\n        } else {\r\n            parent.defaultContact = undefined;\r\n        }\r\n        await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, webSite: parent.webSite, address: parent.address, addressString: parent.addressString, productionAddress: parent.productionAddress, profile: parent.profile, taxNo: parent.taxNo, isValid: 1, defaultContact: parent.defaultContact });\r\n    }\r\n\r\n    //\r\n    showSupplierContact = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n\r\n    delSupplierContact = async (supplierContact: any, supplier: any) => {\r\n        let { id } = supplierContact;\r\n        supplierContact.isValid = 0;\r\n        await this.uqs.rms.SupplierContact.save(id, supplierContact);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'supplier', type: 'id', required: true },\r\n    { name: 'brand', type: 'id', required: false },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'description', type: 'string', required: true },\r\n    { name: 'descriptionC', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VAddProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n    private model: any = this.controller.supplier;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            supplier: {\r\n                widget: 'id', label: '', placeholder: '', defaultValue: this.model,\r\n                pickId: async (context: Context, name: string, value: number) => this.model !== undefined ? this.model : await this.controller.pickSupplier(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            brand: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickBrand(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.no}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            origin: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            description: { widget: 'text', label: '', placeholder: '', defaultValue: this.controller.chemical.description } as UiInputItem,\r\n            descriptionC: { widget: 'text', label: '', placeholder: '', defaultValue: this.controller.chemical.descriptionC } as UiInputItem,\r\n            purity: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveProductData(context.form.data);\r\n    }\r\n\r\n    private showChemicalData = () => {\r\n        let { chemical } = this.controller;\r\n        let { no, CAS, description, descriptoinCN, molecularFomula, molecularWeight, mdlNumber } = chemical;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">CAS:</div><div className=\"col-9 text-muted text-right\">{CAS === undefined ? \"()\" : CAS}</div>\r\n            </div>\r\n            {molecularFomula === undefined ? \"\" : <>\r\n                <div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{molecularFomula}</div>\r\n                </div></>\r\n            }\r\n            {molecularWeight === undefined ? \"\" : <>\r\n                <div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{molecularWeight}</div>\r\n                </div></>\r\n            }\r\n        </div >;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.showChemicalData()}\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'description', type: 'string', required: true },\r\n    { name: 'descriptionC', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n];\r\n\r\nexport class VProductDetail extends VPage<CProduct> {\r\n    private product: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n    private purityData: any;\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        await this.loadProduct(parent);\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private loadProduct = async (product: any) => {\r\n        this.product = product;\r\n        let { description, descriptionC, purity } = this.product;\r\n        this.purityData = {\r\n            description: description,\r\n            descriptionC: descriptionC,\r\n            purity: purity\r\n        };\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            description: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            descriptionC: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            purity: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private getPackage = () => {\r\n        let { showCreatePackage } = this.controller.cApp.cPackage;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n        let { supplier } = this.product;\r\n        let { defaultContact } = supplier.obj;\r\n        let showd = defaultContact === undefined ?\r\n            \"\" : <div className=\" d-flex px-3 py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => showCreatePackage(this.product)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"cube\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n                <div className=\"flex-grow-1\"></div>\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => onNewPendingInquiry(this.product)} >\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"filter\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </ button>\r\n            </div>;\r\n        return <div>\r\n            {showd}\r\n            <div>\r\n                {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private onDelPackage = async (item: any) => {\r\n        if (await this.vCall(VConfirmDeletePakage, item) === true) {\r\n            await this.controller.delPakage(item);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { showEditPackage, showPackageDetail } = this.controller.cApp.cPackage;\r\n        let { id, radiox, radioy, unit, type, price, currency, validUpto, minArriveDate, maxArriveDate } = item;\r\n        let { defaultContact } = this.product;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let valid = (validUpto < Date.now()) ? <span className=\"text-danger\"><EasyDate date={validUpto} /></span> : <span><EasyDate date={validUpto} /></span>;\r\n\r\n        let down =\r\n            price === undefined ? <div></div> : <div className=\"px-4 text-muted small\">\r\n                <span>&nbsp;{price}{tv(currency, v => <>{v.name}</>)}&nbsp;</span>\r\n                {valid}\r\n            </div>;\r\n        let mi = minArriveDate !== undefined ? <span><EasyDate date={minArriveDate} /></span> : \"\";\r\n        let arriveDate = maxArriveDate !== undefined ? <span>~<EasyDate date={maxArriveDate} /></span> : \"\";\r\n        let right =\r\n            <div>\r\n                <div className=\"px-2 cursor-pointer text-danger text-right\" onClick={() => this.onDelPackage(item)}>\r\n                    <FA name=\"trash\" />\r\n                    <div className=\"text-muted small\">{mi}{arriveDate}</div>\r\n                </div>\r\n            </div>;\r\n        let left = <div className=\"px-2\" onClick={() => showPackageDetail(item)}>\r\n            <FA name=\"cube\" className=\"px-2 text-primary\"></FA>\r\n            {radio} <span className=\"small\">{type === 1 ? \"\" : \"\"}</span>\r\n            {down}\r\n        </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (productData: any) => {\r\n\r\n        let { no, supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight, defaultContact } = this.product;\r\n        let { name: suppliername, no: supplierno, id } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">:</div><div className=\"col-8 text-muted text-right\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">:</div><div className=\"col-8 text-muted text-right\"><b>{suppliername}{supplierno}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">:</div><div className=\"col-8 text-muted text-right\">{defaultContact === undefined ? \"[]\" : defaultContact.obj.name}</div>\r\n            </div>\r\n            {brandno === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">:</div><div className=\"col-8 text-muted text-right\">{brandno}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">CAS:</div><div className=\"col-8 text-muted text-right\">{CAS}</div>\r\n            </div>\r\n            {origin === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">:</div><div className=\"col-8 text-muted text-right\">{origin}</div>\r\n                </div></>}\r\n            {molecularFomula === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">:</div><div className=\"col-8 text-muted text-right\">{molecularFomula}</div>\r\n                </div></>}\r\n            {molecularWeight === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">:</div><div className=\"col-8 text-muted text-right\">{molecularWeight}</div>\r\n                </div></>}\r\n        </div>;\r\n    }\r\n\r\n    private onPurityChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.product[name] = newValue;\r\n        await this.controller.updateProductData(this.product);\r\n        this.closePage();\r\n        this.controller.showProductDetail(this.product);\r\n    }\r\n\r\n    private onDelProduct = async () => {\r\n        if (await this.vCall(VConfirmDeleteProduct, this.product) === true) {\r\n            await this.controller.delProduct(this.product);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let productData = _.clone(this.product);\r\n\r\n        let buttonDel: any;\r\n        if (productData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelProduct()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(productData)}\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.purityData}\r\n                onItemChanged={this.onPurityChanged} />\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeletePakage extends VPage<CProduct> {\r\n    async open(pakage: any) {\r\n        this.openPage(this.page, pakage);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (pakage: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteProduct extends VPage<CProduct> {\r\n    async open(product: any) {\r\n        this.openPage(this.page, product);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (product: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CProduct } from './CProduct';\r\n\r\nexport class VProductList extends VPage<CProduct> {\r\n\r\n    private pickType: string;\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, description, createTime, supplier, CAS, purity } = item;\r\n        let { showProductDetail } = this.controller;\r\n        let showcas = CAS === undefined ? <b>[]</b> : <b>{CAS}</b>;\r\n        let showpurity = purity === undefined ? \"\" : <b>{purity}</b>;\r\n\r\n        return <LMR className=\"px-3 d-flex p-1 cursor-pointer\">\r\n            <div onClick={() => showProductDetail(item)}>\r\n                {showcas}&nbsp;&nbsp;{showpurity}\r\n                <div><b>{description}</b></div>\r\n                <div className=\"py-1 text-muted\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n            </div>\r\n        </LMR>\r\n    }\r\n\r\n    private pickSelect = async () => {\r\n        this.pickType = await this.vCall(VSelectType);\r\n        this.closePage();\r\n        this.controller.start();\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, onNewProduct, searchProductByKey, pickChemical } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <div><span onClick={() => this.pickSelect()} className=\"fa-stack\">\r\n                <i className=\"fa fa-filter fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(this.pickType, key)}\r\n                placeholder=\"cas\" />\r\n            <div><span onClick={() => pickChemical()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        let filter = this.pickType === undefined ? \"\" : <div className=\"text-muted small px-3 py-2\">{this.pickType}</div>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            {filter}\r\n            <List items={products} item={{ render: this.renderRootCategory }} />\r\n        </Page >;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n}\r\n\r\nclass VSelectType extends VPage<CProduct> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onConfirm = async (name: string) => {\r\n        await this.returnCall(name);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (pakage: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"d-flex mt-3 justify-content-end\">\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm(undefined)}></button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('')}></button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('')}></button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('CAS')}>CAS</button>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickSupplier } from './CPickSupplier';\r\n\r\nexport class VPickSupplier extends VPage<CPickSupplier> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { suppliers, searchSupplierByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        return <Page header=\"\" right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={suppliers} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.suppliers.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnSupplier(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { VPickSupplier } from './VPickSupplier';\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n        this.openVPage(VPickSupplier);\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    returnSupplier = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CBrand } from './CBrand';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'no', type: 'string', required: true },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VBrand extends VPage<CBrand> {\r\n\r\n    private form: Form;\r\n    private brandData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            no: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            name: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '', defaultValue: true },\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(brandData: any) {\r\n        this.brandData = brandData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveBrandData(context.form.data);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.brandData);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CBrand } from './CBrand';\r\n\r\nexport class VPickBrand extends VPage<CBrand> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { brands, searchBrandByKey, onNewBrand } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchBrandByKey(key)}\r\n                placeholder=\"\" />\r\n            <div><span onClick={() => onNewBrand()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span>\r\n            </div>\r\n        </div>;\r\n        let header = <header>\r\n            <div></div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\" >\r\n            <List items={brands} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.brands.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnBrand(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { no, name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{no} - {name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VBrand } from './VBrand';\r\nimport { VPickBrand } from './VPickBrand';\r\n\r\nclass PageBrand extends PageItems<any> {\r\n\r\n    private searchBrand: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchBrand = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchBrand.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CBrand extends CUqBase {\r\n\r\n    @observable brands: PageBrand;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchBrandByKey(param);\r\n        this.openVPage(VPickBrand);\r\n    }\r\n\r\n    searchBrandByKey = async (key: string) => {\r\n        this.brands = new PageBrand(this.uqs.rms.SearchBrand);\r\n        this.brands.first({ key: key });\r\n    }\r\n\r\n    saveBrandData = async (brand: any) => {\r\n\r\n        if (brand.id === undefined) {\r\n            await this.uqs.rms.RsBrand.save(undefined, brand);\r\n        } else {\r\n            await this.uqs.rms.RsBrand.save(brand.id, brand);\r\n        }\r\n        this.closePage();\r\n        await this.searchBrandByKey(\"\");\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewBrand = async () => {\r\n        this.openVPage(VBrand, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onEditBrand = async (brand: any) => {\r\n        this.openVPage(VBrand, brand);\r\n    }\r\n\r\n    returnBrand = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VAddProduct } from './VAddProduct';\r\nimport { VProductDetail } from './VProductDetail';\r\nimport { VProductList } from './VProductList';\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CChemical } from './CChemical';\r\nimport { CBrand } from './CBrand';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 10;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n    chemical: any;\r\n    supplier: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(\"\", param);\r\n        //this.openVPage(VProductList);\r\n    }\r\n\r\n    searchProductByKey = async (pickType: string, key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key, pickType: pickType });\r\n    }\r\n\r\n    pickSupplier = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cPickSupplier = this.newC(CPickSupplier);\r\n        return await cPickSupplier.call<number>();\r\n    }\r\n\r\n    pickBrand = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cBrand = this.newC(CBrand);\r\n        return await cBrand.call<number>();\r\n    }\r\n\r\n    pickChemical = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call();\r\n    }\r\n\r\n    saveProductData = async (product: any) => {\r\n\r\n        if (product.id === undefined) {\r\n            if (this.chemical) {\r\n                let { id, CAS, description, descriptoinCN, molecularFomula, molecularWeight } = this.chemical;\r\n                product.createTime = Date.now();\r\n                product.isTrue = 1;\r\n                product.defaultContact = undefined;\r\n                let result = await this.uqs.rms.Product.save(undefined, product);\r\n                await this.uqs.rms.RsProductChemical.add({ product: result.id, arr1: [{ chemical: id, CAS: CAS, molecularFomula: molecularFomula, molecularWeight: molecularWeight, purity: product.purity }] });\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    updateProductData = async (productdata: any) => {\r\n\r\n        if (productdata) {\r\n            productdata.isTrue = 1;\r\n            let { chemical } = productdata;\r\n            await this.uqs.rms.Product.save(productdata.id, productdata);\r\n            await this.uqs.rms.RsProductChemical.add({ product: productdata.id, arr1: [{ chemical: chemical.id, CAS: productdata.CAS, molecularFomula: productdata.molecularFomula, molecularWeight: productdata.molecularWeight, purity: productdata.purity }] });\r\n        }\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewProduct = async (model: any, supplier?: any) => {\r\n        this.chemical = model;\r\n        this.supplier = supplier;\r\n        this.openVPage(VAddProduct, { product: undefined });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    showProductDetail = async (model: any) => {\r\n        let { id } = model;\r\n        let pitem = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchProductByKey(\"\", \"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VProductList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n\r\n    delProduct = async (product: any) => {\r\n        let { id } = product;\r\n        product.isTrue = 0;\r\n        await this.uqs.rms.Product.save(id, product);\r\n    }\r\n\r\n    delPakage = async (ppackage: any) => {\r\n        let { id, product } = ppackage;\r\n        let param = {\r\n            radiox: ppackage.radiox,\r\n            radioy: ppackage.radioy,\r\n            unit: ppackage.unit,\r\n            type: ppackage.type,\r\n            isValid: 0,\r\n        }\r\n        let result = await this.uqs.rms.Product.saveArr(\"Pack\", product.id, id, param);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CChemical } from './CChemical';\r\n\r\nexport class VChemical extends VPage<CChemical> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { chemicals, searchChemicalByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchChemicalByKey(key)}\r\n                placeholder=\"CAS\" />\r\n        </div>;\r\n\r\n        return <Page header=\"\" right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={chemicals} item={{ render: this.renderItem }} />\r\n        </Page>;\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.chemicals.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description } = item;\r\n        let { supplier } = this.controller;\r\n        let { onNewProduct } = this.controller.cApp.cProduct;\r\n        return <LMR className=\"py-2 border\" onClick={() => onNewProduct(item, supplier)}>\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VChemical } from './VChemical';\r\n\r\nclass PageChemical extends PageItems<any> {\r\n\r\n    private searchChemical: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchChemical = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchChemical.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CChemical extends CUqBase {\r\n\r\n    @observable chemicals: PageChemical;\r\n    @observable supplier: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.supplier = param;\r\n        this.searchChemicalByKey(\"\");\r\n        this.openVPage(VChemical);\r\n    }\r\n\r\n    searchChemicalByKey = async (key: string) => {\r\n        this.chemicals = new PageChemical(this.uqs.chemical.SearchChemical);\r\n        this.chemicals.first({ key: key });\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackage extends VPage<CPackage> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'quantity', type: 'number', required: true },\r\n        { name: 'radiox', type: 'number', required: true },\r\n        { name: 'radioy', type: 'number', required: true },\r\n        { name: 'unit', type: 'string', required: true },\r\n        { name: 'type', type: 'string', required: true },\r\n        { name: 'price', type: 'number', required: true },\r\n        { name: 'currency', type: 'id', required: true },\r\n        { name: 'isTaxIn', type: 'number', required: true },\r\n        { name: 'isTransFeeIn', type: 'number', required: true },\r\n        { name: 'transFee', type: 'number', required: false },\r\n        { name: 'transFeecurrency', type: 'id', required: false },\r\n        { name: 'packingFee', type: 'number', required: false },\r\n        { name: 'packingcurrency', type: 'id', required: false },\r\n        { name: 'otherFee', type: 'number', required: false },\r\n        { name: 'otherFeecurrency', type: 'id', required: false },\r\n        { name: 'customizeUpto', type: 'date', required: false },\r\n        { name: 'validUpto', type: 'date', required: true },\r\n        { name: 'minArriveDate', type: 'date', required: true },\r\n        { name: 'maxArriveDate', type: 'date', required: true },\r\n        { name: 'invoiceType', type: 'number', required: true },\r\n        { name: 'vatRate', type: 'number', required: false },\r\n        { name: 'tariffRate', type: 'number', required: false },\r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            type: { widget: 'radio', label: '', list: [{ value: 1, title: '' }, { value: 2, title: '' }] } as UiRadio,\r\n            price: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            isTransFeeIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            otherFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            customizeUpto: { widget: 'date', label: '' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            invoiceType: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }, { value: \"3\", title: '' }] } as UiRadio,\r\n            vatRate: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            tariffRate: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { savePackage } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await savePackage(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.item}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage, EasyDate, tv } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackageDetail extends VPage<CPackage> {\r\n\r\n    private package: any;\r\n\r\n    async open(param: any) {\r\n        this.package = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let packageData = _.clone(this.package);\r\n        let { radiox, radioy, unit, type, price, currency, isTaxIn, isTransFeeIn, transFee\r\n            , transFeecurrency, packingFee, packingcurrency, otherFee\r\n            , otherFeecurrency, customizeUpto, validUpto, minArriveDate\r\n            , maxArriveDate, invoiceType, vatRate, tariffRate } = packageData;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n\r\n        let header = <header>\r\n            <span>: {radio}</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\" >\r\n            <div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{type === 1 ? \"\" : (type === 2 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTaxIn === 1 ? \"\" : (isTaxIn === 0 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTransFeeIn === 1 ? \"\" : (isTransFeeIn === 0 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{otherFee}{otherFeecurrency === undefined ? \"\" : tv(otherFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={customizeUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={validUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={minArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={maxArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{invoiceType === undefined ? \"\" : (invoiceType.id === 1 ? \"\" : (invoiceType.id === 2 ? \"\" : \"\"))}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{vatRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{tariffRate}</div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPackage } from \"./VPackage\";\r\nimport { VPackageDetail } from \"./VPackageDetail\";\r\nimport { VProductDetail } from \"../product/VProductDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PagePackage extends PageItems<any> {\r\n    private searchPackage: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPackage = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPackage.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPackage extends CUqBase {\r\n\r\n    @observable pagePackage: PagePackage;\r\n    protected async internalStart() {\r\n    }\r\n\r\n    searchPackageByKey = async (parent: any, key: string) => {\r\n        this.pagePackage = new PagePackage(await this.uqs.rms.GetPack.query({ _id: parent.id }));\r\n        this.pagePackage.first({ key: key });\r\n    }\r\n\r\n    //\r\n    showCreatePackage = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showEditPackage = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showPackageDetail = async (model: any) => {\r\n        this.openVPage(VPackageDetail, model);\r\n    }\r\n\r\n    savePackage = async (id: number, param: any, parent: any) => {\r\n        // await this.uqs.rms.Product.saveArr(\"Pack\", parent.id, id, param);\r\n        let { quantity, radiox, radioy, unit, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, type } = param;\r\n        let paramn = {\r\n            product: parent,\r\n            quantity: quantity,\r\n            radiox: radiox,\r\n            radioy: radioy,\r\n            unit: unit,\r\n            price: price,\r\n            currency: currency,\r\n            isTaxIn: isTaxIn,\r\n            isTransFeeIn: isTransFeeIn,\r\n            transFee: transFee,\r\n            transFeecurrency: transFeecurrency,\r\n            packingFee: packingFee,\r\n            packingcurrency: packingcurrency,\r\n            otherFee: otherFee,\r\n            otherFeecurrency: otherFeecurrency,\r\n            customizeUpto: customizeUpto,\r\n            validUpto: validUpto,\r\n            minArriveDate: minArriveDate,\r\n            maxArriveDate: maxArriveDate,\r\n            invoiceType: invoiceType,\r\n            vatRate: vatRate,\r\n            tariffRate: tariffRate,\r\n            type: type,\r\n        };\r\n        await this.uqs.rms.AddPackage.submit(paramn);\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //\r\n    showPackage = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickProduct } from './CPickProduct';\r\n\r\nexport class VPickProduct extends VPage<CPickProduct> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, searchProductByKey } = this.controller;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        return <Page header=\"\"  right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={products} item={{ render: this.renderItem, onClick: onNewPendingInquiry }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description, supplier } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VPickProduct } from './VPickProduct';\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        this.openVPage(VPickProduct);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key, pickType: \"\" });\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryList extends VPage<CPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, inquiryDate } = item;\r\n        let { onShowPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted\">\r\n            <EasyDate date={inquiryDate} />\r\n        </div>\r\n        let left = <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n        return <LMR left={left} right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => onShowPendingInquiryDetail(item)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pendingInquirys, searchPendingInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchPendingInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={pendingInquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiRadio, Form, Context } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryDetail extends VPage<CPendingInquiry> {\r\n    private pending: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n    private model: any;\r\n\r\n    async open(param: any) {\r\n        this.model = param;\r\n        let { parent, item, child } = param;\r\n        this.pending = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity, inquiryRemarks } = item;\r\n        let { brand, description, descriptionC } = product.obj;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => this.controller.openPendingInquiryResult(item)}>\r\n            <div><FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{CAS}&nbsp;&nbsp;{quantity} * {radio}</div>\r\n            <div className=\"px-4 text-muted\">{description}</div>\r\n            <div className=\"px-4 text-muted\"><span className=\"text-muted small\">{inquiryRemarks}</span></div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowEnd = () => {\r\n        return this.firstPackage && <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.onEndInquiry()}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b></b></span>\r\n                    <span className=\"px-2\"><FA name=\"chevron-right fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private onEndInquiry = async () => {\r\n        if (await this.vCall(VConfirmEndInquiry, this.pending) === true) {\r\n            await this.controller.saveInquiryData(this.pending, this.packages);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, inquiryUser, inquiryDate, user, date, remarks } = suppplierData;\r\n        let { id } = user;\r\n        let { id: inid } = inquiryUser;\r\n\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\">{contactName}&nbsp;{contactTelephone}&nbsp;{contactMobile}&nbsp;{contactEmail}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\">{id}&nbsp;<EasyDate date={date} /></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\">{inid}&nbsp;{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")} <EasyDate date={inquiryDate} /></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.pending);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            {this.rowEnd()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmEndInquiry extends VPage<CPendingInquiry> {\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CCurrency } from './CCurrency';\r\n\r\nexport class VCurrency extends VPage<CCurrency> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { currencys } = this.controller;\r\n        return <Page header=\"\">\r\n            <div className=\"row no-gutters\">\r\n                {currencys.map((v: any) => this.renderCurrency(v, this.onCurrencyClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderCurrency = (currency: any, onClick: any) => {\r\n        let { id, name } = currency;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onCurrencyClick(currency)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {name}\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onCurrencyClick = async (item: any) => {\r\n        await this.controller.returnCurrency(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VCurrency } from './VCurrency';\r\n\r\nexport class CCurrency extends CUqBase {\r\n\r\n    @observable currencys: any;\r\n\r\n    protected async internalStart() {\r\n        this.currencys = await this.uqs.common.Currency.search(\"\", 0, 100);\r\n        this.openVPage(VCurrency);\r\n    }\r\n\r\n    returnCurrency = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiTextItem, UiRadio, tv, UiIdItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'string', required: true },\r\n    { name: 'listPrice', type: 'number', required: false },\r\n    { name: 'price', type: 'number', required: true },\r\n    { name: 'currency', type: 'id', required: true },\r\n    { name: 'isTaxIn', type: 'number', required: true },\r\n    { name: 'isTransFeeIn', type: 'number', required: true },\r\n    { name: 'transFee', type: 'number', required: false },\r\n    { name: 'transFeecurrency', type: 'id', required: false },\r\n    { name: 'packingFee', type: 'number', required: false },\r\n    { name: 'packingcurrency', type: 'id', required: false },\r\n    { name: 'otherFee', type: 'number', required: false },\r\n    { name: 'otherFeecurrency', type: 'id', required: false },\r\n    { name: 'customizeUpto', type: 'date', required: false },\r\n    { name: 'validUpto', type: 'date', required: true },\r\n    { name: 'minArriveDate', type: 'date', required: true },\r\n    { name: 'maxArriveDate', type: 'date', required: true },\r\n    { name: 'invoiceType', type: 'number', required: true },\r\n    { name: 'vatRate', type: 'number', required: false },\r\n    { name: 'tariffRate', type: 'number', required: false },\r\n    { name: 'packType', type: 'number', required: true },\r\n    { name: 'remarks', type: 'string', required: false },\r\n    { name: 'coaFilePath', type: 'string', required: false },\r\n    { name: 'msdsFilePath', type: 'string', required: false },\r\n    { name: 'quotationFilePath', type: 'string', required: false },\r\n    { name: 'result', type: 'number', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiryResult extends VPage<CPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private inquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            listPrice: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            price: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            isTransFeeIn: { widget: 'radio', label: '', list: [{ value: \"0\", title: '' }, { value: \"1\", title: '' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            otherFeecurrency: {\r\n                widget: 'id', label: '', placeholder: '',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\"></small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            customizeUpto: { widget: 'date', label: '' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '', placeholder: '' } as UiInputItem,\r\n            invoiceType: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }, { value: \"3\", title: '' }] } as UiRadio,\r\n            vatRate: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            tariffRate: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            packType: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }] } as UiRadio,\r\n            remarks: { widget: 'text', label: '', row: 10, placeholder: '' } as UiInputItem,\r\n            coaFilePath: { widget: 'text', label: 'COA', placeholder: 'COA' } as UiInputItem,\r\n            msdsFilePath: { widget: 'text', label: 'MSOS', placeholder: 'MSOS' } as UiInputItem,\r\n            quotationFilePath: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            result: { widget: 'radio', label: '', list: [{ value: \"1\", title: '' }, { value: \"2\", title: '' }, { value: \"3\", title: ',' }] } as UiRadio,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(inquiryData: any) {\r\n        this.inquiryData = inquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveInquiryPackage(context.form.data, this.inquiryData);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.inquiryData);\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPendingInquiryList } from './VPendingInquiryList';\r\nimport { VPendingInquiryDetail } from './VPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CCurrency } from '../PendingInquiry/CCurrency';\r\nimport { VPendingInquiryResult } from '../PendingInquiry/VPendingInquiryResult';\r\n\r\nclass PagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPendingInquiry extends CUqBase {\r\n\r\n    @observable pendingInquirys: PagePendingInquiry;\r\n    @observable pendingInquiryList: PagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchPendingInquiryByKey = async (key: string) => {\r\n        this.pendingInquirys = new PagePendingInquiry(this.uqs.rms.SearchInquiryPending);\r\n        this.pendingInquirys.first({ key: key });\r\n    }\r\n\r\n    savePendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let { quantity, radiox, radioy, unit } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    getDataForSave = (pending: any, items: any[]) => {\r\n\r\n        let { contact, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, user, date, inquiryDate, inquiryUser, supplier, way } = pending;\r\n        let inquiryItems: any[] = [];\r\n        items.forEach(pk => {\r\n            if (pk.jsonStr === undefined) { return; };\r\n            let pack = JSON.parse(pk.jsonStr);\r\n            inquiryItems.push({\r\n                no: undefined, product: pk.product, inquiryQuantity: pk.quantity, inquiryRadiox: pk.radiox, inquiryRadioy: pk.radioy, inquiryUnit: pk.unit, itemuser: pk.user, itemcreateDate: pk.createDate\r\n                , quantity: pack.quantity, radiox: pack.radiox, radioy: pack.radioy, unit: pack.unit, listPrice: pack.listPrice, price: pack.price, currency: pack.currency\r\n                , isTaxIn: pack.isTaxIn, isTransFeeIn: pack.isTransFeeIn, transFee: pack.transFee, transFeecurrency: pack.transFeecurrency, packingFee: pack.packingFee\r\n                , packingcurrency: pack.packingcurrency, otherFee: pack.otherFee, otherFeecurrency: pack.otherFeecurrency, customizeUpto: pack.customizeUpto, validUpto: pack.validUpto\r\n                , minArriveDate: pack.minArriveDate, maxArriveDate: pack.maxArriveDate, invoiceType: pack.invoiceType, vatRate: pack.vatRate, tariffRate: pack.tariffRate\r\n                , packType: pack.packType, coaFilePath: pack.coaFilePath, msdsFilePath: pack.msdsFilePath, quotationFilePath: pack.quotationFilePath\r\n                , inquiryRemarks: pack.remarks, remarks: pk.inquiryRemarks, result: pack.result\r\n            })\r\n        });\r\n        return {\r\n            supplier: supplier,\r\n            contact: contact,\r\n            contactName: contactName,\r\n            contactSalutation: contactSalutation,\r\n            contactDepartmentName: contactDepartmentName,\r\n            contactTelephone: contactTelephone,\r\n            contactMobile: contactMobile,\r\n            contactEmail: contactEmail,\r\n            contactfax: contactfax,\r\n            way: way,\r\n            user: user,\r\n            createDate: date,\r\n            inquiryUser: inquiryUser,\r\n            inquiryDate: inquiryDate,\r\n            inquiryitems: inquiryItems,\r\n        }\r\n    }\r\n\r\n    saveInquiryData = async (pending: any, packageList: any[]) => {\r\n\r\n        let { id } = pending;\r\n        //sheethistory\r\n        let result: any = await this.uqs.rms.InquirySheet.save(\"InquirySheet\", this.getDataForSave(pending, packageList));\r\n        await this.uqs.rms.InquirySheet.action(result.id, result.flow, result.state, \"submit\");\r\n        if (result) {\r\n            //pending\r\n            let param = {\r\n                id: id,\r\n            };\r\n            await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n        }\r\n\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    saveInquiryPackage = async (model: any, inquiry: any) => {\r\n\r\n        if (inquiry) {\r\n            //\r\n            let { id, inquiryPackage, user, createDate, inquiryRemarks, jsonStr } = inquiry;\r\n            let { product } = inquiryPackage.obj;\r\n            await this.uqs.rms.InquiryPendingItem.add({ inquiryPending: id, arr1: [{ inquiryPackage: inquiryPackage.id, user: user.id, createDate: createDate, remarks: inquiryRemarks, jsonStr: JSON.stringify(model) }] });\r\n\r\n            //\r\n            let { quantity, radiox, radioy, unit, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, remarks: rremarks, coaFilePath, msdsFilePath, quotationFilePath, result } = model;\r\n            let param = {\r\n                product: product,\r\n                quantity: quantity,\r\n                radiox: radiox,\r\n                radioy: radioy,\r\n                unit: unit,\r\n                listPrice: listPrice,\r\n                price: price,\r\n                currency: currency,\r\n                isTaxIn: isTaxIn,\r\n                isTransFeeIn: isTransFeeIn,\r\n                transFee: transFee,\r\n                transFeecurrency: transFeecurrency,\r\n                packingFee: packingFee,\r\n                packingcurrency: packingcurrency,\r\n                otherFee: otherFee,\r\n                otherFeecurrency: otherFeecurrency,\r\n                customizeUpto: customizeUpto,\r\n                validUpto: validUpto,\r\n                minArriveDate: minArriveDate,\r\n                maxArriveDate: maxArriveDate,\r\n                invoiceType: invoiceType,\r\n                vatRate: vatRate,\r\n                tariffRate: tariffRate,\r\n                packType: packType,\r\n                remarks: rremarks,\r\n                coaFilePath: coaFilePath,\r\n                msdsFilePath: msdsFilePath,\r\n                quotationFilePath: quotationFilePath,\r\n            };\r\n            await this.uqs.rms.AddPackagePrice.submit(param);\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VPendingInquiryDetail, param);\r\n    }\r\n\r\n    pickCurrency = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cCurrency = this.newC(CCurrency);\r\n        return await cCurrency.call<number>();\r\n    }\r\n\r\n    openPendingInquiryResult = async (item: any) => {\r\n        let { id, inquiryPackage } = item;\r\n        let packages = await this.uqs.rms.InquiryPendingItem.table({ inquiryPending: id, inquiryPackage: inquiryPackage.id });\r\n        let { inquiryPending: newinquiryPending, inquiryPackage: newinquiryPackage, user, createDate, jsonStr: newjsonStr } = packages[0];\r\n        let model;\r\n        if (newjsonStr === undefined) {\r\n            model = item;\r\n        } else {\r\n            model = JSON.parse(newjsonStr);\r\n            model.inquiryPending = newinquiryPending;\r\n            model.inquiryPackage = newinquiryPackage;\r\n            model.user = user;\r\n            model.createDate = createDate;\r\n        }\r\n        this.openVPage(VPendingInquiryResult, model);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\n\r\nexport class VInquiryList extends VPage<CInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, contactName, inquiryUser, startDate, inquiryDate, date, sheet, way } = item;\r\n        let { openInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted small\">\r\n            {/* <div><EasyDate date={inquiryDate} /></div> */}\r\n            <div><EasyDate date={inquiryDate} /></div>\r\n            <div><EasyDate date={date} /></div>\r\n        </div>\r\n        let left = <div>\r\n            <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            <div className=\"text-muted small\">{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")}</div>\r\n        </div>\r\n        return <LMR left={left} right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => openInquiryDetail(sheet)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { inquirys, searchInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={inquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.inquirys.more();\r\n\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA, LMR } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VInquiryDetail extends VPage<CInquiry> {\r\n\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private renderPackageItem = (item: any, index: number) => {\r\n        let { pack, inquiryQuantity, no } = item;\r\n\r\n        return <LMR key={index} className=\"d-flex cursor-pointer py-1\" onClick={() => this.controller.openPackageDetail(item)}>\r\n            <div><FA name=\"chevron-right\" className=\"px-2 text-primary\"></FA>{inquiryQuantity} * {pack} {no}</div>\r\n        </LMR>;\r\n    }\r\n\r\n    private renderProductItem = (item: any, index: number) => {\r\n        let { product, packs } = item;\r\n        let { id } = product;\r\n\r\n        return <LMR key={index} className=\"d-flex px-3 cursor-pointer\">\r\n            <div>{this.controller.renderProduct(id)}</div>\r\n            <div className=\"py-1\">\r\n                <List items={packs} item={{ render: this.renderPackageItem }} />\r\n            </div>\r\n        </LMR>;\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n\r\n        let { brief, data } = inquiry;\r\n        let { id, no, state, description, date, user } = brief;\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, remarks, InquiryItems } = data;\r\n\r\n        let header = <>: {no}</>\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\">\r\n            <div>\r\n                <div className=\"bg-white py-2\">\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{contactName}&nbsp;{contactSalutation}&nbsp;{contactDepartmentName}</div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{contactTelephone}&nbsp;{contactMobile}&nbsp;{contactEmail}&nbsp;{contactfax}</div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{way === 1 ? \"Email\" : (way === 2 ? \"\" : \"\")}&nbsp;{user}&nbsp;<EasyDate date={date} /></div>\r\n                    </div>\r\n                    {remarks === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{remarks}</div>\r\n                        </div></>}\r\n                </div>\r\n            </div>\r\n            <div className=\"py-2\">\r\n                <List items={InquiryItems} item={{ render: this.renderProductItem }} />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VPackageDetail extends VPage<CInquiry> {\r\n\r\n    async open(packitem: any) {\r\n        this.openPage(this.page, packitem);\r\n    }\r\n\r\n    private page = (item: any) => {\r\n\r\n        let { inquiryQuantity, pack, itemuser, itemcreateDate, quantity, radio, listPrice, price\r\n            , currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto\r\n            , minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, inquiryRemarks, coaFilePath, msdsFilePath, quotationFilePath } = item;\r\n\r\n        let header = <>: {inquiryQuantity} * {pack}</>\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\">\r\n            <div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{quantity} * {radio}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{itemuser.id}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={itemcreateDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{listPrice}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packType === 1 ? \"\" : (packType === 2 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTaxIn === 1 ? \"\" : (isTaxIn === 0 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTransFeeIn === 1 ? \"\" : (isTransFeeIn === 0 ? \"\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{otherFee}{otherFeecurrency === undefined ? \"\" : tv(otherFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={customizeUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={validUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={minArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={maxArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{invoiceType === undefined ? \"\" : (invoiceType === 1 ? \"\" : (invoiceType === 2 ? \"\" : \"\"))}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{vatRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{tariffRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{inquiryRemarks}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>COA:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{coaFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>MSOS:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{msdsFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{quotationFilePath}</div>\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VInquiryList } from './VInquiryList';\r\nimport { VInquiryDetail } from './VInquiryDetail';\r\nimport { VPackageDetail } from './VPackageDetail';\r\n\r\nclass PageInquiry extends PageItems<any> {\r\n\r\n    private searchInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchInquiry = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CInquiry extends CUqBase {\r\n\r\n    @observable inquirys: PageInquiry;\r\n    @observable productdata: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchInquiryByKey(param);\r\n    }\r\n\r\n    searchInquiryByKey = async (key: string) => {\r\n        this.inquirys = new PageInquiry(this.uqs.rms.GetInquirySheet);\r\n        this.inquirys.first({ key: key });\r\n    }\r\n\r\n    openInquiryDetail = async (id: number) => {\r\n\r\n        let inquiry = await this.uqs.rms.InquirySheet.getSheet(id);\r\n        let { data } = inquiry;\r\n        let { inquiryitems } = data;\r\n        let inquiryItemssGrouped = groupByPack(inquiryitems);\r\n        data.InquiryItems = inquiryItemssGrouped;\r\n        this.openVPage(VInquiryDetail, inquiry);\r\n    }\r\n\r\n    openPackageDetail = async (item: any) => {\r\n        this.openVPage(VPackageDetail, item);\r\n    }\r\n\r\n    renderProduct = (id: BoxId) => {\r\n        return this.renderView(VProductView, id);\r\n    }\r\n\r\n    getProduct = async (pid: number) => {\r\n        let product = await this.uqs.rms.SearchProductById.query({ _id: pid });\r\n        this.productdata = product.ret[0];\r\n        return product.ret[0];\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n\r\nexport class VProductView extends View<CInquiry> {\r\n\r\n    render(param: any): JSX.Element {\r\n        let { controller } = this;\r\n        controller.getProduct(param);\r\n        return <this.contentagency pid={param} />\r\n    }\r\n    protected contentagency = observer((param: any) => {\r\n        let LocationUI;\r\n        let pro = this.controller.productdata;\r\n        if (pro !== undefined) {\r\n            let { description, CAS, purity } = pro;\r\n            LocationUI = <span className=\"text-muted small\">{description}&nbsp;&nbsp;{CAS}&nbsp;&nbsp;{purity}</span>;\r\n        }\r\n        return LocationUI;\r\n    });\r\n}\r\n\r\nexport function groupByPack(packItems: any[]) {\r\n    let result: any[] = [];\r\n    for (let packItem of packItems) {\r\n        let { product, inquiryQuantity, inquiryRadiox, inquiryRadioy, inquiryUnit, itemuser, itemcreateDate, quantity, radiox, radioy, unit, listPrice, price\r\n            , currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto\r\n            , minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, inquiryRemarks, coaFilePath, msdsFilePath, quotationFilePath } = packItem;\r\n        let packRow: any = {\r\n            inquiryQuantity: inquiryQuantity,\r\n            pack: (inquiryRadiox !== 1) ? <>{inquiryRadiox} * {inquiryRadioy}{inquiryUnit}</> : <>{inquiryRadioy}{inquiryUnit}</>,\r\n            quantity: quantity,\r\n            radio: (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>,\r\n            itemuser: itemuser,\r\n            itemcreateDate: itemcreateDate,\r\n            listPrice: listPrice,\r\n            price: price,\r\n            currency: currency,\r\n            isTaxIn: isTaxIn,\r\n            isTransFeeIn: isTransFeeIn,\r\n            transFee: transFee,\r\n            transFeecurrency: transFeecurrency,\r\n            packingFee: packingFee,\r\n            packingcurrency: packingcurrency,\r\n            otherFee: otherFee,\r\n            otherFeecurrency: otherFeecurrency,\r\n            customizeUpto: customizeUpto,\r\n            validUpto: validUpto,\r\n            minArriveDate: minArriveDate,\r\n            maxArriveDate: maxArriveDate,\r\n            invoiceType: invoiceType,\r\n            vatRate: vatRate,\r\n            tariffRate: tariffRate,\r\n            packType: packType,\r\n            inquiryRemarks: inquiryRemarks,\r\n            coaFilePath: coaFilePath,\r\n            msdsFilePath: msdsFilePath,\r\n            quotationFilePath: quotationFilePath\r\n        }\r\n        let cpi = result.find(e => e.product.id === product.id);\r\n        if (cpi === undefined) {\r\n            cpi = { product: product, packs: [] };\r\n            result.push(cpi);\r\n        }\r\n        cpi.packs.push(packRow);\r\n    }\r\n    return result;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA, UiTextItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'string', required: true },\r\n    { name: 'remarks', type: 'number', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VNewPendingInquiry extends VPage<CNewPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private pendingInquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '', placeholder: '', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '', placeholder: '' } as UiInputItem,\r\n            unit: { widget: 'text', label: '', placeholder: '' } as UiTextItem,\r\n            remarks: { widget: 'textarea', label: '', placeholder: '', rows: 5 } as UiInputItem,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(pendingInquiryData: any) {\r\n        this.pendingInquiryData = pendingInquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveNewPendingInquiryData(context.form.data);\r\n    }\r\n    private showProductlData = () => {\r\n\r\n        let { product } = this.controller;\r\n        let { no, supplier, origin, brand, description, descriptionC, CAS, purity } = product;\r\n        let { name } = supplier.obj;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{name}</div>\r\n            </div>\r\n            {brandname === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{brandname}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">CAS:</div><div className=\"col-9 text-muted text-right\">{CAS === undefined ? \"()\" : CAS}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{description}</div>\r\n            </div>\r\n            {descriptionC === undefined ? \"\" : <><div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted text-right\">{descriptionC}</div>\r\n            </div></>\r\n            }\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.pendingInquiryData);\r\n\r\n        let footer: any;\r\n\r\n        return <Page header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.showProductlData()}\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'way', type: 'number', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiry extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private supplier: any;\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            way: { widget: 'radio', label: '', list: [{ value: 1, title: 'Email' }, { value: 2, title: '' }, { value: 3, title: '' }] } as UiRadio,\r\n            submit: { widget: 'button', label: '', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(param: any) {\r\n        this.supplier = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.updatePendingInquiryState(context.form.data, this.supplier);\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.supplier);\r\n\r\n        return <Page header=\"\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n            <Form ref={v => this.form = v} className=\"my-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                formData={suppplierData}\r\n                onButtonClick={this.onFormButtonClick}\r\n                fieldLabelSize={3}\r\n            />\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryList extends VPage<CNewPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, date } = item;\r\n        let { onShowNewPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted\">\r\n            <EasyDate date={date} />\r\n        </div>\r\n        return <LMR right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => onShowNewPendingInquiryDetail(item)}>\r\n            <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { newpendingInquirys, onNewPendingInquiry, searchNewPendingInquiryByKey, pickProduct } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchNewPendingInquiryByKey(key)}\r\n                placeholder=\"\" />\r\n            <div><span onClick={() => pickProduct()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" ></div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={newpendingInquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.newpendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryDetail extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private suppplier: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    async open(param: any) {\r\n        let { parent, item, child } = param;\r\n        this.suppplier = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity, inquiryRemarks } = item;\r\n        let { brand, description, descriptionC } = product.obj;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span onClick={() => this.onDelInquiryPackage(id, inquiryPackage)}><FA className=\"align-middle p-2 cursor-pointer text-danger\" name=\"trash\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"p-1 d-flex cursor-pointer\">\r\n            <div><FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{CAS}&nbsp;&nbsp;{quantity} * {radio}</div>\r\n            <div className=\"px-4 text-muted\">{description}</div>\r\n            <div className=\"px-4 text-muted\"><span className=\"text-muted small\">{inquiryRemarks}</span></div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, user, date } = suppplierData;\r\n        let { id } = user;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">:</div><div className=\"col-9 text-muted\">{id}&nbsp;<EasyDate date={date} /></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private rowEnd = () => {\r\n        let { onPendingInquiry } = this.controller;\r\n\r\n        return this.firstPackage && <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => onPendingInquiry(this.suppplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b>&nbsp;</b></span>\r\n                    <span className=\"px-2\"><FA name=\"chevron-right fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private onDelInquiry = async () => {\r\n        if (await this.vCall(VConfirmDeleteInquiry, this.suppplier) === true) {\r\n            await this.controller.deletePendingInquiryData(this.suppplier);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private onDelInquiryPackage = async (id: number, pack: any) => {\r\n        if (await this.vCall(VConfirmDeleteInquiryPackage, pack) === true) {\r\n            let { id: packid } = pack;\r\n            await this.controller.deletePendingInquiryPackage(id, packid);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.suppplier);\r\n\r\n        let right =\r\n            <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelInquiry()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        return <Page right={right} header=\"\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            {this.rowEnd()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteInquiry extends VPage<CNewPendingInquiry> {\r\n    async open(inquiryPending: any) {\r\n        this.openPage(this.page, inquiryPending);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiryPending: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteInquiryPackage extends VPage<CNewPendingInquiry> {\r\n    async open(inquiryPackage: any) {\r\n        this.openPage(this.page, inquiryPackage);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiryPackage: any) => {\r\n        return <Page header=\"\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\"></b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}></button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}></button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VNewPendingInquiry } from './VNewPendingInquiry';\r\nimport { VPendingInquiry } from './VPendingInquiry';\r\nimport { VNewPendingInquiryList } from './VNewPendingInquiryList';\r\nimport { VNewPendingInquiryDetail } from './VNewPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass NewPagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchNewPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchNewPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchNewPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CNewPendingInquiry extends CUqBase {\r\n\r\n    @observable newpendingInquirys: NewPagePendingInquiry;\r\n    @observable newpendingInquiryList: NewPagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchNewPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchNewPendingInquiryByKey = async (key: string) => {\r\n        this.newpendingInquirys = new NewPagePendingInquiry(this.uqs.rms.SearchNewInquiryPending);\r\n        this.newpendingInquirys.first({ key: key });\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onNewPendingInquiry = async (model: any) => {\r\n        this.product = model;\r\n        this.openVPage(VNewPendingInquiry, { pendingInquiry: undefined });\r\n    }\r\n\r\n    onPendingInquiry = async (model: any) => {\r\n        this.openVPage(VPendingInquiry, model);\r\n    }\r\n\r\n    pickProduct = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cPickProduct.call();\r\n    }\r\n\r\n    saveNewPendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let { quantity, radiox, radioy, unit, remarks } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                    remarks: remarks\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    deletePendingInquiryData = async (item: any) => {\r\n        let { id } = item;\r\n        let param = {\r\n            id: id,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n    }\r\n\r\n    deletePendingInquiryPackage = async (pendingid: number, packid: number) => {\r\n\r\n        let param = {\r\n            id: pendingid,\r\n            pid: packid,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPackage.submit(param);\r\n    }\r\n\r\n    updatePendingInquiryState = async (model: any, item: any) => {\r\n        let { id, supplier } = item;\r\n        let param = {\r\n            id: id,\r\n            supplier: supplier,\r\n            way: model.way,\r\n        };\r\n        await this.uqs.rms.UpdateInquiryPending.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * \r\n    */\r\n    onShowNewPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VNewPendingInquiryDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchNewPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VNewPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import { CAppBase, IConstructor, User, nav } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CUqBase } from \"./CBase\";\r\nimport { VMain } from './ui/main';\r\nimport { CHome } from \"./information/CHome\";\r\nimport { CSupplier } from \"./information/supplier/CSupplier\";\r\nimport { CSupplierContact } from \"./information/supplierContact/CSupplierContact\";\r\nimport { CProduct } from \"./information/product/CProduct\";\r\nimport { CChemical } from \"./information/product/CChemical\";\r\nimport { CBrand } from \"./information/product/CBrand\";\r\nimport { CPackage } from \"./information/package/CPackage\";\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CPickProduct } from 'information/product/CPickProduct';\r\nimport { CPendingInquiry } from 'information/PendingInquiry/CPendingInquiry';\r\nimport { CInquiry } from 'information/Inquiry/CInquiry';\r\nimport { CCurrency } from 'information/PendingInquiry/CCurrency';\r\nimport { CNewPendingInquiry } from 'information/newPendingInquiry/CNewPendingInquiry';\r\n\r\nexport class CApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs as UQs };\r\n\r\n    topKey: any;\r\n    cHome: CHome;\r\n    cSupplier: CSupplier;\r\n    cPickSupplier: CPickSupplier;\r\n    cSupplierContact: CSupplierContact;\r\n    cProduct: CProduct;\r\n    cPickProduct: CPickProduct;\r\n    cChemical: CChemical;\r\n    cBrand: CBrand;\r\n    cPackage: CPackage;\r\n    cPendingInquiry: CPendingInquiry;\r\n    cInquiry: CInquiry;\r\n    cCurrency: CCurrency;\r\n    cNewPendingInquiry: CNewPendingInquiry;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n\r\n        this.cHome = this.newC(CHome);\r\n        this.cSupplier = this.newC(CSupplier);\r\n        this.cPickSupplier = this.newC(CPickSupplier);\r\n        this.cProduct = this.newC(CProduct);\r\n        this.cPickProduct = this.newC(CPickProduct);\r\n        this.cChemical = this.newC(CChemical);\r\n        this.cBrand = this.newC(CBrand);\r\n        this.cPackage = this.newC(CPackage);\r\n        this.cSupplierContact = this.newC(CSupplierContact);\r\n        this.cPendingInquiry = this.newC(CPendingInquiry);\r\n        this.cInquiry = this.newC(CInquiry);\r\n        this.cCurrency = this.newC(CCurrency);\r\n        this.cNewPendingInquiry = this.newC(CNewPendingInquiry);\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cSupplier.start());\r\n        await Promise.all(promises);\r\n        this.showMain();\r\n        this.topKey = nav.topKey();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n    async loginCallBack(user: User) {\r\n\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { tv } from 'tonva';\r\n\r\nexport const tvAddress = (values: any) => {\r\n    let { country, province, city, county } = values;\r\n    return <>\r\n        {tv(country)}{tv(province, undefined, undefined, () => <></>)}{tv(city, undefined, undefined, () => <></>)}{tv(county, undefined, undefined, () => <></>)}\r\n    </>\r\n}\r\n\r\nexport const tvCountry = (values: any) => {\r\n    return <> {values.chineseName} </>;\r\n}\r\n\r\nexport const tvCurrency = (values: any) => {\r\n    return <> {values.name} </>;\r\n}\r\n\r\nexport const common = {\r\n    address: tvAddress,\r\n    country: tvCountry,\r\n    province: tvCountry,\r\n    city: tvCountry,\r\n    county: tvCountry,\r\n    currency: tvCurrency,\r\n};\r\n","import { AppConfig } from \"tonva\";\r\nimport { tvs } from \"./tvs\";\r\nimport AnalyticalChemistry from './images/AnalyticalChemistry.png';\r\nimport LabSupplies from './images/LabSupplies.png';\r\nimport LifeScience from './images/LifeScience.png';\r\nimport MaterialScience from './images/MaterialScience.png';\r\nimport OrganicChemistry from './images/OrganicChemistry.png';\r\n\r\nexport const appConfig: AppConfig = {\r\n    appName: '/rms',\r\n    version: '1.0.1',\r\n    tvs: tvs,\r\n    oem: ''\r\n};","import { TVs } from \"tonva\";\r\nimport { common } from \"./common\";\r\n\r\nexport const tvs: TVs = {\r\n    common: common,\r\n}","import * as React from 'react';\r\nimport './App.css';\r\nimport { NavView, nav, start } from 'tonva';\r\nimport { CApp } from './CApp';\r\nimport { appConfig } from './configuration';\r\n\r\nnav.setSettings(appConfig);\r\n\r\nclass App extends React.Component {\r\n\r\n  private onLogined = async () => {\r\n    await start(CApp, appConfig);\r\n  }\r\n  public render() {\r\n    // return <NavView onLogined={this.onLogined} notLogined={this.onLogined} />\r\n    return <NavView onLogined={this.onLogined} />\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}