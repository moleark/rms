(this.webpackJsonprms=this.webpackJsonprms||[]).push([[0],{56:function(e,t,n){e.exports=n(78)},62:function(e,t,n){},64:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),i=n.n(c),l=n(40),s=n.n(l),u=(n(61),n(62),n(1)),o=n.n(u),p=n(8),m=n(2),d=n(4),f=n(5),h=n(3),v=n(6),b=(n(64),n(7)),y=function(e){return!0===e?"text-primary":"text-muted"},g=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).render=function(e){var t=n.controller,a=t.cHome,r=t.cProduct,i=t.cPendingInquiry,l=t.cInquiry,s=t.cNewPendingInquiry,u=[{name:"supplier",label:"\u4f9b\u5e94\u5546",icon:"home",content:a.tab,notify:void 0},{name:"product",label:"\u4ea7\u54c1",icon:"check-square-o",content:r.tab,onShown:r.loadList},{name:"pendingInquiry",label:"\u5f85\u8be2\u4ef7",icon:"pencil-square-o",content:s.tab,onShown:s.loadList},{name:"inquirying",label:"\u5df2\u8be2\u4ef7",icon:"pencil-square-o",content:i.tab,onShown:i.loadList},{name:"inquiry",label:"\u8be2\u4ef7\u5355",icon:"bandcamp",content:l.tab,onShown:l.loadList}].map((function(e){var t=e.name,n=e.label,a=e.icon;return{name:t,caption:function(e){return Object(b.m)(n,a,y(e))},content:e.content,notify:e.notify,onShown:e.onShown}}));return c.createElement(b.j,{header:!1},c.createElement(b.n,{tabs:u}))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.render);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),w=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"cApp",get:function(){return this._cApp}},{key:"uqs",get:function(){return this._uqs}}]),t}(b.b),x=(b.c,n(11)),E=function(e){function t(){var e,n,a=this;Object(m.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).page=function(){var e=n.controller.cApp.cSupplier,t=e.onNewSupplier,r=e.searchSupplierByKey,i=c.createElement("div",{className:"w-19c d-flex"},c.createElement(b.l,{className:"w-80",size:"sm",onSearch:function(e){return r(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),c.createElement("span",{onClick:function(){return t()},className:"fa-stack"},c.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),c.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),l=c.createElement("header",{className:"py-2 px-4 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u4f9b\u5e94\u5546"));return c.createElement(b.j,{right:i,header:l,headerClassName:"bg-primary"},c.createElement(a.content,null))},n.content=function(){var e=Object(x.a)(n).controller.toSupplierList;return c.createElement(c.Fragment,null,e())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return c.createElement(this.page,null)}}]),t}(b.p),j=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).toSupplierList=function(){return n.cApp.cSupplier.renderRootList()},n.tab=function(){return n.renderView(E)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.cApp.cSupplier,e.next=3,n.start();case 3:this.openVPage(E);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),k=n(19),O=n(20),N=(n(26),n(10)),C=n(14),q=n.n(C),S=[{name:"id",type:"id",required:!1},{name:"name",type:"string",required:!0},{name:"abbreviation",type:"string",required:!1},{name:"isValid",type:"boolean",required:!0}],P=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.supplierData=void 0,n.uiSchema={items:{id:{visible:!1},name:{widget:"text",label:"\u4f9b\u5e94\u5546\u540d\u79f0",placeholder:"\u5fc5\u586b"},abbreviation:{widget:"text",label:"\u4f9b\u5e94\u5546\u7b80\u79f0"},isValid:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveSupplierData(a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSavesupplierData=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.page=function(){var e,t=q.a.clone(n.supplierData);return e=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSavesupplierData},"\u4fdd\u5b58"),c.createElement(b.j,{header:"\u7f16\u8f91\u4f9b\u5e94\u5546",footer:e,headerClassName:"bg-primary"},c.createElement("div",{className:"p-3 bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:S,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),I=n(12),A=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderRootCategory=function(e,t){e.no;var a=e.name,r=(e.createTime,n.controller.onEditSupplier),i=c.createElement("div",{className:"p-2 cursor-pointer text-info",onClick:function(){return r(e)}},c.createElement(b.e,{name:"edit"}));return c.createElement(b.g,{right:i,className:"m-2 justify-content-between cursor-pointer"},c.createElement("div",null,c.createElement("span",{className:"small"},a)))},n.content=Object(I.a)((function(){var e=n.controller.suppliers;return c.createElement("div",{className:"py-2"},c.createElement(b.h,{items:e,item:{render:n.renderRootCategory}}))})),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(e){return c.createElement(this.content,null)}}]),t}(b.p),B=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).supplier=void 0,n.firstSupplierContact=void 0,n.supplierContacts=[],n.getSupplierContact=function(){var e=n.controller.cApp.cSupplierContact.showCreateSupplierContact;return c.createElement("div",{className:"bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"users"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4f9b\u5e94\u5546\u8054\u7cfb\u4eba"))),n.firstSupplierContact&&c.createElement(b.h,{items:n.supplierContacts,item:{render:n.renderContact}}),c.createElement("div",{className:"text-primary text-center small bg-white py-2",onClick:function(){return e(n.supplier)}},c.createElement(b.e,{name:"plus"}),"\u8054\u7cfb\u4eba"))},n.renderContact=function(e,t){var a=n.controller.cApp.cSupplierContact,r=a.delSupplierContact,i=a.showEditSupplierContact,l=a.showSupplierContactDetail,s=(e.no,e.name),u=e.id,o=e.gender,p=e.mobile,m=n.supplier.defaultContact,d=void 0===m?"px-2 text-muted small":m.id===u?"px-2 text-info small":"px-2 text-muted small",f="0"===o?c.createElement(b.e,{name:"female",className:"px-2 text-danger"}):c.createElement(b.e,{name:"male",className:"px-2 text-primary"}),h=c.createElement("div",{className:d,onClick:function(){return l(e)}},f,s," - ",void 0===p?"\u65e0":p),v=c.createElement("div",{className:"px-2 text-muted text-right samll"},c.createElement("span",{onClick:function(){return r(n.supplier,e)}},c.createElement(b.e,{className:"align-middle text-danger",name:"remove"})),c.createElement("span",{onClick:function(){return i(n.supplier,e)}},c.createElement(b.e,{className:"align-middle p-2 cursor-pointer text-info",name:"edit"})));return c.createElement(b.g,{left:h,right:v,className:"py-2"})},n.rowTop=function(){var e=q.a.clone(n.supplier),t=e.name,a=e.no,r=e.abbreviation,i=e.createTime;return c.createElement("div",{className:"py-2 bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4f9b\u5e94\u5546\u57fa\u672c\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub small"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\xa0\xa0\u7f16\u53f7\uff1a"),c.createElement("span",null,a)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u540d\u79f0\uff1a"),c.createElement("span",null,t)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u7b80\u79f0\uff1a"),c.createElement("span",null,r)),c.createElement("div",null,c.createElement("p",null,c.createElement("span",{className:"px-4 align-middle "},"\u521b\u5efa\u65f6\u95f4\uff1a"),c.createElement("span",null,c.createElement(b.d,{date:i}))))))},n.page=function(){var e=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u4f9b\u5e94\u5546\u8be6\u60c5"));return c.createElement(b.j,{header:e,headerClassName:"bg-primary"},n.rowTop(),n.getSupplierContact())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parent,a=t.item,r=t.child,this.supplier=n,this.firstSupplierContact=a,this.supplierContacts=r,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),D=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchSupplier=void 0,n.firstSize=n.pageSize=14,n.searchSupplier=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchSupplier.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),F=(a=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c))),Object(k.a)(n,"suppliers",r,Object(x.a)(n)),n.searchSupplierByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.suppliers=new D(n.uqs.rms.SearchSupplier),n.suppliers.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveSupplierData=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=7;break}return t.createTime=Date.now(),t.defaultContact=void 0,e.next=5,n.uqs.rms.Supplier.save(void 0,t);case 5:e.next=9;break;case 7:return e.next=9,n.uqs.rms.Supplier.save(t.id,t);case 9:return e.next=11,n.cApp.cHome.start();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewSupplier=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(P,{description:void 0});case 1:case"end":return e.stop()}}),e)}))),n.onEditSupplier=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(P,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onSupplierSelected=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.SearchSupplierContact.query({_id:a});case 3:r=e.sent,c={parent:t,item:r.ret[0],child:r.ret},n.openVPage(B,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderRootList",value:function(){return this.renderView(A)}}]),t}(w),r=Object(O.a)(a.prototype,"suppliers",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a);function z(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u56fa\u5b9a\u7535\u8bdd\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function V(e){return e&&!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)?"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function T(e){return e&&!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)?"Email\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function L(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u4f20\u771f\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function K(e){return e&&e.length>200?"\u8be6\u7ec6\u5730\u5740\u6700\u591a200\u4e2a\u5b57\uff01":void 0}function R(e){return e&&e.length>15?"\u90ae\u7f16\u8fc7\u957f\uff0c\u8bf7\u4fee\u6539\u540e\u5f55\u5165\uff01":void 0}function _(e){return e&&e.length>100?"\u90e8\u95e8\u540d\u79f0\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function U(e){return e&&e.length>100?"\u5355\u4f4d\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function W(e){return e&&e.length>50?"\u59d3\u540d\u6700\u591a50\u4e2a\u5b57\uff01":void 0}var G,H,M,$,J,Q,X,Y,Z,ee,te,ne,ae,re,ce,ie,le,se,ue,oe,pe,me,de=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.item=void 0,n.parent=void 0,n.schema=[{name:"name",type:"string",required:!0},{name:"gender",type:"string",required:!0},{name:"firstName",type:"string",required:!1},{name:"lastName",type:"string",required:!1},{name:"salutation",type:"string",required:!1},{name:"departmentName",type:"string",required:!1},{name:"telephone",type:"string",required:!1},{name:"mobile",type:"string",required:!0},{name:"wechatId",type:"string",required:!1},{name:"email",type:"string"},{name:"fax",type:"string",required:!1},{name:"address",type:"id",required:!1},{name:"addressString",type:"string",required:!1},{name:"zipCode",type:"string",required:!1},{name:"isDefault",type:"boolean",required:!1}],n.uiSchema={items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u5fc5\u586b"},gender:{widget:"radio",label:"\u6027\u522b",list:[{value:"1",title:"\u7537"},{value:"0",title:"\u5973"}]},firstName:{widget:"text",label:"\u540d",placeholder:"\u540d",rules:W},lastName:{widget:"text",label:"\u59d3\u6c0f",placeholder:"\u59d3\u6c0f"},salutation:{widget:"text",label:"\u79f0\u8c13",rules:U},departmentName:{widget:"text",label:"\u90e8\u95e8\u540d\u79f0",rules:_},telephone:{widget:"text",label:"\u56fa\u5b9a\u7535\u8bdd",rules:z},mobile:{widget:"text",label:"\u624b\u673a\u53f7",rules:V},wechatId:{widget:"text",label:"\u5fae\u4fe1\u53f7"},email:{widget:"text",label:"Email",rules:T,placeholder:"Email"},fax:{widget:"text",label:"\u4f20\u771f",rules:L},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickAddress(t,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?Object(b.s)(e,(function(e){var t=e.country,n=e.province,a=e.city,r=e.county;return c.createElement(c.Fragment,null,void 0!==t&&void 0!==t.id&&Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})),void 0!==n&&void 0!==n.id&&Object(b.s)(n,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})),void 0!==a&&void 0!==a.id&&Object(b.s)(a,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})),void 0!==r&&void 0!==r.id&&Object(b.s)(r,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})))}),(function(){return c.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):c.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",rules:K},zipCode:{widget:"text",label:"\u90ae\u7f16",rules:R},isDefault:{widget:"checkbox",label:"\u9ed8\u8ba4\u8054\u7cfb\u4eba",defaultValue:!1},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onSaveSupplierContact=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.controller.saveSupplierContact,c=n.item&&n.item.id,e.next=4,r(c,a.form.data,n.parent);case 4:n.closePage();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=Object(I.a)((function(){var e=c.createElement("div",{className:"d-flex"},c.createElement("div",{className:"flex-grow-1 justify-content-end"},c.createElement("button",{type:"button",className:"btn btn-primary mr-3 px-6",onClick:n.onSaveSupplierContact},c.createElement("span",{className:"px-4"},"\u4fdd\u5b58"))));return c.createElement(b.j,{header:"\u7f16\u8f91\u8054\u7cfb\u4eba",footer:e,headerClassName:"bg-primary"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"my-3 mx-3",formData:n.item,schema:n.schema,uiSchema:n.uiSchema,onButtonClick:n.onFormButtonClick,requiredFlag:!0}))})),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.item,a=t.parent,this.item=n,this.parent=a,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),fe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).supplierContact=void 0,n.page=function(){var e=q.a.clone(n.supplierContact),t=e.no,a=e.name,r=e.firstName,i=e.lastName,l=e.gender,s=e.salutation,u=e.departmentName,o=e.telephone,p=e.mobile,m=e.email,d=e.fax,f=e.zipCode,h=e.wechatId,v=e.addressString,y=e.address,g=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u4f9b\u5e94\u5546\u8054\u7cfb\u4eba\u8be6\u60c5"));return c.createElement(b.j,{header:g,headerClassName:"bg-primary"},c.createElement("div",{className:"py-2 bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4f9b\u5e94\u5546\u8054\u7cfb\u4eba\u57fa\u672c\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\xa0\xa0\u7f16\u53f7\uff1a"),c.createElement("span",null,t)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u540d\u79f0\uff1a"),c.createElement("span",null,a)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u59d3\u6c0f\uff1a"),c.createElement("span",null,i)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\xa0\u540d\uff1a"),c.createElement("span",null,r)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\xa0\xa0\u6027\u522b\uff1a"),c.createElement("span",null,"0"===l?"\u5973":"\u7537")),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u79f0\u8c13\uff1a"),c.createElement("span",null,s)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u90e8\u95e8\u540d\u79f0\uff1a"),c.createElement("span",null,u)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u56fa\u5b9a\u7535\u8bdd\uff1a"),c.createElement("span",null,o)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\xa0\u624b\u673a\u53f7\uff1a"),c.createElement("span",null,p)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\u5fae\u4fe1\u53f7\uff1a"),c.createElement("span",null,h)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\xa0 Email\uff1a"),c.createElement("span",null,m)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u4f20\u771f\uff1a"),c.createElement("span",null,d)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u6240\u5728\u5730\u533a\uff1a"),c.createElement("span",null,y)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u8be6\u7ec6\u5730\u5740\uff1a"),c.createElement("span",null,v)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u90ae\u7f16\uff1a"),c.createElement("span",null,f)))))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierContact=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),he={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/rms",version:"1.0.1",tvs:{},oem:"\u767e\u7075\u5a01"},ve=44,be=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).provinceId=void 0,n.cityId=void 0,n.countyId=void 0,n.backLevel=0,n.page=function(e){return n.backLevel++,c.createElement(b.j,{header:"\u9009\u62e9\u6240\u5728\u7701\u5e02",headerClassName:"bg-primary"},c.createElement("div",{className:"row no-gutters"},e.provinces.map((function(e){return n.renderPCC(e.province,n.onProvinceClick)}))))},n.renderPCC=function(e,t){return c.createElement("div",{key:e.id,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},Object(b.s)(e,(function(e){var n=e.id,a=e.chineseName;return c.createElement(c.Fragment,null,c.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return t(n)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},c.createElement("span",{className:"ml-1 align-middle"},c.createElement(b.e,{name:"chevron-right",className:"text-info small"}),"\xa0 ",a)))})))},n.onProvinceClick=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.provinceId=t,e.next=3,n.controller.getProvinceCities(t);case 3:if(!(a=e.sent)){e.next=16;break}if(1!==(r=a.length)){e.next=10;break}return e.next=9,n.onCityClick(a[0].city.id);case 9:return e.abrupt("return");case 10:if(!(r>1)){e.next=14;break}return n.backLevel++,n.openPageElement(c.createElement(b.j,{header:"\u9009\u62e9\u6240\u5728\u57ce\u5e02"},c.createElement("div",{className:"row no-gutters"},a.map((function(e){return n.renderPCC(e.city,n.onCityClick)}))))),e.abrupt("return");case 14:e.next=18;break;case 16:n.closePage(n.backLevel),n.saveAddress();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onCityClick=function(){var e=Object(p.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cityId=t,e.next=3,n.controller.getCityCounties(t);case 3:(a=e.sent)&&a.length>0?(n.backLevel++,n.openPageElement(c.createElement(b.j,{header:"\u9009\u62e9\u6240\u5728\u533a\u53bf"},c.createElement("div",{className:"row no-gutters"},a.map((function(e){return n.renderPCC(e.county,n.onCountyClick)})))))):(n.closePage(n.backLevel),n.saveAddress());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onCountyClick=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.countyId=t,n.closePage(n.backLevel),n.saveAddress();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveAddress=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveAddress(ve,n.provinceId,n.cityId,n.countyId);case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.getCountryProvince(ve);case 2:n=e.sent,this.openPage(this.page,{provinces:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),ye=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).getCountryProvince=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetCountryProvinces.table({country:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getProvinceCities=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetProvinceCities.table({province:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getCityCounties=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetCityCounties.table({city:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveAddress=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r,c){var i,l,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uqs.common.Address,e.next=3,i.save(void 0,{country:t,province:a,city:r,county:c});case 3:l=e.sent,s=l&&i.boxId(l.id),n.returnCall(s);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(be);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),ge=(b.k,G=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))),Object(k.a)(n,"pageSupplierContact",H,Object(x.a)(n)),n.pickAddress=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(ye),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n.showCreateSupplierContact=function(e){var t={parent:e,item:void 0,child:void 0};n.openVPage(de,t)},n.showEditSupplierContact=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={parent:t,item:a,child:a},n.openVPage(de,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showSupplierContactDetail=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(fe,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveSupplierContact=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){var c,i,l,s,u,p,m,d,f,h,v,b,y,g,w,x,E,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.name,i=a.firstName,l=a.lastName,s=a.gender,u=a.salutation,p=a.departmentName,m=a.telephone,d=a.mobile,f=a.email,h=a.fax,v=a.zipCode,b=a.wechatId,y=a.addressString,g=a.address,w=a.isDefault,x={name:c,firstName:i,lastName:l,gender:s,salutation:u,departmentName:p,telephone:m,mobile:d,email:f,fax:h,zipCode:v,wechatId:b,addressString:y,address:g,supplier:r.id,isValid:1},e.next=4,n.uqs.rms.SupplierContact.save(t,x);case 4:if(E=e.sent,!0!==w){e.next=10;break}return void 0===(j=t)&&(j=E.id),e.next=10,n.uqs.rms.Supplier.save(r.id,{no:r.no,name:r.name,abbreviation:r.abbreviation,createTime:r.createTime,isValid:1,defaultContact:j});case 10:n.cApp.cHome.start();case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n.delSupplierContact=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r,c,i,l,s,u,p,m,d,f,h,v,b,y,g,w,x,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.id,c=a.no,i=a.name,l=a.firstName,s=a.lastName,u=a.isDefault,a.isValid,p=a.supplier,m=a.gender,d=a.salutation,f=a.departmentName,h=a.telephone,v=a.mobile,b=a.email,y=a.fax,g=a.zipCode,w=a.wechatId,x=a.addressString,E=a.address,e.next=3,n.uqs.rms.SupplierContact.save(r,{no:c,name:i,firstName:l,lastName:s,supplier:p,gender:m,salutation:d,departmentName:f,telephone:h,mobile:v,email:b,fax:y,zipCode:g,wechatId:w,addressString:x,address:E,isDefault:u,isValid:0});case 3:return e.next=5,n.uqs.rms.SearchSupplierContact.query({_id:a.id});case 5:n.closePage();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.loadList=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cSupplier.onSupplierSelected(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showSupplierContact=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.SearchSupplierContact.query({_id:a});case 3:r=e.sent,c=r.ret.length>0?r.ret:void 0,i={parent:void 0,item:r.ret[0],child:c},n.openVPage(B,i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),H=Object(O.a)(G.prototype,"pageSupplierContact",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G),we=[{name:"id",type:"id",required:!1},{name:"supplier",type:"id",required:!0},{name:"brand",type:"id",required:!0},{name:"origin",type:"string",required:!1},{name:"purity",type:"string",required:!1},{name:"isTrue",type:"boolean",required:!0}],xe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.productData=void 0,n.uiSchema={items:{id:{visible:!1},supplier:{widget:"id",label:"\u4f9b\u5e94\u5546",placeholder:"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546",pickId:function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickSupplier(t,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?c.createElement(c.Fragment,null,Object(b.s)(e,(function(e){return c.createElement(c.Fragment,null,e.name)}))):c.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546")}},brand:{widget:"id",label:"\u54c1\u724c",placeholder:"\u8bf7\u9009\u62e9\u54c1\u724c",pickId:function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickBrand(t,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?c.createElement(c.Fragment,null,Object(b.s)(e,(function(e){return c.createElement(c.Fragment,null,e.no)}))):c.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u54c1\u724c")}},origin:{widget:"text",label:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7"},purity:{widget:"text",label:"\u7eaf\u5ea6"},isTrue:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveProductData(a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSaveProductData=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.showChemicalData=function(){var e=n.controller.chemical,t=e.no,a=e.CAS,r=e.description,i=e.descriptoinCN,l=e.molecularFomula,s=e.molecularWeight;e.mdlNumber;return c.createElement("div",{className:"py-2 bg-white"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null,"\u6807\u51c6\u5e93\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\xa0chemid:"),c.createElement("span",null," ",t)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0 CAS:"),c.createElement("span",null," ",a)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u82f1\u6587\u540d\u79f0\uff1a"),c.createElement("span",null,r)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u4e2d\u6587\u540d\u79f0\uff1a"),c.createElement("span",null,i)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\u5206\u5b50\u5f0f\uff1a"),c.createElement("span",null,l)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\u5206\u5b50\u91cf\uff1a"),c.createElement("span",null,s))))},n.page=function(){var e,t=q.a.clone(n.productData);return e=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSaveProductData},"\u4fdd\u5b58"),c.createElement(b.j,{header:"\u6dfb\u52a0\u4ea7\u54c1",footer:e,headerClassName:"bg-primary"},n.showChemicalData(),c.createElement("div",{className:"bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:we,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.productData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Ee=[{name:"id",type:"id",required:!1},{name:"origin",type:"string",required:!1},{name:"purity",type:"string",required:!1},{name:"isTrue",type:"boolean",required:!0}],je=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.productData=void 0,n.uiSchema={items:{id:{visible:!1},origin:{widget:"text",label:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7"},purity:{widget:"text",label:"\u7eaf\u5ea6"},isTrue:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.updateProductData(n.productData,a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSaveProductData=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.showProductData=function(e){var t=e.supplier,n=e.brand,a=(e.origin,e.description),r=e.descriptionC,i=(e.createTime,e.chemical,e.CAS),l=(e.purity,e.molecularFomula),s=e.molecularWeight,u=t.obj.name,o=void 0===n?void 0:n.obj.no;return c.createElement("div",{className:"py-2 bg-white"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null,"\u4ea7\u54c1\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\u4f9b\u5e94\u5546\uff1a"),c.createElement("span",null,u)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u54c1\u724c\uff1a"),c.createElement("span",null,o)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0 CAS\uff1a"),c.createElement("span",null,i)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u82f1\u6587\u540d\u79f0\uff1a"),c.createElement("span",null,a)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u4e2d\u6587\u540d\u79f0\uff1a"),c.createElement("span",null,r)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\u5206\u5b50\u5f0f\uff1a"),c.createElement("span",null,l)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\u5206\u5b50\u91cf\uff1a"),c.createElement("span",null,s))))},n.page=function(){var e,t=q.a.clone(n.productData);return e=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSaveProductData},"\u4fdd\u5b58"),c.createElement(b.j,{header:"\u4fee\u6539\u4ea7\u54c1",footer:e,headerClassName:"bg-primary"},n.showProductData(t),c.createElement("div",{className:"bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:Ee,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.productData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),ke=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).product=void 0,n.firstPackage=void 0,n.packages=[],n.getPackage=function(){var e=n.controller.cApp.cPackage.showCreatePackage;return c.createElement("div",{className:"bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"cubes"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4ea7\u54c1\u5305\u88c5"))),n.firstPackage&&c.createElement(b.h,{items:n.packages,item:{render:n.renderPackage}}),c.createElement("div",{className:"text-primary text-center small bg-white py-2",onClick:function(){return e(n.product)}},c.createElement(b.e,{name:"plus"}),"\u5305\u88c5"))},n.renderPackage=function(e,t){var a=n.controller.cApp.cPackage,r=a.showEditPackage,i=a.showPackageDetail,l=(e.id,e.radiox),s=e.radioy,u=e.unit,o=e.type,p=(n.product.defaultContact,1!==l?c.createElement(c.Fragment,null,l," * ",s,u):c.createElement(c.Fragment,null,s,u)),m=c.createElement("div",{className:"px-2 small",onClick:function(){return i(e)}},c.createElement(b.e,{name:"cube",className:"px-2 text-primary"}),p," - ",1===o?"\u76ee\u5f55":"\u975e\u76ee\u5f55"),d=c.createElement("div",{className:"px-2 text-muted text-right samll"},c.createElement("span",{onClick:function(){return r(n.product,e)}},c.createElement(b.e,{className:"align-middle p-2 cursor-pointer text-info",name:"edit"})));return c.createElement(b.g,{left:m,right:d,className:"py-2"})},n.rowTop=function(){q.a.clone(n.product);var e=n.product,t=e.supplier,a=e.brand,r=e.origin,i=e.description,l=e.descriptionC,s=(e.createTime,e.chemical,e.CAS),u=e.purity,o=e.molecularFomula,p=e.molecularWeight,m=t.obj.name,d=void 0===a?void 0:a.obj.name;return c.createElement("div",{className:"py-2 bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null,"\u4ea7\u54c1\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub small"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\xa0\u4f9b\u5e94\u5546\uff1a"),c.createElement("span",null,m)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\xa0\xa0\u54c1\u724c\uff1a"),c.createElement("span",null,d)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\xa0\xa0 CAS\uff1a"),c.createElement("span",null,s)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u82f1\u6587\u540d\u79f0\uff1a"),c.createElement("span",null,i)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\u4e2d\u6587\u540d\u79f0\uff1a"),c.createElement("span",null,l)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7\uff1a"),c.createElement("span",null,r)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\xa0\xa0\u7eaf\u5ea6\uff1a"),c.createElement("span",null,u)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\xa0\u5206\u5b50\u5f0f\uff1a"),c.createElement("span",null,o)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\xa0\u5206\u5b50\u91cf\uff1a"),c.createElement("span",null,p))))},n.page=function(){var e=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u4ea7\u54c1\u8be6\u60c5"));return c.createElement(b.j,{header:e,headerClassName:"bg-primary"},n.rowTop(),n.getPackage())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parent,a=t.item,r=t.child,this.product=n,this.firstPackage=a,this.packages=r,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Oe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderRootCategory=function(e,t){e.no;var a=e.description,r=(e.createTime,e.supplier),i=e.CAS,l=n.controller,s=l.onEditProduct,u=l.showProductDetail,o=c.createElement("div",{className:"p-2 cursor-pointer text-info",onClick:function(){return s(e)}},c.createElement(b.e,{name:"edit"}));return c.createElement(b.g,{right:o,className:"m-2 justify-content-between cursor-pointer"},c.createElement("div",{onClick:function(){return u(e)}},c.createElement("div",null,c.createElement("span",{className:"small text-muted"},"\xa0 CAS: "),i),c.createElement("div",null,c.createElement("span",{className:"small text-muted"},"\u82f1\u6587\u540d: "),a),c.createElement("div",null,c.createElement("span",{className:"small text-muted"},"\u4f9b\u5e94\u5546: "),Object(b.s)(r,(function(e){return c.createElement(c.Fragment,null,e.name)})))))},n.page=Object(I.a)((function(){var e=n.controller,t=e.products,a=(e.onNewProduct,e.searchProductByKey),r=e.pickChemical,i=c.createElement("div",{className:"w-19c d-flex"},c.createElement(b.l,{className:"w-80",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165cas\u3001\u540d\u79f0\u5173\u952e\u5b57"}),c.createElement("span",{onClick:function(){return r()},className:"fa-stack"},c.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),c.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),l=c.createElement("header",{className:"py-2 px-4 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u4ea7\u54c1"));return c.createElement(b.j,{header:l,right:i,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},c.createElement("div",{className:"py-2"},c.createElement(b.h,{items:t,item:{render:n.renderRootCategory}})))})),n.onScrollBottom=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.products.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.createElement(this.page,null)}}]),t}(b.o),Ne=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).page=Object(I.a)((function(){var e=n.controller,t=e.suppliers,a=e.searchSupplierByKey,r=c.createElement("header",{className:"py-2 px-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u9009\u62e9\u4f9b\u5e94\u5546"));return c.createElement(b.j,{header:r,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},c.createElement(b.l,{className:"w-80 mt-1 mr-2",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),c.createElement(b.h,{items:t,item:{render:n.renderItem,onClick:n.onClick}}))})),n.onScrollBottom=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.suppliers.more();case 2:case"end":return e.stop()}}),e)}))),n.onClick=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.returnSupplier(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderItem=function(e,t){var n=e.name;return c.createElement(b.g,{className:"py-2 border"},c.createElement("div",null,c.createElement(b.e,{name:"circle",className:"px-2 text-primary"}),n))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Ce=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchSupplier=void 0,n.firstSize=n.pageSize=14,n.searchSupplier=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchSupplier.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),qe=(M=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))),Object(k.a)(n,"suppliers",$,Object(x.a)(n)),n.searchSupplierByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.suppliers=new Ce(n.uqs.rms.SearchSupplier),n.suppliers.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.returnSupplier=function(e){n.returnCall(e)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t),this.openVPage(Ne);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),$=Object(O.a)(M.prototype,"suppliers",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M),Se=[{name:"id",type:"id",required:!1},{name:"no",type:"string",required:!0},{name:"name",type:"string",required:!0},{name:"isValid",type:"boolean",required:!0}],Pe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.brandData=void 0,n.uiSchema={items:{id:{visible:!1},no:{widget:"text",label:"\u54c1\u724c\u7f16\u53f7",placeholder:"\u5fc5\u586b"},name:{widget:"text",label:"\u54c1\u724c\u540d\u79f0",placeholder:"\u5fc5\u586b"},isValid:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveBrandData(a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSaveBrandData=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.page=function(){var e,t=q.a.clone(n.brandData);return e=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSaveBrandData},"\u4fdd\u5b58"),c.createElement(b.j,{header:"\u6dfb\u52a0\u54c1\u724c",footer:e,headerClassName:"bg-primary"},c.createElement("div",{className:"bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:Se,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.brandData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Ie=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).page=Object(I.a)((function(){var e=n.controller,t=e.brands,a=e.searchBrandByKey,r=e.onNewBrand,i=c.createElement("div",{className:"w-19c d-flex"},c.createElement(b.l,{className:"w-80",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),c.createElement("span",{onClick:function(){return r()},className:"fa-stack"},c.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),c.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),l=c.createElement("header",{className:"py-2 px-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u9009\u62e9\u54c1\u724c"));return c.createElement(b.j,{header:l,right:i,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},c.createElement(b.h,{items:t,item:{render:n.renderItem,onClick:n.onClick}}))})),n.onScrollBottom=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.brands.more();case 2:case"end":return e.stop()}}),e)}))),n.onClick=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.returnBrand(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderItem=function(e,t){var n=e.no,a=e.name;return c.createElement(b.g,{className:"py-2 border"},c.createElement("div",null,c.createElement(b.e,{name:"circle",className:"px-2 text-primary"}),n," - ",a))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Ae=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchBrand=void 0,n.firstSize=n.pageSize=14,n.searchBrand=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchBrand.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),Be=(J=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))),Object(k.a)(n,"brands",Q,Object(x.a)(n)),n.searchBrandByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.brands=new Ae(n.uqs.rms.SearchBrand),n.brands.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveBrandData=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=5;break}return e.next=3,n.uqs.rms.Brand.save(void 0,t);case 3:e.next=7;break;case 5:return e.next=7,n.uqs.rms.Brand.save(t.id,t);case 7:return n.closePage(),e.next=10,n.searchBrandByKey("");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewBrand=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(Pe,{description:void 0});case 1:case"end":return e.stop()}}),e)}))),n.onEditBrand=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(Pe,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.returnBrand=function(e){n.returnCall(e)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchBrandByKey(t),this.openVPage(Ie);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),Q=Object(O.a)(J.prototype,"brands",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J),De=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchProduct=void 0,n.firstSize=n.pageSize=14,n.searchProduct=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchProduct.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),Fe=(X=function(e){function t(){var e,n,a=this;Object(m.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i))),Object(k.a)(n,"products",Y,Object(x.a)(n)),n.chemical=void 0,n.searchProductByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.products=new De(n.uqs.rms.SearchProduct),n.products.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.pickSupplier=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(qe),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n.pickBrand=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(Be),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n.pickChemical=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cChemical.call();case 2:e.sent;case 3:case"end":return e.stop()}}),e)}))),n.saveProductData=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c,i,l,s,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=12;break}if(!n.chemical){e.next=12;break}return a=n.chemical,r=a.id,c=a.CAS,i=a.description,l=a.descriptoinCN,s=a.molecularFomula,u=a.molecularWeight,t.description=i,t.descriptionC=l,t.createTime=Date.now(),t.defaultContact=void 0,e.next=9,n.uqs.rms.Product.save(void 0,t);case 9:return p=e.sent,e.next=12,n.uqs.rms.ProductChemical.add({product:p.id,arr1:[{chemical:r,CAS:c,molecularFomula:s,molecularWeight:u,purity:t.purity}]});case 12:return n.closePage(),e.next=15,n.loadList();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateProductData=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return t.origin=a.origin,t.isTrue=1,r=t.chemical,e.next=6,n.uqs.rms.Product.save(a.id,t);case 6:return e.next=8,n.uqs.rms.ProductChemical.add({product:a.id,arr1:[{chemical:r.id,CAS:t.CAS,molecularFomula:t.molecularFomula,molecularWeight:t.molecularWeight,purity:a.purity}]});case 8:return n.closePage(),e.next=11,n.loadList();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onNewProduct=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.chemical=t,n.openVPage(xe,{product:void 0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onEditProduct=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(je,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showProductDetail=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.GetPack.query({_id:a});case 3:r=e.sent,c={parent:t,item:r.ret[0],child:r.ret},n.openVPage(ke,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchProductByKey("");case 2:case"end":return e.stop()}}),e)}))),n.render=Object(I.a)((function(){return n.renderView(Oe)})),n.tab=function(){return c.createElement(a.render,null)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchProductByKey(t),this.openVPage(Oe);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),Y=Object(O.a)(X.prototype,"products",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X),ze=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).page=Object(I.a)((function(){var e=n.controller,t=e.chemicals,a=e.searchChemicalByKey,r=n.controller.cApp.cProduct.onNewProduct,i=c.createElement("header",{className:"py-2 px-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u9009\u62e9chemid"));return c.createElement(b.j,{header:i,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},c.createElement(b.l,{className:"w-80 mt-1 mr-2",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165CAS\u3001\u540d\u79f0\u5173\u952e\u5b57"}),c.createElement(b.h,{items:t,item:{render:n.renderItem,onClick:r}}))})),n.onScrollBottom=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.chemicals.more();case 2:case"end":return e.stop()}}),e)}))),n.renderItem=function(e,t){var n=e.CAS,a=e.description;return c.createElement(b.g,{className:"py-2 border"},c.createElement("div",null,c.createElement(b.e,{name:"circle",className:"px-2 text-primary"}),"CAS:",n),c.createElement("div",{className:"px-4 text-muted small"},"\u82f1\u6587\uff1a",a))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Ve=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchChemical=void 0,n.firstSize=n.pageSize=8,n.searchChemical=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchChemical.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),Te=(Z=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))),Object(k.a)(n,"chemicals",ee,Object(x.a)(n)),n.searchChemicalByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.chemicals=new Ve(n.uqs.chemical.SearchChemical),n.chemicals.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchChemicalByKey(t),this.openVPage(ze);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),ee=Object(O.a)(Z.prototype,"chemicals",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z),Le=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.item=void 0,n.parent=void 0,n.schema=[{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"string",required:!0},{name:"type",type:"string",required:!0},{name:"isValid",type:"boolean",required:!0}],n.uiSchema={items:{radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b",defaultValue:1},unit:{widget:"text",label:"\u5355\u4f4d",placeholder:"\u5fc5\u586b"},type:{widget:"radio",label:"\u7c7b\u578b",list:[{value:1,title:"\u76ee\u5f55\u5305\u88c5"},{value:2,title:"\u975e\u76ee\u5f55\u5305\u88c5"}]},isValid:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onSavePackage=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.controller.savePackage,c=n.item&&n.item.id,e.next=4,r(c,a.form.data,n.parent);case 4:n.closePage();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=Object(I.a)((function(){var e=c.createElement("div",{className:"d-flex"},c.createElement("div",{className:"flex-grow-1 justify-content-end"},c.createElement("button",{type:"button",className:"btn btn-primary mr-3 px-6",onClick:n.onSavePackage},c.createElement("span",{className:"px-4"},"\u4fdd\u5b58"))));return c.createElement(b.j,{header:"\u7f16\u8f91\u5305\u88c5",footer:e,headerClassName:"bg-primary"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"my-3 mx-3",formData:n.item,schema:n.schema,uiSchema:n.uiSchema,onButtonClick:n.onFormButtonClick,requiredFlag:!0}))})),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.item,a=t.parent,this.item=n,this.parent=a,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Ke=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).package=void 0,n.page=function(){var e=q.a.clone(n.package),t=e.radiox,a=e.radioy,r=e.unit,i=e.type,l=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u5305\u88c5\u8be6\u60c5"));return c.createElement(b.j,{header:l,headerClassName:"bg-primary"},c.createElement("div",{className:"py-2 bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u5305\u88c5\u57fa\u672c\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\xa0\u5957\uff1a"),c.createElement("span",null,t)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u89c4\u683c\uff1a"),c.createElement("span",null,a)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u5355\u4f4d\uff1a"),c.createElement("span",null,r)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u7c7b\u578b\uff1a"),c.createElement("span",null,1===i?"\u76ee\u5f55\u5305\u88c5":"\u975e\u76ee\u5f55\u5305\u88c5")))))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.package=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Re=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchPackage=void 0,n.firstSize=n.pageSize=14,n.searchPackage=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchPackage.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),_e=(te=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))),Object(k.a)(n,"pagePackage",ne,Object(x.a)(n)),n.searchPackageByKey=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Re,e.next=3,n.uqs.rms.GetPack.query({_id:t.id});case 3:e.t1=e.sent,n.pagePackage=new e.t0(e.t1),n.pagePackage.first({key:a});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showCreatePackage=function(e){var t={parent:e,item:void 0,child:void 0};n.openVPage(Le,t)},n.showEditPackage=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={parent:t,item:a,child:a},n.openVPage(Le,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showPackageDetail=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(Ke,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.savePackage=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.rms.Product.saveArr("Pack",r.id,t,a);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n.loadList=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cSupplier.onSupplierSelected(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showPackage=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.GetPack.query({_id:a});case 3:r=e.sent,c=r.ret.length>0?r.ret:void 0,i={parent:void 0,item:r.ret[0],child:c},n.openVPage(ke,i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),ne=Object(O.a)(te.prototype,"pagePackage",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te),Ue=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).page=Object(I.a)((function(){var e=n.controller,t=e.products,a=e.searchProductByKey,r=n.controller.cApp.cNewPendingInquiry.onNewPendingInquiry,i=c.createElement("header",{className:"py-2 px-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u9009\u62e9\u4ea7\u54c1"));return c.createElement(b.j,{header:i,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},c.createElement(b.l,{className:"w-80 mt-1 mr-2",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),c.createElement(b.h,{items:t,item:{render:n.renderItem,onClick:r}}))})),n.onScrollBottom=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.products.more();case 2:case"end":return e.stop()}}),e)}))),n.renderItem=function(e,t){var n=e.CAS,a=e.description,r=e.supplier;return c.createElement(b.g,{className:"py-2 border"},c.createElement("div",null,c.createElement(b.e,{name:"circle",className:"px-2 text-primary"}),n),c.createElement("div",{className:"px-4 text-muted small"},a),c.createElement("div",{className:"px-4 text-muted small"},Object(b.s)(r,(function(e){return c.createElement(c.Fragment,null,e.name)}))))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),We=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchProduct=void 0,n.firstSize=n.pageSize=14,n.searchProduct=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchProduct.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),Ge=(ae=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))),Object(k.a)(n,"products",re,Object(x.a)(n)),n.searchProductByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.products=new We(n.uqs.rms.SearchProduct),n.products.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchProductByKey(t),this.openVPage(Ue);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),re=Object(O.a)(ae.prototype,"products",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae),He=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderRootCategory=function(e,t){var a=e.supplier,r=e.inquiryDate,i=n.controller.onShowPendingInquiryDetail,l=c.createElement("div",{className:"p-2 cursor-pointer text-muted"},c.createElement(b.d,{date:r}));return c.createElement(b.g,{right:l,className:"m-2 justify-content-between cursor-pointer",onClick:function(){return i(e)}},c.createElement("div",null,c.createElement("span",{className:"small text-muted"},"\u4f9b\u5e94\u5546: "),Object(b.s)(a,(function(e){return c.createElement(c.Fragment,null,e.name)}))))},n.page=Object(I.a)((function(){var e=n.controller,t=e.pendingInquirys,a=e.searchPendingInquiryByKey,r=c.createElement("div",{className:"w-19c d-flex"},c.createElement(b.l,{className:"w-80",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"})),i=c.createElement("header",{className:"py-2 px-4 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u5df2\u8be2\u51fa"));return c.createElement(b.j,{header:i,right:r,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},c.createElement("div",{className:"py-2"},c.createElement(b.h,{items:t,item:{render:n.renderRootCategory},none:"\u76ee\u524d\u8fd8\u6ca1\u5df2\u8be2\u4ef7\u8bb0\u5f55\u54e6\uff01"})))})),n.onScrollBottom=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pendingInquirys.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.createElement(this.page,null)}}]),t}(b.o),Me=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).suppplier=void 0,n.firstPackage=void 0,n.packages=[],n.getPackage=function(){return c.createElement("div",{className:"bg-white px-2 "},n.firstPackage&&c.createElement(b.h,{items:n.packages,item:{render:n.renderPackage}}))},n.renderPackage=function(e,t){n.controller.onAddInquiry,e.id,e.inquiryPackage,e.user,e.createDate;var a=e.product,r=e.quantity,i=e.radiox,l=e.radioy,s=e.unit,u=e.CAS,o=(e.purity,a.obj),p=o.brand,m=o.description,d=(o.descriptionC,1!==i?c.createElement(c.Fragment,null,i," * ",l,s):c.createElement(c.Fragment,null,l,s)),f=(void 0===p||p.obj.name,c.createElement("div",{className:"px-2 text-muted text-right"},c.createElement("span",{onClick:function(){return n.controller.openPendingInquiryResult(e)}},c.createElement(b.e,{className:"align-middle p-2 cursor-pointer text-info",name:"edit"}))));return c.createElement(b.g,{right:f,className:"py-2 samll"},c.createElement("div",null,c.createElement(b.e,{name:"circle",className:"px-2 text-primary"}),"CAS\uff1a",u),c.createElement("div",{className:"px-4 text-muted small"},"\u540d\u79f0\uff1a",m),c.createElement("div",{className:"px-4 text-muted small"},"\u5305\u88c5\uff1a",r," * ",d))},n.rowTop=function(){var e=q.a.clone(n.suppplier),t=e.supplier,a=e.contactName,r=(e.contactSalutation,e.contactDepartmentName,e.contactTelephone,e.contactMobile),i=(e.contactEmail,e.contactfax,e.way),l=e.inquiryUser,s=e.inquiryDate,u=e.user,o=e.date,p=(e.remarks,u.id),m=l.id;return c.createElement("div",{className:"py-2 bg-white"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u4f9b\u5e94\u5546\uff1a",c.createElement("b",null,Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.name)}))))),c.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"user-circle-o"}),c.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u8054\u7cfb\u4eba\uff1a",c.createElement("b",null,a),"\xa0\xa0\u8054\u7cfb\u7535\u8bdd\uff1a",c.createElement("b",null,r))),c.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"user-circle-o"}),c.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u521b\u5efa\u4eba\uff1a",c.createElement("b",null,p),"\xa0\xa0\u521b\u5efa\u65f6\u95f4\uff1a",c.createElement("b",null,c.createElement(b.d,{date:o})))),c.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"user-circle-o"}),c.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u8be2\u4ef7\u4eba\uff1a",c.createElement("b",null,m),"\xa0\xa0\u8be2\u4ef7\u65f6\u95f4\uff1a",c.createElement("b",null,c.createElement(b.d,{date:s})))),c.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"user-circle-o"}),c.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u8be2\u4ef7\u65b9\u5f0f\uff1a",c.createElement("b",null,1===i?"Email\u8be2\u4ef7":2===i?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7"))))},n.page=function(){var e=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u8be2\u4ef7\u8be6\u60c5"));return c.createElement(b.j,{header:e,headerClassName:"bg-primary"},n.rowTop(),n.getPackage())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parent,a=t.item,r=t.child,this.suppplier=n,this.firstPackage=a,this.packages=r,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),$e=[{name:"id",type:"id",required:!1},{name:"way",type:"number",required:!0},{name:"remarks",type:"number",required:!1}],Je=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.supplier=void 0,n.firstPackage=void 0,n.packages=[],n.uiSchema={items:{id:{visible:!1},way:{widget:"radio",label:"\u8be2\u4ef7\u65b9\u5f0f",list:[{value:1,title:"Email\u8be2\u4ef7"},{value:2,title:"\u7535\u8bdd\u8be2\u4ef7"},{value:3,title:"\u4f20\u771f\u8be2\u4ef7"}]},remarks:{widget:"text",label:"\u5907\u6ce8",rows:5},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveInquiryData(a.form.data,n.supplier.supplier.obj);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSaveInquiryData=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.getPackage=function(){return c.createElement("div",{className:"bg-white px-2 "},n.firstPackage&&c.createElement(b.h,{items:n.packages,item:{render:n.renderPackage}}))},n.renderPackage=function(e,t){e.id,e.user;var n=e.product,a=e.quantity,r=e.radiox,i=e.radioy,l=e.unit,s=(e.date,e.CAS),u=(e.purity,n.obj),o=u.brand,p=u.description,m=(u.descriptionC,1!==r?c.createElement(c.Fragment,null,r," * ",i,l):c.createElement(c.Fragment,null,i,l));void 0===o||o.obj.name;return c.createElement(b.g,{className:"py-2 samll"},c.createElement("div",null,c.createElement(b.e,{name:"circle",className:"px-2 text-primary"}),"CAS\uff1a",s,"\xa0\xa0 \u5305\u88c5\uff1a",a," * ",m),c.createElement("div",{className:"px-4 text-muted small"},"\u540d\u79f0\uff1a",p))},n.rowTop=function(e,t){var n=null===t?c.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"user-circle-o"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle text-danger"},"\u8bf7\u5148\u8bbe\u7f6e\u4f9b\u5e94\u5546\u9ed8\u8ba4\u8054\u7cfb\u4eba!")):c.createElement("div",null,c.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"user-circle-o"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null,Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.name)}))))),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.mobile)}))," | ",Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.telephone)}))," | ",Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.email)})))));return c.createElement("div",{className:"py-2 bg-white"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null,Object(b.s)(e,(function(e){return c.createElement(c.Fragment,null,e.name)}))))),n)},n.page=function(){var e,t=q.a.clone(n.supplier),a=t.supplier,r=a.obj.defaultContact;e=null===r?"":c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSaveInquiryData},"\u4fdd\u5b58");var i=null===r?c.createElement("div",null):c.createElement("div",{className:"bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:$e,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3}));return c.createElement(b.j,{header:"\u751f\u6210\u8be2\u4ef7\u5355",footer:e,headerClassName:"bg-primary"},n.rowTop(a,r),i,n.getPackage())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parent,a=t.item,r=t.child,this.supplier=n,this.firstPackage=a,this.packages=r,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Qe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).page=function(){var e=n.controller.currencys;return c.createElement(b.j,{header:"\u9009\u62e9\u5e01\u79cd"},c.createElement("div",{className:"row no-gutters"},e.map((function(e){return n.renderCurrency(e,n.onCurrencyClick)}))))},n.renderCurrency=function(e,t){var a=e.id,r=e.name;return c.createElement("div",{key:a,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},c.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return n.onCurrencyClick(e)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},c.createElement("span",{className:"ml-1 align-middle"},c.createElement(b.e,{name:"chevron-right",className:"text-info small"}),"\xa0 ",r)))},n.onCurrencyClick=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.returnCurrency(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Xe=(ce=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))),Object(k.a)(n,"currencys",ie,Object(x.a)(n)),n.returnCurrency=function(e){n.returnCall(e)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.common.Currency.search("",0,100);case 2:this.currencys=e.sent,this.openVPage(Qe);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),ie=Object(O.a)(ce.prototype,"currencys",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce),Ye=[{name:"id",type:"id",required:!1},{name:"quantity",type:"number",required:!0},{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"string",required:!0},{name:"listPrice",type:"number",required:!1},{name:"price",type:"number",required:!0},{name:"currency",type:"id",required:!0},{name:"isTaxIn",type:"number",required:!0},{name:"isTransFeeIn",type:"number",required:!0},{name:"transFee",type:"number",required:!1},{name:"transFeecurrency",type:"id",required:!1},{name:"packingFee",type:"number",required:!1},{name:"packingcurrency",type:"id",required:!1},{name:"otherFee",type:"number",required:!1},{name:"customized",type:"number",required:!0},{name:"customizeUpto",type:"date",required:!0},{name:"validUpto",type:"date",required:!0},{name:"minArriveDate",type:"date",required:!0},{name:"maxArriveDate",type:"date",required:!0},{name:"invoiceType",type:"number",required:!0},{name:"vatRate",type:"number",required:!1},{name:"tariffRate",type:"number",required:!1},{name:"packType",type:"number",required:!0},{name:"remarks",type:"string",required:!1},{name:"coaFilePath",type:"string",required:!1},{name:"msdsFilePath",type:"string",required:!1},{name:"quotationFilePath",type:"string",required:!1}],Ze=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.inquiryData=void 0,n.uiSchema={items:{id:{visible:!1},quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"text",label:"\u5355\u4f4d",placeholder:"\u5fc5\u586b"},listPrice:{widget:"text",label:"\u76ee\u5f55\u4ef7"},price:{widget:"text",label:"\u7ed3\u7b97\u4ef7",placeholder:"\u5fc5\u586b"},currency:{widget:"id",label:"\u7ed3\u7b97\u5e01\u79cd",placeholder:"\u7ed3\u7b97\u5e01\u79cd",pickId:function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickCurrency(t,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?c.createElement(c.Fragment,null,Object(b.s)(e,(function(e){return c.createElement(c.Fragment,null,e.name)}))):c.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u7ed3\u7b97\u5e01\u79cd")}},isTaxIn:{widget:"radio",label:"\u542b\u7a0e\u8d39",list:[{value:0,title:"\u5426"},{value:1,title:"\u662f"}]},isTransFeeIn:{widget:"radio",label:"\u542b\u8fd0\u8d39",list:[{value:0,title:"\u5426"},{value:1,title:"\u662f"}]},transFee:{widget:"text",label:"\u8fd0\u8d39"},transFeecurrency:{widget:"id",label:"\u8fd0\u8d39\u5e01\u79cd",placeholder:"\u8fd0\u8d39\u5e01\u79cd",pickId:function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickCurrency(t,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?c.createElement(c.Fragment,null,Object(b.s)(e,(function(e){return c.createElement(c.Fragment,null,e.name)}))):c.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u8fd0\u8d39\u5e01\u79cd")}},packingFee:{widget:"text",label:"\u5305\u88c5\u8d39"},packingcurrency:{widget:"id",label:"\u5305\u88c5\u8d39\u5e01\u79cd",placeholder:"\u5305\u88c5\u8d39\u5e01\u79cd",pickId:function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickCurrency(t,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?c.createElement(c.Fragment,null,Object(b.s)(e,(function(e){return c.createElement(c.Fragment,null,e.name)}))):c.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u8d39\u5e01\u79cd")}},otherFee:{widget:"text",label:"\u5176\u4ed6\u8d39"},customized:{widget:"radio",label:"\u5b9a\u5236",list:[{value:0,title:"\u5426"},{value:1,title:"\u662f"}]},customizeUpto:{widget:"date",label:"\u5b9a\u5236\u622a\u6b62\u65e5\u671f"},validUpto:{widget:"date",label:"\u62a5\u4ef7\u6709\u6548\u671f",placeholder:"\u5fc5\u586b"},minArriveDate:{widget:"date",label:"\u6700\u77ed\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},maxArriveDate:{widget:"date",label:"\u6700\u957f\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},invoiceType:{widget:"radio",label:"\u53d1\u7968\u7c7b\u578b",list:[{value:1,title:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968"},{value:2,title:"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968"},{value:3,title:"\u5f62\u5f0f\u53d1\u7968"}]},vatRate:{widget:"text",label:"\u589e\u503c\u7a0e\u7387"},tariffRate:{widget:"text",label:"\u5173\u7a0e\u7a0e\u7387"},packType:{widget:"radio",label:"\u5305\u88c5\u7c7b\u578b",list:[{value:1,title:"\u76ee\u5f55\u5305\u88c5"},{value:2,title:"\u975e\u76ee\u5f55\u5305\u88c5"}]},remarks:{widget:"text",label:"\u5907\u6ce8",row:10},coaFilePath:{widget:"text",label:"COA\u6587\u4ef6\u8def\u5f84"},msdsFilePath:{widget:"text",label:"MSOS\u6587\u4ef6\u8def\u5f84"},quotationFilePath:{widget:"text",label:"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.inquiryData.product,e.next=3,n.controller.saveInquiryData(a.form.data,r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSaveInquiryData=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.page=function(){var e,t=q.a.clone(n.inquiryData);return e=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSaveInquiryData},"\u4fdd\u5b58"),c.createElement(b.j,{header:"\u5f55\u5165\u8be2\u4ef7\u7ed3\u679c",footer:e,headerClassName:"bg-primary"},c.createElement("div",{className:"bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:Ye,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.inquiryData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),et=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchPendingInquiry=void 0,n.firstSize=n.pageSize=14,n.searchPendingInquiry=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchPendingInquiry.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),tt=(le=function(e){function t(){var e,n,a=this;Object(m.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i))),Object(k.a)(n,"pendingInquirys",se,Object(x.a)(n)),Object(k.a)(n,"pendingInquiryList",ue,Object(x.a)(n)),n.product=void 0,n.searchPendingInquiryByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.pendingInquirys=new et(n.uqs.rms.SearchInquiryPending),n.pendingInquirys.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.savePendingInquiryData=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c,i,l,s,u,p,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=8;break}if(!n.product){e.next=8;break}return a=n.product,r=a.id,c=a.supplier,i=c.id,l=t.quantity,s=t.radiox,u=t.radioy,p=t.unit,m={supplier:i,product:r,quantity:l,radiox:s,radioy:u,unit:p},e.next=8,n.uqs.rms.AddInquiryPending.submit(m);case 8:return n.closePage(),e.next=11,n.loadList();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getDataForSave=function(e,t,n,a){var r=n.name,c=n.salutation,i=n.departmentName,l=n.telephone,s=n.mobile,u=n.email,o=n.fax,p=[];return a.forEach((function(e){p.push({product:e.product,quantity:e.quantity,radiox:e.radiox,radioy:e.radioy,unit:e.unit})})),{supplier:t,contact:n,contactName:r,contactSalutation:c,contactDepartmentName:i,contactTelephone:l,contactMobile:s,contactEmail:u,contactfax:o,way:e.way,remarks:e.remarks,inquiryitems:p}},n.saveInquiryData=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r,c,i,l,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.id,c=a.defaultContact,e.next=3,n.uqs.rms.SearchInquiryPendingBySupplier.query({_id:r});case 3:return i=e.sent,e.next=6,n.uqs.rms.InquirySheet.save("InquirySheet",n.getDataForSave(t,a,c.obj,i.ret));case 6:return l=e.sent,e.next=9,n.uqs.rms.InquirySheet.action(l.id,l.flow,l.state,"submit");case 9:return s={_supplier:r},e.next=12,n.uqs.rms.DeleteInquiryPendingBySupplier.submit(s);case 12:return n.closePage(),e.next=15,n.loadList();case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onShowPendingInquiryDetail=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.SearchInquiryPendingBySupplier.query({_id:a});case 3:r=e.sent,c={parent:t,item:r.ret[0],child:r.ret},n.openVPage(Me,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onAddInquiry=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.SearchInquiryPendingBySupplier.query({_id:a});case 3:r=e.sent,c={parent:t,item:r.ret[0],child:r.ret},n.openVPage(Je,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.pickCurrency=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(Xe),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n.openPendingInquiryResult=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(Ze,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchPendingInquiryByKey("");case 2:case"end":return e.stop()}}),e)}))),n.render=Object(I.a)((function(){return n.renderView(He)})),n.tab=function(){return c.createElement(a.render,null)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchPendingInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),se=Object(O.a)(le.prototype,"pendingInquirys",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=Object(O.a)(le.prototype,"pendingInquiryList",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le),nt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderRootCategory=function(e,t){var a=e.id,r=e.no,i=e.date,l=(e.discription,n.controller.openInquiryDetail);return c.createElement("div",{className:"m-3 justify-content-between cursor-pointer",onClick:function(){return l(a)}},c.createElement("div",null,c.createElement("span",{className:"small text-muted"},"\u8be2\u4ef7\u5355\u53f7: "),c.createElement("strong",null,r)),c.createElement("div",{className:"small text-muted"},c.createElement(b.d,{date:i})))},n.page=Object(I.a)((function(){var e=n.controller,t=e.inquirys,a=e.searchInquiryByKey,r=c.createElement("div",{className:"w-19c d-flex"},c.createElement(b.l,{className:"w-80",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"})),i=c.createElement("header",{className:"py-2 px-4 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u8be2\u4ef7\u5355"));return c.createElement(b.j,{header:i,right:r,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},c.createElement(b.h,{items:t,item:{render:n.renderRootCategory},none:"\u76ee\u524d\u8fd8\u6ca1\u8be2\u4ef7\u5355\u54e6\uff01"}))})),n.onScrollBottom=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.inquirys.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.createElement(this.page,null)}}]),t}(b.o),at=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderOrderItem=function(e,t){var a=e.product,r=(e.quantity,e.radiox),i=e.radioy,l=e.unit,s=1!==r?c.createElement(c.Fragment,null,r," * ",i,l):c.createElement(c.Fragment,null,i,l),u=a.id;return c.createElement("div",null,c.createElement("div",{className:"d-flex px-3 py-2 bg-white align-items-center"},c.createElement("div",{key:t,className:"w-6c"},c.createElement(b.e,{name:"edit",className:"text-primary"}),"\xa0",s),c.createElement("div",{className:"flex-fill d-flex justify-content-end text-right"},c.createElement("small",{className:"text-muted"},n.controller.renderProduct(u)))))},n.page=function(e){var t=e.brief,a=e.data,r=(t.id,t.no),i=(t.state,t.description,t.date),l=t.user,s=a.supplier,u=a.contactName,o=a.contactSalutation,p=a.contactDepartmentName,m=a.contactTelephone,d=a.contactMobile,f=a.contactEmail,h=a.contactfax,v=a.way,y=a.remarks,g=a.inquiryitems,w=c.createElement(c.Fragment,null,"\u8be2\u4ef7\u5355\u8be6\u60c5: ",r);return c.createElement(b.j,{header:w,headerClassName:"bg-primary"},c.createElement(b.h,{items:g,item:{render:n.renderOrderItem}}),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u4f9b\u5e94\u5546:"),c.createElement("div",{className:"col-9"},Object(b.s)(s,(function(e){return c.createElement(c.Fragment,null,e.name)})))),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u59d3\u540d:"),c.createElement("div",{className:"col-9"},u)),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u79f0\u8c13:"),c.createElement("div",{className:"col-9"},o)),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u90e8\u95e8:"),c.createElement("div",{className:"col-9"},p)),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u7535\u8bdd:"),c.createElement("div",{className:"col-9"},m)),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u624b\u673a:"),c.createElement("div",{className:"col-9"},d)),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u90ae\u7bb1:"),c.createElement("div",{className:"col-9"},f)),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u4f20\u771f:"),c.createElement("div",{className:"col-9"},h)),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u8be2\u4ef7\u65b9\u5f0f:"),c.createElement("div",{className:"col-9"},1===v?"Email\u8be2\u4ef7":2===v?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7")),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u5907\u6ce8:"),c.createElement("div",{className:"col-9"},y)),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u4e0b\u5355\u65f6\u95f4:"),c.createElement("div",{className:"col-9"},c.createElement(b.d,{date:i}))),c.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},c.createElement("div",{className:"col-3 text-muted"},"\u8be2\u4ef7\u4eba:"),c.createElement("div",{className:"col-9"},l)))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),rt=(b.k,oe=function(e){function t(){var e,n,a=this;Object(m.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i))),Object(k.a)(n,"inquirys",pe,Object(x.a)(n)),Object(k.a)(n,"productdata",me,Object(x.a)(n)),n.searchInquiryByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.rms.GetInquirySheet.table(void 0);case 2:n.inquirys=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.openInquiryDetail=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.rms.InquirySheet.getSheet(t);case 2:a=e.sent,r=a.data,c=r.inquiryitems,i=it(c),r.InquiryItems=i,n.openVPage(at,a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderProduct=function(e){return n.renderView(ct,e)},n.getProduct=function(){var e=Object(p.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.rms.SearchProductById.query({_id:t});case 2:return a=e.sent,n.productdata=a.ret[0],e.abrupt("return",a.ret[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveInquiryData=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r,c,i,l,s,u,p,m,d,f,h,v,b,y,g,w,x,E,j,k,O,N,C,q,S,P,I,A;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.quantity,c=t.radiox,i=t.radioy,l=t.unit,s=t.listPrice,u=t.price,p=t.currency,m=t.isTaxIn,d=t.isTransFeeIn,f=t.transFee,h=t.transFeecurrency,v=t.packingFee,b=t.packingcurrency,y=t.otherFee,g=t.customized,w=t.customizeUpto,x=t.validUpto,E=t.minArriveDate,j=t.maxArriveDate,k=t.invoiceType,O=t.vatRate,N=t.tariffRate,C=t.packType,q=t.remarks,S=t.coaFilePath,P=t.msdsFilePath,I=t.quotationFilePath,A={product:a,quantity:r,radiox:c,radioy:i,unit:l,listPrice:s,price:u,currency:p,isTaxIn:m,isTransFeeIn:d,transFee:f,transFeecurrency:h,packingFee:v,packingcurrency:b,otherFee:y,customized:g,customizeUpto:w,validUpto:x,minArriveDate:E,maxArriveDate:j,invoiceType:k,vatRate:O,tariffRate:N,packType:C,remarks:q,coaFilePath:S,msdsFilePath:P,quotationFilePath:I},e.next=4,n.uqs.rms.AddInquiryResultHistory.submit(A);case 4:return n.closePage(),e.next=7,n.loadList();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.loadList=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchInquiryByKey("");case 2:case"end":return e.stop()}}),e)}))),n.render=Object(I.a)((function(){return n.renderView(nt)})),n.tab=function(){return c.createElement(a.render,null)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),pe=Object(O.a)(oe.prototype,"inquirys",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Object(O.a)(oe.prototype,"productdata",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe),ct=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).contentagency=Object(I.a)((function(e){var t,a=n.controller.productdata;if(void 0!==a){var r=a.description,i=a.CAS;t=c.createElement("span",{className:"text-muted small"},r,"\xa0",i)}return t})),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(e){return this.controller.getProduct(e),c.createElement(this.contentagency,{pid:e})}}]),t}(b.p);function it(e){var t=[],n=!0,a=!1,r=void 0;try{for(var i,l=function(){var e=i.value,n=e.product,a=e.pack,r=e.quantity,l=e.radiox,s=e.radioy,u=e.unit,o={pack:a,quantity:r,radio:1!==l?c.createElement(c.Fragment,null,l," * ",s,u):c.createElement(c.Fragment,null,s,u)},p=t.find((function(e){return e.product.id===n.id}));void 0===p&&(p={product:n,packs:[]},t.push(p)),p.packs.push(o)},s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)l()}catch(u){a=!0,r=u}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return t}var lt,st,ut,ot=[{name:"id",type:"id",required:!1},{name:"quantity",type:"number",required:!0},{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"string",required:!0}],pt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.pendingInquiryData=void 0,n.uiSchema={items:{id:{visible:!1},quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"text",label:"\u5355\u4f4d",placeholder:"\u5fc5\u586b"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveNewPendingInquiryData(a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSaveNewPendingInquiryData=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.showProductlData=function(){var e=n.controller.product,t=e.supplier,a=e.brand,r=e.description,i=e.descriptionC,l=e.CAS,s=e.purity,u=t.obj.name,o=void 0===a?void 0:a.obj.name;return c.createElement("div",{className:"py-2 bg-white"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null,"\u4ea7\u54c1\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub small"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle text-righ "},"\u4f9b\u5e94\u5546:"),c.createElement("span",null," ",u)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle text-right"},"\u54c1\u724c:"),c.createElement("span",null," ",o)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle text-right"},"CAS\uff1a"),c.createElement("span",null,l)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u82f1\u6587\u540d\u79f0\uff1a"),c.createElement("span",null,r)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u4e2d\u6587\u540d\u79f0\uff1a"),c.createElement("span",null,i)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u7eaf\u5ea6\uff1a"),c.createElement("span",null,s))))},n.page=function(){var e,t=q.a.clone(n.pendingInquiryData);return e=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSaveNewPendingInquiryData},"\u4fdd\u5b58"),c.createElement(b.j,{header:"\u5f85\u8be2\u51fa",footer:e,headerClassName:"bg-primary"},n.showProductlData(),c.createElement("div",{className:"bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:ot,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.pendingInquiryData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),mt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderRootCategory=function(e,t){var a=e.supplier,r=e.date,i=n.controller.onShowNewPendingInquiryDetail,l=c.createElement("div",{className:"p-2 cursor-pointer text-muted"},c.createElement(b.d,{date:r}));return c.createElement(b.g,{right:l,className:"m-2 justify-content-between cursor-pointer",onClick:function(){return i(e)}},c.createElement("div",null,c.createElement("span",{className:"small text-muted"}),Object(b.s)(a,(function(e){return c.createElement(c.Fragment,null,e.name)}))))},n.page=Object(I.a)((function(){var e=n.controller,t=e.newpendingInquirys,a=(e.onNewPendingInquiry,e.searchNewPendingInquiryByKey),r=e.pickProduct,i=c.createElement("div",{className:"w-19c d-flex"},c.createElement(b.l,{className:"w-80",size:"sm",onSearch:function(e){return a(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"}),c.createElement("span",{onClick:function(){return r()},className:"fa-stack"},c.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),c.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),l=c.createElement("header",{className:"py-2 px-4 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u5f85\u8be2\u51fa"));return c.createElement(b.j,{header:l,right:i,onScrollBottom:n.onScrollBottom,headerClassName:"bg-primary"},c.createElement("div",{className:"py-2"},c.createElement(b.h,{items:t,item:{render:n.renderRootCategory},none:"\u76ee\u524d\u8fd8\u6ca1\u5f85\u8be2\u51fa\u8bb0\u5f55\u54e6\uff01"})))})),n.onScrollBottom=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.newpendingInquirys.more();case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.createElement(this.page,null)}}]),t}(b.o),dt=[{name:"id",type:"id",required:!1},{name:"way",type:"number",required:!0},{name:"remarks",type:"number",required:!1}],ft=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.suppplier=void 0,n.firstPackage=void 0,n.packages=[],n.uiSchema={items:{id:{visible:!1},way:{widget:"radio",label:"\u8be2\u4ef7\u65b9\u5f0f",list:[{value:1,title:"Email\u8be2\u4ef7"},{value:2,title:"\u7535\u8bdd\u8be2\u4ef7"},{value:3,title:"\u4f20\u771f\u8be2\u4ef7"}]},remarks:{widget:"text",label:"\u5907\u6ce8",rows:5},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.updatePendingInquiryState(a.form.data,n.suppplier);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onUpdatePendingInquiryData=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.getPackage=function(){return c.createElement("div",{className:"bg-white px-2 "},n.firstPackage&&c.createElement(b.h,{items:n.packages,item:{render:n.renderPackage}}))},n.renderPackage=function(e,t){var a=n.controller.deletePendingInquiryPackage,r=e.id,i=e.inquiryPackage,l=(e.user,e.createDate,e.product),s=e.quantity,u=e.radiox,o=e.radioy,p=e.unit,m=e.CAS,d=(e.purity,i.id),f=l.obj,h=f.brand,v=f.description,y=(f.descriptionC,1!==u?c.createElement(c.Fragment,null,u," * ",o,p):c.createElement(c.Fragment,null,o,p)),g=(void 0===h||h.obj.name,c.createElement("div",{className:"px-2 text-muted text-right"},c.createElement("span",{onClick:function(){return a(r,d)}},c.createElement(b.e,{className:"align-middle p-2 cursor-pointer text-danger",name:"remove"}))));return c.createElement(b.g,{right:g,className:"py-2 samll"},c.createElement("div",null,c.createElement(b.e,{name:"circle",className:"px-2 text-primary"}),"CAS\uff1a",m),c.createElement("div",{className:"px-4 text-muted small"},"\u540d\u79f0\uff1a",v),c.createElement("div",{className:"px-4 text-muted small"},"\u5305\u88c5\uff1a",s," * ",y))},n.rowTop=function(e){var t=e.supplier,n=e.user,a=e.date,r=(e.remarks,n.id);return c.createElement("div",{className:"py-2 bg-white"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u4f9b\u5e94\u5546\uff1a",c.createElement("b",null,Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.name)}))))),c.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"user-circle-o"}),c.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u521b\u5efa\u4eba\uff1a",c.createElement("b",null,r))),c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement("span",{className:"h6 py-2 px-4 align-middle"},"\u521b\u5efa\u65f6\u95f4\uff1a",c.createElement("b",null,c.createElement(b.d,{date:a})))))},n.page=function(){var e=q.a.clone(n.suppplier),t=n.controller.deletePendingInquiryData,a=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u8be2\u4ef7\u8be6\u60c5")),r=c.createElement("div",{className:"w-19c d-flex"},c.createElement("span",{onClick:function(){return t(e)},className:"fa-stack"},c.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),c.createElement("i",{className:"fa fa-remove fa-stack-1x text-danger"}))),i=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onUpdatePendingInquiryData},"\u4fdd\u5b58");return c.createElement(b.j,{header:a,footer:i,right:r,headerClassName:"bg-primary"},n.rowTop(e),c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:dt,uiSchema:n.uiSchema,formData:e,onButtonClick:n.onFormButtonClick,fieldLabelSize:3}),n.getPackage())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parent,a=t.item,r=t.child,this.suppplier=n,this.firstPackage=a,this.packages=r,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),ht=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchNewPendingInquiry=void 0,n.firstSize=n.pageSize=14,n.searchNewPendingInquiry=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchNewPendingInquiry.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),vt=(lt=function(e){function t(){var e,n,a=this;Object(m.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i))),Object(k.a)(n,"newpendingInquirys",st,Object(x.a)(n)),Object(k.a)(n,"newpendingInquiryList",ut,Object(x.a)(n)),n.product=void 0,n.searchNewPendingInquiryByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.newpendingInquirys=new ht(n.uqs.rms.SearchNewInquiryPending),n.newpendingInquirys.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewPendingInquiry=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.product=t,n.openVPage(pt,{pendingInquiry:void 0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.pickProduct=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cPickProduct.call();case 2:e.sent;case 3:case"end":return e.stop()}}),e)}))),n.saveNewPendingInquiryData=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c,i,l,s,u,p,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=8;break}if(!n.product){e.next=8;break}return a=n.product,r=a.id,c=a.supplier,i=c.id,l=t.quantity,s=t.radiox,u=t.radioy,p=t.unit,m={supplier:i,product:r,quantity:l,radiox:s,radioy:u,unit:p,remarks:void 0},e.next=8,n.uqs.rms.AddInquiryPending.submit(m);case 8:return n.closePage(),e.next=11,n.loadList();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deletePendingInquiryData=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,r={id:a},e.next=4,n.uqs.rms.DeleteInquiryPending.submit(r);case 4:return n.closePage(),e.next=7,n.loadList();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deletePendingInquiryPackage=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t,inquiryPackage:a},e.next=3,n.uqs.rms.DeleteInquiryPackage.submit(r);case 3:return n.closePage(),e.next=6,n.loadList();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.updatePendingInquiryState=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.id,c=a.supplier,i={id:r,supplier:c,way:t.way,remarks:t.remarks},e.next=4,n.uqs.rms.UpdateInquiryPending.submit(i);case 4:return n.closePage(),e.next=7,n.loadList();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onShowNewPendingInquiryDetail=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.SearchInquiryPendingBySupplier.query({_id:a});case 3:r=e.sent,c={parent:t,item:r.ret[0],child:r.ret},n.openVPage(ft,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchNewPendingInquiryByKey("");case 2:case"end":return e.stop()}}),e)}))),n.render=Object(I.a)((function(){return n.renderView(mt)})),n.tab=function(){return c.createElement(a.render,null)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchNewPendingInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),st=Object(O.a)(lt.prototype,"newpendingInquirys",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=Object(O.a)(lt.prototype,"newpendingInquiryList",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt),bt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).topKey=void 0,n.cHome=void 0,n.cSupplier=void 0,n.cPickSupplier=void 0,n.cSupplierContact=void 0,n.cProduct=void 0,n.cPickProduct=void 0,n.cChemical=void 0,n.cBrand=void 0,n.cPackage=void 0,n.cPendingInquiry=void 0,n.cInquiry=void 0,n.cCurrency=void 0,n.cNewPendingInquiry=void 0,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"newC",value:function(e){return new e(this)}},{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cHome=this.newC(j),this.cSupplier=this.newC(F),this.cPickSupplier=this.newC(qe),this.cProduct=this.newC(Fe),this.cPickProduct=this.newC(Ge),this.cChemical=this.newC(Te),this.cBrand=this.newC(Be),this.cPackage=this.newC(_e),this.cSupplierContact=this.newC(ge),this.cPendingInquiry=this.newC(tt),this.cInquiry=this.newC(rt),this.cCurrency=this.newC(Xe),this.cNewPendingInquiry=this.newC(vt),(t=[]).push(this.cSupplier.start()),e.next=17,Promise.all(t);case 17:this.showMain(),this.topKey=b.q.topKey();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showMain",value:function(e){this.openVPage(g,e)}},{key:"loginCallBack",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"uqs",get:function(){return this._uqs}}]),t}(b.a);b.q.setSettings(he);var yt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onLogined=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.r)(bt,he);case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.createElement(b.i,{onLogined:this.onLogined})}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(yt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.e2d4cd83.chunk.js.map