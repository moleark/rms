(this.webpackJsonprms=this.webpackJsonprms||[]).push([[0],{56:function(e,t,r){e.exports=r(78)},62:function(e,t,r){},64:function(e,t,r){},78:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(40),i=r.n(c),s=(r(61),r(62),r(1)),l=r.n(s),o=r(8),u=r(2),m=r(3),p=r(5),d=r(4),f=r(6),h=(r(64),r(7)),v=function(e){return!0===e?"text-primary":"text-muted"},b=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).render=function(e){var t=r.controller,n=t.cHome,c=t.cProduct,i=t.cPendingInquiry,s=t.cInquiry,l=t.cNewPendingInquiry,o=[{name:"supplier",label:"\u4f9b\u5e94\u5546",icon:"glide",content:n.tab,notify:void 0},{name:"product",label:"\u4ea7\u54c1",icon:"flask",content:c.tab,onShown:c.loadList},{name:"pendingInquiry",label:"\u5f85\u8be2\u51fa",icon:"pencil-square-o",content:l.tab,onShown:l.loadList},{name:"inquirying",label:"\u5df2\u8be2\u51fa",icon:"check-square-o ",content:i.tab,onShown:i.loadList},{name:"inquiry",label:"\u8be2\u4ef7\u5355",icon:"bandcamp",content:s.tab,onShown:s.loadList}].map((function(e){var t=e.name,r=e.label,a=e.icon;return{name:t,caption:function(e){return Object(h.m)(r,a,v(e))},content:e.content,notify:e.notify,onShown:e.onShown}}));return a.createElement(h.j,{header:!1},a.createElement(h.n,{tabs:o}))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.render);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),y=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"cApp",get:function(){return this._cApp}},{key:"uqs",get:function(){return this._uqs}}]),t}(h.b),g=(h.c,r(11)),w=function(e){function t(){var e,r,n=this;Object(u.a)(this,t);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).page=function(){var e=r.controller.cApp.cSupplier,t=e.onNewSupplier,c=e.searchSupplierByKey,i=a.createElement("div",{className:"d-flex align-items-center"},a.createElement(h.l,{size:"sm",onSearch:function(e){return c(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),a.createElement("div",null,a.createElement("span",{onClick:function(){return t()},className:"fa-stack"},a.createElement("i",{className:"fa fa-plus-square fa-stack-2x cursor-pointer my-1",style:{fontSize:"1.5rem"}})))),s=a.createElement("header",null,a.createElement("div",{className:"px-3"},"\u4f9b\u5e94\u5546"));return a.createElement(h.j,{right:i,header:s,headerClassName:"py-1 bg-primary"},a.createElement(n.content,null))},r.content=function(){var e=Object(g.a)(r).controller.toSupplierList;return a.createElement(a.Fragment,null,e())},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return a.createElement(this.page,null)}}]),t}(h.p),x=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).toSupplierList=function(){return r.cApp.cSupplier.renderRootList()},r.tab=function(){return r.renderView(w)},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.cApp.cSupplier,e.next=3,r.start();case 3:this.openVPage(w);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),E=r(20),N=r(21),j=(r(26),r(10)),k=r(14),O=r.n(k);function P(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u56fa\u5b9a\u7535\u8bdd\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function q(e){return e&&!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)?"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function C(e){return e&&!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)?"Email\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function S(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u4f20\u771f\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function I(e){return e&&e.length>200?"\u8be6\u7ec6\u5730\u5740\u6700\u591a200\u4e2a\u5b57\uff01":void 0}function A(e){return e&&e.length>15?"\u90ae\u7f16\u8fc7\u957f\uff0c\u8bf7\u4fee\u6539\u540e\u5f55\u5165\uff01":void 0}function F(e){return e&&e.length>100?"\u90e8\u95e8\u540d\u79f0\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function B(e){return e&&e.length>100?"\u5355\u4f4d\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function D(e){return e&&e.length>50?"\u59d3\u540d\u6700\u591a50\u4e2a\u5b57\uff01":void 0}var z,T,V,L,R,K,U,W,_,M,G,H,J,$,Q,X,Y,Z,ee,te,re,ae,ne,ce,ie,se=[{name:"id",type:"id",required:!1},{name:"name",type:"string",required:!0},{name:"abbreviation",type:"string",required:!1},{name:"webSite",type:"string",required:!1},{name:"address",type:"id",required:!0},{name:"addressString",type:"string",required:!0},{name:"productionAddress",type:"string",required:!0},{name:"bankAddress",type:"string",required:!0},{name:"bankSWIFT",type:"string",required:!0},{name:"bankIBAN",type:"string",required:!0},{name:"bankRTN",type:"string",required:!0},{name:"bank",type:"string",required:!0},{name:"accountNo",type:"string",required:!0},{name:"taxNo",type:"string",required:!0},{name:"profile",type:"string",required:!1},{name:"submit",type:"submit"}],le=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.supplierData=void 0,r.uiSchema={items:{id:{visible:!1},name:{widget:"text",label:"\u4f9b\u5e94\u5546\u540d\u79f0",placeholder:"\u5fc5\u586b"},abbreviation:{widget:"text",label:"\u4f9b\u5e94\u5546\u7b80\u79f0",placeholder:"\u4f9b\u5e94\u5546\u7b80\u79f0"},webSite:{widget:"text",label:"\u7f51\u5740",placeholder:"\u7f51\u5740"},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.pickAddress(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?Object(h.s)(e,(function(e){var t=e.country,r=e.province,n=e.city,c=e.county;return a.createElement(a.Fragment,null,void 0!==t&&void 0!==t.id&&Object(h.s)(t,(function(e){return a.createElement(a.Fragment,null,e.chineseName)})),void 0!==r&&void 0!==r.id&&Object(h.s)(r,(function(e){return a.createElement(a.Fragment,null,e.chineseName)})),void 0!==n&&void 0!==n.id&&Object(h.s)(n,(function(e){return a.createElement(a.Fragment,null,e.chineseName)})),void 0!==c&&void 0!==c.id&&Object(h.s)(c,(function(e){return a.createElement(a.Fragment,null,e.chineseName)})))}),(function(){return a.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):a.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",placeholder:"\u8be6\u7ec6\u5730\u5740",rules:I},productionAddress:{widget:"text",label:"\u751f\u4ea7\u5382\u5740",placeholder:"\u751f\u4ea7\u5382\u5740",rules:I},bankAddress:{widget:"text",label:"\u94f6\u884c\u5730\u5740",placeholder:"\u94f6\u884c\u5730\u5740"},bankSWIFT:{widget:"text",label:"\u5f00\u6237\u884cSWIFT/BIC",placeholder:"\u5f00\u6237\u884cSWIFT/BIC"},bankIBAN:{widget:"text",label:"\u5f00\u6237\u884cIBAN",placeholder:"\u5f00\u6237\u884cIBAN"},bankRTN:{widget:"text",label:"\u5f00\u6237\u884c\u7684RTN ",placeholder:"\u5f00\u6237\u884c\u7684RTN "},bank:{widget:"text",label:"\u5f00\u6237\u94f6\u884c",placeholder:"\u5f00\u6237\u94f6\u884c"},accountNo:{widget:"text",label:"\u5f00\u6237\u94f6\u884c\u5e10\u53f7",placeholder:"\u5f00\u6237\u94f6\u884c\u5e10\u53f7"},taxNo:{widget:"text",label:"\u7a0e\u53f7",placeholder:"\u7a0e\u53f7"},profile:{widget:"textarea",label:"\u4f01\u4e1a\u7b80\u4ecb",placeholder:"\u4f01\u4e1a\u7b80\u4ecb",rows:10},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.saveSupplierData(a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.onDelSupplier=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.vCall(oe,r.supplierData);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=9;break}return e.next=6,r.controller.delSupplier(r.supplierData);case 6:return e.next=8,r.controller.loadList();case 8:r.closePage();case 9:case 10:case"end":return e.stop()}}),e)}))),r.page=function(){var e,t=O.a.clone(r.supplierData);return void 0!==t.id&&(e=a.createElement("button",{className:"btn btn-sm btn-danger",onClick:r.onDelSupplier},"\u5220\u9664")),a.createElement(h.j,{header:"\u7f16\u8f91\u4f9b\u5e94\u5546",right:e,headerClassName:"bg-primary"},a.createElement("div",{className:"App-container container text-left"},a.createElement(h.f,{ref:function(e){return r.form=e},className:"my-3",schema:se,uiSchema:r.uiSchema,formData:t,onButtonClick:r.onFormButtonClick,fieldLabelSize:3})))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),oe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.returnCall(!0);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)}))),r.onCancel=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.returnCall(!1);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)}))),r.page=function(e){return a.createElement(h.j,{header:"\u5220\u9664\u4f9b\u5e94\u5546",back:"close"},a.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},a.createElement("div",{className:"p-4 position-relative"},a.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),a.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u4f9b\u5e94\u5546\uff1f")),a.createElement("div",{className:"d-flex mt-3 justify-content-end"},a.createElement("button",{className:"btn btn-danger mr-3",onClick:r.onConfirm},"\u5220\u9664\u4f9b\u5e94\u5546"),a.createElement("button",{className:"btn btn-outline-info mr-3",onClick:r.onCancel},"\u53d6\u6d88"))))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),ue=r(12),me=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderRootCategory=function(e,t){e.no;var n=e.name,c=e.address,i=e.addressString,s=r.controller,l=s.onEditSupplier,o=s.onSupplierSelected,u=a.createElement("div",{className:"cursor-pointer text-info",onClick:function(){return l(e)}},a.createElement(h.e,{name:"edit"}));return a.createElement(h.g,{right:u,className:"px-2 d-flex p-1 cursor-pointer"},a.createElement("div",{onClick:function(){return o(e)}},a.createElement("b",null,n),a.createElement("div",{className:"small py-1 text-muted"},Object(h.s)(c)," ",i)))},r.content=Object(ue.a)((function(){var e=r.controller.suppliers;return a.createElement("div",{className:"py-2"},a.createElement(h.h,{items:e,item:{render:r.renderRootCategory}}))})),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(e){return a.createElement(this.content,null)}}]),t}(h.p),pe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).supplier=void 0,r.firstSupplierContact=void 0,r.supplierContacts=[],r.getSupplierContact=function(){var e=r.controller.cApp.cSupplierContact.showCreateSupplierContact;return a.createElement("div",null,a.createElement("div",{className:"cursor-pointer text-center py-2",onClick:function(){return e(r.supplier)}},a.createElement("button",{className:"btn btn-sm bg-white"},a.createElement("span",{className:"px-2"},a.createElement(h.e,{className:"text-warning px-1",name:"user"}),a.createElement("b",null,"\u8054\u7cfb\u4eba")),a.createElement("span",null,a.createElement(h.e,{name:"plus fa-1x"})))),a.createElement("div",{className:"py-2"},r.firstSupplierContact&&a.createElement(h.h,{items:r.supplierContacts,item:{render:r.renderContact}})))},r.renderContact=function(e,t){var n=r.controller.cApp.cSupplierContact,c=n.showEditSupplierContact,i=n.showSupplierContactDetail,s=(e.no,e.name),l=e.id,o=e.gender,u=e.mobile,m=r.supplier.defaultContact,p=void 0===m?"px-2":m.id===l?"px-2 text-info ":"px-2 ",d="0"===o?a.createElement(h.e,{name:"female",className:"px-2 text-danger"}):a.createElement(h.e,{name:"male",className:"px-2 text-primary"}),f=a.createElement("div",{className:p,onClick:function(){return i(e)}},d,s,"\xa0\xa0",void 0===u?"\u65e0":u),v=a.createElement("div",{className:"px-2 text-right"},a.createElement("span",{onClick:function(){return c(r.supplier,e)}},a.createElement(h.e,{className:"align-middle p-2 cursor-pointer text-info",name:"edit"})));return a.createElement(h.g,{left:f,right:v,className:" d-flex p-1 cursor-pointer"})},r.rowTop=function(e){var t=e.name,r=e.no,n=e.abbreviation,c=e.webSite,i=e.address,s=(e.addressString,e.productionAddress),l=e.profile;e.bankAddress,e.bankSWIFT,e.bankIBAN,e.bankRTN,e.bank,e.accountNo,e.taxNo;return a.createElement("div",{className:"bg-white py-2"},a.createElement("div",{className:"row no-gutters px-3 my-1"},a.createElement("div",{className:"col-3"},"\u7f16\u53f7:"),a.createElement("div",{className:"col-9 text-right"},r)),a.createElement("div",{className:"row no-gutters px-3 my-1"},a.createElement("div",{className:"col-3"},"\u540d\u79f0:"),a.createElement("div",{className:"col-9 text-right"},t)),a.createElement("div",{className:"row no-gutters px-3 my-1"},a.createElement("div",{className:"col-3"},"\u7b80\u79f0:"),a.createElement("div",{className:"col-9 text-right"},n)),a.createElement("div",{className:"row no-gutters px-3 my-1"},a.createElement("div",{className:"col-3"},"\u7f51\u5740:"),a.createElement("div",{className:"col-9 text-right"},c)),a.createElement("div",{className:"row no-gutters px-3 my-1"},a.createElement("div",{className:"col-3"},"\u5730\u5740:"),a.createElement("div",{className:"col-9 text-right"},Object(h.s)(i))),a.createElement("div",{className:"row no-gutters px-3 my-1"},a.createElement("div",{className:"col-3"},"\u751f\u4ea7\u5382\u5740:"),a.createElement("div",{className:"col-9 text-right"},s)),a.createElement("div",{className:"row no-gutters px-3 my-1"},a.createElement("div",{className:"col-3"},"\u4f01\u4e1a\u7b80\u4ecb:"),a.createElement("div",{className:"col-9 text-right"},l)))},r.page=function(){var e=r.controller.pickChemical,t=O.a.clone(r.supplier),n=a.createElement("button",{className:"btn btn-sm btn-success",onClick:function(){return e(t)}},"+\u4ea7\u54c1");return a.createElement(h.j,{header:"\u4f9b\u5e94\u5546\u8be6\u60c5",right:n,headerClassName:"py-1 bg-primary"},r.rowTop(t),r.getSupplierContact())},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.parent,a=t.item,n=t.child,this.supplier=r,this.firstSupplierContact=a,this.supplierContacts=n,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),de=(h.o,function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).countryId=void 0,r.provinceId=void 0,r.cityId=void 0,r.countyId=void 0,r.backLevel=0,r.page=function(e){return r.backLevel++,a.createElement(h.j,{header:"\u9009\u62e9\u6240\u5728\u56fd\u5bb6",headerClassName:"bg-primary"},a.createElement("div",{className:"row no-gutters"},e.countrys.map((function(e){return r.renderPCC(e,r.onCountryClick)}))))},r.renderPCC=function(e,t){return a.createElement("div",{key:e.id,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},Object(h.s)(e,(function(e){var r=e.id,n=e.chineseName;return a.createElement(a.Fragment,null,a.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return t(r)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},a.createElement("span",{className:"ml-1 align-middle"},a.createElement(h.e,{name:"chevron-right",className:"text-info small"}),"\xa0 ",n)))})))},r.onCountryClick=function(){var e=Object(o.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.countryId=t,e.next=3,r.controller.getCountryProvince(t);case 3:if(!(n=e.sent)){e.next=21;break}if(!((c=n.length)>0)){e.next=17;break}if(1!==c){e.next=11;break}return e.next=10,r.onProvinceClick(n[0].province.id);case 10:return e.abrupt("return");case 11:if(!(c>1)){e.next=15;break}return r.backLevel++,r.openPageElement(a.createElement(h.j,{header:"\u9009\u62e9\u6240\u5728\u7701\u5e02"},a.createElement("div",{className:"row no-gutters"},n.map((function(e){return r.renderPCC(e.province,r.onProvinceClick)}))))),e.abrupt("return");case 15:e.next=19;break;case 17:r.closePage(r.backLevel),r.saveAddress();case 19:e.next=23;break;case 21:r.closePage(r.backLevel),r.saveAddress();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onProvinceClick=function(){var e=Object(o.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.provinceId=t,e.next=3,r.controller.getProvinceCities(t);case 3:if(!(n=e.sent)){e.next=21;break}if(!((c=n.length)>0)){e.next=17;break}if(1!==c){e.next=11;break}return e.next=10,r.onCityClick(n[0].city.id);case 10:return e.abrupt("return");case 11:if(!(c>1)){e.next=15;break}return r.backLevel++,r.openPageElement(a.createElement(h.j,{header:"\u9009\u62e9\u6240\u5728\u57ce\u5e02"},a.createElement("div",{className:"row no-gutters"},n.map((function(e){return r.renderPCC(e.city,r.onCityClick)}))))),e.abrupt("return");case 15:e.next=19;break;case 17:r.closePage(r.backLevel),r.saveAddress();case 19:e.next=23;break;case 21:r.closePage(r.backLevel),r.saveAddress();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onCityClick=function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.cityId=t,e.next=3,r.controller.getCityCounties(t);case 3:(n=e.sent)&&n.length>0?(r.backLevel++,r.openPageElement(a.createElement(h.j,{header:"\u9009\u62e9\u6240\u5728\u533a\u53bf"},a.createElement("div",{className:"row no-gutters"},n.map((function(e){return r.renderPCC(e.county,r.onCountyClick)})))))):(r.closePage(r.backLevel),r.saveAddress());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onCountyClick=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.countyId=t,r.closePage(r.backLevel),r.saveAddress();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.saveAddress=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.saveAddress(r.countryId,r.provinceId,r.cityId,r.countyId);case 2:case"end":return e.stop()}}),e)}))),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.getCountry();case 2:r=e.sent,this.openPage(this.page,{countrys:r});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o)),fe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).getCountry=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.uqs.common.Country.search("",0,300);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),r.getCountryProvince=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.uqs.common.GetCountryProvinces.table({country:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getProvinceCities=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.uqs.common.GetProvinceCities.table({province:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getCityCounties=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.uqs.common.GetCityCounties.table({city:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.saveAddress=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n,c){var i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.uqs.common.Address,e.next=3,i.save(void 0,{country:t,province:a,city:n,county:c});case 3:s=e.sent,o=s&&i.boxId(s.id),r.returnCall(o);case 6:case"end":return e.stop()}}),e)})));return function(t,r,a,n){return e.apply(this,arguments)}}(),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(de);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),he=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchSupplier=void 0,r.firstSize=r.pageSize=14,r.searchSupplier=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchSupplier.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),ve=(z=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n))),Object(E.a)(r,"suppliers",T,Object(g.a)(r)),r.searchSupplierByKey=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.suppliers=new he(r.uqs.rms.SearchSupplier),r.suppliers.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.pickAddress=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.newC(fe),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),r.pickChemical=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cApp.cChemical.call(t);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.saveSupplierData=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c,i,s,o,u,m,p,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=13;break}return t.defaultContact=void 0,t.isValid=1,e.next=5,r.uqs.rms.Supplier.save(void 0,t);case 5:return a=e.sent,e.next=8,r.uqs.rms.BankAccount.save(void 0,t);case 8:return n=e.sent,e.next=11,r.uqs.rms.SupplierBankAccount.add({supplier:a.id,arr1:[{bankAccount:n.id}]});case 11:e.next=47;break;case 13:return c=t.id,i=[],t.isValid=1,e.next=18,r.uqs.rms.SupplierBankAccount.table({supplier:c});case 18:i=e.sent,s=!0,o=!1,u=void 0,e.prev=22,m=i[Symbol.iterator]();case 24:if(s=(p=m.next()).done){e.next=31;break}return d=p.value,e.next=28,r.uqs.rms.BankAccount.save(d.bankAccount.id,t);case 28:s=!0,e.next=24;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(22),o=!0,u=e.t0;case 37:e.prev=37,e.prev=38,s||null==m.return||m.return();case 40:if(e.prev=40,!o){e.next=43;break}throw u;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.next=47,r.uqs.rms.Supplier.save(c,t);case 47:return e.next=49,r.cApp.cHome.start();case 49:case"end":return e.stop()}}),e,null,[[22,33,37,45],[38,,40,44]])})));return function(t){return e.apply(this,arguments)}}(),r.onNewSupplier=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(le,{description:void 0});case 1:case"end":return e.stop()}}),e)}))),r.onEditSupplier=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(le,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onSupplierSelected=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,r.uqs.rms.SearchSupplierContact.query({_id:a});case 3:n=e.sent,c={parent:t,item:n.ret[0],child:n.ret},r.openVPage(pe,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.delSupplier=function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,t.isValid=0,e.next=4,r.uqs.rms.Supplier.save(a,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.loadList=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.searchSupplierByKey("");case 2:case"end":return e.stop()}}),e)}))),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderRootList",value:function(){return this.renderView(me)}}]),t}(y),T=Object(N.a)(z.prototype,"suppliers",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z),be=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.item=void 0,r.parent=void 0,r.schema=[{name:"name",type:"string",required:!0},{name:"gender",type:"string",required:!0},{name:"firstName",type:"string",required:!1},{name:"lastName",type:"string",required:!1},{name:"salutation",type:"string",required:!1},{name:"departmentName",type:"string",required:!1},{name:"telephone",type:"string",required:!1},{name:"mobile",type:"string",required:!0},{name:"wechatId",type:"string",required:!1},{name:"email",type:"string"},{name:"fax",type:"string",required:!1},{name:"address",type:"id",required:!0},{name:"addressString",type:"string",required:!0},{name:"zipCode",type:"string",required:!1},{name:"isDefault",type:"boolean",required:!1},{name:"submit",type:"submit"}],r.uiSchema={items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u5fc5\u586b"},gender:{widget:"radio",label:"\u6027\u522b",list:[{value:"1",title:"\u7537"},{value:"0",title:"\u5973"}]},firstName:{widget:"text",label:"\u540d",placeholder:"\u540d",rules:D},lastName:{widget:"text",label:"\u59d3\u6c0f",placeholder:"\u59d3\u6c0f"},salutation:{widget:"text",label:"\u79f0\u8c13",placeholder:"\u79f0\u8c13",rules:B},departmentName:{widget:"text",label:"\u90e8\u95e8\u540d\u79f0",placeholder:"\u90e8\u95e8\u540d\u79f0",rules:F},telephone:{widget:"text",label:"\u56fa\u5b9a\u7535\u8bdd",placeholder:"\u56fa\u5b9a\u7535\u8bdd",rules:P},mobile:{widget:"text",label:"\u624b\u673a\u53f7",placeholder:"\u624b\u673a\u53f7",rules:q},wechatId:{widget:"text",label:"\u5fae\u4fe1\u53f7",placeholder:"\u5fae\u4fe1\u53f7"},email:{widget:"text",label:"Email",placeholder:"Email",rules:C},fax:{widget:"text",label:"\u4f20\u771f",placeholder:"\u4f20\u771f",rules:S},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.pickAddress(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?Object(h.s)(e,(function(e){var t=e.country,r=e.province,n=e.city,c=e.county;return a.createElement(a.Fragment,null,void 0!==t&&void 0!==t.id&&Object(h.s)(t,(function(e){return a.createElement(a.Fragment,null,e.chineseName)})),void 0!==r&&void 0!==r.id&&Object(h.s)(r,(function(e){return a.createElement(a.Fragment,null,e.chineseName)})),void 0!==n&&void 0!==n.id&&Object(h.s)(n,(function(e){return a.createElement(a.Fragment,null,e.chineseName)})),void 0!==c&&void 0!==c.id&&Object(h.s)(c,(function(e){return a.createElement(a.Fragment,null,e.chineseName)})))}),(function(){return a.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):a.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",placeholder:"\u8be6\u7ec6\u5730\u5740",rules:I},zipCode:{widget:"text",label:"\u90ae\u7f16",placeholder:"\u90ae\u7f16",rules:A},isDefault:{widget:"checkbox",label:"\u9ed8\u8ba4\u8054\u7cfb\u4eba",defaultValue:!1},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.controller.saveSupplierContact,c=r.item&&r.item.id,e.next=4,n(c,a.form.data,r.parent);case 4:r.closePage();case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.onDelSupplierContact=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.vCall(ye,r.item);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=7;break}return e.next=6,r.controller.delSupplierContact(r.item,r.parent);case 6:r.closePage();case 7:case 8:case"end":return e.stop()}}),e)}))),r.page=Object(ue.a)((function(){var e;return void 0!==r.item&&(e=a.createElement("button",{className:"btn btn-sm btn-danger",onClick:r.onDelSupplierContact},"\u5220\u9664")),a.createElement(h.j,{header:"\u7f16\u8f91\u8054\u7cfb\u4eba",right:e,headerClassName:"bg-primary"},a.createElement("div",{className:"App-container container text-left"},a.createElement(h.f,{ref:function(e){return r.form=e},className:"my-3",formData:r.item,schema:r.schema,uiSchema:r.uiSchema,onButtonClick:r.onFormButtonClick,requiredFlag:!0})))})),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.item,a=t.parent,this.item=r,this.parent=a,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),ye=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.returnCall(!0);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)}))),r.onCancel=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.returnCall(!1);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)}))),r.page=function(e){return a.createElement(h.j,{header:"\u5220\u9664\u8054\u7cfb\u4eba",back:"close"},a.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},a.createElement("div",{className:"p-4 position-relative"},a.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),a.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u8054\u7cfb\u4eba\uff1f")),a.createElement("div",{className:"d-flex mt-3 justify-content-end"},a.createElement("button",{className:"btn btn-danger mr-3",onClick:r.onConfirm},"\u5220\u9664\u4f9b\u8054\u7cfb\u4eba"),a.createElement("button",{className:"btn btn-outline-info mr-3",onClick:r.onCancel},"\u53d6\u6d88"))))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),ge=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).supplierContact=void 0,r.page=function(){var e=O.a.clone(r.supplierContact),t=e.no,n=e.name,c=e.firstName,i=e.lastName,s=e.gender,l=e.salutation,o=e.departmentName,u=e.telephone,m=e.mobile,p=e.email,d=e.fax,f=e.zipCode,v=e.wechatId,b=e.addressString,y=e.address,g=(void 0===y||y.obj,a.createElement("header",{className:"py-2 text-center text-white"},a.createElement("span",{className:"h5 align-middle"},"\u4f9b\u5e94\u5546\u8054\u7cfb\u4eba\u8be6\u60c5")));return a.createElement(h.j,{header:g,headerClassName:"bg-primary"},a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u7f16\u53f7:"),a.createElement("div",{className:"col-9"},t)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u540d\u79f0:"),a.createElement("div",{className:"col-9"},n)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u59d3\u6c0f:"),a.createElement("div",{className:"col-9"},i)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u540d:"),a.createElement("div",{className:"col-9"},c)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u6027\u522b:"),a.createElement("div",{className:"col-9"},"0"===s?"\u5973":"1"===s?"\u7537":"")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u79f0\u8c13:"),a.createElement("div",{className:"col-9"},l)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u90e8\u95e8\u540d\u79f0:"),a.createElement("div",{className:"col-9"},o)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u56fa\u5b9a\u7535\u8bdd:"),a.createElement("div",{className:"col-9"},u)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u624b\u673a\u53f7:"),a.createElement("div",{className:"col-9"},m)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5fae\u4fe1\u53f7:"),a.createElement("div",{className:"col-9"},v)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"Email:"),a.createElement("div",{className:"col-9"},p)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4f20\u771f:"),a.createElement("div",{className:"col-9"},d)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5730\u5740:"),a.createElement("div",{className:"col-9"},Object(h.s)(y)," ",b)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u90ae\u7f16:"),a.createElement("div",{className:"col-9"},f)))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierContact=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),we=(h.k,V=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n))),Object(E.a)(r,"pageSupplierContact",L,Object(g.a)(r)),r.pickAddress=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.newC(fe),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),r.showCreateSupplierContact=function(e){var t={parent:e,item:void 0,child:void 0};r.openVPage(be,t)},r.showEditSupplierContact=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={parent:t,item:a,child:a},r.openVPage(be,n);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.showSupplierContactDetail=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(ge,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.saveSupplierContact=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){var c,i,s,o,u,m,p,d,f,h,v,b,y,g,w,x,E,N;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.name,i=a.firstName,s=a.lastName,o=a.gender,u=a.salutation,m=a.departmentName,p=a.telephone,d=a.mobile,f=a.email,h=a.fax,v=a.zipCode,b=a.wechatId,y=a.addressString,g=a.address,w=a.isDefault,x={name:c,firstName:i,lastName:s,gender:o,salutation:u,departmentName:m,telephone:p,mobile:d,email:f,fax:h,zipCode:v,wechatId:b,addressString:y,address:g,supplier:n.id,isValid:1},e.next=4,r.uqs.rms.SupplierContact.save(t,x);case 4:if(E=e.sent,!0!==w){e.next=10;break}return void 0===(N=t)&&(N=E.id),e.next=10,r.uqs.rms.Supplier.save(n.id,{no:n.no,name:n.name,abbreviation:n.abbreviation,createTime:n.createTime,isValid:1,defaultContact:N});case 10:r.cApp.cHome.start();case 11:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),r.loadList=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cApp.cSupplier.onSupplierSelected(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.showSupplierContact=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,r.uqs.rms.SearchSupplierContact.query({_id:a});case 3:n=e.sent,c=n.ret.length>0?n.ret:void 0,i={parent:void 0,item:n.ret[0],child:c},r.openVPage(pe,i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.delSupplierContact=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,t.isValid=0,e.next=4,r.uqs.rms.SupplierContact.save(n,t);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),L=Object(N.a)(V.prototype,"pageSupplierContact",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V),xe=[{name:"id",type:"id",required:!1},{name:"supplier",type:"id",required:!0},{name:"brand",type:"id",required:!1},{name:"origin",type:"string",required:!1},{name:"purity",type:"string",required:!1},{name:"submit",type:"submit"}],Ee=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.productData=void 0,r.model=r.controller.supplier,r.uiSchema={items:{id:{visible:!1},supplier:{widget:"id",label:"\u4f9b\u5e94\u5546",placeholder:"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546",defaultValue:r.model,pickId:function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r.model){e.next=4;break}e.t0=r.model,e.next=7;break;case 4:return e.next=6,r.controller.pickSupplier(t,a,n);case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?a.createElement(a.Fragment,null,Object(h.s)(e,(function(e){return a.createElement(a.Fragment,null,e.name)}))):a.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u4f9b\u5e94\u5546")}},brand:{widget:"id",label:"\u54c1\u724c",placeholder:"\u8bf7\u9009\u62e9\u54c1\u724c",pickId:function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.pickBrand(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?a.createElement(a.Fragment,null,Object(h.s)(e,(function(e){return a.createElement(a.Fragment,null,e.no)}))):a.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u54c1\u724c")}},origin:{widget:"text",label:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7",placeholder:"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7"},purity:{widget:"text",label:"\u7eaf\u5ea6",placeholder:"\u7eaf\u5ea6"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.saveProductData(a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.showChemicalData=function(){var e=r.controller.chemical,t=e.no,n=e.CAS,c=e.description,i=e.descriptoinCN,s=e.molecularFomula,l=e.molecularWeight;e.mdlNumber;return a.createElement("div",{className:"py-2 bg-white"},a.createElement("div",{className:"cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"credit-card"}),a.createElement("span",{className:"h6 py-2 px-1 align-middle"},a.createElement("b",null,"\u6807\u51c6\u5e93\u4fe1\u606f"))),a.createElement("div",{className:"py-2 cat-root-sub small"},a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"chemid:"),a.createElement("div",{className:"col-9"},t)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"CAS:"),a.createElement("div",{className:"col-9"},n)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u82f1\u6587\u540d\u79f0:"),a.createElement("div",{className:"col-9"},c)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4e2d\u6587\u540d\u79f0:"),a.createElement("div",{className:"col-9"},i)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5206\u5b50\u5f0f:"),a.createElement("div",{className:"col-9"},s)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5206\u5b50\u91cf:"),a.createElement("div",{className:"col-9"},l))))},r.page=function(){var e=O.a.clone(r.productData);return a.createElement(h.j,{header:"\u6dfb\u52a0\u4ea7\u54c1",headerClassName:"bg-primary"},r.showChemicalData(),a.createElement("div",{className:"App-container container text-left"},a.createElement(h.f,{ref:function(e){return r.form=e},className:"my-3",schema:xe,uiSchema:r.uiSchema,formData:e,onButtonClick:r.onFormButtonClick,fieldLabelSize:3})))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.productData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),Ne=[{name:"id",type:"id",required:!1},{name:"purity",type:"string",required:!1},{name:"submit",type:"submit"}],je=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.productData=void 0,r.uiSchema={items:{id:{visible:!1},purity:{widget:"text",label:"\u7eaf\u5ea6",placeholder:"\u7eaf\u5ea6"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.updateProductData(r.productData,a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.showProductData=function(e){var t=e.supplier,r=e.brand,n=e.origin,c=e.description,i=e.descriptionC,s=(e.createTime,e.chemical,e.CAS),l=(e.purity,e.molecularFomula),o=e.molecularWeight,u=t.obj.name,m=void 0===r?void 0:r.obj.no;return a.createElement("div",{className:"py-2 bg-white"},a.createElement("div",{className:"cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"credit-card"}),a.createElement("span",{className:"h6 py-2 px-1 align-middle"},a.createElement("b",null,"\u4ea7\u54c1\u4fe1\u606f"))),a.createElement("div",{className:"py-2 cat-root-sub small"},a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4f9b\u5e94\u5546:"),a.createElement("div",{className:"col-9"},u)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u54c1\u724c:"),a.createElement("div",{className:"col-9"},m)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7:"),a.createElement("div",{className:"col-9"},n)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"CAS:"),a.createElement("div",{className:"col-9"},s)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u82f1\u6587\u540d\u79f0:"),a.createElement("div",{className:"col-9"},c)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4e2d\u6587\u540d\u79f0:"),a.createElement("div",{className:"col-9"},i)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5206\u5b50\u5f0f:"),a.createElement("div",{className:"col-9"},l)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5206\u5b50\u91cf:"),a.createElement("div",{className:"col-9"},o))))},r.onDelProduct=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.vCall(ke,r.productData);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=9;break}return e.next=6,r.controller.delProduct(r.productData);case 6:return e.next=8,r.controller.loadList();case 8:r.closePage();case 9:case 10:case"end":return e.stop()}}),e)}))),r.page=function(){var e,t=O.a.clone(r.productData);return void 0!==t&&(e=a.createElement("button",{className:"btn btn-sm btn-danger",onClick:r.onDelProduct},"\u5220\u9664")),a.createElement(h.j,{header:"\u4fee\u6539\u4ea7\u54c1",right:e,headerClassName:"bg-primary"},r.showProductData(t),a.createElement("div",{className:"App-container container text-left"},a.createElement(h.f,{ref:function(e){return r.form=e},className:"my-3",schema:Ne,uiSchema:r.uiSchema,formData:t,onButtonClick:r.onFormButtonClick,fieldLabelSize:3})))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.productData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),ke=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.returnCall(!0);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)}))),r.onCancel=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.returnCall(!1);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)}))),r.page=function(e){return a.createElement(h.j,{header:"\u5220\u9664\u4ea7\u54c1",back:"close"},a.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},a.createElement("div",{className:"p-4 position-relative"},a.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),a.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u4ea7\u54c1\uff1f")),a.createElement("div",{className:"d-flex mt-3 justify-content-end"},a.createElement("button",{className:"btn btn-danger mr-3",onClick:r.onConfirm},"\u5220\u9664\u4ea7\u54c1"),a.createElement("button",{className:"btn btn-outline-info mr-3",onClick:r.onCancel},"\u53d6\u6d88"))))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),Oe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).product=void 0,r.firstPackage=void 0,r.packages=[],r.getPackage=function(){var e=r.controller.cApp.cPackage.showCreatePackage;return a.createElement("div",{className:"bg-white mb-3"},a.createElement("div",{className:"cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"cubes"}),a.createElement("span",{className:"h6 py-2 px-1 align-middle"},a.createElement("b",null," \u4ea7\u54c1\u5305\u88c5"))),r.firstPackage&&a.createElement(h.h,{items:r.packages,item:{render:r.renderPackage}}),a.createElement("div",{className:"text-primary text-center small bg-white py-2",onClick:function(){return e(r.product)}},a.createElement(h.e,{name:"plus"}),"\u5305\u88c5"))},r.onDelPackage=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.vCall(Pe,t);case 2:if(e.t0=e.sent,!0!==e.t0){e.next=9;break}return e.next=6,r.controller.delPakage(t);case 6:return e.next=8,r.controller.loadList();case 8:r.closePage();case 9:case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.renderPackage=function(e,t){var n=r.controller.cApp.cPackage,c=(n.showEditPackage,n.showPackageDetail),i=(e.id,e.radiox),s=e.radioy,l=e.unit,o=e.type,u=e.price,m=e.currency,p=e.validUpto,d=(r.product.defaultContact,1!==i?a.createElement(a.Fragment,null,i," * ",s,l):a.createElement(a.Fragment,null,s,l)),f=void 0===u?a.createElement("div",{className:"px-2 cursor-pointer text-danger",onClick:function(){return r.onDelPackage(e)}},a.createElement(h.e,{name:"remove"})):a.createElement("div",{className:"px-2 text-info small"},a.createElement("span",null,u,Object(h.s)(m,(function(e){return a.createElement(a.Fragment,null,e.name)}))," ",a.createElement(h.d,{date:p}))),v=a.createElement("div",{className:"px-2",onClick:function(){return c(e)}},a.createElement(h.e,{name:"cube",className:"px-2 text-primary"}),d," ",a.createElement("span",{className:"small"},1===o?"\u76ee\u5f55":"\u975e\u76ee\u5f55"));return a.createElement(h.g,{left:v,right:f,className:"py-2"})},r.rowTop=function(){O.a.clone(r.product);var e=r.product,t=e.no,n=e.supplier,c=e.brand,i=e.origin,s=e.description,l=e.descriptionC,o=(e.createTime,e.chemical,e.CAS),u=e.purity,m=e.molecularFomula,p=e.molecularWeight,d=n.obj.name,f=void 0===c?void 0:c.obj.name;return a.createElement("div",{className:"py-2 bg-white mb-3"},a.createElement("div",{className:"cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"credit-card"}),a.createElement("span",{className:"h6 py-2 px-1 align-middle"},a.createElement("b",null,"\u4ea7\u54c1\u4fe1\u606f"))),a.createElement("div",{className:"py-2 cat-root-sub small"},a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u7f16\u53f7:"),a.createElement("div",{className:"col-9"},t)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4f9b\u5e94\u5546:"),a.createElement("div",{className:"col-9"},d)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u54c1\u724c:"),a.createElement("div",{className:"col-9"},f)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"CAS:"),a.createElement("div",{className:"col-9"},o)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u82f1\u6587\u540d\u79f0:"),a.createElement("div",{className:"col-9"},s)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4e2d\u6587\u540d\u79f0:"),a.createElement("div",{className:"col-9"},l)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4f9b\u5e94\u5546\u81ea\u7f16\u53f7:"),a.createElement("div",{className:"col-9"},i)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u7eaf\u5ea6:"),a.createElement("div",{className:"col-9"},u)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5206\u5b50\u5f0f:"),a.createElement("div",{className:"col-9"},m)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5206\u5b50\u91cf:"),a.createElement("div",{className:"col-9"},p))))},r.page=function(){var e=r.controller.cApp.cNewPendingInquiry.onNewPendingInquiry,t=a.createElement("header",{className:"py-2 text-center text-white"},a.createElement("span",{className:"h5 align-middle"},"\u4ea7\u54c1\u8be6\u60c5")),n=a.createElement("button",{className:"btn btn-sm btn-success",onClick:function(){return e(r.product)}},"+\u8be2\u4ef7");return a.createElement(h.j,{header:t,right:n,headerClassName:"bg-primary"},r.rowTop(),r.getPackage())},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.parent,a=t.item,n=t.child,this.product=r,this.firstPackage=a,this.packages=n,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),Pe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onConfirm=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.returnCall(!0);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)}))),r.onCancel=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.returnCall(!1);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)}))),r.page=function(e){return a.createElement(h.j,{header:"\u5220\u9664\u5305\u88c5",back:"close"},a.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},a.createElement("div",{className:"p-4 position-relative"},a.createElement("i",{className:"fa fa-question-circle position-absolute fa-2x text-warning",style:{left:0,top:0}}),a.createElement("b",{className:""},"\u662f\u5426\u5220\u9664\u8be5\u5305\u88c5\uff1f")),a.createElement("div",{className:"d-flex mt-3 justify-content-end"},a.createElement("button",{className:"btn btn-danger mr-3",onClick:r.onConfirm},"\u5220\u9664\u5305\u88c5"),a.createElement("button",{className:"btn btn-outline-info mr-3",onClick:r.onCancel},"\u53d6\u6d88"))))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),qe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderRootCategory=function(e,t){e.no;var n=e.description,c=(e.createTime,e.supplier),i=e.CAS,s=r.controller,l=s.onEditProduct,o=s.showProductDetail,u=a.createElement("div",{className:"p-2 cursor-pointer text-info",onClick:function(){return l(e)}},a.createElement(h.e,{name:"edit"})),m=a.createElement("div",{onClick:function(){return o(e)}},a.createElement("div",{className:""},i),a.createElement("div",{className:""},n),a.createElement("div",{className:"text-muted small"},Object(h.s)(c,(function(e){return a.createElement(a.Fragment,null,e.name)}))));return a.createElement(h.g,{left:m,right:u,className:"py-2 px-3 border-top"})},r.page=Object(ue.a)((function(){var e=r.controller,t=e.products,n=(e.onNewProduct,e.searchProductByKey),c=e.pickChemical,i=a.createElement("div",{className:"w-19c d-flex"},a.createElement(h.l,{className:"w-80",size:"sm",onSearch:function(e){return n(e)},placeholder:"\u8bf7\u8f93\u5165cas\u3001\u540d\u79f0\u5173\u952e\u5b57"}),a.createElement("span",{onClick:function(){return c()},className:"fa-stack"},a.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),a.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),s=a.createElement("header",{className:"py-2 px-4 text-center text-white"},a.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u4ea7\u54c1"));return a.createElement(h.j,{header:s,right:i,headerClassName:"bg-primary"},a.createElement(h.h,{items:t,item:{render:r.renderRootCategory}}))})),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement(this.page,null)}}]),t}(h.o),Ce=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=Object(ue.a)((function(){var e=r.controller,t=e.suppliers,n=e.searchSupplierByKey,c=a.createElement("header",{className:"py-2 px-2 text-center text-white"},a.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u9009\u62e9\u4f9b\u5e94\u5546"));return a.createElement(h.j,{header:c,onScrollBottom:r.onScrollBottom,headerClassName:"bg-primary"},a.createElement(h.l,{className:"w-80 mt-1 mr-2",size:"sm",onSearch:function(e){return n(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),a.createElement(h.h,{items:t,item:{render:r.renderItem,onClick:r.onClick}}))})),r.onScrollBottom=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.suppliers.more();case 2:case"end":return e.stop()}}),e)}))),r.onClick=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.returnSupplier(t);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.renderItem=function(e,t){var r=e.name;return a.createElement(h.g,{className:"py-2 border"},a.createElement("div",null,a.createElement(h.e,{name:"circle",className:"px-2 text-primary"}),r))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),Se=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchSupplier=void 0,r.firstSize=r.pageSize=14,r.searchSupplier=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchSupplier.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),Ie=(R=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n))),Object(E.a)(r,"suppliers",K,Object(g.a)(r)),r.searchSupplierByKey=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.suppliers=new Se(r.uqs.rms.SearchSupplier),r.suppliers.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.returnSupplier=function(e){r.returnCall(e)},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t),this.openVPage(Ce);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),K=Object(N.a)(R.prototype,"suppliers",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R),Ae=[{name:"id",type:"id",required:!1},{name:"no",type:"string",required:!0},{name:"name",type:"string",required:!0},{name:"isValid",type:"boolean",required:!0},{name:"submit",type:"submit"}],Fe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.brandData=void 0,r.uiSchema={items:{id:{visible:!1},no:{widget:"text",label:"\u54c1\u724c\u7f16\u53f7",placeholder:"\u5fc5\u586b"},name:{widget:"text",label:"\u54c1\u724c\u540d\u79f0",placeholder:"\u5fc5\u586b"},isValid:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.saveBrandData(a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.page=function(){var e=O.a.clone(r.brandData);return a.createElement(h.j,{header:"\u6dfb\u52a0\u54c1\u724c",headerClassName:"bg-primary"},a.createElement("div",{className:"App-container container text-left"},a.createElement(h.f,{ref:function(e){return r.form=e},className:"my-3",schema:Ae,uiSchema:r.uiSchema,formData:e,onButtonClick:r.onFormButtonClick,fieldLabelSize:3})))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.brandData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),Be=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=Object(ue.a)((function(){var e=r.controller,t=e.brands,n=e.searchBrandByKey,c=e.onNewBrand,i=a.createElement("div",{className:"w-19c d-flex"},a.createElement("span",{onClick:function(){return c()},className:"fa-stack"},a.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),a.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),s=a.createElement("header",{className:"py-2 px-2 text-center text-white"},a.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u9009\u62e9\u54c1\u724c"));return a.createElement(h.j,{header:s,right:i,onScrollBottom:r.onScrollBottom,headerClassName:"bg-primary"},a.createElement(h.l,{className:"w-60",size:"sm",onSearch:function(e){return n(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),a.createElement(h.h,{items:t,item:{render:r.renderItem,onClick:r.onClick}}))})),r.onScrollBottom=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.brands.more();case 2:case"end":return e.stop()}}),e)}))),r.onClick=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.returnBrand(t);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.renderItem=function(e,t){var r=e.no,n=e.name;return a.createElement(h.g,{className:"py-2 border"},a.createElement("div",null,a.createElement(h.e,{name:"circle",className:"px-2 text-primary"}),r," - ",n))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),De=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchBrand=void 0,r.firstSize=r.pageSize=14,r.searchBrand=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchBrand.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),ze=(U=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n))),Object(E.a)(r,"brands",W,Object(g.a)(r)),r.searchBrandByKey=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.brands=new De(r.uqs.rms.SearchBrand),r.brands.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.saveBrandData=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=5;break}return e.next=3,r.uqs.rms.Brand.save(void 0,t);case 3:e.next=7;break;case 5:return e.next=7,r.uqs.rms.Brand.save(t.id,t);case 7:return r.closePage(),e.next=10,r.searchBrandByKey("");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onNewBrand=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(Fe,{description:void 0});case 1:case"end":return e.stop()}}),e)}))),r.onEditBrand=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(Fe,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.returnBrand=function(e){r.returnCall(e)},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchBrandByKey(t),this.openVPage(Be);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),W=Object(N.a)(U.prototype,"brands",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U),Te=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchProduct=void 0,r.firstSize=r.pageSize=14,r.searchProduct=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchProduct.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),Ve=(_=function(e){function t(){var e,r,n=this;Object(u.a)(this,t);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Object(E.a)(r,"products",M,Object(g.a)(r)),r.chemical=void 0,r.supplier=void 0,r.searchProductByKey=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.products=new Te(r.uqs.rms.SearchProduct),r.products.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.pickSupplier=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.newC(Ie),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),r.pickBrand=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.newC(ze),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),r.pickChemical=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cApp.cChemical.call();case 2:e.sent;case 3:case"end":return e.stop()}}),e)}))),r.saveProductData=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c,i,s,o,u,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=13;break}if(!r.chemical){e.next=13;break}return a=r.chemical,n=a.id,c=a.CAS,i=a.description,s=a.descriptoinCN,o=a.molecularFomula,u=a.molecularWeight,t.description=i,t.descriptionC=s,t.createTime=Date.now(),t.isTrue=1,t.defaultContact=void 0,e.next=10,r.uqs.rms.Product.save(void 0,t);case 10:return m=e.sent,e.next=13,r.uqs.rms.ProductChemical.add({product:m.id,arr1:[{chemical:n,CAS:c,molecularFomula:o,molecularWeight:u,purity:t.purity}]});case 13:return r.closePage(),e.next=16,r.loadList();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.updateProductData=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return t.origin=a.origin,t.isTrue=1,n=t.chemical,e.next=6,r.uqs.rms.Product.save(a.id,t);case 6:return e.next=8,r.uqs.rms.ProductChemical.add({product:a.id,arr1:[{chemical:n.id,CAS:t.CAS,molecularFomula:t.molecularFomula,molecularWeight:t.molecularWeight,purity:a.purity}]});case 8:return r.closePage(),e.next=11,r.loadList();case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.onNewProduct=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.chemical=t,r.supplier=a,r.openVPage(Ee,{product:void 0});case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.onEditProduct=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(je,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.showProductDetail=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,r.uqs.rms.GetPack.query({_id:a});case 3:n=e.sent,c={parent:t,item:n.ret[0],child:n.ret},r.openVPage(Oe,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.loadList=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.searchProductByKey("\u674e");case 2:case"end":return e.stop()}}),e)}))),r.render=Object(ue.a)((function(){return r.renderView(qe)})),r.tab=function(){return a.createElement(n.render,null)},r.delProduct=function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,t.isTrue=0,e.next=4,r.uqs.rms.Product.save(a,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.delPakage=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.product,c={radiox:t.radiox,radioy:t.radioy,unit:t.unit,type:t.type,isValid:0},e.next=4,r.uqs.rms.Product.saveArr("Pack",n.id,a,c);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchProductByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),M=Object(N.a)(_.prototype,"products",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_),Le=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=Object(ue.a)((function(){var e=r.controller,t=e.chemicals,n=e.searchChemicalByKey,c=a.createElement("header",{className:"py-2 px-2 text-center text-white"},a.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u9009\u62e9chemid"));return a.createElement(h.j,{header:c,onScrollBottom:r.onScrollBottom,headerClassName:"bg-primary"},a.createElement(h.l,{className:"w-80 mt-1 mr-2",size:"sm",onSearch:function(e){return n(e)},placeholder:"\u8bf7\u8f93\u5165CAS\u3001\u540d\u79f0\u5173\u952e\u5b57"}),a.createElement(h.h,{items:t,item:{render:r.renderItem}}))})),r.onScrollBottom=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.chemicals.more();case 2:case"end":return e.stop()}}),e)}))),r.renderItem=function(e,t){var n=e.CAS,c=e.description,i=r.controller.supplier,s=r.controller.cApp.cProduct.onNewProduct;return a.createElement(h.g,{className:"py-2 border",onClick:function(){return s(e,i)}},a.createElement("div",null,a.createElement(h.e,{name:"circle",className:"px-2 text-primary"}),"CAS:",n),a.createElement("div",{className:"px-4 text-muted small"},"\u82f1\u6587\uff1a",c))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),Re=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchChemical=void 0,r.firstSize=r.pageSize=8,r.searchChemical=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchChemical.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),Ke=(G=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n))),Object(E.a)(r,"chemicals",H,Object(g.a)(r)),Object(E.a)(r,"supplier",J,Object(g.a)(r)),r.searchChemicalByKey=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.chemicals=new Re(r.uqs.chemical.SearchChemical),r.chemicals.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplier=t,this.searchChemicalByKey(""),this.openVPage(Le);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),H=Object(N.a)(G.prototype,"chemicals",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=Object(N.a)(G.prototype,"supplier",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G),Ue=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.item=void 0,r.parent=void 0,r.schema=[{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"string",required:!0},{name:"type",type:"string",required:!0},{name:"submit",type:"submit"}],r.uiSchema={items:{radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b",defaultValue:1},unit:{widget:"text",label:"\u5355\u4f4d",placeholder:"\u5fc5\u586b"},type:{widget:"radio",label:"\u7c7b\u578b",list:[{value:1,title:"\u76ee\u5f55\u5305\u88c5"},{value:2,title:"\u975e\u76ee\u5f55\u5305\u88c5"}]},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.controller.savePackage,c=r.item&&r.item.id,e.next=4,n(c,a.form.data,r.parent);case 4:r.closePage();case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.page=Object(ue.a)((function(){return a.createElement(h.j,{header:"\u7f16\u8f91\u5305\u88c5",headerClassName:"bg-primary"},a.createElement("div",{className:"App-container container text-left"},a.createElement(h.f,{ref:function(e){return r.form=e},className:"my-3",formData:r.item,schema:r.schema,uiSchema:r.uiSchema,onButtonClick:r.onFormButtonClick,requiredFlag:!0})))})),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.item,a=t.parent,this.item=r,this.parent=a,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),We=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).package=void 0,r.page=function(){var e=O.a.clone(r.package),t=e.radiox,n=e.radioy,c=e.unit,i=e.type,s=e.price,l=e.currency,o=e.isTaxIn,u=e.isTransFeeIn,m=e.transFee,p=e.transFeecurrency,d=e.packingFee,f=e.packingcurrency,v=e.otherFee,b=e.customized,y=e.customizeUpto,g=e.validUpto,w=e.minArriveDate,x=e.maxArriveDate,E=e.invoiceType,N=e.vatRate,j=e.tariffRate,k=1!==t?a.createElement(a.Fragment,null,t," * ",n,c):a.createElement(a.Fragment,null,n,c),P=a.createElement("header",{className:"py-2 text-center text-white"},a.createElement("span",{className:"h5 align-middle"},"\u5305\u88c5\u8be6\u60c5: ",k));return a.createElement(h.j,{header:P,headerClassName:"bg-primary"},a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5305\u88c5\u7c7b\u578b:"),a.createElement("div",{className:"col-9"},1===i?"\u76ee\u5f55\u5305\u88c5":2===i?"\u975e\u76ee\u5f55\u5305\u88c5":"")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u7ed3\u7b97\u4ef7:"),a.createElement("div",{className:"col-9"},s,void 0===l?"":Object(h.s)(l,(function(e){return a.createElement(a.Fragment,null,e.name)})))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u542b\u7a0e\u8d39:"),a.createElement("div",{className:"col-9"},1===o?"\u542b":0===o?"\u4e0d\u542b":"")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u542b\u8fd0\u8d39:"),a.createElement("div",{className:"col-9"},1===u?"\u542b":0===u?"\u4e0d\u542b":"")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8fd0\u8d39:"),a.createElement("div",{className:"col-9"},m,void 0===p?"":Object(h.s)(p,(function(e){return a.createElement(a.Fragment,null,e.name)})))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5305\u88c5\u8d39:"),a.createElement("div",{className:"col-9"},d,void 0===f?"":Object(h.s)(f,(function(e){return a.createElement(a.Fragment,null,e.name)})))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5176\u4ed6\u8d39\u7528:"),a.createElement("div",{className:"col-9"},v)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u662f\u5426\u5b9a\u5236:"),a.createElement("div",{className:"col-9"},1===b?"\u662f":0===b?"\u5426":"")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5b9a\u5236\u65f6\u95f4\u81f3:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:y}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u6709\u6548\u671f\u81f3:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:g}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u6700\u77ed\u8d27\u671f\u81f3:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:w}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u6700\u957f\u8d27\u671f\u81f3:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:x}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u53d1\u7968\u7c7b\u578b:"),a.createElement("div",{className:"col-9"},void 0===E?"":1===E?"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968":2===E?"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968":"\u5f62\u5f0f\u53d1\u7968")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u589e\u503c\u7a0e\u7387:"),a.createElement("div",{className:"col-9"},N)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5173\u7a0e\u7a0e\u7387:"),a.createElement("div",{className:"col-9"},j)))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.package=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),_e=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchPackage=void 0,r.firstSize=r.pageSize=14,r.searchPackage=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchPackage.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),Me=($=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n))),Object(E.a)(r,"pagePackage",Q,Object(g.a)(r)),r.searchPackageByKey=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_e,e.next=3,r.uqs.rms.GetPack.query({_id:t.id});case 3:e.t1=e.sent,r.pagePackage=new e.t0(e.t1),r.pagePackage.first({key:a});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.showCreatePackage=function(e){var t={parent:e,item:void 0,child:void 0};r.openVPage(Ue,t)},r.showEditPackage=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={parent:t,item:a,child:a},r.openVPage(Ue,n);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.showPackageDetail=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(We,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.savePackage=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.isValid=1,e.next=3,r.uqs.rms.Product.saveArr("Pack",n.id,t,a);case 3:r.closePage();case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),r.loadList=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cApp.cSupplier.onSupplierSelected(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.showPackage=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,r.uqs.rms.GetPack.query({_id:a});case 3:n=e.sent,c=n.ret.length>0?n.ret:void 0,i={parent:void 0,item:n.ret[0],child:c},r.openVPage(Oe,i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),Q=Object(N.a)($.prototype,"pagePackage",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$),Ge=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=Object(ue.a)((function(){var e=r.controller,t=e.products,n=e.searchProductByKey,c=r.controller.cApp.cNewPendingInquiry.onNewPendingInquiry,i=a.createElement("header",{className:"py-2 px-2 text-center text-white"},a.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u9009\u62e9\u4ea7\u54c1"));return a.createElement(h.j,{header:i,onScrollBottom:r.onScrollBottom,headerClassName:"bg-primary"},a.createElement(h.l,{className:"w-80 mt-1 mr-2",size:"sm",onSearch:function(e){return n(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),a.createElement(h.h,{items:t,item:{render:r.renderItem,onClick:c}}))})),r.onScrollBottom=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.products.more();case 2:case"end":return e.stop()}}),e)}))),r.renderItem=function(e,t){var r=e.CAS,n=e.description,c=e.supplier;return a.createElement(h.g,{className:"py-2 border"},a.createElement("div",null,a.createElement(h.e,{name:"circle",className:"px-2 text-primary"}),r),a.createElement("div",{className:"px-4 text-muted small"},n),a.createElement("div",{className:"px-4 text-muted small"},Object(h.s)(c,(function(e){return a.createElement(a.Fragment,null,e.name)}))))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),He=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchProduct=void 0,r.firstSize=r.pageSize=14,r.searchProduct=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchProduct.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),Je=(X=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n))),Object(E.a)(r,"products",Y,Object(g.a)(r)),r.searchProductByKey=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.products=new He(r.uqs.rms.SearchProduct),r.products.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchProductByKey(t),this.openVPage(Ge);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),Y=Object(N.a)(X.prototype,"products",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X),$e=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderRootCategory=function(e,t){var n=e.supplier,c=e.inquiryDate,i=r.controller.onShowPendingInquiryDetail,s=a.createElement("div",{className:"cursor-pointer text-info"},a.createElement(h.d,{date:c})),l=a.createElement("div",null,Object(h.s)(n,(function(e){return a.createElement(a.Fragment,null,e.name)})));return a.createElement(h.g,{left:l,right:s,className:"py-2 px-3",onClick:function(){return i(e)}})},r.page=Object(ue.a)((function(){var e=r.controller,t=e.pendingInquirys,n=e.searchPendingInquiryByKey,c=a.createElement("div",{className:"w-19c d-flex"},a.createElement(h.l,{className:"w-80",size:"sm",onSearch:function(e){return n(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"})),i=a.createElement("header",{className:"py-2 px-4 text-center text-white"},a.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u5df2\u8be2\u51fa"));return a.createElement(h.j,{header:i,right:c,onScrollBottom:r.onScrollBottom,headerClassName:"bg-primary"},a.createElement(h.h,{items:t,item:{render:r.renderRootCategory},none:"\u76ee\u524d\u8fd8\u6ca1\u5df2\u8be2\u4ef7\u8bb0\u5f55\u54e6\uff01"}))})),r.onScrollBottom=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.pendingInquirys.more();case 2:case"end":return e.stop()}}),e)}))),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement(this.page,null)}}]),t}(h.o),Qe=[{name:"result",type:"number",required:!0},{name:"submit",type:"submit"}],Xe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.pending=void 0,r.firstPackage=void 0,r.packages=[],r.uiSchema={items:{result:{widget:"radio",label:"\u8be2\u4ef7\u7ed3\u679c",list:[{value:1,title:"\u6709\u4ef7\u683c"},{value:2,title:"\u65e0\u4ef7\u683c"}]},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.saveInquiryData(a.form.data,r.pending,r.packages);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.getPackage=function(){return a.createElement("div",{className:"bg-white px-2 "},r.firstPackage&&a.createElement(h.h,{items:r.packages,item:{render:r.renderPackage}}))},r.renderPackage=function(e,t){e.id,e.inquiryPackage,e.user,e.createDate;var n=e.product,c=e.quantity,i=e.radiox,s=e.radioy,l=e.unit,o=e.CAS,u=(e.purity,n.obj),m=u.brand,p=u.description,d=(u.descriptionC,1!==i?a.createElement(a.Fragment,null,i," * ",s,l):a.createElement(a.Fragment,null,s,l)),f=(void 0===m||m.obj.name,a.createElement("div",{className:"px-2 text-muted text-right"},a.createElement("span",{onClick:function(){return r.controller.openPendingInquiryResult(e)}},a.createElement(h.e,{className:"align-middle p-2 cursor-pointer text-info",name:"edit"}))));return a.createElement(h.g,{right:f,className:"py-2 small"},a.createElement("div",null,a.createElement(h.e,{name:"circle",className:"px-2 text-primary"}),"CAS\uff1a",o),a.createElement("div",{className:"px-4 text-muted small"},"\u540d\u79f0\uff1a",p),a.createElement("div",{className:"px-4 text-muted small"},"\u5305\u88c5\uff1a",c," * ",d))},r.rowTop=function(e){var t=e.supplier,r=e.contactName,n=(e.contactSalutation,e.contactDepartmentName,e.contactTelephone,e.contactMobile),c=(e.contactEmail,e.contactfax,e.way),i=e.inquiryUser,s=e.inquiryDate,l=e.user,o=e.date,u=(e.remarks,l.id),m=i.id;return a.createElement("div",{className:"py-2 bg-white"},a.createElement("div",{className:"cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"credit-card"}),a.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u4f9b\u5e94\u5546\uff1a",a.createElement("b",null,Object(h.s)(t,(function(e){return a.createElement(a.Fragment,null,e.name)}))))),a.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"user-circle-o"}),a.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u8054\u7cfb\u4eba\uff1a",a.createElement("b",null,r),"\xa0\xa0\u8054\u7cfb\u7535\u8bdd\uff1a",a.createElement("b",null,n))),a.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",a.createElement("span",{className:"h6 py-2 px-4 align-middle"},"\u521b\u5efa\u4eba\uff1a",a.createElement("b",null,u),"\xa0\xa0\u521b\u5efa\u65f6\u95f4\uff1a",a.createElement("b",null,a.createElement(h.d,{date:o})))),a.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"user-circle-o"}),a.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u8be2\u4ef7\u4eba\uff1a",a.createElement("b",null,m),"\xa0\xa0\u8be2\u4ef7\u65f6\u95f4\uff1a",a.createElement("b",null,a.createElement(h.d,{date:s})))),a.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",a.createElement("span",{className:"h6 py-2 px-4 align-middle"},"\u8be2\u4ef7\u65b9\u5f0f\uff1a",a.createElement("b",null,1===c?"Email\u8be2\u4ef7":2===c?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7"))))},r.page=function(){var e=O.a.clone(r.pending),t=a.createElement("header",{className:"py-2 text-center text-white"},a.createElement("span",{className:"h5 align-middle"},"\u8be2\u4ef7\u8be6\u60c5"));return a.createElement(h.j,{header:t,headerClassName:"bg-primary"},r.rowTop(e),r.getPackage(),a.createElement("div",{className:"App-container container text-left"},a.createElement(h.f,{ref:function(e){return r.form=e},className:"my-3",schema:Qe,uiSchema:r.uiSchema,formData:e,onButtonClick:r.onFormButtonClick,fieldLabelSize:3})))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.parent,a=t.item,n=t.child,this.pending=r,this.firstPackage=a,this.packages=n,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),Ye=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=function(){var e=r.controller.currencys;return a.createElement(h.j,{header:"\u9009\u62e9\u5e01\u79cd"},a.createElement("div",{className:"row no-gutters"},e.map((function(e){return r.renderCurrency(e,r.onCurrencyClick)}))))},r.renderCurrency=function(e,t){var n=e.id,c=e.name;return a.createElement("div",{key:n,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},a.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return r.onCurrencyClick(e)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},a.createElement("span",{className:"ml-1 align-middle"},a.createElement(h.e,{name:"chevron-right",className:"text-info small"}),"\xa0 ",c)))},r.onCurrencyClick=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.returnCurrency(t);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),Ze=(Z=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n))),Object(E.a)(r,"currencys",ee,Object(g.a)(r)),r.returnCurrency=function(e){r.returnCall(e)},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.common.Currency.search("",0,100);case 2:this.currencys=e.sent,this.openVPage(Ye);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(y),ee=Object(N.a)(Z.prototype,"currencys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z),et=[{name:"id",type:"id",required:!1},{name:"quantity",type:"number",required:!0},{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"string",required:!0},{name:"listPrice",type:"number",required:!1},{name:"price",type:"number",required:!0},{name:"currency",type:"id",required:!0},{name:"isTaxIn",type:"number",required:!0},{name:"isTransFeeIn",type:"number",required:!0},{name:"transFee",type:"number",required:!1},{name:"transFeecurrency",type:"id",required:!1},{name:"packingFee",type:"number",required:!1},{name:"packingcurrency",type:"id",required:!1},{name:"otherFee",type:"number",required:!1},{name:"customized",type:"number",required:!0},{name:"customizeUpto",type:"date",required:!1},{name:"validUpto",type:"date",required:!0},{name:"minArriveDate",type:"date",required:!0},{name:"maxArriveDate",type:"date",required:!0},{name:"invoiceType",type:"number",required:!0},{name:"vatRate",type:"number",required:!1},{name:"tariffRate",type:"number",required:!1},{name:"packType",type:"number",required:!0},{name:"remarks",type:"string",required:!1},{name:"coaFilePath",type:"string",required:!1},{name:"msdsFilePath",type:"string",required:!1},{name:"quotationFilePath",type:"string",required:!1},{name:"submit",type:"submit"}],tt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.inquiryData=void 0,r.uiSchema={items:{id:{visible:!1},quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"text",label:"\u5355\u4f4d",placeholder:"\u5fc5\u586b"},listPrice:{widget:"text",label:"\u76ee\u5f55\u4ef7",placeholder:"\u76ee\u5f55\u4ef7"},price:{widget:"text",label:"\u7ed3\u7b97\u4ef7",placeholder:"\u5fc5\u586b"},currency:{widget:"id",label:"\u7ed3\u7b97\u5e01\u79cd",placeholder:"\u7ed3\u7b97\u5e01\u79cd",pickId:function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.pickCurrency(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?a.createElement(a.Fragment,null,Object(h.s)(e,(function(e){return a.createElement(a.Fragment,null,e.name)}))):a.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u7ed3\u7b97\u5e01\u79cd")}},isTaxIn:{widget:"radio",label:"\u542b\u7a0e\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},isTransFeeIn:{widget:"radio",label:"\u542b\u8fd0\u8d39",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},transFee:{widget:"text",label:"\u8fd0\u8d39",placeholder:"\u8fd0\u8d39"},transFeecurrency:{widget:"id",label:"\u8fd0\u8d39\u5e01\u79cd",placeholder:"\u8fd0\u8d39\u5e01\u79cd",pickId:function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.pickCurrency(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?a.createElement(a.Fragment,null,Object(h.s)(e,(function(e){return a.createElement(a.Fragment,null,e.name)}))):a.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u8fd0\u8d39\u5e01\u79cd")}},packingFee:{widget:"text",label:"\u5305\u88c5\u8d39",placeholder:"\u5305\u88c5\u8d39"},packingcurrency:{widget:"id",label:"\u5305\u88c5\u8d39\u5e01\u79cd",placeholder:"\u5305\u88c5\u8d39\u5e01\u79cd",pickId:function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.pickCurrency(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?a.createElement(a.Fragment,null,Object(h.s)(e,(function(e){return a.createElement(a.Fragment,null,e.name)}))):a.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5305\u88c5\u8d39\u5e01\u79cd")}},otherFee:{widget:"text",label:"\u5176\u4ed6\u8d39",placeholder:"\u5176\u4ed6\u8d39"},customized:{widget:"radio",label:"\u5b9a\u5236",list:[{value:"0",title:"\u5426"},{value:"1",title:"\u662f"}]},customizeUpto:{widget:"date",label:"\u5b9a\u5236\u622a\u6b62\u65e5\u671f"},validUpto:{widget:"date",label:"\u62a5\u4ef7\u6709\u6548\u671f",placeholder:"\u5fc5\u586b"},minArriveDate:{widget:"date",label:"\u6700\u77ed\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},maxArriveDate:{widget:"date",label:"\u6700\u957f\u5230\u8d27\u671f",placeholder:"\u5fc5\u586b"},invoiceType:{widget:"radio",label:"\u53d1\u7968\u7c7b\u578b",list:[{value:"1",title:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968"},{value:"2",title:"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968"},{value:"3",title:"\u5f62\u5f0f\u53d1\u7968"}]},vatRate:{widget:"text",label:"\u589e\u503c\u7a0e\u7387",placeholder:"\u589e\u503c\u7a0e\u7387"},tariffRate:{widget:"text",label:"\u5173\u7a0e\u7a0e\u7387",placeholder:"\u5173\u7a0e\u7a0e\u7387"},packType:{widget:"radio",label:"\u5305\u88c5\u7c7b\u578b",list:[{value:"1",title:"\u76ee\u5f55\u5305\u88c5"},{value:"2",title:"\u975e\u76ee\u5f55\u5305\u88c5"}]},remarks:{widget:"text",label:"\u5907\u6ce8",row:10,placeholder:"\u5907\u6ce8"},coaFilePath:{widget:"text",label:"COA\u6587\u4ef6\u8def\u5f84",placeholder:"COA\u6587\u4ef6\u8def\u5f84"},msdsFilePath:{widget:"text",label:"MSOS\u6587\u4ef6\u8def\u5f84",placeholder:"MSOS\u6587\u4ef6\u8def\u5f84"},quotationFilePath:{widget:"text",label:"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84",placeholder:"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.saveInquiryPackage(a.form.data,r.inquiryData);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.page=function(){var e=O.a.clone(r.inquiryData);return a.createElement(h.j,{header:"\u5f55\u5165\u8be2\u4ef7\u7ed3\u679c",headerClassName:"bg-primary"},a.createElement("div",{className:"bg-white"},a.createElement(h.f,{ref:function(e){return r.form=e},className:"m-3",schema:et,uiSchema:r.uiSchema,formData:e,onButtonClick:r.onFormButtonClick,fieldLabelSize:3})))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.inquiryData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),rt=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchPendingInquiry=void 0,r.firstSize=r.pageSize=14,r.searchPendingInquiry=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchPendingInquiry.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),at=(te=function(e){function t(){var e,r,n=this;Object(u.a)(this,t);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Object(E.a)(r,"pendingInquirys",re,Object(g.a)(r)),Object(E.a)(r,"pendingInquiryList",ae,Object(g.a)(r)),r.product=void 0,r.searchPendingInquiryByKey=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.pendingInquirys=new rt(r.uqs.rms.SearchInquiryPending),r.pendingInquirys.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.savePendingInquiryData=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c,i,s,o,u,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=8;break}if(!r.product){e.next=8;break}return a=r.product,n=a.id,c=a.supplier,i=c.id,s=t.quantity,o=t.radiox,u=t.radioy,m=t.unit,p={supplier:i,product:n,quantity:s,radiox:o,radioy:u,unit:m},e.next=8,r.uqs.rms.AddInquiryPending.submit(p);case 8:return r.closePage(),e.next=11,r.loadList();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getDataForSave=function(e,t,r){var a=t.contact,n=t.contactName,c=t.contactSalutation,i=t.contactDepartmentName,s=t.contactTelephone,l=t.contactMobile,o=t.contactEmail,u=t.contactfax,m=t.user,p=t.date,d=t.inquiryDate,f=t.inquiryUser,h=t.supplier,v=t.way,b=t.remarks,y=[];return r.forEach((function(e){var t=JSON.parse(e.jsonStr);y.push({product:e.product,inquiryQuantity:e.quantity,inquiryRadiox:e.radiox,inquiryRadioy:e.radioy,inquiryUnit:e.unit,itemuser:e.user,itemcreateDate:e.createDate,quantity:t.quantity,radiox:t.radiox,radioy:t.radioy,unit:t.unit,listPrice:t.listPrice,price:t.price,currency:t.currency,isTaxIn:t.isTaxIn,isTransFeeIn:t.isTransFeeIn,transFee:t.transFee,transFeecurrency:t.transFeecurrency,packingFee:t.packingFee,packingcurrency:t.packingcurrency,otherFee:t.otherFee,customized:t.customized,customizeUpto:t.customizeUpto,validUpto:t.validUpto,minArriveDate:t.minArriveDate,maxArriveDate:t.maxArriveDate,invoiceType:t.invoiceType,vatRate:t.vatRate,tariffRate:t.tariffRate,packType:t.packType,coaFilePath:t.coaFilePath,msdsFilePath:t.msdsFilePath,quotationFilePath:t.quotationFilePath,inquiryRemarks:t.remarks})})),{supplier:h,contact:a,contactName:n,contactSalutation:c,contactDepartmentName:i,contactTelephone:s,contactMobile:l,contactEmail:o,contactfax:u,way:v,result:e.result,user:m,createDate:p,inquiryUser:f,inquiryDate:d,remarks:b,inquiryitems:y}},r.saveInquiryData=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){var c,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.id,e.next=3,r.uqs.rms.InquirySheet.save("InquirySheet",r.getDataForSave(t,a,n));case 3:return i=e.sent,e.next=6,r.uqs.rms.InquirySheet.action(i.id,i.flow,i.state,"submit");case 6:if(!i){e.next=10;break}return s={id:c},e.next=10,r.uqs.rms.DeleteInquiryPending.submit(s);case 10:return r.closePage(),e.next=13,r.loadList();case 13:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),r.saveInquiryPackage=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n,c,i,s,o,u,m,p,d,f,h,v,b,y,g,w,x,E,N,j,k,O,P,q,C,S,I,A,F,B,D,z,T;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return n=a.id,c=a.inquiryPackage,i=a.user,s=a.createDate,a.jsonStr,o=c.obj.product,e.next=5,r.uqs.rms.InquiryPendingItem.add({inquiryPending:n,arr1:[{inquiryPackage:c.id,user:i.id,createDate:s,jsonStr:JSON.stringify(t)}]});case 5:return u=t.quantity,m=t.radiox,p=t.radioy,d=t.unit,f=t.listPrice,h=t.price,v=t.currency,b=t.isTaxIn,y=t.isTransFeeIn,g=t.transFee,w=t.transFeecurrency,x=t.packingFee,E=t.packingcurrency,N=t.otherFee,j=t.customized,k=t.customizeUpto,O=t.validUpto,P=t.minArriveDate,q=t.maxArriveDate,C=t.invoiceType,S=t.vatRate,I=t.tariffRate,A=t.packType,F=t.remarks,B=t.coaFilePath,D=t.msdsFilePath,z=t.quotationFilePath,T={product:o,quantity:u,radiox:m,radioy:p,unit:d,listPrice:f,price:h,currency:v,isTaxIn:b,isTransFeeIn:y,transFee:g,transFeecurrency:w,packingFee:x,packingcurrency:E,otherFee:N,customized:j,customizeUpto:k,validUpto:O,minArriveDate:P,maxArriveDate:q,invoiceType:C,vatRate:S,tariffRate:I,packType:A,remarks:F,coaFilePath:B,msdsFilePath:D,quotationFilePath:z},e.next=9,r.uqs.rms.AddPackagePrice.submit(T);case 9:return r.closePage(),e.next=12,r.loadList();case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.onShowPendingInquiryDetail=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,r.uqs.rms.SearchInquiryPendingBySupplier.query({_id:a});case 3:n=e.sent,c={parent:t,item:n.ret[0],child:n.ret},r.openVPage(Xe,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.pickCurrency=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.newC(Ze),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),r.openPendingInquiryResult=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c,i,s,o,u,m,p,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.inquiryPackage,e.next=3,r.uqs.rms.InquiryPendingItem.table({inquiryPending:a,inquiryPackage:n.id});case 3:c=e.sent,i=c[0],s=i.inquiryPending,o=i.inquiryPackage,u=i.user,m=i.createDate,void 0===(p=i.jsonStr)?d=t:((d=JSON.parse(p)).inquiryPending=s,d.inquiryPackage=o,d.user=u,d.createDate=m),r.openVPage(tt,d);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.loadList=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.searchPendingInquiryByKey("");case 2:case"end":return e.stop()}}),e)}))),r.render=Object(ue.a)((function(){return r.renderView($e)})),r.tab=function(){return a.createElement(n.render,null)},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchPendingInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),re=Object(N.a)(te.prototype,"pendingInquirys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Object(N.a)(te.prototype,"pendingInquiryList",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te),nt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderRootCategory=function(e,t){var n=e.supplier,c=(e.contactName,e.inquiryUser,e.startDate,e.inquiryDate),i=e.date,s=e.sheet,l=e.way,o=e.result,u=r.controller.openInquiryDetail,m=a.createElement("div",{className:"cursor-pointer text-info small"},a.createElement("div",null,"\u5f00\u59cb\uff1a",a.createElement(h.d,{date:c})),a.createElement("div",null,"\u8be2\u51fa\uff1a",a.createElement(h.d,{date:c})),a.createElement("div",null,"\u7ed3\u675f\uff1a",a.createElement(h.d,{date:i}))),p=a.createElement("div",null,a.createElement("div",null,Object(h.s)(n,(function(e){return a.createElement(a.Fragment,null,e.name)}))),a.createElement("div",{className:"text-muted small"},"\u65b9\u5f0f\uff1a",1===l?"Email\u8be2\u4ef7":2===l?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7"),a.createElement("div",{className:"text-muted small"},"\u7ed3\u679c\uff1a",1===o?"\u6709\u4ef7\u683c":2===l?"\u6709\u4ef7\u683c":"\u65e0"));return a.createElement(h.g,{left:p,right:m,className:"py-2 px-3 border-top",onClick:function(){return u(s)}})},r.page=Object(ue.a)((function(){var e=r.controller,t=e.inquirys,n=e.searchInquiryByKey,c=a.createElement("div",{className:"w-19c d-flex"},a.createElement(h.l,{className:"w-80",size:"sm",onSearch:function(e){return n(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"})),i=a.createElement("header",{className:"py-2 px-4 text-center text-white"},a.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u8be2\u4ef7\u5355"));return a.createElement(h.j,{header:i,right:c,onScrollBottom:r.onScrollBottom,headerClassName:"bg-primary"},a.createElement(h.h,{items:t,item:{render:r.renderRootCategory},none:"\u76ee\u524d\u8fd8\u6ca1\u8be2\u4ef7\u5355\u54e6\uff01"}))})),r.onScrollBottom=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.inquirys.more();case 2:case"end":return e.stop()}}),e)}))),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement(this.page,null)}}]),t}(h.o),ct=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderOrderItem=function(e,t){var n=e.product,c=(e.quantity,e.radiox),i=e.radioy,s=e.unit,l=1!==c?a.createElement(a.Fragment,null,c," * ",i,s):a.createElement(a.Fragment,null,i,s),o=n.id;return a.createElement("div",null,a.createElement("div",{className:"d-flex px-3 py-2 bg-white align-items-center",onClick:function(){return r.controller.openPackageDetail(e)}},a.createElement("div",{key:t,className:"w-6c"},a.createElement(h.e,{name:"angle-right",className:"text-primary"}),"\xa0",l),a.createElement("div",{className:"flex-fill d-flex justify-content-end text-right"},a.createElement("small",{className:"text-muted"},r.controller.renderProduct(o)))))},r.page=function(e){var t=e.brief,n=e.data,c=(t.id,t.no),i=(t.state,t.description,t.date),s=t.user,l=n.supplier,o=n.contactName,u=n.contactSalutation,m=n.contactDepartmentName,p=n.contactTelephone,d=n.contactMobile,f=n.contactEmail,v=n.contactfax,b=n.way,y=n.remarks,g=n.inquiryitems,w=n.result,x=a.createElement(a.Fragment,null,"\u8be2\u4ef7\u5355\u8be6\u60c5: ",c);return a.createElement(h.j,{header:x,headerClassName:"bg-primary"},a.createElement(h.h,{items:g,item:{render:r.renderOrderItem}}),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4f9b\u5e94\u5546:"),a.createElement("div",{className:"col-9"},Object(h.s)(l,(function(e){return a.createElement(a.Fragment,null,e.name)})))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u59d3\u540d:"),a.createElement("div",{className:"col-9"},o)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u79f0\u8c13:"),a.createElement("div",{className:"col-9"},u)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u90e8\u95e8:"),a.createElement("div",{className:"col-9"},m)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u7535\u8bdd:"),a.createElement("div",{className:"col-9"},p)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u624b\u673a:"),a.createElement("div",{className:"col-9"},d)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u90ae\u7bb1:"),a.createElement("div",{className:"col-9"},f)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8054\u7cfb\u4eba\u4f20\u771f:"),a.createElement("div",{className:"col-9"},v)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8be2\u4ef7\u65b9\u5f0f:"),a.createElement("div",{className:"col-9"},1===b?"Email\u8be2\u4ef7":2===b?"\u7535\u8bdd\u8be2\u4ef7":"\u4f20\u771f\u8be2\u4ef7")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8be2\u4ef7\u7ed3\u679c:"),a.createElement("div",{className:"col-9"},1===w?"\u6709\u4ef7\u683c":2===b?"\u6709\u4ef7\u683c":"\u65e0")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5907\u6ce8:"),a.createElement("div",{className:"col-9"},y)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8be2\u51fa\u65f6\u95f4:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:i}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8be2\u4ef7\u4eba:"),a.createElement("div",{className:"col-9"},s)))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),it=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).page=function(e){var t=e.inquiryQuantity,r=e.inquiryRadiox,n=e.inquiryRadioy,c=e.inquiryUnit,i=e.itemuser,s=e.itemcreateDate,l=e.quantity,o=e.radiox,u=e.radioy,m=e.unit,p=e.listPrice,d=e.price,f=e.currency,v=e.isTaxIn,b=e.isTransFeeIn,y=e.transFee,g=e.transFeecurrency,w=e.packingFee,x=e.packingcurrency,E=e.otherFee,N=e.customized,j=e.customizeUpto,k=e.validUpto,O=e.minArriveDate,P=e.maxArriveDate,q=e.invoiceType,C=e.vatRate,S=e.tariffRate,I=e.packType,A=e.inquiryRemarks,F=e.coaFilePath,B=e.msdsFilePath,D=e.quotationFilePath,z=1!==r?a.createElement(a.Fragment,null,r," * ",n,c):a.createElement(a.Fragment,null,n,c),T=1!==o?a.createElement(a.Fragment,null,o," * ",u,m):a.createElement(a.Fragment,null,u,m),V=a.createElement(a.Fragment,null,"\u8be2\u4ef7\u5305\u88c5\u8be6\u60c5: ",t," * ",z);return a.createElement(h.j,{header:V,headerClassName:"bg-primary"},a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u62a5\u4ef7\u5305\u88c5:"),a.createElement("div",{className:"col-9"},l," * ",T)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u521b\u5efa\u4eba:"),a.createElement("div",{className:"col-9"},i.id)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u521b\u5efa\u65f6\u95f4:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:s}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u76ee\u5f55\u4ef7:"),a.createElement("div",{className:"col-9"},p)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u7ed3\u7b97\u4ef7:"),a.createElement("div",{className:"col-9"},d,void 0===f?"":Object(h.s)(f.obj,(function(e){return a.createElement(a.Fragment,null,e.name)})))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u542b\u7a0e\u8d39:"),a.createElement("div",{className:"col-9"},1===v?"\u542b":"\u4e0d\u542b")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u542b\u8fd0\u8d39:"),a.createElement("div",{className:"col-9"},1===b?"\u542b":"\u4e0d\u542b")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u8fd0\u8d39:"),a.createElement("div",{className:"col-9"},y,void 0===g?"":Object(h.s)(g.obj,(function(e){return a.createElement(a.Fragment,null,e.name)})))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5305\u88c5\u8d39:"),a.createElement("div",{className:"col-9"},w,void 0===x?"":Object(h.s)(x.obj,(function(e){return a.createElement(a.Fragment,null,e.name)})))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5176\u4ed6\u8d39\u7528:"),a.createElement("div",{className:"col-9"},E)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u662f\u5426\u5b9a\u5236:"),a.createElement("div",{className:"col-9"},1===N?"\u662f":"\u5426")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5b9a\u5236\u65f6\u95f4\u81f3:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:j}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u6709\u6548\u671f\u81f3:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:k}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u6700\u77ed\u8d27\u671f\u81f3:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:O}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u6700\u957f\u8d27\u671f\u81f3:"),a.createElement("div",{className:"col-9"},a.createElement(h.d,{date:P}))),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u53d1\u7968\u7c7b\u578b:"),a.createElement("div",{className:"col-9"},void 0===q?"":1===q?"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968":2===q?"\u589e\u503c\u7a0e\u666e\u901a\u53d1\u7968":"\u5f62\u5f0f\u53d1\u7968")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u589e\u503c\u7a0e\u7387:"),a.createElement("div",{className:"col-9"},C)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5173\u7a0e\u7a0e\u7387:"),a.createElement("div",{className:"col-9"},S)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5305\u88c5\u7c7b\u578b:"),a.createElement("div",{className:"col-9"},1===I?"\u76ee\u5f55\u5305\u88c5":2===I?"\u975e\u76ee\u5f55\u5305\u88c5":"")),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u5907\u6ce8:"),a.createElement("div",{className:"col-9"},A)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"COA\u6587\u4ef6\u8def\u5f84:"),a.createElement("div",{className:"col-9"},F)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"MSOS\u6587\u4ef6\u8def\u5f84:"),a.createElement("div",{className:"col-9"},B)),a.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u62a5\u4ef7\u5355\u6587\u4ef6\u8def\u5f84:"),a.createElement("div",{className:"col-9"},D)))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),st=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchInquiry=void 0,r.firstSize=r.pageSize=14,r.searchInquiry=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchInquiry.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),lt=(ne=function(e){function t(){var e,r,n=this;Object(u.a)(this,t);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Object(E.a)(r,"inquirys",ce,Object(g.a)(r)),Object(E.a)(r,"productdata",ie,Object(g.a)(r)),r.searchInquiryByKey=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.inquirys=new st(r.uqs.rms.GetInquirySheet),r.inquirys.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.openInquiryDetail=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.uqs.rms.InquirySheet.getSheet(t);case 2:a=e.sent,n=a.data,c=n.inquiryitems,i=ut(c),n.InquiryItems=i,r.openVPage(ct,a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.openPackageDetail=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(it,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.renderProduct=function(e){return r.renderView(ot,e)},r.getProduct=function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.uqs.rms.SearchProductById.query({_id:t});case 2:return a=e.sent,r.productdata=a.ret[0],e.abrupt("return",a.ret[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.loadList=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.searchInquiryByKey("");case 2:case"end":return e.stop()}}),e)}))),r.render=Object(ue.a)((function(){return r.renderView(nt)})),r.tab=function(){return a.createElement(n.render,null)},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),ce=Object(N.a)(ne.prototype,"inquirys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=Object(N.a)(ne.prototype,"productdata",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne),ot=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).contentagency=Object(ue.a)((function(e){var t,n=r.controller.productdata;if(void 0!==n){var c=n.description,i=n.CAS;t=a.createElement("span",{className:"text-muted small"},c,"y\xa0\xa0",i)}return t})),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(e){return this.controller.getProduct(e),a.createElement(this.contentagency,{pid:e})}}]),t}(h.p);function ut(e){var t=[],r=!0,n=!1,c=void 0;try{for(var i,s=function(){var e=i.value,r=e.product,n=e.pack,c=e.quantity,s=e.radiox,l=e.radioy,o=e.unit,u={pack:n,quantity:c,radio:1!==s?a.createElement(a.Fragment,null,s," * ",l,o):a.createElement(a.Fragment,null,l,o)},m=t.find((function(e){return e.product.id===r.id}));void 0===m&&(m={product:r,packs:[]},t.push(m)),m.packs.push(u)},l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0)s()}catch(o){n=!0,c=o}finally{try{r||null==l.return||l.return()}finally{if(n)throw c}}return t}var mt,pt,dt,ft=[{name:"id",type:"id",required:!1},{name:"quantity",type:"number",required:!0},{name:"radiox",type:"number",required:!0},{name:"radioy",type:"number",required:!0},{name:"unit",type:"string",required:!0},{name:"submit",type:"submit"}],ht=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.pendingInquiryData=void 0,r.uiSchema={items:{id:{visible:!1},quantity:{widget:"text",label:"\u6570\u91cf",placeholder:"\u5fc5\u586b",defaultValue:1},radiox:{widget:"text",label:"\u5957",placeholder:"\u5fc5\u586b",defaultValue:1},radioy:{widget:"text",label:"\u5305\u88c5\u89c4\u683c",placeholder:"\u5fc5\u586b"},unit:{widget:"text",label:"\u5355\u4f4d",placeholder:"\u5fc5\u586b"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.saveNewPendingInquiryData(a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.showProductlData=function(){var e=r.controller.product,t=e.supplier,n=e.brand,c=e.description,i=e.descriptionC,s=e.CAS,l=(e.purity,t.obj.name),o=void 0===n?void 0:n.obj.name;return a.createElement("div",{className:"py-2 bg-white"},a.createElement("div",{className:"cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"credit-card"}),a.createElement("span",{className:"h6 py-2 px-1 align-middle"},a.createElement("b",null,"\u4ea7\u54c1\u4fe1\u606f"))),a.createElement("div",{className:"py-2 cat-root-sub small"},a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4f9b\u5e94\u5546:"),a.createElement("div",{className:"col-9"},l)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u54c1\u724c:"),a.createElement("div",{className:"col-9"},o)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"CAS:"),a.createElement("div",{className:"col-9"},s)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u82f1\u6587\u540d\u79f0:"),a.createElement("div",{className:"col-9"},c)),a.createElement("div",{className:"bg-white row no-gutters px-4 my-1"},a.createElement("div",{className:"col-3 text-muted"},"\u4e2d\u6587\u540d\u79f0:"),a.createElement("div",{className:"col-9"},i))))},r.page=function(){var e=O.a.clone(r.pendingInquiryData);return a.createElement(h.j,{header:"\u5f85\u8be2\u51fa",headerClassName:"bg-primary"},r.showProductlData(),a.createElement("div",{className:"App-container container text-left"},a.createElement(h.f,{ref:function(e){return r.form=e},className:"my-3",schema:ft,uiSchema:r.uiSchema,formData:e,onButtonClick:r.onFormButtonClick,fieldLabelSize:3})))},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.pendingInquiryData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),vt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderRootCategory=function(e,t){var n=e.supplier,c=e.date,i=r.controller.onShowNewPendingInquiryDetail,s=a.createElement("div",{className:"cursor-pointer text-info"},a.createElement(h.d,{date:c}));return a.createElement(h.g,{right:s,className:"px-3 py-2",onClick:function(){return i(e)}},a.createElement("div",null,Object(h.s)(n,(function(e){return a.createElement(a.Fragment,null,e.name)}))))},r.page=Object(ue.a)((function(){var e=r.controller,t=e.newpendingInquirys,n=(e.onNewPendingInquiry,e.searchNewPendingInquiryByKey),c=e.pickProduct,i=a.createElement("div",{className:"w-19c d-flex"},a.createElement(h.l,{className:"w-80",size:"sm",onSearch:function(e){return n(e)},placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u5173\u952e\u5b57"}),a.createElement("span",{onClick:function(){return c()},className:"fa-stack"},a.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),a.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),s=a.createElement("header",{className:"py-2 px-4 text-center text-white"},a.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u5f85\u8be2\u51fa"));return a.createElement(h.j,{header:s,right:i,onScrollBottom:r.onScrollBottom,headerClassName:"bg-primary"},a.createElement(h.h,{items:t,item:{render:r.renderRootCategory},none:"\u76ee\u524d\u8fd8\u6ca1\u5f85\u8be2\u51fa\u8bb0\u5f55\u54e6\uff01"}))})),r.onScrollBottom=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.newpendingInquirys.more();case 2:case"end":return e.stop()}}),e)}))),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement(this.page,null)}}]),t}(h.o),bt=[{name:"id",type:"id",required:!1},{name:"way",type:"number",required:!0},{name:"remarks",type:"number",required:!1},{name:"submit",type:"submit"}],yt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,r.suppplier=void 0,r.firstPackage=void 0,r.packages=[],r.uiSchema={items:{id:{visible:!1},way:{widget:"radio",label:"\u8be2\u4ef7\u65b9\u5f0f",list:[{value:1,title:"Email\u8be2\u4ef7"},{value:2,title:"\u7535\u8bdd\u8be2\u4ef7"},{value:3,title:"\u4f20\u771f\u8be2\u4ef7"}]},remarks:{widget:"text",label:"\u5907\u6ce8",placeholder:"\u5907\u6ce8",rows:5},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary mr-3 px-6"}}},r.onFormButtonClick=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.controller.updatePendingInquiryState(a.form.data,r.suppplier);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.getPackage=function(){return a.createElement("div",{className:"bg-white px-2 "},r.firstPackage&&a.createElement(h.h,{items:r.packages,item:{render:r.renderPackage}}))},r.renderPackage=function(e,t){var n=r.controller.deletePendingInquiryPackage,c=e.id,i=e.inquiryPackage,s=(e.user,e.createDate,e.product),l=e.quantity,o=e.radiox,u=e.radioy,m=e.unit,p=e.CAS,d=(e.purity,i.id),f=s.obj,v=f.brand,b=f.description,y=(f.descriptionC,1!==o?a.createElement(a.Fragment,null,o," * ",u,m):a.createElement(a.Fragment,null,u,m)),g=(void 0===v||v.obj.name,a.createElement("div",{className:"px-2 text-muted text-right"},a.createElement("span",{onClick:function(){return n(c,d)}},a.createElement(h.e,{className:"align-middle p-2 cursor-pointer text-danger",name:"remove"}))));return a.createElement(h.g,{right:g,className:"py-2 small"},a.createElement("div",null,a.createElement(h.e,{name:"circle",className:"px-2 text-primary"}),"CAS\uff1a",p),a.createElement("div",{className:"px-4 text-muted small"},"\u540d\u79f0\uff1a",b),a.createElement("div",{className:"px-4 text-muted small"},"\u5305\u88c5\uff1a",l," * ",y))},r.rowTop=function(e){var t=e.supplier,r=e.user,n=e.date,c=(e.remarks,r.id);return a.createElement("div",{className:"py-2 bg-white"},a.createElement("div",{className:"cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"credit-card"}),a.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u4f9b\u5e94\u5546\uff1a",a.createElement("b",null,Object(h.s)(t,(function(e){return a.createElement(a.Fragment,null,e.name)}))))),a.createElement("div",{className:"py-2 cursor-pointer"},"\xa0",a.createElement(h.e,{className:"align-middle text-warning",name:"user-circle-o"}),a.createElement("span",{className:"h6 py-2 px-2 align-middle"},"\u521b\u5efa\u4eba\uff1a",a.createElement("b",null,c))),a.createElement("div",{className:"cursor-pointer"},"\xa0",a.createElement("span",{className:"h6 py-2 px-4 align-middle"},"\u521b\u5efa\u65f6\u95f4\uff1a",a.createElement("b",null,a.createElement(h.d,{date:n})))))},r.page=function(){var e=O.a.clone(r.suppplier),t=r.controller.deletePendingInquiryData,n=a.createElement("header",{className:"py-2 text-center text-white"},a.createElement("span",{className:"h5 align-middle"},"\u8be2\u4ef7\u8be6\u60c5")),c=a.createElement("div",{className:"w-19c d-flex"},a.createElement("span",{onClick:function(){return t(e)},className:"fa-stack"},a.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),a.createElement("i",{className:"fa fa-remove fa-stack-1x text-danger"})));return a.createElement(h.j,{header:n,right:c,headerClassName:"bg-primary"},r.rowTop(e),a.createElement(h.f,{ref:function(e){return r.form=e},className:"m-3",schema:bt,uiSchema:r.uiSchema,formData:e,onButtonClick:r.onFormButtonClick,fieldLabelSize:3}),r.getPackage())},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"open",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.parent,a=t.item,n=t.child,this.suppplier=r,this.firstPackage=a,this.packages=n,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(h.o),gt=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(p.a)(this,Object(d.a)(t).call(this))).searchNewPendingInquiry=void 0,r.firstSize=r.pageSize=14,r.searchNewPendingInquiry=e,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"load",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,this.searchNewPendingInquiry.page(t,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(h.k),wt=(mt=function(e){function t(){var e,r,n=this;Object(u.a)(this,t);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Object(E.a)(r,"newpendingInquirys",pt,Object(g.a)(r)),Object(E.a)(r,"newpendingInquiryList",dt,Object(g.a)(r)),r.product=void 0,r.searchNewPendingInquiryByKey=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.newpendingInquirys=new gt(r.uqs.rms.SearchNewInquiryPending),r.newpendingInquirys.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onNewPendingInquiry=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.product=t,r.openVPage(ht,{pendingInquiry:void 0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.pickProduct=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cApp.cPickProduct.call();case 2:e.sent;case 3:case"end":return e.stop()}}),e)}))),r.saveNewPendingInquiryData=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c,i,s,o,u,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=8;break}if(!r.product){e.next=8;break}return a=r.product,n=a.id,c=a.supplier,i=c.id,s=t.quantity,o=t.radiox,u=t.radioy,m=t.unit,p={supplier:i,product:n,quantity:s,radiox:o,radioy:u,unit:m,remarks:void 0},e.next=8,r.uqs.rms.AddInquiryPending.submit(p);case 8:return r.closePage(),e.next=11,r.loadList();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.deletePendingInquiryData=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n={id:a},e.next=4,r.uqs.rms.DeleteInquiryPending.submit(n);case 4:return r.closePage(),e.next=7,r.loadList();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.deletePendingInquiryPackage=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t,pid:a},e.next=3,r.uqs.rms.DeleteInquiryPackage.submit(n);case 3:return r.closePage(),e.next=6,r.loadList();case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.updatePendingInquiryState=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.id,c=a.supplier,i={id:n,supplier:c,way:t.way,remarks:t.remarks},e.next=4,r.uqs.rms.UpdateInquiryPending.submit(i);case 4:return r.closePage(),e.next=7,r.loadList();case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.onShowNewPendingInquiryDetail=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,r.uqs.rms.SearchInquiryPendingBySupplier.query({_id:a});case 3:n=e.sent,c={parent:t,item:n.ret[0],child:n.ret},r.openVPage(yt,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.loadList=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.searchNewPendingInquiryByKey("");case 2:case"end":return e.stop()}}),e)}))),r.render=Object(ue.a)((function(){return r.renderView(vt)})),r.tab=function(){return a.createElement(n.render,null)},r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchNewPendingInquiryByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y),pt=Object(N.a)(mt.prototype,"newpendingInquirys",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=Object(N.a)(mt.prototype,"newpendingInquiryList",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt),xt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).topKey=void 0,r.cHome=void 0,r.cSupplier=void 0,r.cPickSupplier=void 0,r.cSupplierContact=void 0,r.cProduct=void 0,r.cPickProduct=void 0,r.cChemical=void 0,r.cBrand=void 0,r.cPackage=void 0,r.cPendingInquiry=void 0,r.cInquiry=void 0,r.cCurrency=void 0,r.cNewPendingInquiry=void 0,r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"newC",value:function(e){return new e(this)}},{key:"internalStart",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cHome=this.newC(x),this.cSupplier=this.newC(ve),this.cPickSupplier=this.newC(Ie),this.cProduct=this.newC(Ve),this.cPickProduct=this.newC(Je),this.cChemical=this.newC(Ke),this.cBrand=this.newC(ze),this.cPackage=this.newC(Me),this.cSupplierContact=this.newC(we),this.cPendingInquiry=this.newC(at),this.cInquiry=this.newC(lt),this.cCurrency=this.newC(Ze),this.cNewPendingInquiry=this.newC(wt),(t=[]).push(this.cSupplier.start()),e.next=17,Promise.all(t);case 17:this.showMain(),this.topKey=h.q.topKey();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showMain",value:function(e){this.openVPage(b,e)}},{key:"loginCallBack",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"uqs",get:function(){return this._uqs}}]),t}(h.a),Et=function(e){return a.createElement(a.Fragment,null," ",e.chineseName," ")},Nt={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/rms",version:"1.0.1",tvs:{common:{address:function(e){var t=e.country,r=e.province,n=e.city,c=e.county;return a.createElement(a.Fragment,null,Object(h.s)(t),Object(h.s)(r,void 0,void 0,(function(){return a.createElement(a.Fragment,null)})),Object(h.s)(n,void 0,void 0,(function(){return a.createElement(a.Fragment,null)})),Object(h.s)(c,void 0,void 0,(function(){return a.createElement(a.Fragment,null)})))},country:Et,province:Et,city:Et,county:Et,currency:function(e){return a.createElement(a.Fragment,null," ",e.name," ")}}},oem:"\u767e\u7075\u5a01"};h.q.setSettings(Nt);var jt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).onLogined=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.r)(xt,Nt);case 2:case"end":return e.stop()}}),e)}))),r}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return a.createElement(h.i,{onLogined:this.onLogined})}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(jt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.c131c1d2.chunk.js.map