{"version":3,"sources":["CBase.ts","ui/main.tsx","information/VHome.tsx","information/CHome.tsx","tools/inputValidations.ts","information/supplier/VSupplier.tsx","information/supplier/VSupplierBankAccount.tsx","information/supplier/VSupplierBankAccountDetail.tsx","information/supplier/VSupplierList.tsx","information/employee/VPickEmployee.tsx","information/employee/CEmployee.tsx","information/supplier/VSupplierDetail.tsx","information/supplierContact/VAddress.tsx","information/supplierContact/CAddress.tsx","information/supplier/CSupplier.tsx","information/supplierContact/VSupplierContact.tsx","information/supplierContact/VSupplierContactDetail.tsx","information/supplierContact/CSupplierContact.tsx","information/product/VAddProduct.tsx","information/product/VProductDetail.tsx","information/product/VProductList.tsx","information/supplier/VPickSupplier.tsx","information/supplier/CPickSupplier.tsx","information/product/VBrand.tsx","information/product/VPickBrand.tsx","information/product/CBrand.tsx","information/product/VStorageRange.tsx","information/product/CStorageRange.tsx","information/product/VRestrictMark.tsx","information/product/CRestrictMark.tsx","information/product/VProductProperty.tsx","information/product/VProductPropertyDetail.tsx","information/product/CProduct.tsx","information/product/VChemical.tsx","information/product/VAddChemical.tsx","tools/webApiClient.ts","information/product/CChemical.tsx","information/package/VPackage.tsx","information/package/VPackageDetail.tsx","information/package/VVatRate.tsx","information/package/CVatRate.tsx","information/package/VPackUnit.tsx","information/package/CPackUnit.tsx","information/package/CPackage.tsx","information/product/VPickProduct.tsx","information/product/CPickProduct.tsx","information/PendingInquiry/VPendingInquiryList.tsx","information/PendingInquiry/VPendingInquiryDetail.tsx","information/PendingInquiry/VCurrency.tsx","information/PendingInquiry/CCurrency.tsx","information/PendingInquiry/VPendingInquiryResult.tsx","information/PendingInquiry/VNotProvidedReason.tsx","information/PendingInquiry/CNotProvidedReason.tsx","information/PendingInquiry/VPendingPackageDetail.tsx","information/PendingInquiry/CPendingInquiry.tsx","information/Inquiry/VInquiryList.tsx","information/Inquiry/VInquiryDetail.tsx","information/Inquiry/VPackageDetail.tsx","information/Inquiry/CInquiry.tsx","information/newPendingInquiry/VNewPendingInquiry.tsx","information/newPendingInquiry/VPendingInquiry.tsx","information/newPendingInquiry/VNewPendingInquiryList.tsx","information/newPendingInquiry/VNewPendingInquiryDetail.tsx","information/newPendingInquiry/CNewPendingInquiry.tsx","CApp.tsx","tvs/common.tsx","configuration.ts","tvs/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["CUqBase","this","_cApp","_uqs","CBase","CUqApp","CSub","type","c","init","CAppBase","color","selected","VMain","render","param","controller","cHome","cProduct","cPendingInquiry","cInquiry","cNewPendingInquiry","faceTabs","name","label","icon","content","tab","notify","undefined","onShown","loadList","map","v","caption","TabCaptionComponent","header","tabs","openPage","VPage","VHome","page","cApp","cSupplier","onNewSupplier","searchSupplierByKey","right","className","size","onSearch","key","placeholder","onClick","style","fontSize","onScrollBottom","headerClassName","toSupplierList","a","suppliers","more","View","CHome","renderRootList","renderView","start","telephoneValidation","value","test","mobileValidation","emailValidation","faxValidation","addressDetailValidation","length","zipCodeValidation","departmentNameValidation","nameValidation","tariffRateValidation","schema","required","VSupplier","form","supplierData","uiSchema","items","id","visible","widget","abbreviation","businessArea","list","title","webSite","address","pickId","context","pickAddress","Templet","tv","addressValue","country","province","city","county","chineseName","addressString","rules","productionAddress","principal","pickEmployee","item","taxNo","profile","rows","submit","onFormButtonClick","saveSupplierData","data","onDelSupplier","vCall","VConfirmDeleteSupplier","delSupplier","closePage","buttonDel","descriptionData","_","clone","ref","formData","onButtonClick","fieldLabelSize","onConfirm","returnCall","onCancel","supplier","back","left","top","VSupplierBankAccount","accountName","accountNo","bank","bankAddress","usageType","bankSWIFT","bankIBAN","bankRTN","saveSupplierBankData","VSupplierBankAccountDetail","bankAccount","bankData","loadBank","uqs","rms","BankAccount","load","rowTop","onBankDataChanged","itemSchema","newValue","preValue","updateBankAccountData","onShowSupplierBankAccount","onDelSupplierBankAccount","VConfirmDeleteSupplierBankAccount","delSupplierBankAccount","onSupplierSelected","onItemChanged","parent","supplierBankAccount","VSupplierList","renderRootCategory","no","onEditSupplier","observer","VPickEmployee","pageEmployee","searchEmployeeByKey","renderItem","model","returnEmployee","index","PageEmployee","searchQuery","searchEmployeeQuery","firstSize","pageSize","pageStart","ret","PageItems","CEmployee","hr","SearchEmployee","first","openVPage","observable","VSupplierDetail","firstSupplierContact","supplierContacts","firstSupplierrBankAccount","supplierBankAccounts","getSupplierBankAccount","cSupplierContact","showCreateSupplierContact","onNewSupplierBankAccount","renderBankAccount","getSupplierContact","pickChemical","renderContact","showEditSupplierContact","gender","mobile","telephone","email","defaultContact","financeContact","inquiryContact","fa_defaultContact","fa_financeContact","fa_inquiryContact","fa_gender","tele","mob","ema","onSupplierDataChanged","updateSupplierData","supprincipal","principalname","obj","child","item2","child2","VAddress","countryId","provinceId","cityId","countyId","backLevel","countrys","renderPCC","onCountryClick","pcc","border","marginRight","marginBottom","getCountryProvince","provinces","len","onProvinceClick","openPageElement","saveAddress","getProvinceCities","cities","onCityClick","getCityCounties","counties","onCountyClick","getCountry","CAddress","common","Country","search","GetCountryProvinces","table","GetProvinceCities","GetCityCounties","Address","save","newAddress","addressId","boxId","PageSupplier","searchSupplier","CSupplier","SearchSupplier","cAddress","newC","call","cChemical","cEmployee","isValid","Supplier","oldprincipal","SupplierHandler","del","arr1","add","newBank","SupplierBankAccount","description","principals","SearchSupplierContact","query","_id","contact","SearchSupplierBankAccount","bankdata","VSupplierContact","firstName","lastName","salutation","position","departmentName","wechatId","fax","zipCode","isDefault","defaultValue","isFinance","isInquiry","saveSupplierContact","onDelSupplierContact","VConfirmDeleteContact","delSupplierContact","requiredFlag","VSupplierContactDetail","contactData","loadContact","SupplierContact","onContactDataChanged","updateContactData","showSupplierContactDetail","CSupplierContact","parrm","result","SupplierFinanceContact","inquiryid","showSupplierContact","supplierContact","VAddProduct","productData","pickSupplier","brand","pickBrand","origin","chemical","descriptionC","purity","chinaHSCode","saveProductData","showChemicalData","CAS","molecularFomula","descriptoinCN","molecularWeight","mdlNumber","originschema","VProductDetail","product","firstPackage","packages","purityData","restrictMarks","loadProduct","restrictMark","pickRestrictMark","uiOriginSchema","getPackage","showCreatePackage","cPackage","onNewPendingInquiry","showd","renderPackage","onDelPackage","VConfirmDeletePakage","delPakage","showPackageDetail","showEditPackage","radiox","radioy","unit","price","currency","validUpto","minArriveDate","maxArriveDate","remark","radio","valid","Date","now","date","down","mi","arriveDate","showremark","toString","slice","createTime","suppliername","supplierno","brandno","onPurityChanged","showProductPropertyDetail","updateProductData","showProductDetail","onDelProduct","VConfirmDeleteProduct","delProduct","pakage","VProductList","pickType","showcas","showpurity","pickSelect","VSelectType","products","searchProductByKey","onNewProduct","filter","VPickSupplier","returnSupplier","CPickSupplier","VBrand","brandData","saveBrandData","VPickBrand","brands","searchBrandByKey","onNewBrand","returnBrand","PageBrand","searchBrand","CBrand","SearchBrand","RsBrand","onEditBrand","VStorageRange","storageRanges","renderStorageRange","onStorageRangeClick","storageRange","returnStorageRange","CStorageRange","StorageRange","VRestrictMark","restrictMarkResult","restrictMarkList","oldresult","onReturn","showhead","renderRestrictMark","onRestrictMarkClick","saveProductRestrictMark","find","e","push","CRestrictMark","returnRestrictMark","models","olditem","ProductRestrictMark","RestrictMark","VProductProperty","isspot","pickStorageRange","expiry","expiryUnit","refractiveIndex","opticalRotation","flashPoint","meltingPoint","boilingPoint","character","chroma","density","waterContent","useFor","saveProductProperty","VProductPropertyDetail","property","propertyData","onPropertyDataChanged","updatProductPropertyData","PageProduct","searchProduct","CProduct","SearchProduct","cPickSupplier","cBrand","cStorageRange","cRestrictMark","oldorigin","isTrue","newCAS","trim","SearchProductByOrigin","Product","RsProductChemical","productdata","ProductProperty","propertydata","GetPack","pitem","res","SearchProductProperty","ppackage","saveArr","VChemical","chemicals","searchChemicalByKey","onNewChemical","VAddChemical","chemicalData","saveChemicalData","httpClient","EnglishName","ChineseName","MolecularFomula","MolecularWeight","getUrl","url","fetchInit","headers","method","fetch","status","console","error","statusText","code","json","ok","log","params","keys","Object","k","encodeURIComponent","PageChemical","searchChemical","CChemical","replace","SearchChemical","newChemical","Chemical","VPackage","quantity","pickPackUnit","listPrice","pickCurrency","isTaxIn","invoiceType","vatRate","pickVatRate","tariffRate","isTransFeeIn","transFee","transFeecurrency","packingFee","packingcurrency","otherFee","otherFeecurrency","customizeUpto","savePackage","VPackageDetail","package","packageData","VVatRate","vatRates","renderVatRate","onVatRateClick","returnVatRate","CVatRate","SearchVatRate","VPackUnit","packUnits","renderPackUnit","onPackUnitClick","packUnit","returnPackUnit","CPackUnit","SearchPackType","PagePackage","searchPackage","CPackage","searchPackageByKey","pagePackage","cVatRate","cPackUnit","paramn","AddPackage","showPackage","VPickProduct","CPickProduct","VPendingInquiryList","inquiryDate","onShowPendingInquiryDetail","pendingInquirys","searchPendingInquiryByKey","VPendingInquiryDetail","pending","inquiryPackage","user","createDate","inquiryRemarks","jsonStr","packresult","JSON","parse","resultclass","isUsed","openPackageDetail","openPendingInquiryResult","rowEnd","onEndInquiry","VConfirmEndInquiry","saveInquiryData","suppplierData","contactName","contactTelephone","contactSalutation","contactDepartmentName","contactMobile","contactEmail","way","contactfax","inquiryUser","remarks","inid","inquiry","VCurrency","currencys","renderCurrency","onCurrencyClick","returnCurrency","CCurrency","Currency","VPendingInquiryResult","inquiryData","saveTip","notProvidedReason","pickNotProvidedReason","packType","row","coaFilePath","msdsFilePath","quotationFilePath","VConfirmUpdatePackage","saveInquiryPackage","showTip","setTimeout","getResult","forEach","onResultClick","event","currentTarget","tipUI","role","onChange","checked","htmlFor","VNotProvidedReason","notProvidedReasons","renderNotProvidedReason","onNotProvidedReasonClick","returnNotProvidedReason","CNotProvidedReason","NotProvidedReason","VPendingPackageDetail","PagePendingInquiry","searchPendingInquiry","CPendingInquiry","SearchInquiryPending","cNotProvidedReason","savePendingInquiryData","supplierid","AddInquiryPending","getDataForSave","inquiryItems","pk","pack","inquiryQuantity","inquiryRadiox","inquiryRadioy","inquiryUnit","itemuser","itemcreateDate","inquirypurity","packageList","AddInquiryResult","jsonstr","InquiryPendingItem","inquiryPending","stringify","rremarks","AddPackagePrice","SearchInquiryPendingByID","inquirypending","SearchInquiryPendingBySupplier","cCurrency","newinquiryPending","newinquiryPackage","newjsonStr","VInquiryList","startDate","sheet","openInquiryDetail","inquirys","searchInquiryByKey","VInquiryDetail","renderPackageItem","renderProductItem","packs","renderProduct","brief","state","InquiryItems","inquiryname","packitem","PageInquiry","searchInquiry","CInquiry","GetInquirySheet","InquirySheet","getSheet","inquiryitems","inquiryItemssGrouped","groupByPack","VProductView","getProduct","pid","SearchProductById","contentagency","LocationUI","pro","packItems","iresult","packItem","packRow","cpi","VNewPendingInquiry","pendingInquiryData","saveNewPendingInquiryData","showProductlData","brandname","VPendingInquiry","updatePendingInquiryState","VNewPendingInquiryList","onShowNewPendingInquiryDetail","newpendingInquirys","searchNewPendingInquiryByKey","pickProduct","VNewPendingInquiryDetail","suppplier","onDelInquiryPackage","onEditPendingInquiry","cont","onPendingInquiry","onDelInquiry","VConfirmDeleteInquiry","deletePendingInquiryData","VConfirmDeleteInquiryPackage","packid","deletePendingInquiryPackage","NewPagePendingInquiry","searchNewPendingInquiry","CNewPendingInquiry","SearchNewInquiryPending","cPickProduct","InquiryPackage","DeleteInquiryPending","pendingid","DeleteInquiryPackage","UpdateInquiryPending","CApp","topKey","promises","Promise","all","showMain","nav","initTabName","tvCountry","values","appConfig","appName","version","tvs","oem","setSettings","App","onLogined","React","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2a01aefd.chunk.js","sourcesContent":["import { CSub, CBase, CAppBase, IConstructor } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CApp } from \"./CApp\";\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n}\r\n\r\nexport abstract class CUqSub<T extends CUqBase> extends CSub<T> {\r\n    get cApp(): CApp { return this.cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): T { return this._owner as T }\r\n}\r\n\r\nexport abstract class CUqApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs };\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        let c = new type(this);\r\n        c.init();\r\n        return c;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\r\nimport { CApp } from '../CApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\n\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    render = (param?: any): JSX.Element => {\r\n        let { cHome, cProduct, cPendingInquiry, cInquiry, cNewPendingInquiry } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'supplier', label: '供应商', icon: 'glide', content: cHome.tab, notify: undefined },\r\n            { name: 'product', label: '产品', icon: 'flask', content: cProduct.tab, onShown: cProduct.loadList },\r\n            { name: 'pendingInquiry', label: '待询出', icon: 'pencil-square-o', content: cNewPendingInquiry.tab, onShown: cNewPendingInquiry.loadList },\r\n            { name: 'inquirying', label: '已询出', icon: 'check-square-o ', content: cPendingInquiry.tab, onShown: cPendingInquiry.loadList },\r\n            { name: 'inquiry', label: '询价单', icon: 'bandcamp', content: cInquiry.tab, onShown: cInquiry.loadList }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify, onShown } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n                onShown: onShown,\r\n            }\r\n        });\r\n        return <Page header={false}>\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { CHome } from './CHome';\r\nimport { Page, View, SearchBox } from 'tonva';\r\n\r\nexport class VHome extends View<CHome> {\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = () => {\r\n        let { onNewSupplier, searchSupplierByKey } = this.controller.cApp.cSupplier;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n            <div><span onClick={() => onNewSupplier()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >供应商</div>\r\n        </header>;\r\n        return <Page right={right} header={header} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <this.content />\r\n        </Page>;\r\n    };\r\n\r\n    private content = () => {\r\n        let { controller } = this;\r\n        let { toSupplierList } = controller;\r\n        return <>\r\n            {toSupplierList()}\r\n        </>\r\n    };\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.cApp.cSupplier.suppliers.more();\r\n    }\r\n}","import { CUqBase } from '../CBase';\r\nimport { VHome } from './VHome';\r\n\r\nexport class CHome extends CUqBase {\r\n\r\n    async internalStart(param: any) {\r\n\r\n        let { cSupplier } = this.cApp;\r\n        await cSupplier.start();\r\n        // this.openVPage(VHome);\r\n    }\r\n\r\n    toSupplierList = () => {\r\n        let { cSupplier } = this.cApp;\r\n        return cSupplier.renderRootList();\r\n    }\r\n    tab = () => this.renderView(VHome);\r\n}","\r\nexport function telephoneValidation(value: string) {\r\n    if (value && !/^(\\+\\d{1,3}-)?(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}(-\\d{3,5})?$/.test(value))\r\n        return \"固定电话格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function mobileValidation(value: string) {\r\n    if (value && !/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(value))\r\n        return \"手机号格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function emailValidation(value: string) {\r\n    if (value && !/\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(value))\r\n        return \"Email格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function faxValidation(value: string) {\r\n    if (value && !/^(\\+\\d{1,3}-)?(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}(-\\d{3,5})?$/.test(value))\r\n        return \"传真号码格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function addressDetailValidation(value: string) {\r\n    return (value && value.length > 200) ? \"详细地址最多200个字！\" : undefined;\r\n}\r\n\r\nexport function zipCodeValidation(value: string) {\r\n    return (value && value.length > 15) ? \"邮编过长，请修改后录入！\" : undefined;\r\n}\r\n\r\n\r\nexport function organizationNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function departmentNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"部门名称名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function salutationValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function nameValidation(value: string) {\r\n    return (value && value.length > 50) ? \"姓名最多50个字！\" : undefined;\r\n}\r\n\r\nexport function tariffRateValidation(value: string) {\r\n    if (value && !/^\\d+(\\.\\d{1,4})$/.test(value))\r\n        return \"关税最多小数点后4位，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, BoxId, tv, UiIdItem, UiTextItem, UiRadio } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'abbreviation', type: 'string', required: false },\r\n    { name: 'businessArea', type: 'string', required: true },\r\n    { name: 'webSite', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: true },\r\n    { name: 'addressString', type: 'string', required: true },\r\n    { name: 'productionAddress', type: 'string', required: false },\r\n    { name: 'principal', type: 'id', required: false },\r\n    { name: 'taxNo', type: 'string', required: false },\r\n    { name: 'profile', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VSupplier extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            name: { widget: 'text', label: '供应商名称', placeholder: '必填' } as UiInputItem,\r\n            abbreviation: { widget: 'text', label: '供应商简称', placeholder: '供应商简称' } as UiInputItem,\r\n            businessArea: { widget: 'radio', label: '业务区域', list: [{ value: '内贸', title: '内贸' }, { value: '外贸', title: '外贸' }] } as UiRadio,\r\n            webSite: { widget: 'text', label: '网址', placeholder: '网址' } as UiInputItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', placeholder: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            productionAddress: { widget: 'text', label: '生产厂址', placeholder: '生产厂址', rules: addressDetailValidation } as UiTextItem,\r\n            principal: {\r\n                widget: 'id', label: '采购负责人', placeholder: '采购负责人',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickEmployee(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择采购负责人</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            taxNo: { widget: 'text', label: '税号', placeholder: '税号' } as UiInputItem,\r\n            profile: { widget: 'textarea', label: '企业简介', placeholder: '企业简介', rows: 10 } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierData(context.form.data, this.supplierData);\r\n    }\r\n\r\n    private onDelSupplier = async () => {\r\n        if (await this.vCall(VConfirmDeleteSupplier, this.supplierData) === true) {\r\n            await this.controller.delSupplier(this.supplierData);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        let buttonDel: any;\r\n        if (descriptionData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplier()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"编辑供应商\" right={buttonDel} headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n\r\n\r\nclass VConfirmDeleteSupplier extends VPage<CSupplier> {\r\n    async open(supplier: any) {\r\n        this.openPage(this.page, supplier);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (supplier: any) => {\r\n        return <Page header=\"删除供应商\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该供应商？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除供应商</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, BoxId, tv, UiIdItem, UiTextItem, UiRadio } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'accountName', type: 'string', required: true },\r\n    { name: 'accountNo', type: 'string', required: true },\r\n    { name: 'bank', type: 'string', required: true },\r\n    { name: 'bankAddress', type: 'string', required: true },\r\n    { name: 'usageType', type: 'number', required: true },\r\n    { name: 'bankSWIFT', type: 'string', required: false },\r\n    { name: 'bankIBAN', type: 'string', required: false },\r\n    { name: 'bankRTN', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VSupplierBankAccount extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            accountName: { widget: 'text', label: '受益人', placeholder: '受益人' } as UiInputItem,\r\n            accountNo: { widget: 'text', label: '账号', placeholder: '开户银行帐号' } as UiInputItem,\r\n            bank: { widget: 'text', label: '开户行', placeholder: '开户行' } as UiInputItem,\r\n            bankAddress: { widget: 'text', label: '银行地址', placeholder: '银行地址' } as UiInputItem,\r\n            usageType: { widget: 'radio', label: '用途', list: [{ value: 0, title: '开户行' }, { value: 1, title: '中转行' }] } as UiRadio,\r\n            bankSWIFT: { widget: 'text', label: 'SWIFT/BIC', placeholder: '开户行SWIFT/BIC' } as UiInputItem,\r\n            bankIBAN: { widget: 'text', label: 'IBAN', placeholder: '开户行IBAN' } as UiInputItem,\r\n            bankRTN: { widget: 'text', label: 'RTN ', placeholder: '开户行的RTN ' } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierBankData(context.form.data, this.supplierData);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        return <Page header=\"编辑银行信息\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem, UiRadio, BoxId } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CSupplier } from './CSupplier';\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'accountName', type: 'string', required: true },\r\n    { name: 'accountNo', type: 'string', required: true },\r\n    { name: 'bank', type: 'string', required: true },\r\n    { name: 'bankAddress', type: 'string', required: true },\r\n    { name: 'usageType', type: 'number', required: true },\r\n    { name: 'bankSWIFT', type: 'string', required: false },\r\n    { name: 'bankIBAN', type: 'string', required: false },\r\n    { name: 'bankRTN', type: 'string', required: false },\r\n];\r\n\r\n\r\nexport class VSupplierBankAccountDetail extends VPage<CSupplier> {\r\n    private supplier: any;\r\n    private bankAccount: any;\r\n    private bankData: any;\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item } = param;\r\n        this.supplier = parent;\r\n        await this.loadBank(item);\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private loadBank = async (item: any) => {\r\n        this.bankAccount = await this.controller.cApp.uqs.rms.BankAccount.load(item.id);\r\n        let { bankAddress, bankSWIFT, bankIBAN, bankRTN, bank, accountNo, accountName, usageType } = this.bankAccount;\r\n        this.bankData = {\r\n            bankAddress: bankAddress,\r\n            bankSWIFT: bankSWIFT,\r\n            bankIBAN: bankIBAN,\r\n            bankRTN: bankRTN,\r\n            bank: bank,\r\n            accountNo: accountNo,\r\n            accountName: accountName,\r\n            usageType: usageType\r\n        };\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            accountName: { widget: 'text', label: '受益人', placeholder: '受益人' } as UiInputItem,\r\n            accountNo: { widget: 'text', label: '账号', placeholder: '开户银行帐号' } as UiInputItem,\r\n            bank: { widget: 'text', label: '开户行', placeholder: '开户银行' } as UiInputItem,\r\n            bankAddress: { widget: 'text', label: '银行地址', placeholder: '银行地址' } as UiInputItem,\r\n            usageType: { widget: 'radio', label: '用途', list: [{ value: 0, title: '开户行' }, { value: 1, title: '中转行' }] } as UiRadio,\r\n            bankSWIFT: { widget: 'text', label: 'SWIFT/BIC', placeholder: '开户行SWIFT/BIC' } as UiInputItem,\r\n            bankIBAN: { widget: 'text', label: 'IBAN', placeholder: '开户行IBAN' } as UiInputItem,\r\n            bankRTN: { widget: 'text', label: 'RTN ', placeholder: '开户行的RTN ' } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private rowTop = () => {\r\n\r\n        let { name } = this.supplier;\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">供应商:</div><div className=\"col-8 text-muted text-right\"><b>{name}</b></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onBankDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.bankAccount[name] = newValue;\r\n        await this.controller.updateBankAccountData(this.bankAccount);\r\n        this.closePage();\r\n        this.controller.cApp.cSupplier.onShowSupplierBankAccount(this.supplier, this.bankAccount);\r\n    }\r\n\r\n    private onDelSupplierBankAccount = async () => {\r\n        if (await this.vCall(VConfirmDeleteSupplierBankAccount, this.bankAccount) === true) {\r\n            await this.controller.delSupplierBankAccount(this.bankAccount, this.supplier);\r\n            this.closePage();\r\n            this.controller.onSupplierSelected(this.supplier);\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let bankAccountData = _.clone(this.bankAccount);\r\n        let buttonDel: any;\r\n        if (bankAccountData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplierBankAccount()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"银行信息\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop()}\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.bankData}\r\n                onItemChanged={this.onBankDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteSupplierBankAccount extends VPage<CSupplier> {\r\n    async open(supplierBankAccount: any) {\r\n        this.openPage(this.page, supplierBankAccount);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (supplierBankAccount: any) => {\r\n        return <Page header=\"删除银行信息\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该银行信息？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除银行信息</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, tv } from 'tonva';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nexport class VSupplierList extends View<CSupplier> {\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, name, address, businessArea, addressString } = item;\r\n        let { onSupplierSelected, onEditSupplier } = this.controller;\r\n        let right = <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditSupplier(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        return <LMR right={right} className=\"px-3 d-flex p-1 cursor-pointer\">\r\n            <div onClick={() => onSupplierSelected(item)}>\r\n                <b>{name}</b>\r\n                <div>{businessArea} {no}</div>\r\n                <div className=\"small py-1 text-muted\">{tv(address)} {addressString}</div>\r\n            </div>\r\n        </LMR>\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.content />\r\n    }\r\n\r\n    private content = observer(() => {\r\n        let { suppliers } = this.controller;\r\n        return <List items={suppliers} item={{ render: this.renderRootCategory }} />;\r\n    });\r\n} \r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CEmployee } from './CEmployee';\r\n\r\n\r\nexport class VPickEmployee extends VPage<CEmployee> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pageEmployee, searchEmployeeByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchEmployeeByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n        </div>;\r\n\r\n        return <Page header=\"选择负责人\" right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={pageEmployee} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageEmployee.more();\r\n    }\r\n\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnEmployee(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { name } = item;\r\n        return <LMR className=\"px-3 py-2 border\" left={name}>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { CUqBase } from 'CBase';\r\nimport { PageItems, Query } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPickEmployee } from './VPickEmployee';\r\n\r\n// 员工\r\nclass PageEmployee extends PageItems<any> {\r\n    private searchEmployeeQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchEmployeeQuery = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchEmployeeQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CEmployee extends CUqBase {\r\n    @observable pageEmployee: PageEmployee;\r\n\r\n    protected async internalStart() {\r\n        await this.searchEmployeeByKey(\"\");\r\n        this.openVPage(VPickEmployee);\r\n    }\r\n\r\n    searchEmployeeByKey = async (key: string) => {\r\n        this.pageEmployee = new PageEmployee(this.uqs.hr.SearchEmployee);\r\n        this.pageEmployee.first({ key: key });\r\n    }\r\n\r\n    returnEmployee = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, Edit, EasyDate, tv, LMR, List, UiIdItem, UiTextItem, ItemSchema, UiSchema, UiInputItem, Form, Context, BoxId } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from \"./CSupplier\";\r\nimport { ParamItem } from \"model/supplierItem\";\r\nimport { TuidBoxDiv } from 'tonva/dist/uq/tuid/tuid';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nexport class VSupplierDetail extends VPage<CSupplier> {\r\n\r\n    private supplier: any;\r\n    private firstSupplierContact: any;\r\n    private supplierContacts: any[] = [];\r\n    private firstSupplierrBankAccount: any;\r\n    private supplierBankAccounts: any[] = [];\r\n\r\n    async open(param: ParamItem) {\r\n        let { parent, item, child, item2, child2 } = param;\r\n        this.supplier = parent;\r\n        this.firstSupplierContact = item;\r\n        this.supplierContacts = child;\r\n        this.firstSupplierrBankAccount = item2;\r\n        this.supplierBankAccounts = child2;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getSupplierBankAccount = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.controller.onNewSupplierBankAccount(this.supplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"bank\" /><b>银&nbsp;行</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n            <div>\r\n                {this.firstSupplierrBankAccount && <List items={this.supplierBankAccounts} item={{ render: this.renderBankAccount }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private getSupplierContact = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div>\r\n            <div className=\" d-flex px-3 py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => showCreateSupplierContact(this.supplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b>联系人</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n                <div className=\"flex-grow-1\"></div>\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.controller.pickChemical(this.supplier)} >\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"filter\" /><b>产&nbsp;品</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </ button>\r\n            </div>\r\n            <div>\r\n                {this.firstSupplierContact && <List items={this.supplierContacts} item={{ render: this.renderContact }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private renderBankAccount = (item: any, index: number) => {\r\n        let { onShowSupplierBankAccount } = this.controller;\r\n        let { bankAddress, bankSWIFT, bankIBAN, bankRTN, bank, accountNo, accountName, usageType } = item;\r\n        let left = <div className=\"px-2\">\r\n            <FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{accountName}\r\n            <div className=\"small px-4 text-muted\">{accountNo}</div>\r\n            <div className=\"small px-4 text-muted\">{bankAddress}</div>\r\n        </div>\r\n        let right =\r\n            <div className=\"px-2 text-right text-muted\">\r\n                {usageType === 0 ? \"开户行\" : \"中转行\"}\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => onShowSupplierBankAccount(this.supplier, item)}>\r\n        </LMR>;\r\n    }\r\n\r\n    private renderContact = (item: any, index: number) => {\r\n        let { showEditSupplierContact } = this.controller.cApp.cSupplierContact;\r\n        let { no, name, id, gender, mobile, telephone, email, defaultContact, financeContact, inquiryContact } = item;\r\n        let fa_defaultContact = defaultContact === 1 ? <div className=\"small text-muted\">订单负责人</div> : \"\";\r\n        let fa_financeContact = financeContact === 1 ? <div className=\"small text-muted\">财务负责人</div> : \"\";\r\n        let fa_inquiryContact = inquiryContact === 1 ? <div className=\"small text-muted\">询价负责人</div> : \"\";\r\n        let fa_gender = gender === \"0\" ? <FA name=\"female\" className=\"px-2 text-danger\"></FA> : <FA name=\"male\" className=\"px-2 text-primary\"></FA>;\r\n        let tele = (telephone === undefined) ? <span></span> :\r\n            <div className=\"small px-4 text-muted\">{telephone}</div>;\r\n        let mob = (mobile === undefined) ? <span></span> :\r\n            <div className=\"small px-4 text-muted\">{mobile}</div>;\r\n\r\n        let ema = (email === undefined) ? <span></span> :\r\n            <div className=\"small px-4 text-muted\">{email}</div>;\r\n\r\n        let left = <div className=\"px-2\">\r\n            {fa_gender}{name}\r\n            {ema}\r\n            {tele}\r\n            {mob}\r\n        </div>\r\n        let right =\r\n            <div className=\"px-2 text-right\">\r\n                {fa_defaultContact}\r\n                {fa_financeContact}\r\n                {fa_inquiryContact}\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => showEditSupplierContact(item, this.supplier)}>\r\n        </LMR>;\r\n    }\r\n\r\n    private onSupplierDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.supplier[name] = newValue;\r\n        await this.controller.updateSupplierData(this.supplier);\r\n    }\r\n\r\n    private rowTop = (supplierData: any) => {\r\n        let { name, no, abbreviation, businessArea, webSite, address, addressString, productionAddress, principal, taxNo } = supplierData;\r\n        let supprincipal = principal === undefined ? undefined : principal.principal;\r\n        let principalname = supprincipal === undefined ? undefined : supprincipal.obj.name;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">编号:</div><div className=\"col-9 text-muted\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">名称:</div><div className=\"col-9\"><b>{businessArea} {name}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">网址:</div><div className=\"col-9 text-muted\">{webSite === undefined ? \"(无)\" : webSite}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">负责人:</div><div className=\"col-9 text-muted\">{principalname === undefined ? \"(无)\" : principalname}</div>\r\n            </div>\r\n            {taxNo === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">税号:</div><div className=\"col-9 text-muted\">{taxNo}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">地址:</div><div className=\"col-9 text-muted\">{tv(address)} {addressString}</div>\r\n            </div>\r\n            {productionAddress === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">厂址:</div><div className=\"col-9 text-muted\">{productionAddress}</div>\r\n                </div></>}\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let supplierData = _.clone(this.supplier);\r\n        return <Page header=\"供应商详情\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(supplierData)}\r\n            {this.getSupplierBankAccount()}\r\n            {this.getSupplierContact()}\r\n        </Page>\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List, FA } from 'tonva';\r\nimport { CAddress } from './CAddress';\r\n\r\nexport class VAddress extends VPage<CAddress> {\r\n    private countryId: number;\r\n    private provinceId: number;\r\n    private cityId: number;\r\n    private countyId: number;\r\n    private backLevel = 0;\r\n\r\n    async open(param: any) {\r\n\r\n        let countrys = await this.controller.getCountry();\r\n        this.openPage(this.page, { countrys: countrys });\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        this.backLevel++;\r\n        return <Page header=\"选择所在国家\" headerClassName=\"bg-primary\">\r\n            <div className=\"row no-gutters\">\r\n                {param.countrys.map((v: any) => this.renderPCC(v, this.onCountryClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPCC = (pcc: BoxId, onClick: any) => {\r\n        return <div key={pcc.id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            {tv(pcc, (value) => {\r\n                let { id, chineseName } = value;\r\n                return <>\r\n                    <div className=\"pt-1 pb-1 px-2\" onClick={() => onClick(id)}\r\n                        style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n                    >\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                            &nbsp; {chineseName}\r\n                        </span>\r\n                    </div>\r\n                </>;\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    private onCountryClick = async (countryId: any) => {\r\n        this.countryId = countryId;\r\n        let provinces = await this.controller.getCountryProvince(countryId);\r\n        if (provinces) {\r\n            let len = provinces.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onProvinceClick(provinces[0].province.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"选择所在省市\">\r\n                        <div className=\"row no-gutters\">\r\n                            {provinces.map(v => this.renderPCC(v.province, this.onProvinceClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let len = cities.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onCityClick(cities[0].city.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"选择所在城市\">\r\n                        <div className=\"row no-gutters\">\r\n                            {cities.map(v => this.renderPCC(v.city, this.onCityClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            this.openPageElement(<Page header=\"选择所在区县\">\r\n                <div className=\"row no-gutters\">\r\n                    {counties.map(v => this.renderPCC(v.county, this.onCountyClick))}\r\n                </div>\r\n            </Page>);\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        this.closePage(this.backLevel);\r\n        this.saveAddress();\r\n    }\r\n\r\n    private saveAddress = async () => {\r\n        await this.controller.saveAddress(this.countryId, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n","import { VAddress } from './VAddress';\r\nimport { CUqBase } from 'CBase';\r\n\r\nexport class CAddress extends CUqBase {\r\n    protected async internalStart() {\r\n        this.openVPage(VAddress);\r\n    }\r\n\r\n    getCountry = async (): Promise<any[]> => {\r\n        return await this.uqs.common.Country.search(\"\", 0, 300);\r\n    }\r\n\r\n    getCountryProvince = async (countryId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCountryProvinces.table({ country: countryId });\r\n    }\r\n\r\n    getProvinceCities = async (provinceId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetProvinceCities.table({ province: provinceId });\r\n    }\r\n\r\n    getCityCounties = async (cityId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCityCounties.table({ city: cityId });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId?: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.returnCall(addressId);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { VSupplier } from './VSupplier';\r\nimport { VSupplierBankAccount } from './VSupplierBankAccount';\r\nimport { VSupplierBankAccountDetail } from './VSupplierBankAccountDetail';\r\nimport { VSupplierList } from './VSupplierList';\r\nimport { CEmployee } from '../employee/CEmployee';\r\nimport { VSupplierDetail } from './VSupplierDetail';\r\nimport { ParamItem, SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"../supplierContact/CAddress\";\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    pickChemical = async (supplier: any): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call(supplier);\r\n    }\r\n\r\n    pickEmployee = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cEmployee = this.newC(CEmployee);\r\n        return await cEmployee.call<number>();\r\n    }\r\n\r\n    renderRootList() {\r\n        return this.renderView(VSupplierList);\r\n    }\r\n\r\n    saveSupplierData = async (supplier: any, model: any) => {\r\n\r\n        let name = supplier.name;\r\n        let { id } = supplier;\r\n        if (id === undefined) {\r\n            supplier.defaultContact = undefined;\r\n            supplier.inquiryContact = undefined;\r\n            supplier.isValid = 1;\r\n            id = await this.uqs.rms.Supplier.save(undefined, supplier);\r\n        } else {\r\n            supplier.isValid = 1;\r\n            supplier.defaultContact = model.defaultContact;\r\n            supplier.inquiryContact = model.inquiryContact;\r\n            supplier.no = model.no;\r\n            await this.uqs.rms.Supplier.save(id, supplier);\r\n        }\r\n        let { principal } = supplier;\r\n        if (principal !== undefined) {\r\n            let { principal: oldprincipal } = model;\r\n            if (oldprincipal !== undefined) {\r\n                await this.uqs.rms.SupplierHandler.del({ supplier: id, arr1: [{ principal: oldprincipal }] });\r\n            }\r\n            await this.uqs.rms.SupplierHandler.add({ supplier: id, arr1: [{ principal: principal }] });\r\n        }\r\n        this.closePage();\r\n        await this.searchSupplierByKey(name);\r\n    }\r\n\r\n    saveSupplierBankData = async (param: any, supplier: any) => {\r\n\r\n        if (supplier.id !== undefined) {\r\n            let newBank = await this.uqs.rms.BankAccount.save(undefined, param);\r\n            await this.uqs.rms.SupplierBankAccount.add({ supplier: supplier.id, arr1: [{ bankAccount: newBank.id }] });\r\n        }\r\n        this.cApp.cSupplier.onSupplierSelected(supplier);\r\n        this.closePage();\r\n    }\r\n\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewSupplier = async () => {\r\n        this.openVPage(VSupplier, { description: undefined });\r\n    }\r\n\r\n    /**\r\n* 打开新建界面\r\n*/\r\n    onEditSupplier = async (supplier: any) => {\r\n        this.openVPage(VSupplier, supplier);\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    updateSupplierData = async (supplier: any) => {\r\n        supplier.isValid = 1;\r\n        await this.uqs.rms.Supplier.save(supplier.id, supplier);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewSupplierBankAccount = async (supplier: any) => {\r\n        this.openVPage(VSupplierBankAccount, supplier);\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    onShowSupplierBankAccount = async (supplier: any, supplierBankAccount: any) => {\r\n\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: supplierBankAccount,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierBankAccountDetail, param);\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    onSupplierSelected = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        supplier = await this.uqs.rms.Supplier.load(id);\r\n        let principals = await this.uqs.rms.SupplierHandler.table({ supplier: id });\r\n        supplier.principal = principals[0];\r\n        let contact = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let bankAccount = await this.uqs.rms.SearchSupplierBankAccount.query({ _id: id });\r\n        let param: ParamItem = {\r\n            parent: supplier,\r\n            item: contact.ret[0],\r\n            child: contact.ret,\r\n            item2: bankAccount.ret[0],\r\n            child2: bankAccount.ret,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n\r\n    delSupplier = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        supplier.isValid = 0;\r\n        await this.uqs.rms.Supplier.save(id, supplier);\r\n    }\r\n\r\n    delSupplierBankAccount = async (bankAccount: any, supplier: any) => {\r\n        let { id } = supplier;\r\n        await this.uqs.rms.SupplierBankAccount.del({ supplier: id, arr1: [{ bankAccount: bankAccount.id }] });\r\n    }\r\n\r\n    updateBankAccountData = async (bankdata: any) => {\r\n        let { id } = bankdata;\r\n        await this.uqs.rms.BankAccount.save(id, bankdata);\r\n    }\r\n\r\n\r\n\r\n    loadList = async () => {\r\n        await this.searchSupplierByKey(\"\");\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CSupplierContact } from './CSupplierContact';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\n\r\nexport class VSupplierContact extends VPage<CSupplierContact> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'gender', type: 'string', required: true },\r\n        { name: 'firstName', type: 'string', required: false },\r\n        { name: 'lastName', type: 'string', required: false },\r\n        { name: 'salutation', type: 'string', required: false },\r\n        { name: 'position', type: 'string', required: false },\r\n        { name: 'departmentName', type: 'string', required: false },\r\n        { name: 'telephone', type: 'string', required: false },\r\n        { name: 'mobile', type: 'string', required: false },\r\n        { name: 'wechatId', type: 'string', required: false },\r\n        { name: 'email', type: 'string' },\r\n        { name: 'fax', type: 'string', required: false },\r\n        { name: 'address', type: 'id', required: false },\r\n        { name: 'addressString', type: 'string', required: false },\r\n        { name: 'zipCode', type: 'string', required: false },\r\n        { name: 'isDefault', type: 'boolean', required: false },\r\n        { name: 'isFinance', type: 'boolean', required: false },\r\n        { name: 'isInquiry', type: 'boolean', required: false },\r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '姓名', placeholder: '必填' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '性别', list: [{ value: '1', title: '男' }, { value: '0', title: '女' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '名', placeholder: '名', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '姓氏', placeholder: '姓氏' } as UiInputItem,\r\n            salutation: { widget: 'radio', label: '称谓', list: [{ value: 'Mr.', title: 'Mr.' }, { value: 'Ms.', title: 'Ms.' }] } as UiRadio,\r\n            position: { widget: 'text', label: '职位', placeholder: '职位' } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '部门名称', placeholder: '部门名称', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '固定电话', placeholder: '如：+86-010-40020020-0852', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '手机号', placeholder: '手机号', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '微信号', placeholder: '微信号' } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiTextItem,\r\n            fax: { widget: 'text', label: '传真', placeholder: '如：+86-010-40020020-0852', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* 下面这种在使用tv之前的一堆判断应该是tv或者什么的有bug, 应该让Henry改改 */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', placeholder: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '邮编', placeholder: '邮编', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'checkbox', label: '订单联系人', defaultValue: false },\r\n            isFinance: { widget: 'checkbox', label: '财务联系人', defaultValue: false },\r\n            isInquiry: { widget: 'checkbox', label: '询价联系人', defaultValue: false },\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { saveSupplierContact } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await saveSupplierContact(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private onDelSupplierContact = async () => {\r\n        if (await this.vCall(VConfirmDeleteContact, this.item) === true) {\r\n            await this.controller.delSupplierContact(this.item, this.parent);\r\n            this.closePage();\r\n            this.controller.cApp.cSupplier.onSupplierSelected(this.parent);\r\n        };\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        let buttonDel: any;\r\n        if (this.item !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplierContact()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"编辑联系人\" right={buttonDel} headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.item}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n\r\nclass VConfirmDeleteContact extends VPage<CSupplierContact> {\r\n    async open(contact: any) {\r\n        this.openPage(this.page, contact);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (contact: any) => {\r\n        return <Page header=\"删除联系人\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该联系人？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除供联系人</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Edit, Form, UiRadio, ItemSchema, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv, UiTagMulti } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplierContact } from \"./CSupplierContact\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { Tag, TagValue } from \"tonva\";\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'gender', type: 'string', required: true },\r\n    { name: 'firstName', type: 'string', required: false },\r\n    { name: 'lastName', type: 'string', required: false },\r\n    { name: 'salutation', type: 'string', required: false },\r\n    { name: 'position', type: 'string', required: false },\r\n    { name: 'departmentName', type: 'string', required: false },\r\n    { name: 'telephone', type: 'string', required: false },\r\n    { name: 'mobile', type: 'string', required: false },\r\n    { name: 'wechatId', type: 'string', required: false },\r\n    { name: 'email', type: 'string' },\r\n    { name: 'fax', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: false },\r\n    { name: 'addressString', type: 'string', required: false },\r\n    { name: 'zipCode', type: 'string', required: false },\r\n    { name: 'isDefault', type: 'string', required: false },\r\n    { name: 'isFinance', type: 'number', required: false },\r\n    { name: 'isInquiry', type: 'number', required: false },\r\n];\r\n\r\nexport class VSupplierContactDetail extends VPage<CSupplierContact> {\r\n\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    private contactData: any;\r\n\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.parent = parent;\r\n        await this.loadContact(item);\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private loadContact = async (item: any) => {\r\n        this.item = await this.controller.cApp.uqs.rms.SupplierContact.load(item.id);\r\n        this.parent = await this.controller.cApp.uqs.rms.Supplier.load(this.parent.id);\r\n        let { defaultContact, financeContact, inquiryContact } = this.parent;\r\n        let { id, name, firstName, lastName, gender, salutation, position, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = this.item;\r\n        this.contactData = {\r\n            name: name,\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            gender: gender,\r\n            salutation: salutation,\r\n            position: position,\r\n            departmentName: departmentName,\r\n            telephone: telephone,\r\n            mobile: mobile,\r\n            email: email,\r\n            fax: fax,\r\n            zipCode: zipCode,\r\n            wechatId: wechatId,\r\n            addressString: addressString,\r\n            address: address,\r\n            isDefault: defaultContact === undefined ? 0 : (defaultContact.id === id ? 1 : 0),\r\n            isFinance: financeContact === undefined ? 0 : (financeContact.id === id ? 1 : 0),\r\n            isInquiry: inquiryContact === undefined ? 0 : (inquiryContact.id === id ? 1 : 0)\r\n        };\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '姓名', placeholder: '必填' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '性别', list: [{ value: '1', title: '男' }, { value: '0', title: '女' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '名', placeholder: '名', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '姓氏', placeholder: '姓氏' } as UiInputItem,\r\n            salutation: { widget: 'radio', label: '称谓', list: [{ value: 'Mr.', title: 'Mr.' }, { value: 'Ms.', title: 'Ms.' }] } as UiRadio,\r\n            position: { widget: 'text', label: '职位', placeholder: '职位' } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '部门名称', placeholder: '部门名称', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '固定电话', placeholder: '固定电话', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '手机号', placeholder: '手机号', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '微信号', placeholder: '微信号' } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiTextItem,\r\n            fax: { widget: 'text', label: '传真', placeholder: '传真', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* 下面这种在使用tv之前的一堆判断应该是tv或者什么的有bug, 应该让Henry改改 */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', placeholder: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '邮编', placeholder: '邮编', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'radio', label: '订单联系人', list: [{ value: 1, title: '是' }, { value: 0, title: '否' }] } as UiRadio,\r\n            isFinance: { widget: 'radio', label: '财务联系人', list: [{ value: 1, title: '是' }, { value: 0, title: '否' }] } as UiRadio,\r\n            isInquiry: { widget: 'radio', label: '询价联系人', list: [{ value: 1, title: '是' }, { value: 0, title: '否' }] } as UiRadio,\r\n        }\r\n    }\r\n\r\n    private onContactDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.item[name] = newValue;\r\n        await this.controller.updateContactData(this.item, this.parent);\r\n        this.closePage();\r\n        this.controller.showSupplierContactDetail(this.item, this.parent);\r\n    }\r\n\r\n    private onDelSupplierContact = async () => {\r\n        if (await this.vCall(VConfirmDeleteContact, this.item) === true) {\r\n            await this.controller.delSupplierContact(this.item, this.parent);\r\n            this.closePage();\r\n            this.controller.cApp.cSupplier.onSupplierSelected(this.parent);\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let buttonDel: any;\r\n        if (this.item !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplierContact()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"供应商联系人详情\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.contactData}\r\n                onItemChanged={this.onContactDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteContact extends VPage<CSupplierContact> {\r\n    async open(contact: any) {\r\n        this.openPage(this.page, contact);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (contact: any) => {\r\n        return <Page header=\"删除联系人\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该联系人？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除供联系人</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VSupplierContact } from \"./VSupplierContact\";\r\nimport { VSupplierContactDetail } from \"./VSupplierContactDetail\";\r\nimport { VSupplierDetail } from \"../supplier/VSupplierDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"./CAddress\";\r\n\r\nclass PageSupplierContact extends PageItems<any> {\r\n    private searchSupplierContact: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplierContact = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplierContact.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplierContact extends CUqBase {\r\n\r\n    @observable pageSupplierContact: PageSupplierContact;\r\n    protected async internalStart() {\r\n\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    //添加联系人\r\n    showCreateSupplierContact = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showEditSupplierContact = async (model: any, supplier: any) => {\r\n        model.isDefault = model.defaultContact === 1 ? true : false;\r\n        model.isFinance = model.financeContact === 1 ? true : false;\r\n        model.isInquiry = model.inquiryContact === 1 ? true : false;\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showSupplierContactDetail = async (model: any, supplier: any) => {\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContactDetail, param);\r\n    }\r\n\r\n    saveSupplierContact = async (id: number, param: any, parent: any) => {\r\n        let { name, firstName, lastName, gender, salutation, position, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address, isDefault, isFinance, isInquiry } = param;\r\n        let parrm = { name: name, firstName: firstName, lastName: lastName, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, supplier: parent.id, isValid: 1, position: position };\r\n        let result = await this.uqs.rms.SupplierContact.save(id, parrm);\r\n        if (id === undefined) {\r\n            id = result.id;\r\n        }\r\n        if (isDefault === true) {\r\n            parent.defaultContact = id;\r\n        } else {\r\n            if (parent.defaultContact !== undefined) {\r\n                if (parent.defaultContact.id === id) {\r\n                    parent.defaultContact = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (isInquiry === true) {\r\n            parent.inquiryContact = id;\r\n        } else {\r\n            if (parent.inquiryContact !== undefined) {\r\n                if (parent.inquiryContact.id === id) {\r\n                    parent.inquiryContact = undefined;\r\n                }\r\n            }\r\n        }\r\n        await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, webSite: parent.webSite, address: parent.address, addressString: parent.addressString, productionAddress: parent.productionAddress, profile: parent.profile, taxNo: parent.taxNo, isValid: 1, defaultContact: parent.defaultContact, inquiryContact: parent.inquiryContact });\r\n        await this.uqs.rms.SupplierFinanceContact.del({ supplier: parent.id, arr1: [{ financeContact: id }] });\r\n        if (isFinance === true) {\r\n            await this.uqs.rms.SupplierFinanceContact.add({ supplier: parent.id, arr1: [{ financeContact: id }] });\r\n        }\r\n        this.cApp.cSupplier.onSupplierSelected(parent);\r\n        this.closePage();\r\n    }\r\n\r\n    updateContactData = async (param: any, parent: any) => {\r\n        let { isDefault, isFinance, inquiryid } = param;\r\n        await this.uqs.rms.SupplierContact.save(param.id, param);\r\n        parent.defaultContact = (isDefault === 1 ? param : undefined);\r\n        parent.inquiryContact = (inquiryid === 1 ? param : undefined);\r\n        await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, webSite: parent.webSite, address: parent.address, addressString: parent.addressString, productionAddress: parent.productionAddress, profile: parent.profile, taxNo: parent.taxNo, isValid: 1, defaultContact: parent.defaultContact, inquiryContact: parent.inquiryContact });\r\n        await this.uqs.rms.SupplierFinanceContact.del({ supplier: parent.id, arr1: [{ financeContact: param.id }] });\r\n        if (isFinance === 1) {\r\n            await this.uqs.rms.SupplierFinanceContact.add({ supplier: parent.id, arr1: [{ financeContact: param.id }] });\r\n        }\r\n    }\r\n\r\n    //联系人列表\r\n    showSupplierContact = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n\r\n    delSupplierContact = async (supplierContact: any, supplier: any) => {\r\n        let { id } = supplierContact;\r\n        supplierContact.isValid = 0;\r\n        await this.uqs.rms.SupplierContact.save(id, supplierContact);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'supplier', type: 'id', required: true },\r\n    { name: 'brand', type: 'id', required: false },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'description', type: 'string', required: true },\r\n    { name: 'descriptionC', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'chinaHSCode', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VAddProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n    private model: any = this.controller.supplier;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            supplier: {\r\n                widget: 'id', label: '供应商', placeholder: '请选择供应商', defaultValue: this.model,\r\n                pickId: async (context: Context, name: string, value: number) => this.model !== undefined ? this.model : await this.controller.pickSupplier(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择供应商</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            brand: {\r\n                widget: 'id', label: '品牌', placeholder: '请选择品牌',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickBrand(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\">请选择品牌</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.no}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            origin: { widget: 'text', label: '供应商自编号', placeholder: '供应商自编号' } as UiInputItem,\r\n            description: { widget: 'text', label: '英文名称', placeholder: '英文名称', defaultValue: this.controller.chemical.description } as UiInputItem,\r\n            descriptionC: { widget: 'text', label: '中文名称', placeholder: '中文名称', defaultValue: this.controller.chemical.descriptionC } as UiInputItem,\r\n            purity: { widget: 'text', label: '纯度', placeholder: '纯度' } as UiInputItem,\r\n            chinaHSCode: { widget: 'text', label: '中国海关编码', placeholder: '中国海关编码' } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { origin } = this.productData;\r\n        await this.controller.saveProductData(origin, context.form.data);\r\n    }\r\n\r\n    private showChemicalData = () => {\r\n        let { chemical } = this.controller;\r\n        let { no, CAS, description, descriptoinCN, molecularFomula, molecularWeight, mdlNumber } = chemical;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">CAS:</div><div className=\"col-9 text-muted text-right\">{CAS === undefined ? \"(无)\" : CAS}</div>\r\n            </div>\r\n            {molecularFomula === undefined ? \"\" : <>\r\n                <div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">分子式:</div><div className=\"col-9 text-muted text-right\">{molecularFomula}</div>\r\n                </div></>\r\n            }\r\n            {molecularWeight === undefined ? \"\" : <>\r\n                <div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">分子量:</div><div className=\"col-9 text-muted text-right\">{molecularWeight}</div>\r\n                </div></>\r\n            }\r\n        </div >;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        return <Page header=\"添加产品\" headerClassName=\"py-1 bg-primary\">\r\n            {this.showChemicalData()}\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem, UiIdItem, Context } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'description', type: 'string', required: true },\r\n    { name: 'descriptionC', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'restrictMark', type: 'id', required: false },\r\n];\r\n\r\nconst originschema: ItemSchema[] = [\r\n    { name: 'origin', type: 'string', required: false },\r\n];\r\n\r\nexport class VProductDetail extends VPage<CProduct> {\r\n    private product: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n    private purityData: any;\r\n    private restrictMarks: any[] = [];\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        await this.loadProduct(parent);\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private loadProduct = async (product: any) => {\r\n        this.product = product;\r\n        let { origin, description, descriptionC, purity, restrictMark } = this.product;\r\n        this.restrictMarks = restrictMark;\r\n        this.purityData = {\r\n            origin: origin,\r\n            description: description,\r\n            descriptionC: descriptionC,\r\n            purity: purity,\r\n            restrictMark: restrictMark\r\n        };\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            description: { widget: 'text', label: '英文名称', placeholder: '英文名称' } as UiInputItem,\r\n            descriptionC: { widget: 'text', label: '中文名称', placeholder: '中文名称' } as UiInputItem,\r\n            purity: { widget: 'text', label: '纯度', placeholder: '纯度' } as UiInputItem,\r\n            restrictMark: {\r\n                widget: 'id', label: '限制性标记', placeholder: '限制性标记',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickRestrictMark(this.product, this.restrictMarks),\r\n                Templet: (restrictMark: any[]) => {\r\n                    if (!restrictMark) return <small className=\"text-muted\">请选择限制性标记</small>;\r\n                    let result: string = \"\";\r\n                    for (let item of restrictMark) {\r\n                        let { no } = item;\r\n                        if (result.length === 0) {\r\n                            result += no;\r\n                        } else {\r\n                            result += \"-\" + no;\r\n                        }\r\n                    }\r\n                    return <>\r\n                        {result}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n        }\r\n    }\r\n\r\n    private uiOriginSchema: UiSchema = {\r\n        items: {\r\n            origin: { widget: 'text', label: '供应商自编号', placeholder: '供应商自编号' } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private getPackage = () => {\r\n        let { showCreatePackage } = this.controller.cApp.cPackage;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n        let { supplier, inquiryContact } = this.product;\r\n        let showd = inquiryContact === undefined ?\r\n            <b className=\"px-3 py-2 text-danger small\">须先设置供应商询价或订单联系人才可添加包装或询价！</b> : <div className=\" d-flex px-3 py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => showCreatePackage(this.product)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"cube\" /><b>包&nbsp;装</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n                <div className=\"flex-grow-1\"></div>\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => onNewPendingInquiry(this.product)} >\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"filter\" /><b>询&nbsp;价</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </ button>\r\n            </div>;\r\n        return <div>\r\n            {showd}\r\n            <div>\r\n                {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private onDelPackage = async (item: any) => {\r\n        if (await this.vCall(VConfirmDeletePakage, item) === true) {\r\n            await this.controller.delPakage(item);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { showEditPackage, showPackageDetail } = this.controller.cApp.cPackage;\r\n        let { id, radiox, radioy, unit, type, price, currency, validUpto, minArriveDate, maxArriveDate, remark } = item;\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let { inquiryContact } = this.product;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{name}</> : <>{radioy}{name}</>;\r\n        let valid = (validUpto < Date.now()) ? <span className=\"text-danger\"><EasyDate date={validUpto} /></span> : <span><EasyDate date={validUpto} /></span>;\r\n\r\n        let down =\r\n            price === undefined ? <div></div> : <div className=\"px-4 text-muted small\">\r\n                <span>&nbsp;{price}{tv(currency, v => <>{v.name}</>)}&nbsp;</span>\r\n                {valid}\r\n            </div>;\r\n        let mi = minArriveDate !== undefined ? <span><EasyDate date={minArriveDate} /></span> : \"\";\r\n        let arriveDate = maxArriveDate !== undefined ? <span>~<EasyDate date={maxArriveDate} /></span> : \"\";\r\n        let right =\r\n            <div>\r\n                <div className=\"px-2 cursor-pointer text-danger text-right\" onClick={() => this.onDelPackage(item)}>\r\n                    <FA name=\"trash\" />\r\n                    <div className=\"text-muted small\">{mi}{arriveDate}</div>\r\n                </div>\r\n            </div>;\r\n\r\n        let showremark = remark === undefined ? \"\" : remark.toString().length > 8 ? remark.toString().slice(0, 8) + '...' : remark;\r\n        let left = <div className=\"px-2\" onClick={() => showPackageDetail(item)}>\r\n            <FA name=\"cube\" className=\"px-2 text-primary\"></FA>\r\n            {radio} <span className=\"small\">{type === 1 ? \"目录\" : \"非目录\"}</span>\r\n            {down}\r\n            <div className=\"px-4 text-success small\">&nbsp;{showremark}</div>\r\n        </div >;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (productData: any) => {\r\n\r\n        let { no, supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight, inquiryContact, chinaHSCode } = this.product;\r\n        let { name: suppliername, no: supplierno, id } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">产品编号</div><div className=\"col-8 text-muted text-right\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">供应商</div><div className=\"col-8 text-muted text-right\"><b>{suppliername} {supplierno}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">询价联系人</div><div className=\"col-8 text-muted text-right\">{inquiryContact === undefined ? \"[无]\" : inquiryContact.obj.name}</div>\r\n            </div>\r\n            {brandno === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">品牌</div><div className=\"col-8 text-muted text-right\">{brandno}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">CAS</div><div className=\"col-8 text-muted text-right\">{CAS}</div>\r\n            </div>\r\n            {molecularFomula === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">分子式</div><div className=\"col-8 text-muted text-right\">{molecularFomula}</div>\r\n                </div></>}\r\n            {molecularWeight === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">分子量</div><div className=\"col-8 text-muted text-right\">{molecularWeight}</div>\r\n                </div></>}\r\n            {chinaHSCode === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">中国海关编码</div><div className=\"col-8 text-muted text-right\">{chinaHSCode}</div>\r\n                </div></>}\r\n            {origin === undefined ? <Edit schema={originschema} uiSchema={this.uiOriginSchema}\r\n                data={this.purityData}\r\n                onItemChanged={this.onPurityChanged} /> :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">供应商自编号</div><div className=\"col-8 text-muted text-right\">{origin}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\" onClick={() => this.controller.showProductPropertyDetail(this.product)}>\r\n                <div className=\"col-4\">产品性质</div><div className=\"col-8 text-muted text-right\"><b><FA name=\"angle-right\" /></b></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onPurityChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.product[name] = newValue;\r\n        let { origin } = this.purityData;\r\n        await this.controller.updateProductData(this.product, origin);\r\n        this.closePage();\r\n        this.controller.showProductDetail(this.product);\r\n    }\r\n\r\n    private onDelProduct = async () => {\r\n        if (await this.vCall(VConfirmDeleteProduct, this.product) === true) {\r\n            await this.controller.delProduct(this.product);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let productData = _.clone(this.product);\r\n\r\n        let buttonDel: any;\r\n        if (productData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelProduct()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"产品详情\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(productData)}\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.purityData}\r\n                onItemChanged={this.onPurityChanged} />\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeletePakage extends VPage<CProduct> {\r\n    async open(pakage: any) {\r\n        this.openPage(this.page, pakage);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (pakage: any) => {\r\n        return <Page header=\"删除包装\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该包装？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除包装</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteProduct extends VPage<CProduct> {\r\n    async open(product: any) {\r\n        this.openPage(this.page, product);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (product: any) => {\r\n        return <Page header=\"删除产品\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该产品？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除产品</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CProduct } from './CProduct';\r\n\r\nexport class VProductList extends VPage<CProduct> {\r\n\r\n    private pickType: string;\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { origin, description, createTime, supplier, CAS, purity, brand } = item;\r\n        let { showProductDetail } = this.controller;\r\n        let showcas = CAS === undefined ? <b>[无]</b> : <b>{CAS}</b>;\r\n        let showpurity = purity === undefined ? \"\" : <b>{purity}</b>;\r\n        let brandno = brand === undefined ? undefined : brand.obj.name;\r\n        let first = origin === undefined && brandno === undefined ? \"\" : origin === undefined ? <b>{brandno}</b> : <b>{origin}&nbsp;&nbsp;{brandno}</b>;\r\n\r\n\r\n        return <LMR className=\"px-3 d-flex p-1 cursor-pointer\">\r\n            <div onClick={() => showProductDetail(item)}>\r\n                {first}\r\n                <div>{showcas}&nbsp;&nbsp;{showpurity}</div>\r\n                <div><b>{description}</b></div>\r\n                <div className=\"py-1 text-muted\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n            </div>\r\n        </LMR>\r\n    }\r\n\r\n    private pickSelect = async () => {\r\n        this.pickType = await this.vCall(VSelectType);\r\n        this.closePage();\r\n        this.controller.start();\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, onNewProduct, searchProductByKey, pickChemical } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <div><span onClick={() => this.pickSelect()} className=\"fa-stack\">\r\n                <i className=\"fa fa-filter fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(this.pickType, key)}\r\n                placeholder=\"请输入cas、名称关键字\" />\r\n            <div><span onClick={() => pickChemical()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >产品</div>\r\n        </header>;\r\n        let filter = this.pickType === undefined ? \"\" : <div className=\"text-muted small px-3 py-2\">筛选条件：{this.pickType}</div>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            {filter}\r\n            <List items={products} item={{ render: this.renderRootCategory }} />\r\n        </Page >;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n}\r\n\r\nclass VSelectType extends VPage<CProduct> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onConfirm = async (name: string) => {\r\n        await this.returnCall(name);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (pakage: any) => {\r\n        return <Page header=\"筛选类型\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"d-flex mt-3 justify-content-end\">\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm(undefined)}>取消</button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('供应商')}>供应商</button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('中英文名称')}>中英文名称</button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('供应商自编号')}>供应商自编号</button>\r\n                <button className=\"btn btn-outline-info mr-3\" onClick={() => this.onConfirm('CAS')}>CAS</button>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickSupplier } from './CPickSupplier';\r\n\r\nexport class VPickSupplier extends VPage<CPickSupplier> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { suppliers, searchSupplierByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n        </div>;\r\n        return <Page header=\"选择供应商\" right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={suppliers} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.suppliers.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnSupplier(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { VPickSupplier } from './VPickSupplier';\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n        this.openVPage(VPickSupplier);\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    returnSupplier = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CBrand } from './CBrand';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'no', type: 'string', required: true },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VBrand extends VPage<CBrand> {\r\n\r\n    private form: Form;\r\n    private brandData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            no: { widget: 'text', label: '品牌编号', placeholder: '必填' } as UiInputItem,\r\n            name: { widget: 'text', label: '品牌名称', placeholder: '必填' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '有效', defaultValue: true },\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(brandData: any) {\r\n        this.brandData = brandData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveBrandData(context.form.data);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.brandData);\r\n\r\n        return <Page header=\"添加品牌\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CBrand } from './CBrand';\r\n\r\nexport class VPickBrand extends VPage<CBrand> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { brands, searchBrandByKey, onNewBrand } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchBrandByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n            <div><span onClick={() => onNewBrand()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span>\r\n            </div>\r\n        </div>;\r\n        let header = <header>\r\n            <div>选择品牌</div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\" >\r\n            <List items={brands} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.brands.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnBrand(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { no, name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{no} - {name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VBrand } from './VBrand';\r\nimport { VPickBrand } from './VPickBrand';\r\n\r\nclass PageBrand extends PageItems<any> {\r\n\r\n    private searchBrand: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchBrand = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchBrand.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CBrand extends CUqBase {\r\n\r\n    @observable brands: PageBrand;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchBrandByKey(param);\r\n        this.openVPage(VPickBrand);\r\n    }\r\n\r\n    searchBrandByKey = async (key: string) => {\r\n        this.brands = new PageBrand(this.uqs.rms.SearchBrand);\r\n        this.brands.first({ key: key });\r\n    }\r\n\r\n    saveBrandData = async (brand: any) => {\r\n\r\n        if (brand.id === undefined) {\r\n            await this.uqs.rms.RsBrand.save(undefined, brand);\r\n        } else {\r\n            await this.uqs.rms.RsBrand.save(brand.id, brand);\r\n        }\r\n        this.closePage();\r\n        await this.searchBrandByKey(\"\");\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewBrand = async () => {\r\n        this.openVPage(VBrand, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    onEditBrand = async (brand: any) => {\r\n        this.openVPage(VBrand, brand);\r\n    }\r\n\r\n    returnBrand = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CStorageRange } from './CStorageRange';\r\n\r\nexport class VStorageRange extends VPage<CStorageRange> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { storageRanges } = this.controller;\r\n        return <Page header=\"选择存储条件\">\r\n            <div className=\"row no-gutters\">\r\n                {storageRanges.map((v: any) => this.renderStorageRange(v, this.onStorageRangeClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderStorageRange = (storageRange: any, onClick: any) => {\r\n        let { id, no, description } = storageRange;\r\n        return <div key={id} className=\"col-12 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onStorageRangeClick(storageRange)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {no} [{description}]\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onStorageRangeClick = async (item: any) => {\r\n        await this.controller.returnStorageRange(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { VStorageRange } from './VStorageRange';\r\n\r\nexport class CStorageRange extends CUqBase {\r\n\r\n    @observable storageRanges: any;\r\n\r\n    protected async internalStart() {\r\n        this.storageRanges = await this.uqs.rms.StorageRange.search(\"\", 0, 100);\r\n        this.openVPage(VStorageRange);\r\n    }\r\n\r\n    returnStorageRange = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CRestrictMark } from './CRestrictMark';\r\n\r\nexport class VRestrictMark extends VPage<CRestrictMark> {\r\n\r\n    private result: string = \"\";\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { restrictMarks, restrictMarkResult, restrictMarkList } = this.controller;\r\n        let oldresult: string = \" \";\r\n        if (restrictMarkList !== undefined) {\r\n            for (let item of restrictMarkList) {\r\n                let { no } = item;\r\n                if (oldresult.length === 1) {\r\n                    oldresult += no;\r\n                } else {\r\n                    oldresult += \"-\" + no;\r\n                }\r\n\r\n            }\r\n        }\r\n        if (restrictMarkResult !== undefined) {\r\n            for (let item of restrictMarkResult) {\r\n                let { no } = item;\r\n                if (this.result.length === 0) {\r\n                    this.result += no;\r\n                } else {\r\n                    this.result += \"-\" + no;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <div><span onClick={() => this.onReturn(restrictMarkResult)} className=\"fa-stack text-success\">\r\n                <i className=\"fa fa-check-circle-o fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n            <div><span onClick={() => this.onCancel()} className=\"fa-stack text-danger\">\r\n                <i className=\"fa fa-times-circle-o fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n\r\n        let showhead = \"选择限制性标记\" + oldresult;\r\n        return <Page header={showhead} right={right} >\r\n            <div className=\"bg-white py-2\">结果：{this.result}</div>\r\n            <div className=\"row no-gutters\">\r\n                {restrictMarks.map((v: any) => this.renderRestrictMark(v, this.onRestrictMarkClick))}\r\n            </div>\r\n        </Page >\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        this.controller.restrictMarkResult = [];\r\n        this.result = \"\";\r\n        await this.controller.call<number>();\r\n    }\r\n\r\n    private onReturn = async (restrictMarkResult: any[]) => {\r\n        await this.controller.saveProductRestrictMark(restrictMarkResult);\r\n    }\r\n\r\n    private renderRestrictMark = (restrictMark: any, onClick: any) => {\r\n        let { id, no, description } = restrictMark;\r\n        return <div key={id} className=\"col-12 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onRestrictMarkClick(restrictMark)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {no} [{description}]\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onRestrictMarkClick = async (item: any) => {\r\n        let { restrictMarkResult } = this.controller;\r\n        let cpi = restrictMarkResult.find(e => e.id === item.id);\r\n        if (cpi === undefined) {\r\n            restrictMarkResult.push(item);\r\n        }\r\n\r\n        await this.controller.call<number>();\r\n        // await this.controller.returnRestrictMark(item);\r\n        // this.closePage();\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { VRestrictMark } from './VRestrictMark';\r\n\r\nexport class CRestrictMark extends CUqBase {\r\n\r\n    @observable restrictMarks: any;\r\n    @observable restrictMarkResult: any[] = [];\r\n    private product: any;\r\n    restrictMarkList: any[];\r\n\r\n    protected async internalStart(param: any) {\r\n        if (param !== undefined) {\r\n            let { parent, item, child } = param;\r\n            this.product = parent;\r\n            this.restrictMarkList = child;\r\n        }\r\n        this.restrictMarks = await this.uqs.rms.RestrictMark.search(\"\", 0, 200);\r\n        this.openVPage(VRestrictMark);\r\n    }\r\n\r\n    returnRestrictMark = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n\r\n    saveProductRestrictMark = async (models: any[]) => {\r\n\r\n        if (this.product !== undefined && models !== undefined) {\r\n            let { id } = this.product;\r\n            if (this.restrictMarkList !== undefined) {\r\n                for (let olditem of this.restrictMarkList) {\r\n                    await this.uqs.rms.ProductRestrictMark.del({ product: id, arr1: [{ restrictMark: olditem.id }] });\r\n                }\r\n            }\r\n            for (let item of this.restrictMarkResult) {\r\n                await this.uqs.rms.ProductRestrictMark.add({ product: id, arr1: [{ restrictMark: item.id }] });\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.cApp.cProduct.showProductDetail(this.product);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiSelect, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CProduct } from './CProduct';\r\nimport _ from 'lodash';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'isspot', type: 'number', required: false },\r\n    { name: 'storageRange', type: 'id', required: false },\r\n    { name: 'expiry', type: 'string', required: false },\r\n    { name: 'expiryUnit', type: 'string', required: false },\r\n    { name: 'refractiveIndex', type: 'string', required: false },\r\n    { name: 'opticalRotation', type: 'string', required: false },\r\n    { name: 'flashPoint', type: 'string', required: false },\r\n    { name: 'meltingPoint', type: 'string', required: false },\r\n    { name: 'boilingPoint', type: 'string', required: false },\r\n    { name: 'character', type: 'string', required: false },\r\n    { name: 'chroma', type: 'string', required: false },\r\n    { name: 'waterContent', type: 'string', required: false },\r\n    { name: 'useFor', type: 'string', required: false },\r\n    { name: 'remark', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VProductProperty extends VPage<CProduct> {\r\n    private form: Form;\r\n    private product: any;\r\n\r\n    async open(param?: any) {\r\n        this.product = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            isspot: { widget: 'radio', label: '是否现货', list: [{ value: 1, title: '现货' }, { value: 0, title: '定制' }] } as UiRadio,\r\n            storageRange: {\r\n                widget: 'id', label: '存储条件', placeholder: '存储条件',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickStorageRange(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择存储条件</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            expiry: { widget: 'text', label: '保质期', placeholder: '保质期' } as UiInputItem,\r\n            expiryUnit: { widget: 'select', label: '保质期单位', list: [{ value: '天', title: '天' }, { value: '周', title: '周' }, { value: '月', title: '月' }, { value: '年', title: '年' }] } as UiSelect,\r\n            refractiveIndex: { widget: 'text', label: '折射率', placeholder: '折射率' } as UiInputItem,\r\n            opticalRotation: { widget: 'text', label: '旋光度', placeholder: '旋光度' } as UiInputItem,\r\n            flashPoint: { widget: 'text', label: '闪点', placeholder: '闪点' } as UiInputItem,\r\n            meltingPoint: { widget: 'text', label: '熔点', placeholder: '熔点' } as UiInputItem,\r\n            boilingPoint: { widget: 'text', label: '沸点', placeholder: '沸点' } as UiInputItem,\r\n            character: { widget: 'text', label: '性状', placeholder: '性状' } as UiInputItem,\r\n            chroma: { widget: 'text', label: '色度', placeholder: '色度' } as UiInputItem,\r\n            density: { widget: 'text', label: '密度', placeholder: '密度' } as UiInputItem,\r\n            waterContent: { widget: 'text', label: '含水量', placeholder: '含水量' } as UiInputItem,\r\n            useFor: { widget: 'textarea', label: '产品用途', placeholder: '产品用途', rows: 2 } as UiInputItem,\r\n            remark: { widget: 'textarea', label: '产品备注', placeholder: '产品备注', rows: 2 } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveProductProperty(context.form.data, this.product);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let descriptionData = _.clone(this.product);\r\n\r\n        return <Page header=\"添加产品性质\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, UiSelect, tv, UiIdItem, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem, UiRadio, Context } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'isspot', type: 'number', required: false },\r\n    { name: 'storageRange', type: 'id', required: false },\r\n    { name: 'expiry', type: 'string', required: false },\r\n    { name: 'expiryUnit', type: 'string', required: false },\r\n    { name: 'refractiveIndex', type: 'string', required: false },\r\n    { name: 'opticalRotation', type: 'string', required: false },\r\n    { name: 'flashPoint', type: 'string', required: false },\r\n    { name: 'meltingPoint', type: 'string', required: false },\r\n    { name: 'boilingPoint', type: 'string', required: false },\r\n    { name: 'character', type: 'string', required: false },\r\n    { name: 'chroma', type: 'string', required: false },\r\n    { name: 'waterContent', type: 'string', required: false },\r\n    { name: 'useFor', type: 'string', required: false },\r\n    { name: 'remark', type: 'string', required: false },\r\n];\r\n\r\n\r\nexport class VProductPropertyDetail extends VPage<CProduct> {\r\n    private property: any;\r\n    private propertyData: any;\r\n\r\n    async open(param: any) {\r\n        this.property = undefined;\r\n        this.property = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            isspot: { widget: 'radio', label: '是否现货', list: [{ value: 1, title: '现货' }, { value: 0, title: '定制' }] } as UiRadio,\r\n            storageRange: {\r\n                widget: 'id', label: '存储条件', placeholder: '存储条件',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickStorageRange(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择存储条件</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            expiry: { widget: 'text', label: '保质期', placeholder: '保质期' } as UiInputItem,\r\n            expiryUnit: { widget: 'select', label: '保质期单位', list: [{ value: '天', title: '天' }, { value: '周', title: '周' }, { value: '月', title: '月' }, { value: '年', title: '年' }] } as UiSelect,\r\n            refractiveIndex: { widget: 'text', label: '折射率', placeholder: '折射率' } as UiInputItem,\r\n            opticalRotation: { widget: 'text', label: '旋光度', placeholder: '旋光度' } as UiInputItem,\r\n            flashPoint: { widget: 'text', label: '闪点', placeholder: '闪点' } as UiInputItem,\r\n            meltingPoint: { widget: 'text', label: '熔点', placeholder: '熔点' } as UiInputItem,\r\n            boilingPoint: { widget: 'text', label: '沸点', placeholder: '沸点' } as UiInputItem,\r\n            character: { widget: 'text', label: '性状', placeholder: '性状' } as UiInputItem,\r\n            chroma: { widget: 'text', label: '色度', placeholder: '色度' } as UiInputItem,\r\n            density: { widget: 'text', label: '密度', placeholder: '密度' } as UiInputItem,\r\n            waterContent: { widget: 'text', label: '含水量', placeholder: '含水量' } as UiInputItem,\r\n            useFor: { widget: 'textarea', label: '产品用途', placeholder: '产品用途', rows: 5 } as UiInputItem,\r\n            remark: { widget: 'textarea', label: '产品备注', placeholder: '产品备注', rows: 5 } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private onPropertyDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.property[name] = newValue;\r\n        await this.controller.updatProductPropertyData(this.property);\r\n        let { product } = this.property;\r\n        this.closePage();\r\n        await this.controller.showProductPropertyDetail(product);\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        return <Page header=\"产品性质\" headerClassName=\"py-1 bg-primary\">\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={this.property}\r\n                onItemChanged={this.onPropertyDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VAddProduct } from './VAddProduct';\r\nimport { VProductDetail } from './VProductDetail';\r\nimport { VProductList } from './VProductList';\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CChemical } from './CChemical';\r\nimport { CBrand } from './CBrand';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CStorageRange } from './CStorageRange';\r\nimport { CRestrictMark } from './CRestrictMark';\r\nimport { VProductProperty } from './VProductProperty';\r\nimport { VProductPropertyDetail } from './VProductPropertyDetail';\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 10;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n    chemical: any;\r\n    supplier: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(\"\", param);\r\n        // this.openVPage(VProductList);\r\n    }\r\n\r\n    searchProductByKey = async (pickType: string, key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key, pickType: pickType });\r\n    }\r\n\r\n    pickSupplier = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cPickSupplier = this.newC(CPickSupplier);\r\n        return await cPickSupplier.call<number>();\r\n    }\r\n\r\n    pickBrand = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cBrand = this.newC(CBrand);\r\n        return await cBrand.call<number>();\r\n    }\r\n\r\n    pickChemical = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call();\r\n    }\r\n\r\n    pickStorageRange = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cStorageRange = this.newC(CStorageRange);\r\n        return await cStorageRange.call<number>();\r\n    }\r\n\r\n    pickRestrictMark = async (product: any, restrictMark: any[]): Promise<any> => {\r\n        let cRestrictMark = this.newC(CRestrictMark);\r\n        // return await cRestrictMark.call<number>();\r\n        let param: SupplierItem = {\r\n            parent: product,\r\n            item: restrictMark === undefined ? undefined : restrictMark[0],\r\n            child: restrictMark,\r\n        }\r\n        await cRestrictMark.call(param);\r\n    }\r\n\r\n    saveProductData = async (oldorigin: any, product: any) => {\r\n\r\n        if (product.id === undefined) {\r\n            if (this.chemical) {\r\n                let { id, CAS, description, descriptoinCN, molecularFomula, molecularWeight } = this.chemical;\r\n                product.createTime = Date.now();\r\n                product.isTrue = 1;\r\n                product.inquiryContact = undefined;\r\n                let len = CAS.length;\r\n                let newCAS = CAS;\r\n                if (len > 4 && len <= 15) {\r\n                    newCAS = CAS.trim();\r\n                    newCAS = CAS.slice(0, len - 3) + '-' + CAS.slice(len - 3, len - 1) + '-' + CAS.slice(len - 1, len);\r\n                }\r\n                // 同一供应商同品牌不能存在相同的供应商自编号\r\n                let origin = await this.uqs.rms.SearchProductByOrigin.query({ supplier: product.supplier, brand: product.brand, origin: product.origin });\r\n                if (origin.ret.length === 0) {\r\n                    let result = await this.uqs.rms.Product.save(undefined, product);\r\n                    await this.uqs.rms.RsProductChemical.add({ product: result.id, arr1: [{ chemical: id, CAS: newCAS, molecularFomula: molecularFomula, molecularWeight: molecularWeight, purity: product.purity }] });\r\n                }\r\n            }\r\n        }\r\n        this.closePage(2);\r\n        await this.loadList();\r\n    }\r\n\r\n    updateProductData = async (productdata: any, oldorigin: any) => {\r\n\r\n        if (productdata) {\r\n            productdata.isTrue = 1;\r\n            let { chemical } = productdata;\r\n            // 同一供应商同品牌不能存在相同的供应商自编号\r\n            let origin = await this.uqs.rms.SearchProductByOrigin.query({ supplier: productdata.supplier, brand: productdata.brand, origin: productdata.origin });\r\n            if (origin.ret.length > 0) {\r\n                productdata.origin = oldorigin;\r\n            }\r\n            await this.uqs.rms.Product.save(productdata.id, productdata);\r\n            await this.uqs.rms.RsProductChemical.add({ product: productdata.id, arr1: [{ chemical: chemical.id, CAS: productdata.CAS, molecularFomula: productdata.molecularFomula, molecularWeight: productdata.molecularWeight, purity: productdata.purity }] });\r\n        }\r\n    }\r\n\r\n    saveProductProperty = async (property: any, product: any) => {\r\n\r\n        if (property.id === undefined) {\r\n            property.product = product;\r\n            let result = await this.uqs.rms.ProductProperty.save(undefined, property);\r\n        }\r\n        this.closePage();\r\n        await this.showProductPropertyDetail(product);\r\n    }\r\n\r\n    updatProductPropertyData = async (propertydata: any) => {\r\n\r\n        if (propertydata) {\r\n            await this.uqs.rms.ProductProperty.save(propertydata.id, propertydata);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewProduct = async (model: any, supplier?: any) => {\r\n        this.chemical = model;\r\n        this.supplier = supplier;\r\n        this.openVPage(VAddProduct, { product: undefined });\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    showProductDetail = async (model: any) => {\r\n        let { id } = model;\r\n        let pitem = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let restrictMark: any[] = await this.uqs.rms.ProductRestrictMark.table({ product: id });\r\n        if (restrictMark.length > 0) {\r\n            let result: any[] = [];\r\n            for (let item of restrictMark) {\r\n                let res = await this.uqs.rms.RestrictMark.load(item.restrictMark.id);\r\n                if (res !== undefined) {\r\n                    result.push(res);\r\n                }\r\n            }\r\n            model.restrictMark = result;\r\n        }\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n\r\n    /**\r\n    * 打开产品性质详情界面\r\n    */\r\n    showProductPropertyDetail = async (product: any) => {\r\n        let { id } = product;\r\n        let property = await this.uqs.rms.SearchProductProperty.query({ _id: id });\r\n        if (property.ret.length === 0) {\r\n            this.openVPage(VProductProperty, id);\r\n        } else {\r\n            this.openVPage(VProductPropertyDetail, property.ret[0]);\r\n        }\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchProductByKey(\"\", \"李\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VProductList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n\r\n    delProduct = async (product: any) => {\r\n        let { id } = product;\r\n        product.isTrue = 0;\r\n        await this.uqs.rms.Product.save(id, product);\r\n    }\r\n\r\n    delPakage = async (ppackage: any) => {\r\n        let { id, product } = ppackage;\r\n        let param = {\r\n            radiox: ppackage.radiox,\r\n            radioy: ppackage.radioy,\r\n            unit: ppackage.unit,\r\n            type: ppackage.type,\r\n            isValid: 0,\r\n        }\r\n        let result = await this.uqs.rms.Product.saveArr(\"Pack\", product.id, id, param);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CChemical } from './CChemical';\r\n\r\nexport class VChemical extends VPage<CChemical> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { chemicals, searchChemicalByKey, onNewChemical } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchChemicalByKey(key)}\r\n                placeholder=\"请输入CAS、名称关键字\" />\r\n            <div><span onClick={() => onNewChemical()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span>\r\n            </div>\r\n        </div>;\r\n\r\n        return <Page header=\"选择标准库\" right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={chemicals} item={{ render: this.renderItem }} />\r\n        </Page>;\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.chemicals.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description } = item;\r\n        let { supplier } = this.controller;\r\n        let { onNewProduct } = this.controller.cApp.cProduct;\r\n        return <LMR className=\"py-2 border\" onClick={() => onNewProduct(item, supplier)}>\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS：{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CChemical } from './CChemical';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'CAS', type: 'string', required: false },\r\n    { name: 'description', type: 'string', required: false },\r\n    { name: 'descriptoinCN', type: 'string', required: false },\r\n    { name: 'molecularFomula', type: 'string', required: false },\r\n    { name: 'molecularWeight', type: 'number', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VAddChemical extends VPage<CChemical> {\r\n\r\n    private form: Form;\r\n    private chemicalData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            CAS: { widget: 'text', label: 'CAS', placeholder: 'CAS' } as UiInputItem,\r\n            description: { widget: 'text', label: '英文名称', placeholder: '英文名称' } as UiInputItem,\r\n            descriptoinCN: { widget: 'text', label: '中文名称', placeholder: '中文名称' } as UiInputItem,\r\n            molecularFomula: { widget: 'text', label: '分子式', placeholder: '分子式' } as UiInputItem,\r\n            molecularWeight: { widget: 'text', label: '分子量', placeholder: '分子量' } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(chemicalData: any) {\r\n        this.chemicalData = chemicalData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveChemicalData(context.form.data);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.chemicalData);\r\n\r\n        return <Page header=\"添加标准库\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import fetch, { Headers } from 'node-fetch';\r\n\r\nexport class WebApiClient {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    async newChemical(model?: any): Promise<any> {\r\n        try {\r\n            let { CAS, description, descriptoinCN, molecularFomula, molecularWeight } = model;\r\n            let chemical = { CAS: CAS, EnglishName: description, ChineseName: descriptoinCN, MolecularFomula: molecularFomula, MolecularWeight: molecularWeight };\r\n\r\n            let url = await this.getUrl(\"http://localhost:38311/api/Chemical/CreateChemid\", chemical);\r\n            let fetchInit = {\r\n                headers: {\r\n                    \"Content-Type\": 'application/x-www-form-urlencoded'\r\n                },\r\n                method: \"post\"\r\n            };\r\n            let res = await fetch(url, fetchInit);\r\n            if (res.status !== 200) {\r\n                console.error(res.statusText, res.status);\r\n                throw {\r\n                    error: res.statusText,\r\n                    code: res.status,\r\n                };\r\n            }\r\n            let json = await res.json();\r\n            if (json.error !== undefined) {\r\n                throw json.error;\r\n            }\r\n            if (json.ok === true) {\r\n                return json;\r\n            }\r\n            return json;\r\n        } catch (error) {\r\n            console.log(error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    protected async getUrl(url: string, params: any = undefined): Promise<any> {\r\n        if (params) {\r\n            let keys = Object.keys(params);\r\n            if (keys.length > 0) {\r\n                let c = '?';\r\n                for (let k of keys) {\r\n                    let v = params[k];\r\n                    if (v === undefined) continue;\r\n                    url += c + k + '=' + encodeURIComponent(params[k]);\r\n                    c = '&';\r\n                }\r\n            }\r\n        }\r\n        return url;\r\n    }\r\n}\r\nexport const httpClient = new WebApiClient();","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VChemical } from './VChemical';\r\nimport { VAddChemical } from './VAddChemical';\r\nimport { httpClient } from \"../../tools/webApiClient\";\r\n\r\nclass PageChemical extends PageItems<any> {\r\n\r\n    private searchChemical: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchChemical = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchChemical.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CChemical extends CUqBase {\r\n\r\n    @observable chemicals: PageChemical;\r\n    @observable supplier: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.supplier = param;\r\n        this.searchChemicalByKey(\"\");\r\n        this.openVPage(VChemical);\r\n    }\r\n\r\n    searchChemicalByKey = async (key: string) => {\r\n        if (key.length < 20) {\r\n            key = key.replace(\"-\", \"\").replace(\"-\", \"\");\r\n        }\r\n\r\n        this.chemicals = new PageChemical(this.uqs.chemical.SearchChemical);\r\n        this.chemicals.first({ key: key });\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewChemical = async () => {\r\n        this.openVPage(VAddChemical, { description: undefined });\r\n    }\r\n\r\n    saveChemicalData = async (chemical: any) => {\r\n\r\n        if (chemical.id === undefined) {\r\n            chemical.no = await httpClient.newChemical(chemical);\r\n            await this.uqs.chemical.Chemical.save(undefined, chemical);\r\n        }\r\n        this.closePage();\r\n        await this.searchChemicalByKey(\"\");\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CPackage } from './CPackage';\r\nimport { tariffRateValidation } from 'tools/inputValidations';\r\n\r\nexport class VPackage extends VPage<CPackage> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'quantity', type: 'number', required: true },\r\n        { name: 'radiox', type: 'number', required: true },\r\n        { name: 'radioy', type: 'number', required: true },\r\n        { name: 'unit', type: 'id', required: true },\r\n        { name: 'purity', type: 'string', required: false },\r\n        { name: 'type', type: 'string', required: true },\r\n        { name: 'listPrice', type: 'number', required: false },\r\n        { name: 'price', type: 'number', required: true },\r\n        { name: 'currency', type: 'id', required: true },\r\n        { name: 'isTaxIn', type: 'number', required: true },\r\n        { name: 'invoiceType', type: 'number', required: true },\r\n        { name: 'vatRate', type: 'id', required: false },\r\n        { name: 'tariffRate', type: 'number', required: false },\r\n        { name: 'isTransFeeIn', type: 'number', required: true },\r\n        { name: 'transFee', type: 'number', required: false },\r\n        { name: 'transFeecurrency', type: 'id', required: false },\r\n        { name: 'packingFee', type: 'number', required: false },\r\n        { name: 'packingcurrency', type: 'id', required: false },\r\n        { name: 'otherFee', type: 'number', required: false },\r\n        { name: 'otherFeecurrency', type: 'id', required: false },\r\n        { name: 'customizeUpto', type: 'date', required: false },\r\n        { name: 'validUpto', type: 'date', required: true },\r\n        { name: 'minArriveDate', type: 'date', required: false },\r\n        { name: 'maxArriveDate', type: 'date', required: false },\r\n        { name: 'remark', type: 'string', required: false },\r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            quantity: { widget: 'text', label: '数量', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '套', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '包装规格', placeholder: '必填' } as UiInputItem,\r\n            unit: {\r\n                widget: 'id', label: '包装单位', placeholder: '包装单位',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickPackUnit(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择包装单位</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            purity: { widget: 'text', label: '报价纯度', placeholder: '报价纯度' } as UiInputItem,\r\n            type: { widget: 'radio', label: '类型', list: [{ value: 1, title: '目录包装' }, { value: 2, title: '非目录包装' }] } as UiRadio,\r\n            listPrice: { widget: 'text', label: '目录价', placeholder: '目录价' } as UiInputItem,\r\n            price: { widget: 'text', label: '结算价', placeholder: '必填' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '结算币种', placeholder: '结算币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择结算币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '含税费', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            invoiceType: { widget: 'radio', label: '发票类型', list: [{ value: \"1\", title: '增值税专用发票' }, { value: \"2\", title: '增值税普通发票' }, { value: \"3\", title: '形式发票' }, { value: \"4\", title: '无发票' }] } as UiRadio,\r\n            vatRate: {\r\n                widget: 'id', label: '增值税率', placeholder: '增值税率',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickVatRate(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择增值税率</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description * 100}</>)}%\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            tariffRate: { widget: 'text', label: '关税税率', placeholder: '关税税率', rules: tariffRateValidation } as UiInputItem,\r\n            isTransFeeIn: { widget: 'radio', label: '含运费', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '运费', placeholder: '运费' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '运费币种', placeholder: '运费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择运费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '包装费', placeholder: '包装费' } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '包装费币种', placeholder: '包装费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择包装费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '其他费', placeholder: '其他费' } as UiInputItem,\r\n            otherFeecurrency: {\r\n                widget: 'id', label: '其他费币种', placeholder: '其他费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择其他费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            customizeUpto: { widget: 'date', label: '定制截止日期' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '报价有效期', placeholder: '必填' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '最短到货期', placeholder: '必填' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '最长到货期', placeholder: '必填' } as UiInputItem,\r\n            remark: { widget: 'textarea', label: '报价备注', placeholder: '报价备注', rows: 2 } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { savePackage } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await savePackage(id, context.form.data, this.parent);\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        return <Page header=\"编辑包装\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.item}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage, EasyDate, tv } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackageDetail extends VPage<CPackage> {\r\n\r\n    private package: any;\r\n\r\n    async open(param: any) {\r\n        this.package = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let packageData = _.clone(this.package);\r\n        let { radiox, radioy, unit, type, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee\r\n            , transFeecurrency, packingFee, packingcurrency, otherFee\r\n            , otherFeecurrency, customizeUpto, validUpto, minArriveDate\r\n            , maxArriveDate, invoiceType, vatRate, tariffRate, remark } = packageData;\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{name}</> : <>{radioy}{name}</>;\r\n\r\n        let header = <header>\r\n            <span>包装详情: {radio}</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\" >\r\n            <div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{type === 1 ? \"目录包装\" : (type === 2 ? \"非目录包装\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>目录价:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{listPrice}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>结算价:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含税费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTaxIn === 1 ? \"含\" : (isTaxIn === 0 ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTransFeeIn === 1 ? \"含\" : (isTransFeeIn === 0 ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>其他费用:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{otherFee}{otherFeecurrency === undefined ? \"\" : tv(otherFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>定制时间至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={customizeUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>有效期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={validUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最短货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={minArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最长货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={maxArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>发票类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{invoiceType === undefined ? \"\" : (invoiceType.id === 1 ? \"增值税专用发票\" : (invoiceType.id === 2 ? \"增值税普通发票\" : (invoiceType === 3 ? \"形式发票\" : \"无发票\")))}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>增值税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{vatRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>关税税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{tariffRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>报价备注:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{remark}</div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CVatRate } from './CVatRate';\r\n\r\nexport class VVatRate extends VPage<CVatRate> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { vatRates } = this.controller;\r\n        return <Page header=\"选择增值税率\">\r\n            <div className=\"row no-gutters\">\r\n                {vatRates.map((v: any) => this.renderVatRate(v, this.onVatRateClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderVatRate = (vatRate: any, onClick: any) => {\r\n        let { id, description } = vatRate;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onVatRateClick(vatRate)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {description * 100}%\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onVatRateClick = async (item: any) => {\r\n        await this.controller.returnVatRate(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VVatRate } from './VVatRate';\r\n\r\nexport class CVatRate extends CUqBase {\r\n\r\n    @observable vatRates: any;\r\n\r\n    protected async internalStart() {\r\n        let result = await this.uqs.rms.SearchVatRate.query(\"\");\r\n        this.vatRates = result.ret;\r\n        this.openVPage(VVatRate);\r\n    }\r\n\r\n    returnVatRate = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CPackUnit } from './CPackUnit';\r\n\r\nexport class VPackUnit extends VPage<CPackUnit> {\r\n\r\n    async open(param: any[]) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { packUnits } = this.controller;\r\n        return <Page header=\"选择包装单位\">\r\n            <div className=\"row no-gutters\">\r\n                {packUnits.map((v: any) => this.renderPackUnit(v, this.onPackUnitClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPackUnit = (packUnit: any, onClick: any) => {\r\n        let { id, name } = packUnit;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onPackUnitClick(packUnit)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {name}\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onPackUnitClick = async (item: any) => {\r\n        await this.controller.returnPackUnit(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPackUnit } from './VPackUnit';\r\n\r\nexport class CPackUnit extends CUqBase {\r\n\r\n    @observable packUnits: any;\r\n\r\n    protected async internalStart() {\r\n        let result = await this.uqs.common.SearchPackType.query(\"\");\r\n        this.packUnits = result.ret;\r\n        this.openVPage(VPackUnit);\r\n    }\r\n\r\n    returnPackUnit = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPackage } from \"./VPackage\";\r\nimport { VPackageDetail } from \"./VPackageDetail\";\r\nimport { VProductDetail } from \"../product/VProductDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CVatRate } from \"./CVatRate\";\r\nimport { CPackUnit } from './CPackUnit';\r\n\r\nclass PagePackage extends PageItems<any> {\r\n    private searchPackage: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPackage = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPackage.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPackage extends CUqBase {\r\n\r\n    @observable pagePackage: PagePackage;\r\n    protected async internalStart() {\r\n    }\r\n\r\n    searchPackageByKey = async (parent: any, key: string) => {\r\n        this.pagePackage = new PagePackage(await this.uqs.rms.GetPack.query({ _id: parent.id }));\r\n        this.pagePackage.first({ key: key });\r\n    }\r\n\r\n    pickVatRate = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cVatRate = this.newC(CVatRate);\r\n        return await cVatRate.call<number>();\r\n    }\r\n\r\n    pickPackUnit = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cPackUnit = this.newC(CPackUnit);\r\n        return await cPackUnit.call<number>();\r\n    }\r\n\r\n    //添加联系人\r\n    showCreatePackage = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showEditPackage = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showPackageDetail = async (model: any) => {\r\n        this.openVPage(VPackageDetail, model);\r\n    }\r\n\r\n    savePackage = async (id: number, param: any, parent: any) => {\r\n        // await this.uqs.rms.Product.saveArr(\"Pack\", parent.id, id, param);\r\n        let { quantity, radiox, radioy, unit, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, type, remark, purity } = param;\r\n        let paramn = {\r\n            product: parent,\r\n            quantity: quantity,\r\n            radiox: radiox,\r\n            radioy: radioy,\r\n            unit: unit,\r\n            listPrice: listPrice,\r\n            price: price,\r\n            currency: currency,\r\n            isTaxIn: isTaxIn,\r\n            isTransFeeIn: isTransFeeIn,\r\n            transFee: transFee,\r\n            transFeecurrency: transFeecurrency,\r\n            packingFee: packingFee,\r\n            packingcurrency: packingcurrency,\r\n            otherFee: otherFee,\r\n            otherFeecurrency: otherFeecurrency,\r\n            customizeUpto: customizeUpto,\r\n            validUpto: validUpto,\r\n            minArriveDate: minArriveDate,\r\n            maxArriveDate: maxArriveDate,\r\n            invoiceType: invoiceType,\r\n            vatRate: vatRate,\r\n            tariffRate: tariffRate,\r\n            type: type,\r\n            remark: remark,\r\n            purity: purity\r\n        };\r\n        await this.uqs.rms.AddPackage.submit(paramn);\r\n        this.cApp.cProduct.showProductDetail(parent);\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //包装列表\r\n    showPackage = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickProduct } from './CPickProduct';\r\n\r\nexport class VPickProduct extends VPage<CPickProduct> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, searchProductByKey } = this.controller;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n        </div>;\r\n        return <Page header=\"选择产品\"  right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={products} item={{ render: this.renderItem, onClick: onNewPendingInquiry }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description, supplier } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VPickProduct } from './VPickProduct';\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        this.openVPage(VPickProduct);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key, pickType: undefined });\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryList extends VPage<CPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, inquiryDate } = item;\r\n        let { onShowPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted\">\r\n            <EasyDate date={inquiryDate} />\r\n        </div>\r\n        let left = <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n        return <LMR left={left} right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => onShowPendingInquiryDetail(item)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pendingInquirys, searchPendingInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchPendingInquiryByKey(key)}\r\n                placeholder=\"请输入供应商关键字\" />\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >已询出</div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={pendingInquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiRadio, Form, Context } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryDetail extends VPage<CPendingInquiry> {\r\n    private pending: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n    private model: any;\r\n\r\n    async open(param: any) {\r\n        this.model = param;\r\n        let { parent, item, child } = param;\r\n        this.pending = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity, inquiryRemarks, jsonStr } = item;\r\n        let { brand, description, descriptionC, origin } = product.obj;\r\n        let packresult = jsonStr === undefined ? jsonStr : JSON.parse(jsonStr);\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{name}</> : <>{radioy}{name}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n        let resultclass = jsonStr === undefined ? \"px-2 text-warning\" : \"px-2 text-primary\";\r\n        let right = packresult !== undefined && packresult.result === \"1\" && packresult.isUsed === \"1\" ? \"\" :\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div >;\r\n        return <LMR right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => packresult !== undefined && packresult.result === \"1\" && packresult.isUsed === \"1\" ? this.controller.openPackageDetail(item) : this.controller.openPendingInquiryResult(item)}>\r\n            <div><FA name=\"caret-right\" className={resultclass}></FA>{origin}&nbsp;&nbsp;{CAS}&nbsp;&nbsp;{quantity} * {radio} {purity}</div>\r\n            <div className=\"px-4 text-muted\">{description}</div>\r\n            <div className=\"px-4 text-muted\"><span className=\"text-muted small\">{inquiryRemarks}</span></div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowEnd = () => {\r\n        return this.firstPackage && <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.onEndInquiry()}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b>完结询价</b></span>\r\n                    <span className=\"px-2\"><FA name=\"chevron-right fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private onEndInquiry = async () => {\r\n        if (await this.vCall(VConfirmEndInquiry, this.pending) === true) {\r\n            await this.controller.saveInquiryData(this.pending, this.packages);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, inquiryUser, inquiryDate, user, date, remarks } = suppplierData;\r\n        let { id } = user;\r\n        let { id: inid } = inquiryUser;\r\n\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">供应商:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">联系人:</div><div className=\"col-9\"><span>{contactName}&nbsp;{contactTelephone} {contactMobile} {contactEmail}</span></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">创建人:</div><div className=\"col-9\">{id}&nbsp;<EasyDate date={date} /></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">询价人:</div><div className=\"col-9\">{inid}&nbsp;{way === 1 ? \"Email询价\" : (way === 2 ? \"电话询价\" : \"传真询价\")} <EasyDate date={inquiryDate} /></div>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.pending);\r\n\r\n        return <Page header=\"询价详情\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            {this.rowEnd()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmEndInquiry extends VPage<CPendingInquiry> {\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n        return <Page header=\"完结询单\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否完结询单？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>完结</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CCurrency } from './CCurrency';\r\n\r\nexport class VCurrency extends VPage<CCurrency> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { currencys } = this.controller;\r\n        return <Page header=\"选择币种\">\r\n            <div className=\"row no-gutters\">\r\n                {currencys.map((v: any) => this.renderCurrency(v, this.onCurrencyClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderCurrency = (currency: any, onClick: any) => {\r\n        let { id, name } = currency;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onCurrencyClick(currency)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {name}\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onCurrencyClick = async (item: any) => {\r\n        await this.controller.returnCurrency(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VCurrency } from './VCurrency';\r\n\r\nexport class CCurrency extends CUqBase {\r\n\r\n    @observable currencys: any;\r\n\r\n    protected async internalStart() {\r\n        this.currencys = await this.uqs.common.Currency.search(\"\", 0, 100);\r\n        this.openVPage(VCurrency);\r\n    }\r\n\r\n    returnCurrency = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiTextItem, UiRadio, tv, UiIdItem, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\nimport { tariffRateValidation } from 'tools/inputValidations';\r\nimport { CApp } from 'CApp';\r\nimport { parse } from 'url';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'notProvidedReason', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: false },\r\n    { name: 'radiox', type: 'number', required: false },\r\n    { name: 'radioy', type: 'number', required: false },\r\n    { name: 'unit', type: 'id', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'listPrice', type: 'number', required: false },\r\n    { name: 'price', type: 'number', required: false },\r\n    { name: 'currency', type: 'id', required: false },\r\n    { name: 'isTaxIn', type: 'number', required: false },\r\n    { name: 'invoiceType', type: 'number', required: false },\r\n    { name: 'vatRate', type: 'id', required: false },\r\n    { name: 'tariffRate', type: 'number', required: false },\r\n    { name: 'isTransFeeIn', type: 'number', required: false },\r\n    { name: 'transFee', type: 'number', required: false },\r\n    { name: 'transFeecurrency', type: 'id', required: false },\r\n    { name: 'packingFee', type: 'number', required: false },\r\n    { name: 'packingcurrency', type: 'id', required: false },\r\n    { name: 'otherFee', type: 'number', required: false },\r\n    { name: 'otherFeecurrency', type: 'id', required: false },\r\n    { name: 'customizeUpto', type: 'date', required: false },\r\n    { name: 'validUpto', type: 'date', required: false },\r\n    { name: 'minArriveDate', type: 'date', required: false },\r\n    { name: 'maxArriveDate', type: 'date', required: false },\r\n    { name: 'packType', type: 'number', required: false },\r\n    { name: 'remarks', type: 'string', required: false },\r\n    { name: 'coaFilePath', type: 'string', required: false },\r\n    { name: 'msdsFilePath', type: 'string', required: false },\r\n    { name: 'quotationFilePath', type: 'string', required: false },\r\n    { name: 'isUsed', type: 'number', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiryResult extends VPage<CPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private inquiryData: any;\r\n    @observable showTip: boolean = false;\r\n    saveTip: string = \"\";\r\n\r\n    async open(inquiryData: any) {\r\n        this.inquiryData = inquiryData;\r\n        let { result } = inquiryData;\r\n        this.result = (result) || \"0\";\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            notProvidedReason: {\r\n                widget: 'id', label: '不可供原因', placeholder: '不可供原因',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickNotProvidedReason(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择不可供原因</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            quantity: { widget: 'text', label: '数量', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '套', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '包装规格', placeholder: '必填' } as UiInputItem,\r\n            unit: {\r\n                widget: 'id', label: '包装单位', placeholder: '包装单位',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPackage.pickPackUnit(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择包装单位</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            purity: { widget: 'text', label: '报价纯度', placeholder: '报价纯度' } as UiInputItem,\r\n            listPrice: { widget: 'text', label: '目录价', placeholder: '目录价' } as UiInputItem,\r\n            price: { widget: 'text', label: '结算价', placeholder: '必填' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '结算币种', placeholder: '结算币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择结算币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '含税费', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            invoiceType: { widget: 'radio', label: '发票类型', list: [{ value: \"1\", title: '增值税专用发票' }, { value: \"2\", title: '增值税普通发票' }, { value: \"3\", title: '形式发票' }, { value: \"4\", title: '无发票' }] } as UiRadio,\r\n            vatRate: {\r\n                widget: 'id', label: '增值税率', placeholder: '增值税率',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPackage.pickVatRate(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择增值税率</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.description * 100}</>)}%\r\n                </>;\r\n                }\r\n            } as UiIdItem,\r\n            tariffRate: { widget: 'text', label: '关税税率', placeholder: '关税税率', rules: tariffRateValidation } as UiInputItem,\r\n            isTransFeeIn: { widget: 'radio', label: '含运费', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '运费', placeholder: '运费' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '运费币种', placeholder: '运费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择运费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '包装费', placeholder: '包装费' } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '包装费币种', placeholder: '包装费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择包装费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '其他费', placeholder: '其他费' } as UiInputItem,\r\n            otherFeecurrency: {\r\n                widget: 'id', label: '其他费币种', placeholder: '其他费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择其他费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            customizeUpto: { widget: 'date', label: '定制截止日期' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '报价有效期', placeholder: '必填' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '最短到货期', placeholder: '必填' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '最长到货期', placeholder: '必填' } as UiInputItem,\r\n            packType: { widget: 'radio', label: '包装类型', list: [{ value: \"1\", title: '目录包装' }, { value: \"2\", title: '非目录包装' }] } as UiRadio,\r\n            remarks: { widget: 'text', label: '备注', row: 10, placeholder: '备注' } as UiInputItem,\r\n            coaFilePath: { widget: 'text', label: 'COA文件路径', placeholder: 'COA文件路径' } as UiInputItem,\r\n            msdsFilePath: { widget: 'text', label: 'MSDS文件路径', placeholder: 'MSDS文件路径' } as UiInputItem,\r\n            quotationFilePath: { widget: 'text', label: '报价单文件路径', placeholder: '报价单文件路径' } as UiInputItem,\r\n            isUsed: { widget: 'radio', label: '更新包装价格', className: \"text-danger\", list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { form } = context;\r\n        let { data } = form;\r\n        data.result = this.result;\r\n        try {\r\n            if (data.isUsed === \"1\") {\r\n                if (await this.vCall(VConfirmUpdatePackage) === true) {\r\n                    await this.controller.saveInquiryPackage(data, this.inquiryData);\r\n                }\r\n            } else {\r\n                await this.controller.saveInquiryPackage(data, this.inquiryData);\r\n            }\r\n            this.saveTip = \"询价结果已经保存\";\r\n        } catch (error) {\r\n            this.saveTip = \"询价结果保存失败，请稍后再试\";\r\n        }\r\n        this.showTip = true;\r\n        setTimeout(() => { this.showTip = false; }, 2000);\r\n    }\r\n\r\n    private getResult = (result: string) => {\r\n        let { notProvidedReason, quantity, radiox, radioy, unit, purity, listPrice, price, currency, isTaxIn, vatRate, tariffRate, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, packType, remarks, coaFilePath, msdsFilePath, quotationFilePath, isUsed } = this.uiSchema.items;\r\n        if (result === \"0\") {\r\n            notProvidedReason.visible = true;\r\n            quantity.visible = false;\r\n            radiox.visible = false;\r\n            radioy.visible = false;\r\n            unit.visible = false;\r\n            purity.visible = false;\r\n            listPrice.visible = false;\r\n            price.visible = false;\r\n            currency.visible = false;\r\n            isTaxIn.visible = false;\r\n            vatRate.visible = false;\r\n            tariffRate.visible = false;\r\n            isTransFeeIn.visible = false;\r\n            transFee.visible = false;\r\n            transFeecurrency.visible = false;\r\n            packingFee.visible = false;\r\n            packingcurrency.visible = false;\r\n            otherFee.visible = false;\r\n            otherFeecurrency.visible = false;\r\n            customizeUpto.visible = false;\r\n            validUpto.visible = false;\r\n            minArriveDate.visible = false;\r\n            maxArriveDate.visible = false;\r\n            invoiceType.visible = false;\r\n            packType.visible = false;\r\n            remarks.visible = false;\r\n            coaFilePath.visible = false;\r\n            msdsFilePath.visible = false;\r\n            quotationFilePath.visible = false;\r\n            isUsed.visible = false;\r\n        } else {\r\n            notProvidedReason.visible = false;\r\n            quantity.visible = true;\r\n            radiox.visible = true;\r\n            radioy.visible = true;\r\n            unit.visible = true;\r\n            purity.visible = true;\r\n            listPrice.visible = true;\r\n            price.visible = true;\r\n            currency.visible = true;\r\n            isTaxIn.visible = true;\r\n            vatRate.visible = true;\r\n            tariffRate.visible = true;\r\n            isTransFeeIn.visible = true;\r\n            transFee.visible = true;\r\n            transFeecurrency.visible = true;\r\n            packingFee.visible = true;\r\n            packingcurrency.visible = true;\r\n            otherFee.visible = true;\r\n            otherFeecurrency.visible = true;\r\n            customizeUpto.visible = true;\r\n            validUpto.visible = true;\r\n            minArriveDate.visible = true;\r\n            maxArriveDate.visible = true;\r\n            invoiceType.visible = true;\r\n            packType.visible = true;\r\n            remarks.visible = true;\r\n            coaFilePath.visible = true;\r\n            msdsFilePath.visible = true;\r\n            quotationFilePath.visible = true;\r\n            isUsed.visible = true;\r\n        }\r\n\r\n        schema.forEach(e => {\r\n            if (this.result === \"0\") {\r\n                if (e.name === \"notProvidedReason\") {\r\n                    e.required = true;\r\n                }\r\n            } else {\r\n                if (e.name === \"quantity\" || e.name === \"radiox\" || e.name === \"radioy\" || e.name === \"unit\" || e.name === \"price\" || e.name === \"currency\" || e.name === \"isTaxIn\" || e.name === \"isTransFeeIn\" || e.name === \"validUpto\" || e.name === \"minArriveDate\" || e.name === \"maxArriveDate\" || e.name === \"invoiceType\" || e.name === \"packType\" || e.name === \"isUsed\") {\r\n                    e.required = true;\r\n                }\r\n                if (e.name === \"notProvidedReason\") {\r\n                    e.required = false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @observable result: string;\r\n\r\n    private onResultClick = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.result = event.currentTarget.value;\r\n        this.getResult(this.result);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        this.getResult(this.result);\r\n        let tipUI = this.showTip ? (<div className=\"alert alert-primary\" role=\"alert\">\r\n            <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n            {this.saveTip}\r\n        </div>) : null;\r\n        return <Page header=\"录入询价结果\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"px-3\">\r\n                <div className=\"form-group row py-3 mb-1 bg-white\">\r\n                    <div className=\"col-12 col-sm-3 pb-2 text-muted\">询价结果:</div>\r\n                    <div className=\"col-12 col-sm-9\">\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input className=\"form-check-input\" type=\"radio\" name=\"invoiceType\" id=\"common\" value=\"0\"\r\n                                onChange={(event) => this.onResultClick(event)} checked={this.result === \"0\"}></input>\r\n                            <label className=\"form-check-label\" htmlFor=\"common\">无法提供</label>\r\n                        </div>\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input className=\"form-check-input\" type=\"radio\" name=\"invoiceType\" id=\"valueAdded\" value=\"1\"\r\n                                onChange={(event) => this.onResultClick(event)} checked={this.result === \"1\"}></input>\r\n                            <label className=\"form-check-label\" htmlFor=\"valueAdded\">可提供</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"p-3 bg-white\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={this.inquiryData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3} />\r\n                {tipUI}\r\n            </div>\r\n        </Page>\r\n    });\r\n}\r\n\r\nclass VConfirmUpdatePackage extends VPage<CPendingInquiry> {\r\n    async open(item?: any) {\r\n        this.openPage(this.page, item);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (product: any) => {\r\n        return <Page header=\"更新包装价格\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否更新包装价格？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>更新</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CNotProvidedReason } from './CNotProvidedReason';\r\n\r\nexport class VNotProvidedReason extends VPage<CNotProvidedReason> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { notProvidedReasons } = this.controller;\r\n        return <Page header=\"选择不可供原因\">\r\n            <div className=\"row no-gutters\">\r\n                {notProvidedReasons.map((v: any) => this.renderNotProvidedReason(v, this.onNotProvidedReasonClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderNotProvidedReason = (notProvidedReason: any, onClick: any) => {\r\n        let { id, description } = notProvidedReason;\r\n        return <div key={id} className=\"col-12 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onNotProvidedReasonClick(notProvidedReason)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {description}\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onNotProvidedReasonClick = async (item: any) => {\r\n        await this.controller.returnNotProvidedReason(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { VNotProvidedReason } from './VNotProvidedReason';\r\n\r\nexport class CNotProvidedReason extends CUqBase {\r\n\r\n    @observable notProvidedReasons: any;\r\n\r\n    protected async internalStart() {\r\n        this.notProvidedReasons = await this.uqs.rms.NotProvidedReason.search(\"\", 0, 200);\r\n        this.openVPage(VNotProvidedReason);\r\n    }\r\n\r\n    returnNotProvidedReason = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { FA, Page, VPage, EasyDate, tv } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingPackageDetail extends VPage<CPendingInquiry> {\r\n\r\n    private package: any;\r\n\r\n    async open(param: any) {\r\n        this.package = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let packageData = _.clone(this.package);\r\n        let { quantity, radiox, radioy, unit, packType, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee\r\n            , transFeecurrency, packingFee, packingcurrency, otherFee\r\n            , otherFeecurrency, customizeUpto, validUpto, minArriveDate, result\r\n            , maxArriveDate, invoiceType, vatRate, tariffRate, remarks, notProvidedReason, isUsed, coaFilePath, msdsFilePath, quotationFilePath } = packageData;\r\n        let name = unit === undefined ? undefined : unit.name;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{name}</> : <>{radioy}{name}</>;\r\n\r\n        let header = <header>\r\n            <span>询价结果: {quantity} * {radio}</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\" >\r\n            <div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>询价结果:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{result === \"1\" ? \"可供\" : (result === \"0\" ? \"不可供\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packType === \"1\" ? \"目录包装\" : (packType === \"2\" ? \"非目录包装\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>目录价:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{listPrice}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>结算价:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含税费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTaxIn === \"1\" ? \"含\" : (isTaxIn === \"0\" ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTransFeeIn === \"1\" ? \"含\" : (isTransFeeIn === \"0\" ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>其他费用:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{otherFee}{otherFeecurrency === undefined ? \"\" : tv(otherFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>定制时间至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={customizeUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>有效期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={validUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最短货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={minArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最长货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={maxArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>发票类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{invoiceType === undefined ? \"\" : (invoiceType.id === \"1\" ? \"增值税专用发票\" : (invoiceType.id === \"2\" ? \"增值税普通发票\" : (invoiceType === \"3\" ? \"形式发票\" : \"无发票\")))}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>增值税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{vatRate === undefined ? \"\" : tv(vatRate, v => <>{v.description}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>关税税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{tariffRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>报价备注:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{remarks}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>COA文件路径:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{coaFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>MSDS文件路径:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{msdsFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>报价单文件路径:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{quotationFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>价格是否被使用:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isUsed === \"1\" ? \"是\" : (isUsed === \"0\" ? \"否\" : \"\")}</div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPendingInquiryList } from './VPendingInquiryList';\r\nimport { VPendingInquiryDetail } from './VPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CCurrency } from '../PendingInquiry/CCurrency';\r\nimport { VPendingInquiryResult } from '../PendingInquiry/VPendingInquiryResult';\r\nimport { CNotProvidedReason } from './CNotProvidedReason';\r\nimport { VPendingPackageDetail } from './VPendingPackageDetail';\r\n\r\nclass PagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPendingInquiry extends CUqBase {\r\n\r\n    @observable pendingInquirys: PagePendingInquiry;\r\n    @observable pendingInquiryList: PagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchPendingInquiryByKey = async (key: string) => {\r\n        this.pendingInquirys = new PagePendingInquiry(this.uqs.rms.SearchInquiryPending);\r\n        this.pendingInquirys.first({ key: key });\r\n    }\r\n\r\n    pickNotProvidedReason = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cNotProvidedReason = this.newC(CNotProvidedReason);\r\n        return await cNotProvidedReason.call<number>();\r\n    }\r\n\r\n    savePendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let { quantity, radiox, radioy, unit } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    getDataForSave = (pending: any, items: any[]) => {\r\n\r\n        let { contact, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, user, date, inquiryDate, inquiryUser, supplier, way } = pending;\r\n        let inquiryItems: any[] = [];\r\n        items.forEach(pk => {\r\n            if (pk.jsonStr === undefined) { return; };\r\n            let pack = JSON.parse(pk.jsonStr);\r\n            inquiryItems.push({\r\n                no: undefined\r\n                , product: pk.product\r\n                , inquiryQuantity: pk.quantity\r\n                , inquiryRadiox: pk.radiox\r\n                , inquiryRadioy: pk.radioy\r\n                , inquiryUnit: pk.unit\r\n                , itemuser: pk.user\r\n                , itemcreateDate: pk.createDate\r\n                , inquiryRemarks: pack.remarks\r\n                , remarks: pk.inquiryRemarks\r\n                , inquirypurity: pk.purity\r\n                // , ...pack\r\n                , quantity: pack.quantity\r\n                , radiox: pack.radiox\r\n                , radioy: pack.radioy\r\n                , unit: pack.unit\r\n                , listPrice: pack.listPrice\r\n                , price: pack.price\r\n                , currency: pack.currency\r\n                , isTaxIn: pack.isTaxIn\r\n                , isTransFeeIn: pack.isTransFeeIn\r\n                , transFee: pack.transFee\r\n                , transFeecurrency: pack.transFeecurrency\r\n                , packingFee: pack.packingFee\r\n                , packingcurrency: pack.packingcurrency\r\n                , otherFee: pack.otherFee\r\n                , otherFeecurrency: pack.otherFeecurrency\r\n                , customizeUpto: pack.customizeUpto\r\n                , validUpto: pack.validUpto\r\n                , minArriveDate: pack.minArriveDate\r\n                , maxArriveDate: pack.maxArriveDate\r\n                , invoiceType: pack.invoiceType\r\n                , vatRate: pack.vatRate\r\n                , tariffRate: pack.tariffRate\r\n                , packType: pack.packType\r\n                , coaFilePath: pack.coaFilePath\r\n                , msdsFilePath: pack.msdsFilePath\r\n                , quotationFilePath: pack.quotationFilePath\r\n                , result: pack.result\r\n                , purity: pack.purity\r\n                , notProvidedReason: pack.notProvidedReason\r\n                , isUsed: pack.isUsed\r\n            })\r\n        });\r\n        return {\r\n            supplier,\r\n            contact,\r\n            contactName,\r\n            contactSalutation,\r\n            contactDepartmentName,\r\n            contactTelephone,\r\n            contactMobile,\r\n            contactEmail,\r\n            contactfax,\r\n            way,\r\n            user,\r\n            createDate: date,\r\n            inquiryUser,\r\n            inquiryDate,\r\n            inquiryItems,\r\n        }\r\n    }\r\n\r\n    saveInquiryData = async (pending: any, packageList: any[]) => {\r\n\r\n        let { id } = pending;\r\n        // //保存sheet和保存history\r\n        // let result: any = await this.uqs.rms.InquirySheet.save(\"InquirySheet\", this.getDataForSave(pending, packageList));\r\n        // await this.uqs.rms.InquirySheet.action(result.id, result.flow, result.state, \"submit\");\r\n        // if (result) {\r\n        //     //删除pending及其明细\r\n        //     let param = {\r\n        //         id: id,\r\n        //     };\r\n        //     await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n        // }\r\n        let model = this.getDataForSave(pending, packageList);\r\n        let param = {\r\n            id: id,\r\n            supplier: model.supplier,\r\n            contact: model.contact,\r\n            contactName: model.contactName,\r\n            contactSalutation: model.contactSalutation,\r\n            contactDepartmentName: model.contactDepartmentName,\r\n            contactTelephone: model.contactTelephone,\r\n            contactMobile: model.contactMobile,\r\n            contactEmail: model.contactEmail,\r\n            contactfax: model.contactfax,\r\n            way: model.way,\r\n            user: model.user,\r\n            createDate: model.createDate,\r\n            inquiryUser: model.inquiryUser,\r\n            inquiryDate: model.inquiryDate,\r\n            items: model.inquiryItems\r\n        };\r\n        await this.uqs.rms.AddInquiryResult.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    saveInquiryPackage = async (model: any, inquiry: any) => {\r\n\r\n        if (inquiry) {\r\n            //更新包装结果\r\n            let { id, inquiryPackage, user, createDate, inquiryRemarks, jsonStr } = inquiry;\r\n            let { product } = inquiryPackage.obj;\r\n            let { isUsed, result } = model;\r\n            let jsonstr: any;\r\n\r\n            if (result === \"0\") {\r\n                jsonstr = {\r\n                    id: model.id,\r\n                    notProvidedReason: model.notProvidedReason,\r\n                    quantity: model.quantity,\r\n                    radiox: model.radiox,\r\n                    radioy: model.radioy,\r\n                    unit: model.unit,\r\n                    purity: model.purity,\r\n                    result: model.result\r\n                }\r\n            } else {\r\n                model.notProvidedReason = undefined;\r\n                jsonstr = model;\r\n            }\r\n\r\n            await this.uqs.rms.InquiryPendingItem.add({ inquiryPending: id, arr1: [{ inquiryPackage: inquiryPackage.id, user: user.id, createDate: createDate, remarks: inquiryRemarks, jsonStr: JSON.stringify(jsonstr) }] });\r\n\r\n            if (isUsed === \"1\") {\r\n                //更新包装价格\r\n                let { quantity, radiox, radioy, unit, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, remarks: rremarks, coaFilePath, msdsFilePath, quotationFilePath, result } = model;\r\n                let param = {\r\n                    product: product,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                    listPrice: listPrice,\r\n                    price: price,\r\n                    currency: currency,\r\n                    isTaxIn: isTaxIn,\r\n                    isTransFeeIn: isTransFeeIn,\r\n                    transFee: transFee,\r\n                    transFeecurrency: transFeecurrency,\r\n                    packingFee: packingFee,\r\n                    packingcurrency: packingcurrency,\r\n                    otherFee: otherFee,\r\n                    otherFeecurrency: otherFeecurrency,\r\n                    customizeUpto: customizeUpto,\r\n                    validUpto: validUpto,\r\n                    minArriveDate: minArriveDate,\r\n                    maxArriveDate: maxArriveDate,\r\n                    invoiceType: invoiceType,\r\n                    vatRate: vatRate,\r\n                    tariffRate: tariffRate,\r\n                    packType: packType,\r\n                    remarks: rremarks,\r\n                    coaFilePath: coaFilePath,\r\n                    msdsFilePath: msdsFilePath,\r\n                    quotationFilePath: quotationFilePath\r\n                };\r\n                await this.uqs.rms.AddPackagePrice.submit(param);\r\n            }\r\n            let inquirypending = await this.uqs.rms.SearchInquiryPendingByID.query({ _id: id });\r\n            this.closePage();\r\n            await this.onShowPendingInquiryDetail(inquirypending.ret[0]);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    onShowPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VPendingInquiryDetail, param);\r\n    }\r\n\r\n    pickCurrency = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cCurrency = this.newC(CCurrency);\r\n        return await cCurrency.call<number>();\r\n    }\r\n\r\n    openPendingInquiryResult = async (item: any) => {\r\n        let { id, inquiryPackage } = item;\r\n        let { unit } = inquiryPackage.obj;\r\n        let packages = await this.uqs.rms.InquiryPendingItem.table({ inquiryPending: id, inquiryPackage: inquiryPackage.id });\r\n        let { inquiryPending: newinquiryPending, inquiryPackage: newinquiryPackage, user, createDate, jsonStr: newjsonStr } = packages[0];\r\n        let model;\r\n        if (newjsonStr === undefined) {\r\n            model = item;\r\n            model.unit = unit.obj;\r\n        } else {\r\n            model = JSON.parse(newjsonStr);\r\n            model.inquiryRemarks = item.inquiryRemarks;\r\n            model.inquiryPending = newinquiryPending;\r\n            model.inquiryPackage = newinquiryPackage;\r\n            model.user = user;\r\n            model.createDate = createDate;\r\n        }\r\n        this.openVPage(VPendingInquiryResult, model);\r\n    }\r\n\r\n    openPackageDetail = async (item: any) => {\r\n        let { jsonStr } = item;\r\n        let model = jsonStr === undefined ? jsonStr : JSON.parse(jsonStr);\r\n        this.openVPage(VPendingPackageDetail, model);\r\n    }\r\n\r\n\r\n    loadList = async () => {\r\n        await this.searchPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\n\r\nexport class VInquiryList extends VPage<CInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, contactName, inquiryUser, startDate, inquiryDate, date, sheet, way } = item;\r\n        let { openInquiryDetail } = this.controller;\r\n        let { id } = inquiryUser;\r\n\r\n        // let right = <div className=\"p-2 cursor-pointer text-muted small\">\r\n        //     {/* <div>开始：<EasyDate date={inquiryDate} /></div> */}\r\n        //     {/* <div>询出：<EasyDate date={inquiryDate} /></div> */}\r\n        //     <div><EasyDate date={date} /></div>\r\n        // </div>\r\n        let left = <div>\r\n            <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            <div className=\"text-muted small\">{way === 1 ? \"Email询价\" : (way === 2 ? \"电话询价\" : \"传真询价\")}&nbsp;&nbsp;{id}&nbsp;&nbsp;<EasyDate date={date} /></div>\r\n        </div>\r\n        return <LMR left={left} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => openInquiryDetail(sheet)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { inquirys, searchInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchInquiryByKey(key)}\r\n                placeholder=\"请输入供应商关键字\" />\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >询价单</div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={inquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.inquirys.more();\r\n\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA, LMR } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VInquiryDetail extends VPage<CInquiry> {\r\n\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private renderPackageItem = (item: any, index: number) => {\r\n        let { pack, inquiryQuantity, no, inquiryUnit, inquirypurity, remarks } = item;\r\n        let { name } = inquiryUnit.obj;\r\n        return <LMR key={index} className=\"d-flex cursor-pointer py-1\" onClick={() => this.controller.openPackageDetail(item)}>\r\n            <div><FA name=\"chevron-right\" className=\"px-2 text-primary\"></FA>{inquiryQuantity} * {pack}{name} {inquirypurity} </div>\r\n            <div className=\"text-muted px-4 small\">{remarks}</div>\r\n        </LMR>;\r\n    }\r\n\r\n    private renderProductItem = (item: any, index: number) => {\r\n        let { product, packs } = item;\r\n        let { id } = product;\r\n\r\n        return <LMR key={index} className=\"d-flex px-3 cursor-pointer\">\r\n            <div>{this.controller.renderProduct(id)}</div>\r\n            <div className=\"py-1\">\r\n                <List items={packs} item={{ render: this.renderPackageItem }} />\r\n            </div>\r\n        </LMR>;\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n\r\n        let { brief, data } = inquiry;\r\n        let { id, no, state, description, date, user } = brief;\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, remarks, InquiryItems } = data;\r\n\r\n        let header = <>询价单: {no}</>\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\">\r\n            <div>\r\n                <div className=\"bg-white py-2\">\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">供应商:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">联系人:</div><div className=\"col-9 text-muted\">{contactName} {contactSalutation} {contactDepartmentName}</div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">联系方式:</div><div className=\"col-9 text-muted\">{contactTelephone} {contactMobile} {contactEmail} {contactfax}</div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-3\">询价人:</div><div className=\"col-9 text-muted\">{way === 1 ? \"Email询价\" : (way === 2 ? \"电话询价\" : \"传真询价\")}&nbsp;{user}&nbsp;<EasyDate date={date} /></div>\r\n                    </div>\r\n                    {remarks === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-3\">备注:</div><div className=\"col-9 text-muted\">{remarks}</div>\r\n                        </div></>}\r\n                </div>\r\n            </div>\r\n            <div className=\"py-2\">\r\n                <List items={InquiryItems} item={{ render: this.renderProductItem }} />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VPackageDetail extends VPage<CInquiry> {\r\n\r\n    async open(packitem: any) {\r\n        this.openPage(this.page, packitem);\r\n    }\r\n\r\n    private page = (item: any) => {\r\n\r\n        let { inquiryQuantity, pack, unit, inquirypurity, itemuser, itemcreateDate, quantity, radio, inquiryUnit, listPrice, price, purity\r\n            , currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto\r\n            , minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, inquiryRemarks, coaFilePath, msdsFilePath, quotationFilePath, notProvidedReason, isUsed, result } = item;\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let { name: inquiryname } = inquiryUnit.obj;\r\n\r\n        let header = <>询价包装详情: {inquiryQuantity} * {pack}{inquiryname}  {inquirypurity}</>\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\">\r\n            <div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>询价结果:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{result === 1 ? \"可供\" : (result === 0 ? \"不可供\" : \"\")}</div>\r\n                </div>\r\n                {result === 1 ? \"\" : <>\r\n                    <div className=\"border-top edit-sep-light-gray\"></div>\r\n                    <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                        <div>不可供原因:</div>\r\n                        <div className=\"flex-fill d-flex justify-content-end\">{notProvidedReason === undefined ? \"\" : tv(notProvidedReason, v => <>{v.description}</>)}</div>\r\n                    </div></>}\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>报价包装:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{quantity} * {radio}{name} {purity}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>创建人:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{itemuser.id}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>创建时间:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={itemcreateDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>目录价:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{listPrice}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packType === 1 ? \"目录包装\" : (packType === 2 ? \"非目录包装\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>结算价:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含税费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTaxIn === 1 ? \"含\" : (isTaxIn === 0 ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTransFeeIn === 1 ? \"含\" : (isTransFeeIn === 0 ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>其他费用:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{otherFee}{otherFeecurrency === undefined ? \"\" : tv(otherFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>定制时间至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={customizeUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>有效期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={validUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最短货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={minArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最长货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={maxArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>发票类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{invoiceType === undefined ? \"\" : (invoiceType === 1 ? \"增值税专用发票\" : (invoiceType === 2 ? \"增值税普通发票\" : (invoiceType === 3 ? \"形式发票\" : \"无发票\")))}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>增值税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{vatRate === undefined ? \"\" : tv(vatRate, v => <>{v.description}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>关税税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{tariffRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>备注:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{inquiryRemarks}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>COA文件路径:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{coaFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>MSOS文件路径:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{msdsFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>报价单文件路径:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{quotationFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>价格是否被使用:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isUsed === 1 ? \"是\" : (isUsed === 0 ? \"否\" : \"\")}</div>\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VInquiryList } from './VInquiryList';\r\nimport { VInquiryDetail } from './VInquiryDetail';\r\nimport { VPackageDetail } from './VPackageDetail';\r\n\r\nclass PageInquiry extends PageItems<any> {\r\n\r\n    private searchInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchInquiry = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CInquiry extends CUqBase {\r\n\r\n    @observable inquirys: PageInquiry;\r\n    @observable productdata: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchInquiryByKey(param);\r\n    }\r\n\r\n    searchInquiryByKey = async (key: string) => {\r\n        this.inquirys = new PageInquiry(this.uqs.rms.GetInquirySheet);\r\n        this.inquirys.first({ key: key });\r\n    }\r\n\r\n    openInquiryDetail = async (id: number) => {\r\n\r\n        let inquiry = await this.uqs.rms.InquirySheet.getSheet(id);\r\n        let { data } = inquiry;\r\n        let { inquiryitems } = data;\r\n        let inquiryItemssGrouped = groupByPack(inquiryitems);\r\n        data.InquiryItems = inquiryItemssGrouped;\r\n        this.openVPage(VInquiryDetail, inquiry);\r\n    }\r\n\r\n    openPackageDetail = async (item: any) => {\r\n        this.openVPage(VPackageDetail, item);\r\n    }\r\n\r\n    renderProduct = (id: BoxId) => {\r\n        return this.renderView(VProductView, id);\r\n    }\r\n\r\n    getProduct = async (pid: number) => {\r\n        let product = await this.uqs.rms.SearchProductById.query({ _id: pid });\r\n        this.productdata = product.ret[0];\r\n        return product.ret[0];\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n\r\nexport class VProductView extends View<CInquiry> {\r\n\r\n    render(param: any): JSX.Element {\r\n        let { controller } = this;\r\n        controller.getProduct(param);\r\n        return <this.contentagency pid={param} />\r\n    }\r\n    protected contentagency = observer((param: any) => {\r\n        let LocationUI;\r\n        let pro = this.controller.productdata;\r\n        if (pro !== undefined) {\r\n            let { description, CAS, purity } = pro;\r\n            LocationUI = <span className=\"text-muted small\">{description}&nbsp;&nbsp;{CAS}&nbsp;&nbsp;{purity}</span>;\r\n        }\r\n        return LocationUI;\r\n    });\r\n}\r\n\r\nexport function groupByPack(packItems: any[]) {\r\n    let iresult: any[] = [];\r\n    for (let packItem of packItems) {\r\n        let { product, inquiryQuantity, inquiryRadiox, inquiryRadioy, inquiryUnit, inquirypurity, itemuser, itemcreateDate, quantity, radiox, radioy, unit, purity, listPrice, price\r\n            , currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, otherFeecurrency, customizeUpto, validUpto\r\n            , minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, inquiryRemarks, remarks, coaFilePath, msdsFilePath, quotationFilePath, notProvidedReason, isUsed, result } = packItem;\r\n        let packRow: any = {\r\n            inquiryQuantity: inquiryQuantity,\r\n            pack: (inquiryRadiox !== 1) ? <>{inquiryRadiox} * {inquiryRadioy}</> : <>{inquiryRadioy}</>,\r\n            inquiryUnit: inquiryUnit,\r\n            inquirypurity: inquirypurity,\r\n            quantity: quantity,\r\n            radio: (radiox !== 1) ? <>{radiox} * {radioy}</> : <>{radioy}</>,\r\n            unit: unit,\r\n            purity: purity,\r\n            itemuser: itemuser,\r\n            itemcreateDate: itemcreateDate,\r\n            listPrice: listPrice,\r\n            price: price,\r\n            currency: currency,\r\n            isTaxIn: isTaxIn,\r\n            isTransFeeIn: isTransFeeIn,\r\n            transFee: transFee,\r\n            transFeecurrency: transFeecurrency,\r\n            packingFee: packingFee,\r\n            packingcurrency: packingcurrency,\r\n            otherFee: otherFee,\r\n            otherFeecurrency: otherFeecurrency,\r\n            customizeUpto: customizeUpto,\r\n            validUpto: validUpto,\r\n            minArriveDate: minArriveDate,\r\n            maxArriveDate: maxArriveDate,\r\n            invoiceType: invoiceType,\r\n            vatRate: vatRate,\r\n            tariffRate: tariffRate,\r\n            packType: packType,\r\n            inquiryRemarks: inquiryRemarks,\r\n            coaFilePath: coaFilePath,\r\n            msdsFilePath: msdsFilePath,\r\n            quotationFilePath: quotationFilePath,\r\n            notProvidedReason: notProvidedReason,\r\n            isUsed: isUsed,\r\n            result: result,\r\n            remarks: remarks\r\n        }\r\n        let cpi = iresult.find(e => e.product.id === product.id);\r\n        if (cpi === undefined) {\r\n            cpi = { product: product, packs: [] };\r\n            iresult.push(cpi);\r\n        }\r\n        cpi.packs.push(packRow);\r\n    }\r\n    return iresult;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA, UiTextItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'id', required: true },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'remarks', type: 'number', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VNewPendingInquiry extends VPage<CNewPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private pendingInquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '数量', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '套', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '包装规格', placeholder: '必填' } as UiInputItem,\r\n            unit: {\r\n                widget: 'id', label: '包装单位', placeholder: '包装单位',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPackage.pickPackUnit(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择包装单位</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            purity: { widget: 'text', label: '询价纯度', placeholder: '询价纯度' } as UiInputItem,\r\n            remarks: { widget: 'textarea', label: '备注', placeholder: '备注', rows: 5 } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(pendingInquiryData: any) {\r\n        this.pendingInquiryData = pendingInquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveNewPendingInquiryData(context.form.data);\r\n    }\r\n    private showProductlData = () => {\r\n\r\n        let { product } = this.controller;\r\n        let { no, supplier, origin, brand, description, descriptionC, purity, CAS } = product;\r\n        let { name } = supplier.obj;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">产品编号:</div><div className=\"col-9 text-muted text-right\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">供应商:</div><div className=\"col-9 text-muted text-right\">{name}</div>\r\n            </div>\r\n            {brandname === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">品牌:</div><div className=\"col-9 text-muted text-right\">{brandname}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">CAS:</div><div className=\"col-9 text-muted text-right\">{CAS === undefined ? \"(无)\" : CAS}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">英文名称:</div><div className=\"col-9 text-muted text-right\">{description}</div>\r\n            </div>\r\n            {descriptionC === undefined ? \"\" : <><div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">中文名称:</div><div className=\"col-9 text-muted text-right\">{descriptionC}</div>\r\n            </div></>\r\n            }\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.pendingInquiryData);\r\n        return <Page header=\"待询出\" headerClassName=\"py-1 bg-primary\">\r\n            {this.showProductlData()}\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'way', type: 'number', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiry extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private supplier: any;\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            way: { widget: 'radio', label: '询价方式', list: [{ value: 1, title: 'Email询价' }, { value: 2, title: '电话询价' }, { value: 3, title: '传真询价' }] } as UiRadio,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(param: any) {\r\n        this.supplier = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.updatePendingInquiryState(context.form.data, this.supplier);\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.supplier);\r\n\r\n        return <Page header=\"询价详情\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n            <Form ref={v => this.form = v} className=\"my-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                formData={suppplierData}\r\n                onButtonClick={this.onFormButtonClick}\r\n                fieldLabelSize={3}\r\n            />\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryList extends VPage<CNewPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, date } = item;\r\n        let { onShowNewPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted\">\r\n            <EasyDate date={date} />\r\n        </div>\r\n        return <LMR right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => onShowNewPendingInquiryDetail(item)}>\r\n            <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { newpendingInquirys, onNewPendingInquiry, searchNewPendingInquiryByKey, pickProduct } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchNewPendingInquiryByKey(key)}\r\n                placeholder=\"请输入供应商关键字\" />\r\n            <div><span onClick={() => pickProduct()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >待询出</div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={newpendingInquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.newpendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryDetail extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private suppplier: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    async open(param: any) {\r\n        let { parent, item, child } = param;\r\n        this.suppplier = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity, inquiryRemarks } = item;\r\n        let { brand, description, descriptionC, origin } = product.obj;\r\n        let name = unit === undefined ? undefined : unit.obj.name;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{name}</> : <>{radioy}{name}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span onClick={() => this.onDelInquiryPackage(item, inquiryPackage)}><FA className=\"align-middle p-2 cursor-pointer text-danger\" name=\"trash\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"p-1 d-flex cursor-pointer\">\r\n            <div onClick={() => this.controller.onEditPendingInquiry(item, inquiryPackage)}>\r\n                <div><FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{origin} {CAS}&nbsp;&nbsp;{quantity} * {radio}&nbsp;&nbsp;{purity}</div>\r\n                <div className=\"px-4 text-muted\">{description}</div>\r\n                <div className=\"px-4 text-muted\"><span className=\"text-muted small\">{inquiryRemarks}</span></div>\r\n            </div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, user, date } = suppplierData;\r\n        let { id } = user;\r\n        let { inquiryContact, defaultContact } = supplier.obj;\r\n        let cont = inquiryContact === undefined ? defaultContact : inquiryContact;\r\n        let contactName = cont === undefined ? undefined : cont.obj.name;\r\n        let contactTelephone = cont === undefined ? undefined : cont.obj.telephone;\r\n        let contactMobile = cont === undefined ? undefined : cont.obj.mobile;\r\n        let contactEmail = cont === undefined ? undefined : cont.obj.email;\r\n\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">供应商:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">创建人:</div><div className=\"col-9 text-muted\">{id}&nbsp;<EasyDate date={date} /></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">联系人:</div><div className=\"col-9\"><span>{contactName}&nbsp;{contactTelephone} {contactMobile} {contactEmail}</span></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private rowEnd = () => {\r\n        let { onPendingInquiry } = this.controller;\r\n\r\n        return this.firstPackage && <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => onPendingInquiry(this.suppplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b>询&nbsp;出</b></span>\r\n                    <span className=\"px-2\"><FA name=\"chevron-right fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private onDelInquiry = async () => {\r\n        if (await this.vCall(VConfirmDeleteInquiry, this.suppplier) === true) {\r\n            await this.controller.deletePendingInquiryData(this.suppplier);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private onDelInquiryPackage = async (item: any, pack: any) => {\r\n        if (await this.vCall(VConfirmDeleteInquiryPackage, pack) === true) {\r\n            let { id: packid } = pack;\r\n            let { id } = item;\r\n            await this.controller.deletePendingInquiryPackage(id, packid);\r\n            this.closePage();\r\n            await this.controller.onShowNewPendingInquiryDetail(item);\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.suppplier);\r\n\r\n        let right =\r\n            <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelInquiry()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        return <Page right={right} header=\"询价详情\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            {this.rowEnd()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteInquiry extends VPage<CNewPendingInquiry> {\r\n    async open(inquiryPending: any) {\r\n        this.openPage(this.page, inquiryPending);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiryPending: any) => {\r\n        return <Page header=\"删除询价任务\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该询价任务？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除询价任务</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteInquiryPackage extends VPage<CNewPendingInquiry> {\r\n    async open(inquiryPackage: any) {\r\n        this.openPage(this.page, inquiryPackage);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiryPackage: any) => {\r\n        return <Page header=\"删除询价包装\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该询价包装？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除询价包装</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VNewPendingInquiry } from './VNewPendingInquiry';\r\nimport { VPendingInquiry } from './VPendingInquiry';\r\nimport { VNewPendingInquiryList } from './VNewPendingInquiryList';\r\nimport { VNewPendingInquiryDetail } from './VNewPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass NewPagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchNewPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchNewPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[]; }> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchNewPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CNewPendingInquiry extends CUqBase {\r\n\r\n    @observable newpendingInquirys: NewPagePendingInquiry;\r\n    @observable newpendingInquiryList: NewPagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchNewPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchNewPendingInquiryByKey = async (key: string) => {\r\n        this.newpendingInquirys = new NewPagePendingInquiry(this.uqs.rms.SearchNewInquiryPending);\r\n        this.newpendingInquirys.first({ key: key });\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewPendingInquiry = async (model: any) => {\r\n        this.product = model;\r\n        this.openVPage(VNewPendingInquiry, undefined);\r\n    }\r\n\r\n    /**\r\n    * 打开修改界面\r\n    */\r\n    onEditPendingInquiry = async (model: any, inquiryPackage: any) => {\r\n        this.product = model;\r\n        if (model !== undefined) {\r\n            inquiryPackage.obj.remarks = model.inquiryRemarks;\r\n        }\r\n        this.openVPage(VNewPendingInquiry, inquiryPackage.obj);\r\n    }\r\n\r\n    onPendingInquiry = async (model: any) => {\r\n        this.openVPage(VPendingInquiry, model);\r\n    }\r\n\r\n    pickProduct = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cPickProduct.call();\r\n    }\r\n\r\n    saveNewPendingInquiryData = async (model: any) => {\r\n        if (this.product) {\r\n            let { id, supplier } = this.product;\r\n            let { id: supplierid } = supplier;\r\n            let { quantity, radiox, radioy, unit, remarks, purity } = model;\r\n            let param = {\r\n                supplier: supplierid,\r\n                product: id,\r\n                quantity: quantity,\r\n                radiox: radiox,\r\n                radioy: radioy,\r\n                unit: unit,\r\n                purity: purity,\r\n                remarks: remarks\r\n            };\r\n            if (model.id === undefined) {\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n                this.closePage();\r\n                await this.loadList();\r\n            } else {\r\n                let { supplier, inquiryPending, user, createDate, jsonStr, product } = this.product;\r\n                model.supplier = supplier.id;\r\n                model.product = product.obj.id;\r\n                await this.uqs.rms.InquiryPackage.save(model.id, model);\r\n                await this.uqs.rms.InquiryPendingItem.add({ inquiryPending: inquiryPending, arr1: [{ inquiryPackage: model.id, user: user, createDate: createDate, remarks: remarks, jsonStr: jsonStr }] });\r\n                this.closePage();\r\n                await this.onShowNewPendingInquiryDetail(this.product);\r\n            }\r\n        }\r\n    }\r\n\r\n    deletePendingInquiryData = async (item: any) => {\r\n        let { id } = item;\r\n        let param = {\r\n            id: id,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n    }\r\n\r\n    deletePendingInquiryPackage = async (pendingid: number, packid: number) => {\r\n\r\n        let param = {\r\n            id: pendingid,\r\n            pid: packid,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPackage.submit(param);\r\n    }\r\n\r\n    updatePendingInquiryState = async (model: any, item: any) => {\r\n        let { id, supplier } = item;\r\n        let param = {\r\n            id: id,\r\n            supplier: supplier,\r\n            way: model.way,\r\n        };\r\n        await this.uqs.rms.UpdateInquiryPending.submit(param);\r\n        this.closePage(2);\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    onShowNewPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VNewPendingInquiryDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchNewPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VNewPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import { CAppBase, IConstructor, User, nav } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CUqBase, CUqApp } from \"./CBase\";\r\nimport { VMain } from './ui/main';\r\nimport { CHome } from \"./information/CHome\";\r\nimport { CSupplier } from \"./information/supplier/CSupplier\";\r\nimport { CSupplierContact } from \"./information/supplierContact/CSupplierContact\";\r\nimport { CProduct } from \"./information/product/CProduct\";\r\nimport { CChemical } from \"./information/product/CChemical\";\r\nimport { CBrand } from \"./information/product/CBrand\";\r\nimport { CPackage } from \"./information/package/CPackage\";\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CPickProduct } from 'information/product/CPickProduct';\r\nimport { CPendingInquiry } from 'information/PendingInquiry/CPendingInquiry';\r\nimport { CInquiry } from 'information/Inquiry/CInquiry';\r\nimport { CCurrency } from 'information/PendingInquiry/CCurrency';\r\nimport { CNewPendingInquiry } from 'information/newPendingInquiry/CNewPendingInquiry';\r\n\r\nexport class CApp extends CUqApp {\r\n\r\n    topKey: any;\r\n    cHome: CHome;\r\n    cSupplier: CSupplier;\r\n    cPickSupplier: CPickSupplier;\r\n    cSupplierContact: CSupplierContact;\r\n    cProduct: CProduct;\r\n    cPickProduct: CPickProduct;\r\n    cChemical: CChemical;\r\n    cBrand: CBrand;\r\n    cPackage: CPackage;\r\n    cPendingInquiry: CPendingInquiry;\r\n    cInquiry: CInquiry;\r\n    cCurrency: CCurrency;\r\n    cNewPendingInquiry: CNewPendingInquiry;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n\r\n        this.cHome = this.newC(CHome);\r\n        this.cSupplier = this.newC(CSupplier);\r\n        this.cPickSupplier = this.newC(CPickSupplier);\r\n        this.cProduct = this.newC(CProduct);\r\n        this.cPickProduct = this.newC(CPickProduct);\r\n        this.cChemical = this.newC(CChemical);\r\n        this.cBrand = this.newC(CBrand);\r\n        this.cPackage = this.newC(CPackage);\r\n        this.cSupplierContact = this.newC(CSupplierContact);\r\n        this.cPendingInquiry = this.newC(CPendingInquiry);\r\n        this.cInquiry = this.newC(CInquiry);\r\n        this.cCurrency = this.newC(CCurrency);\r\n        this.cNewPendingInquiry = this.newC(CNewPendingInquiry);\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cSupplier.start());\r\n        await Promise.all(promises);\r\n        this.showMain();\r\n        this.topKey = nav.topKey();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n    async loginCallBack(user: User) {\r\n\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { tv } from 'tonva';\r\n\r\nexport const tvAddress = (values: any) => {\r\n    let { country, province, city, county } = values;\r\n    return <>\r\n        {tv(country)}{tv(province, undefined, undefined, () => <></>)}{tv(city, undefined, undefined, () => <></>)}{tv(county, undefined, undefined, () => <></>)}\r\n    </>\r\n}\r\n\r\nexport const tvCountry = (values: any) => {\r\n    return <> {values.chineseName} </>;\r\n}\r\n\r\nexport const tvCurrency = (values: any) => {\r\n    return <> {values.name} </>;\r\n}\r\n\r\nexport const common = {\r\n    address: tvAddress,\r\n    country: tvCountry,\r\n    province: tvCountry,\r\n    city: tvCountry,\r\n    county: tvCountry,\r\n    currency: tvCurrency,\r\n};\r\n","import { AppConfig } from \"tonva\";\r\nimport { tvs } from \"./tvs\";\r\nimport AnalyticalChemistry from './images/AnalyticalChemistry.png';\r\nimport LabSupplies from './images/LabSupplies.png';\r\nimport LifeScience from './images/LifeScience.png';\r\nimport MaterialScience from './images/MaterialScience.png';\r\nimport OrganicChemistry from './images/OrganicChemistry.png';\r\n\r\nexport const appConfig: AppConfig = {\r\n    appName: '百灵威系统工程部/rms',\r\n    version: '1.0.1',\r\n    tvs: tvs,\r\n    oem: '百灵威'\r\n};","import { TVs } from \"tonva\";\r\nimport { common } from \"./common\";\r\n\r\nexport const tvs: TVs = {\r\n    common: common,\r\n}","import * as React from 'react';\r\nimport './App.css';\r\nimport { NavView, nav, start } from 'tonva';\r\nimport { CApp } from './CApp';\r\nimport { appConfig } from './configuration';\r\n\r\nnav.setSettings(appConfig);\r\n\r\nclass App extends React.Component {\r\n\r\n  private onLogined = async () => {\r\n    await start(CApp, appConfig);\r\n  }\r\n  public render() {\r\n    // return <NavView onLogined={this.onLogined} notLogined={this.onLogined} />\r\n    return <NavView onLogined={this.onLogined} />\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}