(this.webpackJsonprms=this.webpackJsonprms||[]).push([[0],{56:function(e,t,n){e.exports=n(78)},62:function(e,t,n){},64:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),i=n.n(c),s=n(37),l=n.n(s),u=(n(61),n(62),n(1)),o=n.n(u),p=n(13),m=n(2),d=n(4),f=n(5),h=n(3),v=n(6),b=(n(64),n(12)),g=function(e){return!0===e?"text-primary":"text-muted"},y=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).render=function(e){var t=n.controller,a=t.cHome,r=(t.cSupplier,[{name:"supplier",label:"\u4f9b\u5e94\u5546",icon:"print",content:a.tab,notify:void 0},{name:"product",label:"\u4ea7\u54c1",icon:"check-square-o",content:a.tab}].map((function(e){var t=e.name,n=e.label,a=e.icon;return{name:t,caption:function(e){return Object(b.m)(n,a,g(e))},content:e.content,notify:e.notify}})));return c.createElement(b.j,{header:!1},c.createElement(b.n,{tabs:r}))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.render);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),x=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"cApp",get:function(){return this._cApp}},{key:"uqs",get:function(){return this._uqs}}]),t}(b.b),w=(b.c,n(9)),j=function(e){function t(){var e,n,a=this;Object(m.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).page=function(){var e=n.controller.cApp.cSupplier,t=e.onNewSupplier,r=e.searchSupplierByKey,i=c.createElement("div",{className:"w-19c d-flex"},c.createElement(b.l,{className:"w-80",size:"sm",onSearch:function(e){return r(e)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}),c.createElement("span",{onClick:function(){return t()},className:"fa-stack"},c.createElement("i",{className:"fa fa-square fa-stack-2x text-primary"}),c.createElement("i",{className:"fa fa-plus fa-stack-1x"}))),s=c.createElement("header",{className:"py-2 px-4 text-center text-white"},c.createElement("span",{className:"h5 align-middle",style:{textAlign:"center"}},"\u4f9b\u5e94\u5546"));return c.createElement(b.j,{right:i,header:s,headerClassName:"bg-primary"},c.createElement(a.content,null))},n.content=function(){var e=Object(w.a)(n).controller.toSupplierList;return c.createElement(c.Fragment,null,e())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return c.createElement(this.page,null)}}]),t}(b.p),E=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).toSupplierList=function(){return n.cApp.cSupplier.renderRootList()},n.tab=function(){return n.renderView(j)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.cApp.cSupplier,e.next=3,n.start();case 3:this.openVPage(j);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(x),O=n(40),k=n(41),N=(n(52),n(8)),C=n(17),S=n.n(C),q=[{name:"id",type:"id",required:!1},{name:"no",type:"string",required:!0},{name:"name",type:"string",required:!0},{name:"abbreviation",type:"string",required:!1},{name:"isValid",type:"boolean",required:!0}],P=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.supplierData=void 0,n.uiSchema={items:{id:{visible:!1},no:{widget:"text",label:"\u4f9b\u5e94\u5546\u7f16\u53f7",placeholder:"\u5fc5\u586b"},name:{widget:"text",label:"\u4f9b\u5e94\u5546\u540d\u79f0",placeholder:"\u5fc5\u586b"},abbreviation:{widget:"text",label:"\u4f9b\u5e94\u5546\u7b80\u79f0"},isValid:{widget:"checkbox",label:"\u6709\u6548",defaultValue:!0},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveSupplierData(a.form.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.onSavesupplierData=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.page=function(){var e,t=S.a.clone(n.supplierData);return e=c.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:n.onSavesupplierData},"\u4fdd\u5b58"),c.createElement(b.j,{header:"\u4f9b\u5e94\u5546",footer:e},c.createElement("div",{className:"p-3 bg-white"},c.createElement(b.f,{ref:function(e){return n.form=e},className:"m-3",schema:q,uiSchema:n.uiSchema,formData:t,onButtonClick:n.onFormButtonClick,fieldLabelSize:3})))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierData=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),A=n(11),V=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderRootCategory=function(e,t){var a=e.no,r=e.name,i=(e.createTime,n.controller.onEditSupplier),s=c.createElement("div",{className:"p-2 cursor-pointer text-info",onClick:function(){return i(e)}},c.createElement(b.e,{name:"edit"}));return c.createElement(b.g,{right:s,className:"py-2"},c.createElement("p",{onClick:function(){return n.controller.onSupplierSelected(e)}},c.createElement(b.e,{name:"location-arrow",className:"px-2 text-primary"}),a," - ",r))},n.content=Object(A.a)((function(){var e=n.controller.suppliers;return c.createElement(b.h,{items:e,item:{render:n.renderRootCategory},none:"\u76ee\u524d\u8fd8\u6ca1\u6709\u4f9b\u5e94\u5546\u54e6\uff01"})})),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(e){return c.createElement(this.content,null)}}]),t}(b.p),I=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).supplier=void 0,n.firstSupplierContact=void 0,n.supplierContacts=[],n.getSupplierContact=function(){var e=n.controller.cApp.cSupplierContact.showCreateSupplierContact;return c.createElement("div",{className:"bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"users"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4f9b\u5e94\u5546\u8054\u7cfb\u4eba"))),n.firstSupplierContact&&c.createElement(b.h,{items:n.supplierContacts,item:{render:n.renderContact}}),c.createElement("div",{className:"text-primary text-center small bg-white py-2",onClick:function(){return e(n.supplier)}},"\uff0b\u8054\u7cfb\u4eba"))},n.renderContact=function(e,t){var a=n.controller.cApp.cSupplierContact,r=a.delSupplierContact,i=a.showEditSupplierContact,s=a.showSupplierContactDetail,l=e.no,u=e.name,o=e.id,p=e.gender,m=e.mobile,d=n.supplier.defaultContact,f=void 0===d?"px-2 text-muted small":d.id===o?"px-2 text-info small":"px-2 text-muted small",h="0"===p?c.createElement(b.e,{name:"user",className:"px-2 text-danger"}):c.createElement(b.e,{name:"user",className:"px-2 text-primary"}),v=c.createElement("div",{className:f,onClick:function(){return s(e)}},h,l," - ",u," - ",void 0===m?"\u65e0":m),g=c.createElement("div",{className:"px-2 text-muted text-right samll"},c.createElement("span",{onClick:function(){return r(e)}},c.createElement(b.e,{className:"align-middle text-danger",name:"times"})),c.createElement("span",{onClick:function(){return i(n.supplier,e)}},c.createElement(b.e,{className:"align-middle p-2 cursor-pointer text-info",name:"edit"})));return c.createElement(b.g,{left:v,right:g,className:"py-2"})},n.rowTop=function(){var e=S.a.clone(n.supplier),t=e.name,a=e.no,r=e.abbreviation,i=e.createTime;return c.createElement("div",{className:"py-2 bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4f9b\u5e94\u5546\u57fa\u672c\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub small"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u7f16\u53f7\uff1a"),c.createElement("span",{className:"py-2 px-4"},a)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u540d\u79f0\uff1a"),c.createElement("span",{className:"py-2 px-4"},t)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u7b80\u79f0\uff1a"),c.createElement("span",{className:"py-2 px-4"},r)),c.createElement("div",null,c.createElement("p",null,c.createElement("span",{className:"px-4 align-middle "},"\u521b\u5efa\u65f6\u95f4\uff1a"),c.createElement("span",{className:"py-2"},c.createElement(b.d,{date:i}))))))},n.page=function(){var e=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u4f9b\u5e94\u5546\u8be6\u60c5"));return c.createElement(b.j,{header:e,headerClassName:"bg-primary"},n.rowTop(),n.getSupplierContact())},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parent,a=t.item,r=t.child,this.supplier=n,this.firstSupplierContact=a,this.supplierContacts=r,this.openPage(this.page);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),L=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchSupplier=void 0,n.firstSize=n.pageSize=14,n.searchSupplier=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchSupplier.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),D=(a=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c))),Object(O.a)(n,"suppliers",r,Object(w.a)(n)),n.searchSupplierByKey=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.suppliers=new L(n.uqs.rms.SearchSupplier),n.suppliers.first({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveSupplierData=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.id){e.next=7;break}return t.createTime=Date.now(),t.defaultContact=void 0,e.next=5,n.uqs.rms.Supplier.save(void 0,t);case 5:e.next=9;break;case 7:return e.next=9,n.uqs.rms.Supplier.save(t.id,t);case 9:return e.next=11,n.cApp.cHome.start();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onNewSupplier=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(P,{description:void 0});case 1:case"end":return e.stop()}}),e)}))),n.onEditSupplier=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(P,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onSupplierSelected=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.SearchSupplierContact.query({_id:a});case 3:r=e.sent,c={parent:t,item:r.ret[0],child:r.ret},n.openVPage(I,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchSupplierByKey(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderRootList",value:function(){return this.renderView(V)}}]),t}(x),r=Object(k.a)(a.prototype,"suppliers",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a);function z(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u56fa\u5b9a\u7535\u8bdd\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function B(e){return e&&!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)?"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function F(e){return e&&!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)?"Email\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function T(e){return e&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)?"\u4f20\u771f\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function K(e){return e&&e.length>200?"\u8be6\u7ec6\u5730\u5740\u6700\u591a200\u4e2a\u5b57\uff01":void 0}function _(e){return e&&e.length>15?"\u90ae\u7f16\u8fc7\u957f\uff0c\u8bf7\u4fee\u6539\u540e\u5f55\u5165\uff01":void 0}function H(e){return e&&e.length>100?"\u90e8\u95e8\u540d\u79f0\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function R(e){return e&&e.length>100?"\u5355\u4f4d\u540d\u79f0\u6700\u591a100\u4e2a\u5b57\uff01":void 0}function $(e){return e&&e.length>50?"\u59d3\u540d\u6700\u591a50\u4e2a\u5b57\uff01":void 0}var G,J,M=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).form=void 0,n.item=void 0,n.parent=void 0,n.gradeContent=function(e){return Object(b.s)(e,(function(e){var t=e.name;return c.createElement(c.Fragment,null,t)}))},n.schema=[{name:"no",type:"string",required:!0},{name:"name",type:"string",required:!0},{name:"gender",type:"string",required:!0},{name:"firstName",type:"string",required:!1},{name:"lastName",type:"string",required:!1},{name:"salutation",type:"string",required:!1},{name:"departmentName",type:"string",required:!1},{name:"telephone",type:"string",required:!1},{name:"mobile",type:"string",required:!0},{name:"wechatId",type:"string",required:!1},{name:"email",type:"string"},{name:"fax",type:"string",required:!1},{name:"address",type:"id",required:!1},{name:"addressString",type:"string",required:!1},{name:"zipCode",type:"string",required:!1},{name:"isDefault",type:"boolean",required:!1}],n.uiSchema={items:{no:{widget:"text",label:"\u7f16\u53f7",placeholder:"\u5fc5\u586b"},name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u5fc5\u586b"},gender:{widget:"radio",label:"\u6027\u522b",list:[{value:"1",title:"\u7537"},{value:"0",title:"\u5973"}]},firstName:{widget:"text",label:"\u540d",placeholder:"\u540d",rules:$},lastName:{widget:"text",label:"\u59d3\u6c0f",placeholder:"\u59d3\u6c0f"},salutation:{widget:"text",label:"\u79f0\u8c13",rules:R},departmentName:{widget:"text",label:"\u90e8\u95e8\u540d\u79f0",rules:H},telephone:{widget:"text",label:"\u56fa\u5b9a\u7535\u8bdd",rules:z},mobile:{widget:"text",label:"\u624b\u673a\u53f7",rules:B},wechatId:{widget:"text",label:"\u5fae\u4fe1\u53f7"},email:{widget:"text",label:"Email",rules:F,placeholder:"Email"},fax:{widget:"text",label:"\u4f20\u771f",rules:T},address:{widget:"id",label:"\u6240\u5728\u5730\u533a",pickId:function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.pickAddress(t,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Templet:function(e){return e?Object(b.s)(e,(function(e){var t=e.country,n=e.province,a=e.city,r=e.county;return c.createElement(c.Fragment,null,void 0!==t&&void 0!==t.id&&Object(b.s)(t,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})),void 0!==n&&void 0!==n.id&&Object(b.s)(n,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})),void 0!==a&&void 0!==a.id&&Object(b.s)(a,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})),void 0!==r&&void 0!==r.id&&Object(b.s)(r,(function(e){return c.createElement(c.Fragment,null,e.chineseName)})))}),(function(){return c.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5730\u533a")})):c.createElement("small",{className:"text-muted"},"(\u65e0)")}},addressString:{widget:"text",label:"\u8be6\u7ec6\u5730\u5740",rules:K},zipCode:{widget:"text",label:"\u90ae\u7f16",rules:_},isDefault:{widget:"checkbox",label:"\u9ed8\u8ba4\u8054\u7cfb\u4eba",defaultValue:!1},submit:{widget:"button",label:"\u63d0\u4ea4"}}},n.onSaveSupplierContact=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.onFormButtonClick=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.controller.saveSupplierContact,c=n.item&&n.item.id,e.next=4,r(c,a.form.data,n.parent);case 4:n.closePage();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=Object(A.a)((function(){var e=c.createElement("div",{className:"d-flex"},c.createElement("div",{className:"flex-grow-1 justify-content-end"},c.createElement("button",{type:"button",className:"btn btn-primary mr-3 px-6",onClick:n.onSaveSupplierContact},c.createElement("span",{className:"px-4"},"\u4fdd\u5b58"))));return c.createElement(b.j,{header:"\u6dfb\u52a0\u8054\u7cfb\u4eba",footer:e},c.createElement(b.f,{ref:function(e){return n.form=e},className:"my-3 mx-3",formData:n.item,schema:n.schema,uiSchema:n.uiSchema,onButtonClick:n.onFormButtonClick,requiredFlag:!0}))})),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.item,a=t.parent,this.item=n,this.parent=a,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),W=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).supplierContact=void 0,n.page=function(){var e=S.a.clone(n.supplierContact),t=e.no,a=e.name,r=e.firstName,i=e.lastName,s=e.gender,l=e.salutation,u=e.departmentName,o=e.telephone,p=e.mobile,m=e.email,d=e.fax,f=e.zipCode,h=e.wechatId,v=e.addressString,g=e.address,y=c.createElement("header",{className:"py-2 text-center text-white"},c.createElement("span",{className:"h5 align-middle"},"\u4f9b\u5e94\u5546\u8054\u7cfb\u4eba\u8be6\u60c5"));return c.createElement(b.j,{header:y,headerClassName:"bg-primary"},c.createElement("div",{className:"py-2 bg-white mb-3"},c.createElement("div",{className:"cursor-pointer"},"\xa0",c.createElement(b.e,{className:"align-middle text-warning",name:"credit-card"}),c.createElement("span",{className:"h6 py-2 px-1 align-middle"},c.createElement("b",null," \u4f9b\u5e94\u5546\u8054\u7cfb\u4eba\u57fa\u672c\u4fe1\u606f"))),c.createElement("div",{className:"py-2 cat-root-sub"},c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u7f16\u53f7\uff1a"),c.createElement("span",{className:"py-2 px-4"},t)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u540d\u79f0\uff1a"),c.createElement("span",{className:"py-2 px-4"},a)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u59d3\u6c0f\uff1a"),c.createElement("span",{className:"py-2 px-4"},i)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\xa0\xa0\xa0\u540d\uff1a"),c.createElement("span",{className:"py-2 px-4"},r)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u6027\u522b\uff1a"),c.createElement("span",{className:"py-2 px-4"},"0"===s?"\u5973":"\u7537")),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u79f0\u8c13\uff1a"),c.createElement("span",{className:"py-2 px-4"},l)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u90e8\u95e8\u540d\u79f0\uff1a"),c.createElement("span",{className:"py-2"},u)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u56fa\u5b9a\u7535\u8bdd\uff1a"),c.createElement("span",{className:"py-2 px-2"},o)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u624b\u673a\u53f7\uff1a"),c.createElement("span",{className:"py-2 px-4"},p)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u5fae\u4fe1\u53f7\uff1a"),c.createElement("span",{className:"py-2 px-4"},h)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"Email\uff1a"),c.createElement("span",{className:"py-2 px-4"},m)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u4f20\u771f\uff1a"),c.createElement("span",{className:"py-2 px-4"},d)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u6240\u5728\u5730\u533a\uff1a"),c.createElement("span",{className:"py-2 px-2"},g)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle"},"\u8be6\u7ec6\u5730\u5740\uff1a"),c.createElement("span",{className:"py-2 px-2"},v)),c.createElement("div",null,c.createElement("span",{className:"px-4 align-middle "},"\u90ae\u7f16\uff1a"),c.createElement("span",{className:"py-2 px-4"},f)))))},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.supplierContact=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Q={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/rms",version:"1.0.1",tvs:{},oem:"\u767e\u7075\u5a01"},U=44,X=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).provinceId=void 0,n.cityId=void 0,n.countyId=void 0,n.backLevel=0,n.page=function(e){return n.backLevel++,c.createElement(b.j,{header:"\u9009\u62e9\u6240\u5728\u7701\u5e02"},c.createElement("div",{className:"row no-gutters"},e.provinces.map((function(e){return n.renderPCC(e.province,n.onProvinceClick)}))))},n.renderPCC=function(e,t){return c.createElement("div",{key:e.id,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},Object(b.s)(e,(function(e){var n=e.id,a=e.chineseName;return c.createElement(c.Fragment,null,c.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return t(n)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},c.createElement("span",{className:"ml-1 align-middle"},c.createElement(b.e,{name:"chevron-right",className:"text-info small"}),"\xa0 ",a)))})))},n.onProvinceClick=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.provinceId=t,e.next=3,n.controller.getProvinceCities(t);case 3:if(!(a=e.sent)){e.next=16;break}if(1!==(r=a.length)){e.next=10;break}return e.next=9,n.onCityClick(a[0].city.id);case 9:return e.abrupt("return");case 10:if(!(r>1)){e.next=14;break}return n.backLevel++,n.openPageElement(c.createElement(b.j,{header:"\u9009\u62e9\u6240\u5728\u57ce\u5e02"},c.createElement("div",{className:"row no-gutters"},a.map((function(e){return n.renderPCC(e.city,n.onCityClick)}))))),e.abrupt("return");case 14:e.next=18;break;case 16:n.closePage(n.backLevel),n.saveAddress();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onCityClick=function(){var e=Object(p.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cityId=t,e.next=3,n.controller.getCityCounties(t);case 3:(a=e.sent)&&a.length>0?(n.backLevel++,n.openPageElement(c.createElement(b.j,{header:"\u9009\u62e9\u6240\u5728\u533a\u53bf"},c.createElement("div",{className:"row no-gutters"},a.map((function(e){return n.renderPCC(e.county,n.onCountyClick)})))))):(n.closePage(n.backLevel),n.saveAddress());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onCountyClick=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.countyId=t,n.closePage(n.backLevel),n.saveAddress();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveAddress=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.saveAddress(U,n.provinceId,n.cityId,n.countyId);case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(p.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.getCountryProvince(U);case 2:n=e.sent,this.openPage(this.page,{provinces:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(b.o),Y=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).getCountryProvince=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetCountryProvinces.table({country:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getProvinceCities=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetProvinceCities.table({province:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getCityCounties=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.common.GetCityCounties.table({city:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveAddress=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r,c){var i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uqs.common.Address,e.next=3,i.save(void 0,{country:t,province:a,city:r,county:c});case 3:s=e.sent,l=s&&i.boxId(s.id),n.returnCall(l);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(X);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(x),Z=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).searchSupplierContact=void 0,n.firstSize=n.pageSize=14,n.searchSupplierContact=e,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"load",value:function(){var e=Object(p.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.next=3,this.searchSupplierContact.page(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),t}(b.k),ee=(G=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))),Object(O.a)(n,"pageSupplierContact",J,Object(w.a)(n)),n.searchSupplierContactByKey=function(){var e=Object(p.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Z,e.next=3,n.uqs.rms.SearchSupplierContact.query({_id:t.id});case 3:e.t1=e.sent,n.pageSupplierContact=new e.t0(e.t1),n.pageSupplierContact.first({key:a});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.pickAddress=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.newC(Y),e.next=3,c.call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n.showCreateSupplierContact=function(e){var t={parent:e,item:void 0,child:void 0};n.openVPage(M,t)},n.showEditSupplierContact=function(){var e=Object(p.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={parent:t,item:a,child:a},n.openVPage(M,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showSupplierContactDetail=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(W,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveSupplierContact=function(){var e=Object(p.a)(o.a.mark((function e(t,a,r){var c,i,s,l,u,p,m,d,f,h,v,b,g,y,x,w,j,E,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.no,i=a.name,s=a.firstName,l=a.lastName,u=a.gender,p=a.salutation,m=a.departmentName,d=a.telephone,f=a.mobile,h=a.email,v=a.fax,b=a.zipCode,g=a.wechatId,y=a.addressString,x=a.address,w=a.isDefault,j={no:c,name:i,firstName:s,lastName:l,gender:u,salutation:p,departmentName:m,telephone:d,mobile:f,email:h,fax:v,zipCode:b,wechatId:g,addressString:y,address:x,supplier:r.id,isValid:1},e.next=4,n.uqs.rms.SupplierContact.save(t,j);case 4:if(E=e.sent,!0!==w){e.next=10;break}return void 0===(O=t)&&(O=E.id),e.next=10,n.uqs.rms.Supplier.save(r.id,{no:r.no,name:r.name,abbreviation:r.abbreviation,createTime:r.createTime,isValid:1,defaultContact:O});case 10:n.cApp.cHome.start();case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n.delSupplierContact=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c,i,s,l,u,p,m,d,f,h,v,b,g,y,x,w;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,r=t.no,c=t.name,i=t.firstName,s=t.lastName,l=t.isDefault,t.isValid,u=t.supplier,p=t.gender,m=t.salutation,d=t.departmentName,f=t.telephone,h=t.mobile,v=t.email,b=t.fax,g=t.zipCode,y=t.wechatId,x=t.addressString,w=t.address,e.next=3,n.uqs.rms.SupplierContact.save(a,{no:r,name:c,firstName:i,lastName:s,supplier:u,gender:p,salutation:m,departmentName:d,telephone:f,mobile:h,email:v,fax:b,zipCode:g,wechatId:y,addressString:x,address:w,isDefault:l,isValid:0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadList=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.cSupplier.onSupplierSelected(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showSupplierContact=function(){var e=Object(p.a)(o.a.mark((function e(t){var a,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.uqs.rms.SearchSupplierContact.query({_id:a});case 3:r=e.sent,c=r.ret.length>0?r.ret:void 0,i={parent:void 0,item:r.ret[0],child:c},n.openVPage(I,i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(x),J=Object(k.a)(G.prototype,"pageSupplierContact",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G),te=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).topKey=void 0,n.cHome=void 0,n.cSupplier=void 0,n.cSupplierContact=void 0,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"newC",value:function(e){return new e(this)}},{key:"internalStart",value:function(){var e=Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cHome=this.newC(E),this.cSupplier=this.newC(D),this.cSupplierContact=this.newC(ee),(t=[]).push(this.cSupplier.start()),e.next=7,Promise.all(t);case 7:this.showMain(),this.topKey=b.q.topKey();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showMain",value:function(e){this.openVPage(y,e)}},{key:"loginCallBack",value:function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"uqs",get:function(){return this._uqs}}]),t}(b.a);b.q.setSettings(Q);var ne=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onLogined=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.r)(te,Q);case 2:case"end":return e.stop()}}),e)}))),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.createElement(b.i,{onLogined:this.onLogined,notLogined:this.onLogined})}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.96ec8bba.chunk.js.map