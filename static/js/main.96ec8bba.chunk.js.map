{"version":3,"sources":["ui/main.tsx","CBase.ts","information/VHome.tsx","information/CHome.tsx","information/supplier/VSupplier.tsx","information/supplier/VSupplierList.tsx","information/supplier/VSupplierDetail.tsx","information/supplier/CSupplier.tsx","tools/inputValidations.ts","information/supplierContact/VSupplierContact.tsx","information/supplierContact/VSupplierContactDetail.tsx","configuration.ts","tvs/index.tsx","information/supplierContact/VAddress.tsx","information/supplierContact/CAddress.tsx","information/supplierContact/CSupplierContact.tsx","CApp.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["color","selected","VMain","render","param","controller","cHome","faceTabs","cSupplier","name","label","icon","content","tab","notify","undefined","map","v","caption","TabCaptionComponent","header","tabs","this","openPage","VPage","CUqBase","_cApp","_uqs","CBase","CSub","VHome","page","cApp","onNewSupplier","searchSupplierByKey","right","className","size","onSearch","key","placeholder","onClick","style","textAlign","headerClassName","toSupplierList","View","CHome","renderRootList","renderView","start","openVPage","schema","type","required","VSupplier","form","supplierData","uiSchema","items","id","visible","no","widget","abbreviation","isValid","defaultValue","submit","onFormButtonClick","context","a","saveSupplierData","data","onSavesupplierData","buttonClick","footer","descriptionData","_","clone","ref","formData","onButtonClick","fieldLabelSize","VSupplierList","renderRootCategory","item","parent","onEditSupplier","createTime","onSupplierSelected","observer","suppliers","none","VSupplierDetail","supplier","firstSupplierContact","supplierContacts","getSupplierContact","showCreateSupplierContact","cSupplierContact","renderContact","index","delSupplierContact","showEditSupplierContact","showSupplierContactDetail","gender","mobile","defaultContact","fa_text","fa_gender","left","rowTop","date","child","PageSupplier","searchQuery","searchSupplier","firstSize","pageSize","pageStart","ret","PageItems","CSupplier","uqs","rms","SearchSupplier","first","Date","now","Supplier","save","description","SearchSupplierContact","query","_id","contact","observable","telephoneValidation","value","test","mobileValidation","emailValidation","faxValidation","addressDetailValidation","length","zipCodeValidation","departmentNameValidation","salutationValidation","nameValidation","VSupplierContact","gradeContent","boxId","tv","values","list","title","firstName","rules","lastName","salutation","departmentName","telephone","wechatId","email","fax","address","pickId","pickAddress","Templet","addressValue","country","province","city","county","chineseName","addressString","zipCode","isDefault","onSaveSupplierContact","saveSupplierContact","closePage","requiredFlag","VSupplierContactDetail","supplierContact","supplierContactData","appConfig","appName","version","tvs","oem","GLOABLE","VAddress","provinceId","cityId","countyId","backLevel","provinces","renderPCC","onProvinceClick","pcc","border","marginRight","marginBottom","getProvinceCities","cities","len","onCityClick","openPageElement","saveAddress","getCityCounties","counties","onCountyClick","getCountryProvince","CAddress","countryId","common","GetCountryProvinces","table","GetProvinceCities","GetCityCounties","Address","newAddress","addressId","returnCall","PageSupplierContact","searchSupplierContact","CSupplierContact","searchSupplierContactByKey","pageSupplierContact","cAddress","newC","call","model","parrm","SupplierContact","result","sid","loadList","showSupplierContact","CApp","topKey","promises","push","Promise","all","showMain","nav","initTabName","user","CAppBase","setSettings","App","onLogined","notLogined","React","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.96ec8bba.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\r\nimport { CApp } from '../CApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\n\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    render = (param?: any): JSX.Element => {\r\n        let { cHome, cSupplier } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'supplier', label: '供应商', icon: 'print', content: cHome.tab, notify: undefined },\r\n            { name: 'product', label: '产品', icon: 'check-square-o', content: cHome.tab }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n            }\r\n        });\r\n        return <Page header={false}>\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import { CSub, CBase } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CApp } from \"./CApp\";\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): CUqBase { return this._owner as CUqBase; };\r\n}\r\n","import * as React from 'react';\r\nimport { CHome } from './CHome';\r\nimport { Page, View, SearchBox } from 'tonva';\r\n\r\nexport class VHome extends View<CHome> {\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = () => {\r\n        let { onNewSupplier, searchSupplierByKey } = this.controller.cApp.cSupplier;\r\n\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n            <span onClick={() => onNewSupplier()} className=\"fa-stack\">\r\n                <i className=\"fa fa-square fa-stack-2x text-primary\"></i>\r\n                <i className=\"fa fa-plus fa-stack-1x\"></i>\r\n            </span>\r\n        </div>;\r\n        let header = <header className=\"py-2 px-4 text-center text-white\">\r\n            <span className=\"h5 align-middle\" style={{ textAlign: 'center' }}>供应商</span>\r\n        </header>;\r\n        return <Page right={right} header={header} headerClassName=\"bg-primary\">\r\n            <this.content />\r\n        </Page>;\r\n    };\r\n\r\n    private content = () => {\r\n        let { controller } = this;\r\n        let { toSupplierList } = controller;\r\n        return <>\r\n            {toSupplierList()}\r\n        </>\r\n    };\r\n}","import { CUqBase } from '../CBase';\r\nimport { VHome } from './VHome';\r\n\r\nexport class CHome extends CUqBase {\r\n\r\n    async internalStart(param: any) {\r\n\r\n        let { cSupplier } = this.cApp;\r\n        await cSupplier.start();\r\n        this.openVPage(VHome);\r\n    }\r\n\r\n    toSupplierList = () => {\r\n        let { cSupplier } = this.cApp;\r\n        return cSupplier.renderRootList();\r\n    }\r\n    tab = () => this.renderView(VHome);\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'no', type: 'string', required: true },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'abbreviation', type: 'string', required: false },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n];\r\n\r\nexport class VSupplier extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            no: { widget: 'text', label: '供应商编号', placeholder: '必填' } as UiInputItem,\r\n            name: { widget: 'text', label: '供应商名称', placeholder: '必填' } as UiInputItem,\r\n            abbreviation: { widget: 'text', label: '供应商简称' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '有效', defaultValue: true },\r\n            submit: { widget: 'button', label: '提交' },\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierData(context.form.data);\r\n    }\r\n\r\n    private onSavesupplierData = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        let footer: any;\r\n        footer = <button type=\"button\"\r\n            className=\"btn btn-primary w-100\"\r\n            onClick={this.onSavesupplierData}>保存</button>;\r\n\r\n        return <Page header=\"供应商\" footer={footer}>\r\n            <div className=\"p-3 bg-white\">\r\n                <Form ref={v => this.form = v} className=\"m-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page } from 'tonva';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nexport class VSupplierList extends View<CSupplier> {\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, name, createTime } = item;\r\n        let { onEditSupplier } = this.controller;\r\n\r\n        let right = <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditSupplier(item)}>\r\n            <FA name=\"edit\" />\r\n        </div>\r\n        return <LMR right={right} className=\"py-2\">\r\n            <p onClick={() => this.controller.onSupplierSelected(item)}>\r\n                <FA name=\"location-arrow\" className=\"px-2 text-primary\"></FA>\r\n                {no} - {name}\r\n            </p>\r\n        </LMR>\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.content />\r\n    }\r\n\r\n    private content = observer(() => {\r\n        let { suppliers } = this.controller;\r\n        return <List items={suppliers} item={{ render: this.renderRootCategory }} none=\"目前还没有供应商哦！\" />;\r\n    });\r\n} \r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from \"./CSupplier\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nexport class VSupplierDetail extends VPage<CSupplier> {\r\n\r\n    private supplier: any;\r\n    private firstSupplierContact: any;\r\n    private supplierContacts: any[] = [];\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        this.supplier = parent;\r\n        this.firstSupplierContact = item;\r\n        this.supplierContacts = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getSupplierContact = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div className=\"bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"users\" /><span className=\"h6 py-2 px-1 align-middle\"><b> 供应商联系人</b></span>\r\n            </div>\r\n            {this.firstSupplierContact && <List items={this.supplierContacts} item={{ render: this.renderContact }} />}\r\n            <div className=\"text-primary text-center small bg-white py-2\" onClick={() => showCreateSupplierContact(this.supplier)}>＋联系人</div>\r\n\r\n        </div>\r\n    }\r\n\r\n    private renderContact = (item: any, index: number) => {\r\n        let { delSupplierContact, showEditSupplierContact, showSupplierContactDetail } = this.controller.cApp.cSupplierContact;\r\n        let { no, name, id, gender, mobile } = item;\r\n        let { defaultContact } = this.supplier;\r\n        let fa_text = defaultContact === undefined ? \"px-2 text-muted small\" : (defaultContact.id === id ? \"px-2 text-info small\" : \"px-2 text-muted small\");\r\n        let fa_gender = gender === \"0\" ? <FA name=\"user\" className=\"px-2 text-danger\"></FA> : <FA name=\"user\" className=\"px-2 text-primary\"></FA>;\r\n        let left = <div className={fa_text} onClick={() => showSupplierContactDetail(item)}>\r\n            {fa_gender}\r\n            {no} - {name} - {mobile === undefined ? \"无\" : mobile}</div>\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right samll\">\r\n                <span onClick={() => delSupplierContact(item)}><FA className=\"align-middle text-danger\" name=\"times\" /></span>\r\n                <span onClick={() => showEditSupplierContact(this.supplier, item)}><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = () => {\r\n        let supplierData = _.clone(this.supplier);\r\n        let { name, no, abbreviation, createTime } = supplierData;\r\n\r\n        return <div className=\"py-2 bg-white mb-3\">\r\n            <div className=\"cursor-pointer\">\r\n                &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> 供应商基本信息</b></span>\r\n            </div>\r\n            <div className=\"py-2 cat-root-sub small\">\r\n                <div><span className=\"px-4 align-middle\">编号：</span><span className=\"py-2 px-4\">{no}</span></div>\r\n                <div><span className=\"px-4 align-middle \">名称：</span><span className=\"py-2 px-4\">{name}</span></div>\r\n                <div><span className=\"px-4 align-middle \">简称：</span><span className=\"py-2 px-4\">{abbreviation}</span></div>\r\n                <div><p><span className=\"px-4 align-middle \">创建时间：</span><span className=\"py-2\">{<EasyDate date={createTime} />}</span></p></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\">供应商详情</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            {this.rowTop()}\r\n            {this.getSupplierContact()}\r\n        </Page>\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VSupplier } from './VSupplier';\r\nimport { VSupplierList } from './VSupplierList';\r\nimport { VHome } from '../VHome';\r\nimport { VSupplierDetail } from './VSupplierDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n    //@observable suppliers: any[] = [];\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    renderRootList() {\r\n        return this.renderView(VSupplierList);\r\n    }\r\n\r\n    saveSupplierData = async (supplier: any) => {\r\n\r\n        if (supplier.id === undefined) {\r\n            supplier.createTime = Date.now();\r\n            supplier.defaultContact = undefined;\r\n            await this.uqs.rms.Supplier.save(undefined, supplier);\r\n        } else {\r\n            await this.uqs.rms.Supplier.save(supplier.id, supplier);\r\n        }\r\n        await this.cApp.cHome.start();\r\n    }\r\n\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewSupplier = async () => {\r\n        this.openVPage(VSupplier, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    onEditSupplier = async (supplier: any) => {\r\n        this.openVPage(VSupplier, supplier);\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    onSupplierSelected = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        let contact = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: contact.ret[0],\r\n            child: contact.ret,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n}\r\n\r\n","\r\nexport function telephoneValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"固定电话格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function mobileValidation(value: string) {\r\n    if (value && !/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(value))\r\n        return \"手机号格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function emailValidation(value: string) {\r\n    if (value && !/\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(value))\r\n        return \"Email格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function faxValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"传真号码格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function addressDetailValidation(value: string) {\r\n    return (value && value.length > 200) ? \"详细地址最多200个字！\" : undefined;\r\n}\r\n\r\nexport function zipCodeValidation(value: string) {\r\n    return (value && value.length > 15) ? \"邮编过长，请修改后录入！\" : undefined;\r\n}\r\n\r\n\r\nexport function organizationNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function departmentNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"部门名称名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function salutationValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function nameValidation(value: string) {\r\n    return (value && value.length > 50) ? \"姓名最多50个字！\" : undefined;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CSupplierContact } from './CSupplierContact';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\n\r\nexport class VSupplierContact extends VPage<CSupplierContact> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private gradeContent = (boxId: any) => {\r\n        return tv(boxId, (values) => {\r\n            let { name } = values;\r\n            return <>{name}</>;\r\n        });\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'no', type: 'string', required: true },\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'gender', type: 'string', required: true },\r\n        { name: 'firstName', type: 'string', required: false },\r\n        { name: 'lastName', type: 'string', required: false },\r\n        { name: 'salutation', type: 'string', required: false },\r\n        { name: 'departmentName', type: 'string', required: false },\r\n        { name: 'telephone', type: 'string', required: false },\r\n        { name: 'mobile', type: 'string', required: true },\r\n        { name: 'wechatId', type: 'string', required: false },\r\n        { name: 'email', type: 'string' },\r\n        { name: 'fax', type: 'string', required: false },\r\n        { name: 'address', type: 'id', required: false },\r\n        { name: 'addressString', type: 'string', required: false },\r\n        { name: 'zipCode', type: 'string', required: false },\r\n        { name: 'isDefault', type: 'boolean', required: false },\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            no: { widget: 'text', label: '编号', placeholder: '必填' } as UiInputItem,\r\n            name: { widget: 'text', label: '姓名', placeholder: '必填' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '性别', list: [{ value: '1', title: '男' }, { value: '0', title: '女' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '名', placeholder: '名', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '姓氏', placeholder: '姓氏' } as UiInputItem,\r\n            salutation: { widget: 'text', label: '称谓', rules: salutationValidation } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '部门名称', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '固定电话', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '手机号', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '微信号', } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', rules: emailValidation, placeholder: 'Email' } as UiTextItem,\r\n            fax: { widget: 'text', label: '传真', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* 下面这种在使用tv之前的一堆判断应该是tv或者什么的有bug, 应该让Henry改改 */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '邮编', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'checkbox', label: '默认联系人', defaultValue: false },\r\n            submit: { widget: 'button', label: '提交' }\r\n        }\r\n    };\r\n\r\n    private onSaveSupplierContact = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { saveSupplierContact } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await saveSupplierContact(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        let footer = <div className=\"d-flex\">\r\n            <div className=\"flex-grow-1 justify-content-end\">\r\n                <button type=\"button\" className=\"btn btn-primary mr-3 px-6\" onClick={this.onSaveSupplierContact} ><span className=\"px-4\">保存</span></button>\r\n            </div>\r\n        </div>;\r\n\r\n        return <Page header=\"添加联系人\" footer={footer} >\r\n            <Form ref={v => this.form = v} className=\"my-3 mx-3\"\r\n                formData={this.item}\r\n                schema={this.schema}\r\n                uiSchema={this.uiSchema}\r\n                onButtonClick={this.onFormButtonClick}\r\n                requiredFlag={true}\r\n            />\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CSupplierContact } from \"./CSupplierContact\";\r\n\r\nexport class VSupplierContactDetail extends VPage<CSupplierContact> {\r\n\r\n    private supplierContact: any;\r\n\r\n    async open(supplierContact: any) {\r\n        this.supplierContact = supplierContact;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let supplierContactData = _.clone(this.supplierContact);\r\n        let { no, name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = supplierContactData;\r\n\r\n        let header = <header className=\"py-2 text-center text-white\">\r\n            <span className=\"h5 align-middle\">供应商联系人详情</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"bg-primary\">\r\n            <div className=\"py-2 bg-white mb-3\">\r\n                <div className=\"cursor-pointer\">\r\n                    &nbsp;<FA className=\"align-middle text-warning\" name=\"credit-card\" /><span className=\"h6 py-2 px-1 align-middle\"><b> 供应商联系人基本信息</b></span>\r\n                </div>\r\n                <div className=\"py-2 cat-root-sub\">\r\n                    <div><span className=\"px-4 align-middle\">编号：</span><span className=\"py-2 px-4\">{no}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">名称：</span><span className=\"py-2 px-4\">{name}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">姓氏：</span><span className=\"py-2 px-4\">{lastName}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">&nbsp;&nbsp;&nbsp;名：</span><span className=\"py-2 px-4\">{firstName}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">性别：</span><span className=\"py-2 px-4\">{gender === \"0\" ? \"女\" : \"男\"}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">称谓：</span><span className=\"py-2 px-4\">{salutation}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">部门名称：</span><span className=\"py-2\">{departmentName}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">固定电话：</span><span className=\"py-2 px-2\">{telephone}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">手机号：</span><span className=\"py-2 px-4\">{mobile}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">微信号：</span><span className=\"py-2 px-4\">{wechatId}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">Email：</span><span className=\"py-2 px-4\">{email}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">传真：</span><span className=\"py-2 px-4\">{fax}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">所在地区：</span><span className=\"py-2 px-2\">{address}</span></div>\r\n                    <div><span className=\"px-4 align-middle\">详细地址：</span><span className=\"py-2 px-2\">{addressString}</span></div>\r\n                    <div><span className=\"px-4 align-middle \">邮编：</span><span className=\"py-2 px-4\">{zipCode}</span></div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import { AppConfig } from \"tonva\";\r\nimport { tvs } from \"./tvs\";\r\nimport AnalyticalChemistry from './images/AnalyticalChemistry.png';\r\nimport LabSupplies from './images/LabSupplies.png';\r\nimport LifeScience from './images/LifeScience.png';\r\nimport MaterialScience from './images/MaterialScience.png';\r\nimport OrganicChemistry from './images/OrganicChemistry.png';\r\n\r\nexport const appConfig: AppConfig = {\r\n    appName: '百灵威系统工程部/rms',\r\n    version: '1.0.1',\r\n    tvs: tvs,\r\n    oem: '百灵威'\r\n};\r\n// 生产配置\r\nexport const GLOABLE = {\r\n    CHINA: 44,\r\n    TIPDISPLAYTIME: 2000\r\n}","import { TVs } from \"tonva\";\r\n\r\nexport const tvs:TVs = {\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List, FA } from 'tonva';\r\nimport { CAddress } from './CAddress';\r\nimport { GLOABLE } from 'configuration';\r\n\r\nexport class VAddress extends VPage<CAddress> {\r\n    private provinceId: number;\r\n    private cityId: number;\r\n    private countyId: number;\r\n    private backLevel = 0;\r\n\r\n    async open(param: any) {\r\n        let provinces = await this.controller.getCountryProvince(GLOABLE.CHINA);\r\n        this.openPage(this.page, { provinces: provinces });\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        this.backLevel++;\r\n        return <Page header=\"选择所在省市\">\r\n            <div className=\"row no-gutters\">\r\n                {param.provinces.map((v: any) => this.renderPCC(v.province, this.onProvinceClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPCC = (pcc: BoxId, onClick: any) => {\r\n        return <div key={pcc.id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            {tv(pcc, (value) => {\r\n                let { id, chineseName } = value;\r\n                return <>\r\n                    <div className=\"pt-1 pb-1 px-2\" onClick={() => onClick(id)}\r\n                        style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n                    >\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                            &nbsp; {chineseName}\r\n                        </span>\r\n                    </div>\r\n                </>;\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    private onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let len = cities.length;\r\n            if (len === 1) {\r\n                await this.onCityClick(cities[0].city.id);\r\n                return;\r\n            }\r\n            if (len > 1) {\r\n                this.backLevel++;\r\n                this.openPageElement(<Page header=\"选择所在城市\">\r\n                    <div className=\"row no-gutters\">\r\n                        {cities.map(v => this.renderPCC(v.city, this.onCityClick))}\r\n                    </div>\r\n                </Page>);\r\n                return;\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            this.openPageElement(<Page header=\"选择所在区县\">\r\n                <div className=\"row no-gutters\">\r\n                    {counties.map(v => this.renderPCC(v.county, this.onCountyClick))}\r\n                </div>\r\n            </Page>);\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        this.closePage(this.backLevel);\r\n        this.saveAddress();\r\n    }\r\n\r\n    private saveAddress = async () => {\r\n        await this.controller.saveAddress(GLOABLE.CHINA, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n","import { VAddress } from './VAddress';\r\nimport { CUqBase } from 'CBase';\r\n\r\nexport class CAddress extends CUqBase {\r\n    protected async internalStart() {\r\n        this.openVPage(VAddress);\r\n    }\r\n\r\n    getCountryProvince = async (countryId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCountryProvinces.table({ country: countryId });\r\n    }\r\n\r\n    getProvinceCities = async (provinceId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetProvinceCities.table({ province: provinceId });\r\n    }\r\n\r\n    getCityCounties = async (cityId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCityCounties.table({ city: cityId });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.returnCall(addressId);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VSupplierContact } from \"./VSupplierContact\";\r\nimport { VSupplierContactDetail } from \"./VSupplierContactDetail\";\r\nimport { VSupplierDetail } from \"../supplier/VSupplierDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"./CAddress\";\r\n\r\nclass PageSupplierContact extends PageItems<any> {\r\n    private searchSupplierContact: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplierContact = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplierContact.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplierContact extends CUqBase {\r\n\r\n    @observable pageSupplierContact: PageSupplierContact;\r\n    protected async internalStart() {\r\n    }\r\n\r\n    searchSupplierContactByKey = async (parent: any, key: string) => {\r\n        this.pageSupplierContact = new PageSupplierContact(await this.uqs.rms.SearchSupplierContact.query({ _id: parent.id }));\r\n        this.pageSupplierContact.first({ key: key });\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    //添加联系人\r\n    showCreateSupplierContact = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showEditSupplierContact = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showSupplierContactDetail = async (model: any) => {\r\n        this.openVPage(VSupplierContactDetail, model);\r\n    }\r\n\r\n    saveSupplierContact = async (id: number, param: any, parent: any) => {\r\n        let { no, name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address, isDefault } = param;\r\n        let parrm = { no: no, name: name, firstName: firstName, lastName: lastName, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, supplier: parent.id, isValid: 1 };\r\n        let result = await this.uqs.rms.SupplierContact.save(id, parrm);\r\n        if (isDefault === true) {\r\n            let sid = id;\r\n            if (sid === undefined) {\r\n                sid = result.id;\r\n            }\r\n            await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, createTime: parent.createTime, isValid: 1, defaultContact: sid });\r\n        }\r\n        this.cApp.cHome.start();\r\n    }\r\n\r\n    delSupplierContact = async (model: any) => {\r\n        let { id, no, name, firstName, lastName, isDefault, isValid, supplier, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = model;\r\n        await this.uqs.rms.SupplierContact.save(id, { no: no, name: name, firstName: firstName, lastName: lastName, supplier: supplier, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, isDefault: isDefault, isValid: 0 });\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //联系人列表\r\n    showSupplierContact = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n}","import { CAppBase, IConstructor, User, nav } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CUqBase } from \"./CBase\";\r\nimport { VMain } from './ui/main';\r\nimport { CHome } from \"./information/CHome\";\r\nimport { CSupplier } from \"./information/supplier/CSupplier\";\r\nimport { CSupplierContact } from \"./information/supplierContact/CSupplierContact\";\r\n\r\n\r\nexport class CApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs as UQs };\r\n\r\n    topKey: any;\r\n    cHome: CHome;\r\n    cSupplier: CSupplier;\r\n    cSupplierContact: CSupplierContact;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n\r\n        this.cHome = this.newC(CHome);\r\n        this.cSupplier = this.newC(CSupplier);\r\n        this.cSupplierContact = this.newC(CSupplierContact);\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cSupplier.start());\r\n        await Promise.all(promises);\r\n        this.showMain();\r\n        this.topKey = nav.topKey();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n    async loginCallBack(user: User) {\r\n\r\n    }\r\n}\r\n","import * as React from 'react';\nimport './App.css';\nimport { NavView, nav, start } from 'tonva';\nimport { CApp } from './CApp';\nimport { appConfig } from './configuration';\n\nnav.setSettings(appConfig);\n\nclass App extends React.Component {\n\n  private onLogined = async () => {\n    await start(CApp, appConfig);\n  }\n  public render() {\n    return <NavView onLogined={this.onLogined} notLogined={this.onLogined} />\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}