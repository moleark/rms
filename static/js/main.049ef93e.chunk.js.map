{"version":3,"sources":["ui/main.tsx","CBase.ts","information/VHome.tsx","information/CHome.tsx","tools/inputValidations.ts","information/supplier/VSupplier.tsx","information/supplier/VSupplierBankAccount.tsx","information/supplier/VSupplierBankAccountDetail.tsx","information/supplier/VSupplierList.tsx","information/supplier/VSupplierDetail.tsx","information/supplierContact/VAddress.tsx","information/supplierContact/CAddress.tsx","information/supplier/CSupplier.tsx","information/supplierContact/VSupplierContact.tsx","information/supplierContact/VSupplierContactDetail.tsx","information/supplierContact/CSupplierContact.tsx","information/product/VAddProduct.tsx","information/product/VProductDetail.tsx","information/product/VProductList.tsx","information/supplier/VPickSupplier.tsx","information/supplier/CPickSupplier.tsx","information/product/VBrand.tsx","information/product/VPickBrand.tsx","information/product/CBrand.tsx","information/product/CProduct.tsx","information/product/VChemical.tsx","information/product/CChemical.tsx","information/package/VPackage.tsx","information/package/VPackageDetail.tsx","information/package/CPackage.tsx","information/product/VPickProduct.tsx","information/product/CPickProduct.tsx","information/PendingInquiry/VPendingInquiryList.tsx","information/PendingInquiry/VPendingInquiryDetail.tsx","information/PendingInquiry/VCurrency.tsx","information/PendingInquiry/CCurrency.tsx","information/PendingInquiry/VPendingInquiryResult.tsx","information/PendingInquiry/CPendingInquiry.tsx","information/Inquiry/VInquiryList.tsx","information/Inquiry/VInquiryDetail.tsx","information/Inquiry/VPackageDetail.tsx","information/Inquiry/CInquiry.tsx","information/newPendingInquiry/VNewPendingInquiry.tsx","information/newPendingInquiry/VPendingInquiry.tsx","information/newPendingInquiry/VNewPendingInquiryList.tsx","information/newPendingInquiry/VNewPendingInquiryDetail.tsx","information/newPendingInquiry/CNewPendingInquiry.tsx","CApp.tsx","tvs/common.tsx","configuration.ts","tvs/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["color","selected","VMain","render","param","controller","cHome","cProduct","cPendingInquiry","cInquiry","cNewPendingInquiry","faceTabs","name","label","icon","content","tab","notify","undefined","onShown","loadList","map","v","caption","TabCaptionComponent","header","tabs","this","openPage","VPage","CUqBase","_cApp","_uqs","CBase","CSub","VHome","page","cApp","cSupplier","onNewSupplier","searchSupplierByKey","right","className","size","onSearch","key","placeholder","onClick","style","fontSize","headerClassName","toSupplierList","View","CHome","renderRootList","renderView","start","openVPage","telephoneValidation","value","test","mobileValidation","emailValidation","faxValidation","addressDetailValidation","length","zipCodeValidation","departmentNameValidation","salutationValidation","nameValidation","schema","type","required","VSupplier","form","supplierData","uiSchema","items","id","visible","widget","abbreviation","webSite","address","pickId","context","a","pickAddress","Templet","tv","addressValue","country","province","city","county","chineseName","addressString","rules","productionAddress","taxNo","profile","rows","submit","onFormButtonClick","saveSupplierData","data","descriptionData","_","clone","ref","formData","onButtonClick","fieldLabelSize","VSupplierBankAccount","accountName","accountNo","bank","bankAddress","usageType","list","title","bankSWIFT","bankIBAN","bankRTN","saveSupplierBankData","VSupplierBankAccountDetail","supplier","bankAccount","rowTop","onBankDataChanged","itemSchema","newValue","preValue","updateBankAccountData","onDelSupplierBankAccount","vCall","VConfirmDeleteSupplierBankAccount","delSupplierBankAccount","closePage","buttonDel","bankAccountData","bankData","onItemChanged","parent","item","observable","onConfirm","returnCall","onCancel","supplierBankAccount","back","left","top","VSupplierList","renderRootCategory","no","onSupplierSelected","observer","suppliers","VSupplierDetail","firstSupplierContact","supplierContacts","firstSupplierrBankAccount","supplierBankAccounts","getSupplierBankAccount","cSupplierContact","showCreateSupplierContact","onNewSupplierBankAccount","renderBankAccount","getSupplierContact","pickChemical","renderContact","index","onShowSupplierBankAccount","showSupplierContactDetail","gender","mobile","telephone","email","defaultContact","fa_text","fa_gender","tele","mob","ema","onSupplierDataChanged","updateSupplierData","onDelSupplier","VConfirmDeleteSupplier","delSupplier","supData","child","item2","child2","VAddress","countryId","provinceId","cityId","countyId","backLevel","countrys","renderPCC","onCountryClick","pcc","border","marginRight","marginBottom","getCountryProvince","provinces","len","onProvinceClick","openPageElement","saveAddress","getProvinceCities","cities","onCityClick","getCityCounties","counties","onCountyClick","getCountry","CAddress","uqs","common","Country","search","GetCountryProvinces","table","GetProvinceCities","GetCityCounties","Address","save","newAddress","addressId","boxId","PageSupplier","searchQuery","searchSupplier","firstSize","pageSize","pageStart","ret","PageItems","CSupplier","rms","SearchSupplier","first","cAddress","newC","call","cChemical","isValid","Supplier","BankAccount","newBank","SupplierBankAccount","add","arr1","description","SearchSupplierContact","query","_id","contact","SearchSupplierBankAccount","del","bankdata","VSupplierContact","firstName","lastName","salutation","departmentName","wechatId","fax","zipCode","isDefault","defaultValue","saveSupplierContact","requiredFlag","VSupplierContactDetail","onContactDataChanged","updateContactData","onDelSupplierContact","VConfirmDeleteContact","delSupplierContact","contactData","ctData","obj","CSupplierContact","model","parrm","SupplierContact","result","sid","showSupplierContact","supplierContact","VAddProduct","productData","pickSupplier","brand","pickBrand","origin","purity","saveProductData","showChemicalData","chemical","CAS","descriptoinCN","molecularFomula","molecularWeight","mdlNumber","VProductDetail","product","firstPackage","packages","getPackage","showCreatePackage","cPackage","onNewPendingInquiry","showd","renderPackage","onDelPackage","VConfirmDeletePakage","delPakage","showPackageDetail","showEditPackage","radiox","radioy","unit","price","currency","validUpto","minArriveDate","maxArriveDate","radio","valid","Date","now","date","down","mi","arriveDate","descriptionC","createTime","suppliername","brandno","onPurityChanged","updateProductData","onDelProduct","VConfirmDeleteProduct","delProduct","purityData","pakage","VProductList","showProductDetail","products","searchProductByKey","onNewProduct","VPickSupplier","onScrollBottom","renderItem","more","returnSupplier","CPickSupplier","VBrand","brandData","saveBrandData","VPickBrand","brands","searchBrandByKey","onNewBrand","returnBrand","PageBrand","searchBrand","CBrand","SearchBrand","Brand","onEditBrand","PageProduct","searchProduct","CProduct","SearchProduct","cPickSupplier","cBrand","isTrue","Product","ProductChemical","productdata","GetPack","pitem","ppackage","saveArr","VChemical","chemicals","searchChemicalByKey","PageChemical","searchChemical","CChemical","SearchChemical","VPackage","pickCurrency","isTaxIn","isTransFeeIn","transFee","transFeecurrency","packingFee","packingcurrency","otherFee","customized","customizeUpto","invoiceType","vatRate","tariffRate","savePackage","VPackageDetail","package","packageData","PagePackage","searchPackage","CPackage","searchPackageByKey","pagePackage","quantity","paramn","AddPackage","showPackage","VPickProduct","CPickProduct","VPendingInquiryList","inquiryDate","onShowPendingInquiryDetail","pendingInquirys","searchPendingInquiryByKey","VPendingInquiryDetail","pending","inquiryPackage","user","createDate","inquiryRemarks","openPendingInquiryResult","rowEnd","onEndInquiry","VConfirmEndInquiry","saveInquiryData","suppplierData","contactName","contactTelephone","contactSalutation","contactDepartmentName","contactMobile","contactEmail","way","contactfax","inquiryUser","remarks","inid","inquiry","VCurrency","currencys","renderCurrency","onCurrencyClick","returnCurrency","CCurrency","Currency","VPendingInquiryResult","inquiryData","listPrice","packType","row","coaFilePath","msdsFilePath","quotationFilePath","saveInquiryPackage","PagePendingInquiry","searchPendingInquiry","CPendingInquiry","SearchInquiryPending","savePendingInquiryData","supplierid","AddInquiryPending","getDataForSave","inquiryItems","forEach","pk","jsonStr","pack","JSON","parse","push","inquiryQuantity","inquiryRadiox","inquiryRadioy","inquiryUnit","itemuser","itemcreateDate","inquiryitems","packageList","InquirySheet","DeleteInquiryPending","InquiryPendingItem","inquiryPending","stringify","rremarks","AddPackagePrice","SearchInquiryPendingBySupplier","cCurrency","newinquiryPending","newinquiryPackage","newjsonStr","VInquiryList","startDate","sheet","openInquiryDetail","inquirys","searchInquiryByKey","VInquiryDetail","renderPackageItem","openPackageDetail","renderProductItem","packs","renderProduct","brief","state","InquiryItems","packitem","PageInquiry","searchInquiry","CInquiry","GetInquirySheet","getSheet","inquiryItemssGrouped","groupByPack","VProductView","getProduct","pid","SearchProductById","contentagency","LocationUI","pro","packItems","packItem","packRow","cpi","find","e","VNewPendingInquiry","pendingInquiryData","saveNewPendingInquiryData","showProductlData","brandname","VPendingInquiry","updatePendingInquiryState","VNewPendingInquiryList","onShowNewPendingInquiryDetail","newpendingInquirys","searchNewPendingInquiryByKey","pickProduct","VNewPendingInquiryDetail","suppplier","onDelInquiryPackage","onPendingInquiry","onDelInquiry","VConfirmDeleteInquiry","deletePendingInquiryData","VConfirmDeleteInquiryPackage","packid","deletePendingInquiryPackage","NewPagePendingInquiry","searchNewPendingInquiry","CNewPendingInquiry","SearchNewInquiryPending","pendingInquiry","cPickProduct","pendingid","DeleteInquiryPackage","UpdateInquiryPending","CApp","topKey","promises","Promise","all","showMain","nav","initTabName","CAppBase","tvCountry","values","appConfig","appName","version","tvs","oem","setSettings","App","onLogined","React","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.049ef93e.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\r\nimport { CApp } from '../CApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\n\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    render = (param?: any): JSX.Element => {\r\n        let { cHome, cProduct, cPendingInquiry, cInquiry, cNewPendingInquiry } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'supplier', label: '供应商', icon: 'glide', content: cHome.tab, notify: undefined },\r\n            { name: 'product', label: '产品', icon: 'flask', content: cProduct.tab, onShown: cProduct.loadList },\r\n            { name: 'pendingInquiry', label: '待询出', icon: 'pencil-square-o', content: cNewPendingInquiry.tab, onShown: cNewPendingInquiry.loadList },\r\n            { name: 'inquirying', label: '已询出', icon: 'check-square-o ', content: cPendingInquiry.tab, onShown: cPendingInquiry.loadList },\r\n            { name: 'inquiry', label: '询价单', icon: 'bandcamp', content: cInquiry.tab, onShown: cInquiry.loadList }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify, onShown } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n                onShown: onShown,\r\n            }\r\n        });\r\n        return <Page header={false}>\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import { CSub, CBase } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CApp } from \"./CApp\";\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): CUqBase { return this._owner as CUqBase; };\r\n}\r\n","import * as React from 'react';\r\nimport { CHome } from './CHome';\r\nimport { Page, View, SearchBox } from 'tonva';\r\n\r\nexport class VHome extends View<CHome> {\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = () => {\r\n        let { onNewSupplier, searchSupplierByKey } = this.controller.cApp.cSupplier;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n            <div><span onClick={() => onNewSupplier()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >供应商</div>\r\n        </header>;\r\n        return <Page right={right} header={header} headerClassName=\"py-1 bg-primary\">\r\n            <this.content />\r\n        </Page>;\r\n    };\r\n\r\n    private content = () => {\r\n        let { controller } = this;\r\n        let { toSupplierList } = controller;\r\n        return <>\r\n            {toSupplierList()}\r\n        </>\r\n    };\r\n}","import { CUqBase } from '../CBase';\r\nimport { VHome } from './VHome';\r\n\r\nexport class CHome extends CUqBase {\r\n\r\n    async internalStart(param: any) {\r\n\r\n        let { cSupplier } = this.cApp;\r\n        await cSupplier.start();\r\n        this.openVPage(VHome);\r\n    }\r\n\r\n    toSupplierList = () => {\r\n        let { cSupplier } = this.cApp;\r\n        return cSupplier.renderRootList();\r\n    }\r\n    tab = () => this.renderView(VHome);\r\n}","\r\nexport function telephoneValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"固定电话格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function mobileValidation(value: string) {\r\n    if (value && !/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(value))\r\n        return \"手机号格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function emailValidation(value: string) {\r\n    if (value && !/\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(value))\r\n        return \"Email格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function faxValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"传真号码格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function addressDetailValidation(value: string) {\r\n    return (value && value.length > 200) ? \"详细地址最多200个字！\" : undefined;\r\n}\r\n\r\nexport function zipCodeValidation(value: string) {\r\n    return (value && value.length > 15) ? \"邮编过长，请修改后录入！\" : undefined;\r\n}\r\n\r\n\r\nexport function organizationNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function departmentNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"部门名称名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function salutationValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function nameValidation(value: string) {\r\n    return (value && value.length > 50) ? \"姓名最多50个字！\" : undefined;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, BoxId, tv, UiIdItem, UiTextItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'abbreviation', type: 'string', required: false },\r\n    { name: 'webSite', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: true },\r\n    { name: 'addressString', type: 'string', required: true },\r\n    { name: 'productionAddress', type: 'string', required: false },\r\n    { name: 'taxNo', type: 'string', required: false },\r\n    { name: 'profile', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VSupplier extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            name: { widget: 'text', label: '供应商名称', placeholder: '必填' } as UiInputItem,\r\n            abbreviation: { widget: 'text', label: '供应商简称', placeholder: '供应商简称' } as UiInputItem,\r\n            webSite: { widget: 'text', label: '网址', placeholder: '网址' } as UiInputItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', placeholder: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            productionAddress: { widget: 'text', label: '生产厂址', placeholder: '生产厂址', rules: addressDetailValidation } as UiTextItem,\r\n            taxNo: { widget: 'text', label: '税号', placeholder: '税号' } as UiInputItem,\r\n            profile: { widget: 'textarea', label: '企业简介', placeholder: '企业简介', rows: 10 } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierData(context.form.data);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        return <Page header=\"编辑供应商\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, BoxId, tv, UiIdItem, UiTextItem, UiRadio } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from './CSupplier';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'accountName', type: 'string', required: true },\r\n    { name: 'accountNo', type: 'string', required: true },\r\n    { name: 'bank', type: 'string', required: true },\r\n    { name: 'bankAddress', type: 'string', required: true },\r\n    { name: 'usageType', type: 'number', required: true },\r\n    { name: 'bankSWIFT', type: 'string', required: false },\r\n    { name: 'bankIBAN', type: 'string', required: false },\r\n    { name: 'bankRTN', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VSupplierBankAccount extends VPage<CSupplier> {\r\n\r\n    private form: Form;\r\n    private supplierData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            accountName: { widget: 'text', label: '受益人', placeholder: '受益人' } as UiInputItem,\r\n            accountNo: { widget: 'text', label: '账号', placeholder: '开户银行帐号' } as UiInputItem,\r\n            bank: { widget: 'text', label: '开户行', placeholder: '开户行' } as UiInputItem,\r\n            bankAddress: { widget: 'text', label: '银行地址', placeholder: '银行地址' } as UiInputItem,\r\n            usageType: { widget: 'radio', label: '用途', list: [{ value: 0, title: '开户行' }, { value: 1, title: '中转行' }] } as UiRadio,\r\n            bankSWIFT: { widget: 'text', label: 'SWIFT/BIC', placeholder: '开户行SWIFT/BIC' } as UiInputItem,\r\n            bankIBAN: { widget: 'text', label: 'IBAN', placeholder: '开户行IBAN' } as UiInputItem,\r\n            bankRTN: { widget: 'text', label: 'RTN ', placeholder: '开户行的RTN ' } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(supplierData: any) {\r\n        this.supplierData = supplierData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveSupplierBankData(context.form.data, this.supplierData);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.supplierData);\r\n\r\n        return <Page header=\"编辑银行信息\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CSupplier } from './CSupplier';\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'accountName', type: 'string', required: true },\r\n    { name: 'accountNo', type: 'string', required: true },\r\n    { name: 'bank', type: 'string', required: true },\r\n    { name: 'bankAddress', type: 'string', required: true },\r\n    { name: 'usageType', type: 'number', required: true },\r\n    { name: 'bankSWIFT', type: 'string', required: false },\r\n    { name: 'bankIBAN', type: 'string', required: false },\r\n    { name: 'bankRTN', type: 'string', required: false },\r\n];\r\n\r\nexport class VSupplierBankAccountDetail extends VPage<CSupplier> {\r\n    private supplier: any;\r\n    private bankAccount: any;\r\n    @observable private bankData: any;\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item } = param;\r\n        this.supplier = parent;\r\n        this.bankAccount = item;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            accountName: { widget: 'text', label: '受益人', placeholder: '受益人' } as UiInputItem,\r\n            accountNo: { widget: 'text', label: '账号', placeholder: '开户银行帐号' } as UiInputItem,\r\n            bank: { widget: 'text', label: '开户行', placeholder: '开户银行' } as UiInputItem,\r\n            bankAddress: { widget: 'text', label: '银行地址', placeholder: '银行地址' } as UiInputItem,\r\n            usageType: { widget: 'radio', label: '用途', list: [{ value: 0, title: '开户行' }, { value: 1, title: '中转行' }] } as UiRadio,\r\n            bankSWIFT: { widget: 'text', label: 'SWIFT/BIC', placeholder: '开户行SWIFT/BIC' } as UiInputItem,\r\n            bankIBAN: { widget: 'text', label: 'IBAN', placeholder: '开户行IBAN' } as UiInputItem,\r\n            bankRTN: { widget: 'text', label: 'RTN ', placeholder: '开户行的RTN ' } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private rowTop = () => {\r\n\r\n        let { name } = this.supplier;\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">供应商:</div><div className=\"col-8 text-muted text-right\"><b>{name}</b></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onBankDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.bankAccount[name] = newValue;\r\n        await this.controller.updateBankAccountData(this.bankAccount);\r\n    }\r\n\r\n    private onDelSupplierBankAccount = async () => {\r\n        if (await this.vCall(VConfirmDeleteSupplierBankAccount, this.bankAccount) === true) {\r\n            await this.controller.delSupplierBankAccount(this.bankAccount, this.supplier);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let bankAccountData = _.clone(this.bankAccount);\r\n        let { bankAddress, bankSWIFT, bankIBAN, bankRTN, bank, accountNo, accountName, usageType } = bankAccountData;\r\n        let bankData = {\r\n            bankAddress: bankAddress,\r\n            bankSWIFT: bankSWIFT,\r\n            bankIBAN: bankIBAN,\r\n            bankRTN: bankRTN,\r\n            bank: bank,\r\n            accountNo: accountNo,\r\n            accountName: accountName,\r\n            usageType: usageType\r\n        };\r\n\r\n        let buttonDel: any;\r\n        if (bankAccountData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplierBankAccount()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"银行信息\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop()}\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={bankData}\r\n                onItemChanged={this.onBankDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteSupplierBankAccount extends VPage<CSupplier> {\r\n    async open(supplierBankAccount: any) {\r\n        this.openPage(this.page, supplierBankAccount);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (supplierBankAccount: any) => {\r\n        return <Page header=\"删除银行信息\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该银行信息？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除银行信息</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, tv } from 'tonva';\r\nimport { CSupplier } from './CSupplier';\r\n\r\nexport class VSupplierList extends View<CSupplier> {\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, name, address, addressString } = item;\r\n        let { onSupplierSelected } = this.controller;\r\n\r\n        return <LMR className=\"px-3 d-flex p-1 cursor-pointer\">\r\n            <div onClick={() => onSupplierSelected(item)}>\r\n                <b>{name}</b>\r\n                <div className=\"small py-1 text-muted\">{tv(address)} {addressString}</div>\r\n            </div>\r\n        </LMR>\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.content />\r\n    }\r\n\r\n    private content = observer(() => {\r\n        let { suppliers } = this.controller;\r\n        return <List items={suppliers} item={{ render: this.renderRootCategory }} />;\r\n    });\r\n} \r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, Edit, EasyDate, tv, LMR, List, UiIdItem, UiTextItem, ItemSchema, UiSchema, UiInputItem, Form, Context, BoxId } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CSupplier } from \"./CSupplier\";\r\nimport { ParamItem } from \"model/supplierItem\";\r\nimport { TuidBoxDiv } from 'tonva/dist/uq/tuid/tuid';\r\nimport { addressDetailValidation } from 'tools/inputValidations';\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'abbreviation', type: 'string', required: false },\r\n    { name: 'webSite', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: true },\r\n    { name: 'addressString', type: 'string', required: true },\r\n    { name: 'productionAddress', type: 'string', required: false },\r\n    { name: 'taxNo', type: 'string', required: false },\r\n    { name: 'profile', type: 'string', required: false },\r\n];\r\n\r\nexport class VSupplierDetail extends VPage<CSupplier> {\r\n\r\n    private supplier: any;\r\n    private firstSupplierContact: any;\r\n    private supplierContacts: any[] = [];\r\n    private firstSupplierrBankAccount: any;\r\n    private supplierBankAccounts: any[] = [];\r\n\r\n    async open(param: ParamItem) {\r\n        let { parent, item, child, item2, child2 } = param;\r\n        this.supplier = parent;\r\n        this.firstSupplierContact = item;\r\n        this.supplierContacts = child;\r\n        this.firstSupplierrBankAccount = item2;\r\n        this.supplierBankAccounts = child2;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '供应商名称', placeholder: '必填' } as UiInputItem,\r\n            abbreviation: { widget: 'text', label: '供应商简称', placeholder: '供应商简称' } as UiInputItem,\r\n            webSite: { widget: 'text', label: '网址', placeholder: '网址' } as UiInputItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', placeholder: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            productionAddress: { widget: 'text', label: '生产厂址', placeholder: '生产厂址', rules: addressDetailValidation } as UiTextItem,\r\n            taxNo: { widget: 'text', label: '税号', placeholder: '税号' } as UiInputItem,\r\n            profile: { widget: 'textarea', label: '企业简介', placeholder: '企业简介', rows: 10 } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private getSupplierBankAccount = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.controller.onNewSupplierBankAccount(this.supplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"bank\" /><b>银&nbsp;行</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n            <div>\r\n                {this.firstSupplierrBankAccount && <List items={this.supplierBankAccounts} item={{ render: this.renderBankAccount }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private getSupplierContact = () => {\r\n        let { showCreateSupplierContact } = this.controller.cApp.cSupplierContact;\r\n\r\n        return <div>\r\n            <div className=\" d-flex px-3 py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => showCreateSupplierContact(this.supplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b>联系人</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n                <div className=\"flex-grow-1\"></div>\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.controller.pickChemical(this.supplier)} >\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"filter\" /><b>产&nbsp;品</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </ button>\r\n            </div>\r\n            <div>\r\n                {this.firstSupplierContact && <List items={this.supplierContacts} item={{ render: this.renderContact }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private renderBankAccount = (item: any, index: number) => {\r\n        let { onShowSupplierBankAccount } = this.controller;\r\n        let { bankAddress, bankSWIFT, bankIBAN, bankRTN, bank, accountNo, accountName, usageType } = item;\r\n        let left = <div className=\"px-2\">\r\n            <FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{accountName}\r\n            <div className=\"small px-4 text-muted\">{accountNo}</div>\r\n            <div className=\"small px-4 text-muted\">{bankAddress}</div>\r\n        </div>\r\n        let right =\r\n            <div className=\"px-2 text-right text-muted\">\r\n                {usageType === 0 ? \"开户行\" : \"中转行\"}\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => onShowSupplierBankAccount(this.supplier, item)}>\r\n        </LMR>;\r\n    }\r\n\r\n    private renderContact = (item: any, index: number) => {\r\n        let { showSupplierContactDetail } = this.controller.cApp.cSupplierContact;\r\n        let { no, name, id, gender, mobile, telephone, email } = item;\r\n        let { defaultContact } = this.supplier;\r\n        let fa_text = defaultContact === undefined ? \"px-2\" : (defaultContact.id === id ? \"px-2 text-info \" : \"px-2 \");\r\n        let fa_gender = gender === \"0\" ? <FA name=\"female\" className=\"px-2 text-danger\"></FA> : <FA name=\"male\" className=\"px-2 text-primary\"></FA>;\r\n        let tele = (telephone === undefined) ? <span></span> :\r\n            <div className=\"small text-muted\">{telephone}</div>;\r\n        let mob = (mobile === undefined) ? <span></span> :\r\n            <div className=\"small text-muted\">{mobile}</div>;\r\n\r\n        let ema = (email === undefined) ? <span></span> :\r\n            <div className=\"small px-4 text-muted\">{email}</div>;\r\n\r\n        let left = <div className={fa_text}>\r\n            {fa_gender}{name}\r\n            {ema}\r\n        </div>\r\n        let right =\r\n            <div className=\"px-2 text-right\">\r\n                {tele}\r\n                {mob}\r\n            </div>;\r\n        return <LMR left={left} right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => showSupplierContactDetail(item, this.supplier)}>\r\n        </LMR>;\r\n    }\r\n\r\n    private onSupplierDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.supplier[name] = newValue;\r\n        await this.controller.updateSupplierData(this.supplier);\r\n    }\r\n\r\n    private onDelSupplier = async () => {\r\n        if (await this.vCall(VConfirmDeleteSupplier, this.supplier) === true) {\r\n            await this.controller.delSupplier(this.supplier);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n\r\n        let supplierData = _.clone(this.supplier);\r\n        let { name, no, abbreviation, webSite, address, addressString, productionAddress, profile, taxNo } = supplierData;\r\n        let supData = {\r\n            name: name,\r\n            abbreviation: abbreviation,\r\n            webSite: webSite,\r\n            address: address,\r\n            addressString: addressString,\r\n            productionAddress: productionAddress,\r\n            profile: profile,\r\n            taxNo: taxNo\r\n        };\r\n\r\n        let buttonDel: any;\r\n        if (supplierData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplier()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"供应商详情\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">编号:</div><div className=\"col-9 text-muted text-right\">{no}</div>\r\n                </div></>}\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={supData}\r\n                onItemChanged={this.onSupplierDataChanged} />\r\n            {this.getSupplierBankAccount()}\r\n            {this.getSupplierContact()}\r\n        </Page>\r\n    }\r\n}\r\n\r\n\r\nclass VConfirmDeleteSupplier extends VPage<CSupplier> {\r\n    async open(supplier: any) {\r\n        this.openPage(this.page, supplier);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (supplier: any) => {\r\n        return <Page header=\"删除供应商\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该供应商？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除供应商</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List, FA } from 'tonva';\r\nimport { CAddress } from './CAddress';\r\n\r\nexport class VAddress extends VPage<CAddress> {\r\n    private countryId: number;\r\n    private provinceId: number;\r\n    private cityId: number;\r\n    private countyId: number;\r\n    private backLevel = 0;\r\n\r\n    async open(param: any) {\r\n\r\n        let countrys = await this.controller.getCountry();\r\n        this.openPage(this.page, { countrys: countrys });\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        this.backLevel++;\r\n        return <Page header=\"选择所在国家\" headerClassName=\"bg-primary\">\r\n            <div className=\"row no-gutters\">\r\n                {param.countrys.map((v: any) => this.renderPCC(v, this.onCountryClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderPCC = (pcc: BoxId, onClick: any) => {\r\n        return <div key={pcc.id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            {tv(pcc, (value) => {\r\n                let { id, chineseName } = value;\r\n                return <>\r\n                    <div className=\"pt-1 pb-1 px-2\" onClick={() => onClick(id)}\r\n                        style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n                    >\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                            &nbsp; {chineseName}\r\n                        </span>\r\n                    </div>\r\n                </>;\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    private onCountryClick = async (countryId: any) => {\r\n        this.countryId = countryId;\r\n        let provinces = await this.controller.getCountryProvince(countryId);\r\n        if (provinces) {\r\n            let len = provinces.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onProvinceClick(provinces[0].province.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"选择所在省市\">\r\n                        <div className=\"row no-gutters\">\r\n                            {provinces.map(v => this.renderPCC(v.province, this.onProvinceClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let len = cities.length;\r\n            if (len > 0) {\r\n                if (len === 1) {\r\n                    await this.onCityClick(cities[0].city.id);\r\n                    return;\r\n                }\r\n                if (len > 1) {\r\n                    this.backLevel++;\r\n                    this.openPageElement(<Page header=\"选择所在城市\">\r\n                        <div className=\"row no-gutters\">\r\n                            {cities.map(v => this.renderPCC(v.city, this.onCityClick))}\r\n                        </div>\r\n                    </Page>);\r\n                    return;\r\n                }\r\n            } else {\r\n                this.closePage(this.backLevel);\r\n                this.saveAddress();\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            this.openPageElement(<Page header=\"选择所在区县\">\r\n                <div className=\"row no-gutters\">\r\n                    {counties.map(v => this.renderPCC(v.county, this.onCountyClick))}\r\n                </div>\r\n            </Page>);\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    private onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        this.closePage(this.backLevel);\r\n        this.saveAddress();\r\n    }\r\n\r\n    private saveAddress = async () => {\r\n        await this.controller.saveAddress(this.countryId, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n","import { VAddress } from './VAddress';\r\nimport { CUqBase } from 'CBase';\r\n\r\nexport class CAddress extends CUqBase {\r\n    protected async internalStart() {\r\n        this.openVPage(VAddress);\r\n    }\r\n\r\n    getCountry = async (): Promise<any[]> => {\r\n        return await this.uqs.common.Country.search(\"\", 0, 300);\r\n    }\r\n\r\n    getCountryProvince = async (countryId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCountryProvinces.table({ country: countryId });\r\n    }\r\n\r\n    getProvinceCities = async (provinceId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetProvinceCities.table({ province: provinceId });\r\n    }\r\n\r\n    getCityCounties = async (cityId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCityCounties.table({ city: cityId });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId?: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.returnCall(addressId);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VSupplier } from './VSupplier';\r\nimport { VSupplierBankAccount } from './VSupplierBankAccount';\r\nimport { VSupplierBankAccountDetail } from './VSupplierBankAccountDetail';\r\nimport { VSupplierList } from './VSupplierList';\r\nimport { VHome } from '../VHome';\r\nimport { VSupplierDetail } from './VSupplierDetail';\r\nimport { ParamItem, SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"../supplierContact/CAddress\";\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    pickChemical = async (supplier: any): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call(supplier);\r\n    }\r\n\r\n    renderRootList() {\r\n        return this.renderView(VSupplierList);\r\n    }\r\n\r\n    saveSupplierData = async (supplier: any) => {\r\n\r\n        if (supplier.id === undefined) {\r\n            supplier.defaultContact = undefined;\r\n            supplier.isValid = 1;\r\n            await this.uqs.rms.Supplier.save(undefined, supplier);\r\n        } else {\r\n            let { id } = supplier;\r\n            let bankmap: any[] = [];\r\n            supplier.isValid = 1;\r\n            await this.uqs.rms.Supplier.save(id, supplier);\r\n        }\r\n        await this.cApp.cHome.start();\r\n    }\r\n\r\n    saveSupplierBankData = async (param: any, supplier: any) => {\r\n\r\n        if (supplier.id !== undefined) {\r\n            let newBank = await this.uqs.rms.BankAccount.save(undefined, param);\r\n            await this.uqs.rms.SupplierBankAccount.add({ supplier: supplier.id, arr1: [{ bankAccount: newBank.id }] });\r\n        }\r\n        await this.cApp.cHome.start();\r\n    }\r\n\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewSupplier = async () => {\r\n        this.openVPage(VSupplier, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    updateSupplierData = async (supplier: any) => {\r\n        supplier.isValid = 1;\r\n        await this.uqs.rms.Supplier.save(supplier.id, supplier);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewSupplierBankAccount = async (supplier: any) => {\r\n        this.openVPage(VSupplierBankAccount, supplier);\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    onShowSupplierBankAccount = async (supplier: any, supplierBankAccount: any) => {\r\n\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: supplierBankAccount,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierBankAccountDetail, param);\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    onSupplierSelected = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        let contact = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let bankAccount = await this.uqs.rms.SearchSupplierBankAccount.query({ _id: id });\r\n        let param: ParamItem = {\r\n            parent: supplier,\r\n            item: contact.ret[0],\r\n            child: contact.ret,\r\n            item2: bankAccount.ret[0],\r\n            child2: bankAccount.ret,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n\r\n    delSupplier = async (supplier: any) => {\r\n        let { id } = supplier;\r\n        supplier.isValid = 0;\r\n        await this.uqs.rms.Supplier.save(id, supplier);\r\n    }\r\n\r\n    delSupplierBankAccount = async (bankAccount: any, supplier: any) => {\r\n        let { id } = supplier;\r\n        await this.uqs.rms.SupplierBankAccount.del({ supplier: id, arr1: [{ bankAccount: bankAccount.id }] });\r\n    }\r\n\r\n    updateBankAccountData = async (bankdata: any) => {\r\n        await this.uqs.rms.BankAccount.save(bankdata.id, bankdata);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchSupplierByKey(\"\");\r\n    }\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CSupplierContact } from './CSupplierContact';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\n\r\nexport class VSupplierContact extends VPage<CSupplierContact> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'gender', type: 'string', required: true },\r\n        { name: 'firstName', type: 'string', required: false },\r\n        { name: 'lastName', type: 'string', required: false },\r\n        { name: 'salutation', type: 'string', required: false },\r\n        { name: 'departmentName', type: 'string', required: false },\r\n        { name: 'telephone', type: 'string', required: false },\r\n        { name: 'mobile', type: 'string', required: true },\r\n        { name: 'wechatId', type: 'string', required: false },\r\n        { name: 'email', type: 'string' },\r\n        { name: 'fax', type: 'string', required: false },\r\n        { name: 'address', type: 'id', required: true },\r\n        { name: 'addressString', type: 'string', required: true },\r\n        { name: 'zipCode', type: 'string', required: false },\r\n        { name: 'isDefault', type: 'boolean', required: false },\r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '姓名', placeholder: '必填' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '性别', list: [{ value: '1', title: '男' }, { value: '0', title: '女' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '名', placeholder: '名', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '姓氏', placeholder: '姓氏' } as UiInputItem,\r\n            salutation: { widget: 'text', label: '称谓', placeholder: '称谓', rules: salutationValidation } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '部门名称', placeholder: '部门名称', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '固定电话', placeholder: '固定电话', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '手机号', placeholder: '手机号', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '微信号', placeholder: '微信号' } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiTextItem,\r\n            fax: { widget: 'text', label: '传真', placeholder: '传真', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* 下面这种在使用tv之前的一堆判断应该是tv或者什么的有bug, 应该让Henry改改 */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', placeholder: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '邮编', placeholder: '邮编', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'checkbox', label: '默认联系人', defaultValue: false },\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { saveSupplierContact } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await saveSupplierContact(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        return <Page header=\"编辑联系人\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.item}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Edit, Form, UiRadio, ItemSchema, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CSupplierContact } from \"./CSupplierContact\";\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from 'tools/inputValidations';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'gender', type: 'string', required: true },\r\n    { name: 'firstName', type: 'string', required: false },\r\n    { name: 'lastName', type: 'string', required: false },\r\n    { name: 'salutation', type: 'string', required: false },\r\n    { name: 'departmentName', type: 'string', required: false },\r\n    { name: 'telephone', type: 'string', required: false },\r\n    { name: 'mobile', type: 'string', required: true },\r\n    { name: 'wechatId', type: 'string', required: false },\r\n    { name: 'email', type: 'string' },\r\n    { name: 'fax', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: true },\r\n    { name: 'addressString', type: 'string', required: true },\r\n    { name: 'zipCode', type: 'string', required: false },\r\n    { name: 'isDefault', type: 'number', required: false },\r\n];\r\n\r\nexport class VSupplierContactDetail extends VPage<CSupplierContact> {\r\n\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            name: { widget: 'text', label: '姓名', placeholder: '必填' } as UiInputItem,\r\n            gender: { widget: 'radio', label: '性别', list: [{ value: '1', title: '男' }, { value: '0', title: '女' }] } as UiRadio,\r\n            firstName: { widget: 'text', label: '名', placeholder: '名', rules: nameValidation } as UiInputItem,\r\n            lastName: { widget: 'text', label: '姓氏', placeholder: '姓氏' } as UiInputItem,\r\n            salutation: { widget: 'text', label: '称谓', placeholder: '称谓', rules: salutationValidation } as UiTextItem,\r\n            departmentName: { widget: 'text', label: '部门名称', placeholder: '部门名称', rules: departmentNameValidation } as UiTextItem,\r\n            telephone: { widget: 'text', label: '固定电话', placeholder: '固定电话', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '手机号', placeholder: '手机号', rules: mobileValidation } as UiTextItem,\r\n            wechatId: { widget: 'text', label: '微信号', placeholder: '微信号' } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiTextItem,\r\n            fax: { widget: 'text', label: '传真', placeholder: '传真', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* 下面这种在使用tv之前的一堆判断应该是tv或者什么的有bug, 应该让Henry改改 */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', placeholder: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '邮编', placeholder: '邮编', rules: zipCodeValidation } as UiTextItem,\r\n            isDefault: { widget: 'radio', label: '默认联系人', list: [{ value: 1, title: '是' }, { value: 0, title: '否' }] } as UiRadio,\r\n        }\r\n    }\r\n\r\n    private onContactDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.item[name] = newValue;\r\n        await this.controller.updateContactData(this.item, this.parent);\r\n    }\r\n\r\n    private onDelSupplierContact = async () => {\r\n        if (await this.vCall(VConfirmDeleteContact, this.item) === true) {\r\n            await this.controller.delSupplierContact(this.item, this.parent);\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let contactData = _.clone(this.item);\r\n        let { defaultContact } = this.parent;\r\n        let { id, name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address } = contactData;\r\n        let ctData = {\r\n            name: name,\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            gender: gender,\r\n            salutation: salutation,\r\n            departmentName: departmentName,\r\n            telephone: telephone,\r\n            mobile: mobile,\r\n            email: email,\r\n            fax: fax,\r\n            zipCode: zipCode,\r\n            wechatId: wechatId,\r\n            addressString: addressString,\r\n            address: address,\r\n            isDefault: defaultContact === undefined ? 0 : (defaultContact.obj.id === id ? 1 : 0)\r\n        };\r\n\r\n        let buttonDel: any;\r\n        if (this.item !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelSupplierContact()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"供应商联系人详情\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={ctData}\r\n                onItemChanged={this.onContactDataChanged} />\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteContact extends VPage<CSupplierContact> {\r\n    async open(contact: any) {\r\n        this.openPage(this.page, contact);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (contact: any) => {\r\n        return <Page header=\"删除联系人\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该联系人？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除供联系人</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VSupplierContact } from \"./VSupplierContact\";\r\nimport { VSupplierContactDetail } from \"./VSupplierContactDetail\";\r\nimport { VSupplierDetail } from \"../supplier/VSupplierDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CAddress } from \"./CAddress\";\r\n\r\nclass PageSupplierContact extends PageItems<any> {\r\n    private searchSupplierContact: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplierContact = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplierContact.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CSupplierContact extends CUqBase {\r\n\r\n    @observable pageSupplierContact: PageSupplierContact;\r\n    protected async internalStart() {\r\n\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    //添加联系人\r\n    showCreateSupplierContact = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VSupplierContact, param);\r\n    }\r\n\r\n    showSupplierContactDetail = async (model: any, supplier: any) => {\r\n        let param: SupplierItem = {\r\n            parent: supplier,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VSupplierContactDetail, param);\r\n    }\r\n\r\n    saveSupplierContact = async (id: number, param: any, parent: any) => {\r\n        let { name, firstName, lastName, gender, salutation, departmentName, telephone, mobile, email, fax, zipCode, wechatId, addressString, address, isDefault } = param;\r\n        let parrm = { name: name, firstName: firstName, lastName: lastName, gender: gender, salutation: salutation, departmentName: departmentName, telephone: telephone, mobile: mobile, email: email, fax: fax, zipCode: zipCode, wechatId: wechatId, addressString: addressString, address: address, supplier: parent.id, isValid: 1 };\r\n        let result = await this.uqs.rms.SupplierContact.save(id, parrm);\r\n        if (isDefault === true) {\r\n            let sid = id;\r\n            if (sid === undefined) {\r\n                sid = result.id;\r\n            }\r\n            await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, webSite: parent.webSite, address: parent.address, addressString: parent.addressString, productionAddress: parent.productionAddress, profile: parent.profile, isValid: 1, defaultContact: sid });\r\n        }\r\n        this.cApp.cHome.start();\r\n    }\r\n\r\n    updateContactData = async (param: any, parent: any) => {\r\n        let { isDefault } = param;\r\n        await this.uqs.rms.SupplierContact.save(param.id, param);\r\n        if (isDefault === 1) {\r\n            await this.uqs.rms.Supplier.save(parent.id, { no: parent.no, name: parent.name, abbreviation: parent.abbreviation, webSite: parent.webSite, address: parent.address, addressString: parent.addressString, productionAddress: parent.productionAddress, profile: parent.profile, isValid: 1, defaultContact: param.id });\r\n        }\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //联系人列表\r\n    showSupplierContact = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.SearchSupplierContact.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VSupplierDetail, param);\r\n    }\r\n\r\n    delSupplierContact = async (supplierContact: any, supplier: any) => {\r\n        let { id } = supplierContact;\r\n        supplierContact.isValid = 0;\r\n        await this.uqs.rms.SupplierContact.save(id, supplierContact);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'supplier', type: 'id', required: true },\r\n    { name: 'brand', type: 'id', required: false },\r\n    { name: 'origin', type: 'string', required: false },\r\n    { name: 'purity', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VAddProduct extends VPage<CProduct> {\r\n\r\n    private form: Form;\r\n    private productData: any;\r\n    private model: any = this.controller.supplier;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            supplier: {\r\n                widget: 'id', label: '供应商', placeholder: '请选择供应商', defaultValue: this.model,\r\n                pickId: async (context: Context, name: string, value: number) => this.model !== undefined ? this.model : await this.controller.pickSupplier(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择供应商</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            brand: {\r\n                widget: 'id', label: '品牌', placeholder: '请选择品牌',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickBrand(context, name, value),\r\n                Templet: (item: any) => {\r\n                    //let { obj } = item;\r\n                    if (!item) return <small className=\"text-muted\">请选择品牌</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.no}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            origin: { widget: 'text', label: '供应商自编号', placeholder: '供应商自编号' } as UiInputItem,\r\n            purity: { widget: 'text', label: '纯度', placeholder: '纯度' } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n\r\n    async open(productData: any) {\r\n        this.productData = productData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveProductData(context.form.data);\r\n    }\r\n\r\n    private showChemicalData = () => {\r\n\r\n        let { chemical } = this.controller;\r\n        let { no, CAS, description, descriptoinCN, molecularFomula, molecularWeight, mdlNumber } = chemical;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">CAS:</div><div className=\"col-9 text-muted text-right\">{CAS}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">英文名称:</div><div className=\"col-9 text-muted text-right\">{description}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">中文名称:</div><div className=\"col-9 text-muted text-right\">{descriptoinCN}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">分子式:</div><div className=\"col-9 text-muted text-right\">{molecularFomula}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">分子量:</div><div className=\"col-9 text-muted text-right\">{molecularWeight}</div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.productData);\r\n\r\n        return <Page header=\"添加产品\" headerClassName=\"py-1 bg-primary\">\r\n            {this.showChemicalData()}\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Edit, ItemSchema, UiSchema, StringSchema, UiInputItem } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CProduct } from './CProduct';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'purity', type: 'string', required: false },\r\n];\r\n\r\nexport class VProductDetail extends VPage<CProduct> {\r\n    private product: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n    @observable private purityData: any;\r\n\r\n    async open(param: SupplierItem) {\r\n        let { parent, item, child } = param;\r\n        this.product = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            purity: { widget: 'text', label: '纯度', placeholder: '纯度' } as UiInputItem,\r\n        }\r\n    }\r\n\r\n    private getPackage = () => {\r\n        let { showCreatePackage } = this.controller.cApp.cPackage;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n        let { supplier } = this.product;\r\n        let { defaultContact } = supplier.obj;\r\n        let showd = defaultContact === undefined ?\r\n            \"\" : <div className=\" d-flex px-3 py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => showCreatePackage(this.product)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"cube\" /><b>包&nbsp;装</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </button>\r\n                <div className=\"flex-grow-1\"></div>\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => onNewPendingInquiry(this.product)} >\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"filter\" /><b>询&nbsp;价</b></span>\r\n                    <span className=\"px-2\"><FA name=\"plus fa-1x\" /></span>\r\n                </ button>\r\n            </div>;\r\n        return <div>\r\n            {showd}\r\n            <div>\r\n                {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    private onDelPackage = async (item: any) => {\r\n        if (await this.vCall(VConfirmDeletePakage, item) === true) {\r\n            await this.controller.delPakage(item);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n        let { showEditPackage, showPackageDetail } = this.controller.cApp.cPackage;\r\n        let { id, radiox, radioy, unit, type, price, currency, validUpto, minArriveDate, maxArriveDate } = item;\r\n        let { defaultContact } = this.product;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let valid = (validUpto < Date.now()) ? <span className=\"text-danger\"><EasyDate date={validUpto} /></span> : <span><EasyDate date={validUpto} /></span>;\r\n\r\n        let down =\r\n            price === undefined ?\r\n                <div></div> : <div className=\"px-4 text-muted small\">\r\n                    <span>&nbsp;{price}{tv(currency, v => <>{v.name}</>)}&nbsp;</span>\r\n                    {valid}\r\n                </div>;\r\n        let mi = minArriveDate !== undefined ? <span><EasyDate date={minArriveDate} /></span> : \"\";\r\n        let arriveDate = maxArriveDate !== undefined ? <span>~<EasyDate date={maxArriveDate} /></span> : \"\";\r\n        let right =\r\n            <div>\r\n                <div className=\"px-2 cursor-pointer text-danger text-right\" onClick={() => this.onDelPackage(item)}>\r\n                    <FA name=\"trash\" />\r\n                    <div className=\"text-muted small\">{mi}{arriveDate}</div>\r\n                </div>\r\n            </div>;\r\n        let left = <div className=\"px-2\" onClick={() => showPackageDetail(item)}>\r\n            <FA name=\"cube\" className=\"px-2 text-primary\"></FA>\r\n            {radio} <span className=\"small\">{type === 1 ? \"目录\" : \"非目录\"}</span>\r\n            {down}\r\n        </div>;\r\n        return <LMR left={left} right={right} className=\"py-2\">\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (productData: any) => {\r\n\r\n        let { no, supplier, brand, origin, description, descriptionC, createTime, chemical, CAS, purity, molecularFomula, molecularWeight } = this.product;\r\n        let { name: suppliername, defaultContact } = supplier.obj;\r\n        let brandno = brand === undefined ? undefined : brand.obj.name;\r\n        let contact = defaultContact === undefined ? undefined : defaultContact.obj.name;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">产品编号:</div><div className=\"col-8 text-muted text-right\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">供应商:</div><div className=\"col-8 text-muted text-right\"><b>{suppliername}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">默认联系人:</div><div className=\"col-8 text-muted text-right\">{contact === undefined ? \"[无]\" : contact}</div>\r\n            </div>\r\n            {brandno === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">品牌:</div><div className=\"col-8 text-muted text-right\">{brandno}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">CAS:</div><div className=\"col-8 text-muted text-right\">{CAS}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-4\">英文名称:</div><div className=\"col-8 text-muted text-right\">{description}</div>\r\n            </div>\r\n            {descriptionC === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">中文名称:</div><div className=\"col-8 text-muted text-right\">{descriptionC}</div>\r\n                </div></>}\r\n            {origin === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">自编号:</div><div className=\"col-8 text-muted text-right\">{origin}</div>\r\n                </div></>}\r\n            {molecularFomula === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">分子式:</div><div className=\"col-8 text-muted text-right\">{molecularFomula}</div>\r\n                </div></>}\r\n            {molecularWeight === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-4\">分子量:</div><div className=\"col-8 text-muted text-right\">{molecularWeight}</div>\r\n                </div></>}\r\n        </div>;\r\n    }\r\n\r\n    private onPurityChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        await this.controller.updateProductData(this.product, newValue);\r\n    }\r\n\r\n    private onDelProduct = async () => {\r\n        if (await this.vCall(VConfirmDeleteProduct, this.product) === true) {\r\n            await this.controller.delProduct(this.product);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let productData = _.clone(this.product);\r\n        let { purity } = productData;\r\n        let purityData = {\r\n            purity: purity\r\n        };\r\n\r\n        let buttonDel: any;\r\n        if (productData.id !== undefined) {\r\n            buttonDel = <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelProduct()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        }\r\n        return <Page header=\"产品详情\" right={buttonDel} headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(productData)}\r\n            <Edit schema={schema} uiSchema={this.uiSchema}\r\n                data={purityData}\r\n                onItemChanged={this.onPurityChanged} />\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeletePakage extends VPage<CProduct> {\r\n    async open(pakage: any) {\r\n        this.openPage(this.page, pakage);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (pakage: any) => {\r\n        return <Page header=\"删除包装\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该包装？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除包装</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteProduct extends VPage<CProduct> {\r\n    async open(product: any) {\r\n        this.openPage(this.page, product);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (product: any) => {\r\n        return <Page header=\"删除产品\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该产品？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除产品</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CProduct } from './CProduct';\r\n\r\nexport class VProductList extends VPage<CProduct> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { no, description, createTime, supplier, CAS, purity } = item;\r\n        let { showProductDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted\">\r\n            {purity}\r\n        </div>\r\n        return <LMR right={right} className=\"px-3 d-flex p-1 cursor-pointer\">\r\n            <div onClick={() => showProductDetail(item)}>\r\n                <b>{CAS}</b>\r\n                <div><b>{description}</b></div>\r\n                <div className=\"py-1 text-muted\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n            </div>\r\n        </LMR>\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, onNewProduct, searchProductByKey, pickChemical } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"请输入cas、名称关键字\" />\r\n            <div><span onClick={() => pickChemical()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >产品</div>\r\n        </header>;\r\n        return <Page header={header} right={right} headerClassName=\"py-1 bg-primary\">\r\n            <List items={products} item={{ render: this.renderRootCategory }} />\r\n        </Page >;\r\n    })\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickSupplier } from './CPickSupplier';\r\n\r\nexport class VPickSupplier extends VPage<CPickSupplier> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { suppliers, searchSupplierByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchSupplierByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n        </div>;\r\n        return <Page header=\"选择供应商\" right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={suppliers} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.suppliers.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnSupplier(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { VPickSupplier } from './VPickSupplier';\r\n\r\nclass PageSupplier extends PageItems<any> {\r\n\r\n    private searchSupplier: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchSupplier = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchSupplier.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickSupplier extends CUqBase {\r\n\r\n    @observable suppliers: PageSupplier;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchSupplierByKey(param);\r\n        this.openVPage(VPickSupplier);\r\n    }\r\n\r\n    searchSupplierByKey = async (key: string) => {\r\n        this.suppliers = new PageSupplier(this.uqs.rms.SearchSupplier);\r\n        this.suppliers.first({ key: key });\r\n    }\r\n\r\n    returnSupplier = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CBrand } from './CBrand';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'no', type: 'string', required: true },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'isValid', type: 'boolean', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VBrand extends VPage<CBrand> {\r\n\r\n    private form: Form;\r\n    private brandData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            no: { widget: 'text', label: '品牌编号', placeholder: '必填' } as UiInputItem,\r\n            name: { widget: 'text', label: '品牌名称', placeholder: '必填' } as UiInputItem,\r\n            isValid: { widget: 'checkbox', label: '有效', defaultValue: true },\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(brandData: any) {\r\n        this.brandData = brandData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveBrandData(context.form.data);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.brandData);\r\n\r\n        return <Page header=\"添加品牌\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CBrand } from './CBrand';\r\n\r\nexport class VPickBrand extends VPage<CBrand> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { brands, searchBrandByKey, onNewBrand } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchBrandByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n            <div><span onClick={() => onNewBrand()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span>\r\n            </div>\r\n        </div>;\r\n        let header = <header>\r\n            <div>选择品牌</div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\" >\r\n            <List items={brands} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.brands.more();\r\n    }\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnBrand(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { no, name } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{no} - {name}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VBrand } from './VBrand';\r\nimport { VPickBrand } from './VPickBrand';\r\n\r\nclass PageBrand extends PageItems<any> {\r\n\r\n    private searchBrand: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchBrand = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchBrand.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CBrand extends CUqBase {\r\n\r\n    @observable brands: PageBrand;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchBrandByKey(param);\r\n        this.openVPage(VPickBrand);\r\n    }\r\n\r\n    searchBrandByKey = async (key: string) => {\r\n        this.brands = new PageBrand(this.uqs.rms.SearchBrand);\r\n        this.brands.first({ key: key });\r\n    }\r\n\r\n    saveBrandData = async (brand: any) => {\r\n\r\n        if (brand.id === undefined) {\r\n            await this.uqs.rms.Brand.save(undefined, brand);\r\n        } else {\r\n            await this.uqs.rms.Brand.save(brand.id, brand);\r\n        }\r\n        this.closePage();\r\n        await this.searchBrandByKey(\"\");\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewBrand = async () => {\r\n        this.openVPage(VBrand, { description: undefined });\r\n    }\r\n\r\n    /**\r\n    * 打开编辑界面\r\n    */\r\n    onEditBrand = async (brand: any) => {\r\n        this.openVPage(VBrand, brand);\r\n    }\r\n\r\n    returnBrand = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VAddProduct } from './VAddProduct';\r\nimport { VProductDetail } from './VProductDetail';\r\nimport { VProductList } from './VProductList';\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CChemical } from './CChemical';\r\nimport { CBrand } from './CBrand';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 10;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n    chemical: any;\r\n    supplier: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        //this.openVPage(VProductList);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key });\r\n    }\r\n\r\n    pickSupplier = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cPickSupplier = this.newC(CPickSupplier);\r\n        return await cPickSupplier.call<number>();\r\n    }\r\n\r\n    pickBrand = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cBrand = this.newC(CBrand);\r\n        return await cBrand.call<number>();\r\n    }\r\n\r\n    pickChemical = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cChemical.call();\r\n    }\r\n\r\n    saveProductData = async (product: any) => {\r\n\r\n        if (product.id === undefined) {\r\n            if (this.chemical) {\r\n                let { id, CAS, description, descriptoinCN, molecularFomula, molecularWeight } = this.chemical;\r\n                product.description = description;\r\n                product.descriptionC = descriptoinCN;\r\n                product.createTime = Date.now();\r\n                product.isTrue = 1;\r\n                product.defaultContact = undefined;\r\n                let result = await this.uqs.rms.Product.save(undefined, product);\r\n                await this.uqs.rms.ProductChemical.add({ product: result.id, arr1: [{ chemical: id, CAS: CAS, molecularFomula: molecularFomula, molecularWeight: molecularWeight, purity: product.purity }] });\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    updateProductData = async (productdata: any, purity: any) => {\r\n\r\n        if (productdata) {\r\n            productdata.isTrue = 1;\r\n            let { chemical } = productdata;\r\n            await this.uqs.rms.Product.save(productdata.id, productdata);\r\n            await this.uqs.rms.ProductChemical.add({ product: productdata.id, arr1: [{ chemical: chemical.id, CAS: productdata.CAS, molecularFomula: productdata.molecularFomula, molecularWeight: productdata.molecularWeight, purity: purity }] });\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewProduct = async (model: any, supplier?: any) => {\r\n        this.chemical = model;\r\n        this.supplier = supplier;\r\n        this.openVPage(VAddProduct, { product: undefined });\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    showProductDetail = async (model: any) => {\r\n        let { id } = model;\r\n        let pitem = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchProductByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VProductList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n\r\n    delProduct = async (product: any) => {\r\n        let { id } = product;\r\n        product.isTrue = 0;\r\n        await this.uqs.rms.Product.save(id, product);\r\n    }\r\n\r\n    delPakage = async (ppackage: any) => {\r\n        let { id, product } = ppackage;\r\n        let param = {\r\n            radiox: ppackage.radiox,\r\n            radioy: ppackage.radioy,\r\n            unit: ppackage.unit,\r\n            type: ppackage.type,\r\n            isValid: 0,\r\n        }\r\n        let result = await this.uqs.rms.Product.saveArr(\"Pack\", product.id, id, param);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CChemical } from './CChemical';\r\n\r\nexport class VChemical extends VPage<CChemical> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { chemicals, searchChemicalByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchChemicalByKey(key)}\r\n                placeholder=\"请输入CAS、名称关键字\" />\r\n        </div>;\r\n\r\n        return <Page header=\"选择标准库\" right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"bg-primary\">\r\n            <List items={chemicals} item={{ render: this.renderItem }} />\r\n        </Page>;\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.chemicals.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description } = item;\r\n        let { supplier } = this.controller;\r\n        let { onNewProduct } = this.controller.cApp.cProduct;\r\n        return <LMR className=\"py-2 border\" onClick={() => onNewProduct(item, supplier)}>\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>CAS:{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">英文：{description}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VChemical } from './VChemical';\r\n\r\nclass PageChemical extends PageItems<any> {\r\n\r\n    private searchChemical: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 8;\r\n        this.searchChemical = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchChemical.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CChemical extends CUqBase {\r\n\r\n    @observable chemicals: PageChemical;\r\n    @observable supplier: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.supplier = param;\r\n        this.searchChemicalByKey(\"\");\r\n        this.openVPage(VChemical);\r\n    }\r\n\r\n    searchChemicalByKey = async (key: string) => {\r\n        this.chemicals = new PageChemical(this.uqs.chemical.SearchChemical);\r\n        this.chemicals.first({ key: key });\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, Form, UiRadio, UiSchema, UiTextItem, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackage extends VPage<CPackage> {\r\n    private form: Form;\r\n    private item: any;\r\n    private parent: any;\r\n    async open(param?: SupplierItem) {\r\n        let { item, parent } = param;\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: Schema = [\r\n        { name: 'radiox', type: 'number', required: true },\r\n        { name: 'radioy', type: 'number', required: true },\r\n        { name: 'unit', type: 'string', required: true },\r\n        { name: 'type', type: 'string', required: true },\r\n        { name: 'price', type: 'number', required: true },\r\n        { name: 'currency', type: 'id', required: true },\r\n        { name: 'isTaxIn', type: 'number', required: true },\r\n        { name: 'isTransFeeIn', type: 'number', required: true },\r\n        { name: 'transFee', type: 'number', required: false },\r\n        { name: 'transFeecurrency', type: 'id', required: false },\r\n        { name: 'packingFee', type: 'number', required: false },\r\n        { name: 'packingcurrency', type: 'id', required: false },\r\n        { name: 'otherFee', type: 'number', required: false },\r\n        { name: 'customized', type: 'number', required: true },\r\n        { name: 'customizeUpto', type: 'date', required: false },\r\n        { name: 'validUpto', type: 'date', required: true },\r\n        { name: 'minArriveDate', type: 'date', required: true },\r\n        { name: 'maxArriveDate', type: 'date', required: true },\r\n        { name: 'invoiceType', type: 'number', required: true },\r\n        { name: 'vatRate', type: 'number', required: false },\r\n        { name: 'tariffRate', type: 'number', required: false },   \r\n        { name: 'submit', type: 'submit' }\r\n    ];\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            radiox: { widget: 'text', label: '套', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '包装规格', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            unit: { widget: 'text', label: '单位', placeholder: '必填' } as UiInputItem,\r\n            type: { widget: 'radio', label: '类型', list: [{ value: 1, title: '目录包装' }, { value: 2, title: '非目录包装' }] } as UiRadio,\r\n            price: { widget: 'text', label: '结算价', placeholder: '必填' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '结算币种', placeholder: '结算币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择结算币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '含税费', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            isTransFeeIn: { widget: 'radio', label: '含运费', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '运费', placeholder: '运费' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '运费币种', placeholder: '运费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择运费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '包装费', placeholder: '包装费' } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '包装费币种', placeholder: '包装费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.cApp.cPendingInquiry.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择包装费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '其他费', placeholder: '其他费' } as UiInputItem,\r\n            customized: { widget: 'radio', label: '定制', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            customizeUpto: { widget: 'date', label: '定制截止日期' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '报价有效期', placeholder: '必填' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '最短到货期', placeholder: '必填' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '最长到货期', placeholder: '必填' } as UiInputItem,\r\n            invoiceType: { widget: 'radio', label: '发票类型', list: [{ value: \"1\", title: '增值税专用发票' }, { value: \"2\", title: '增值税普通发票' }, { value: \"3\", title: '形式发票' }] } as UiRadio,\r\n            vatRate: { widget: 'text', label: '增值税率', placeholder: '增值税率' } as UiInputItem,\r\n            tariffRate: { widget: 'text', label: '关税税率', placeholder: '关税税率' } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { savePackage } = this.controller;\r\n        let id = this.item && this.item.id;\r\n        await savePackage(id, context.form.data, this.parent);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        return <Page header=\"编辑包装\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.item}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n\r\n","import * as React from 'react';\r\nimport { FA, Page, VPage, EasyDate, tv } from \"tonva\";\r\nimport _ from 'lodash';\r\nimport { CPackage } from './CPackage';\r\n\r\nexport class VPackageDetail extends VPage<CPackage> {\r\n\r\n    private package: any;\r\n\r\n    async open(param: any) {\r\n        this.package = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let packageData = _.clone(this.package);\r\n        let { radiox, radioy, unit, type, price, currency, isTaxIn, isTransFeeIn, transFee\r\n            , transFeecurrency, packingFee, packingcurrency, otherFee\r\n            , customized, customizeUpto, validUpto, minArriveDate\r\n            , maxArriveDate, invoiceType, vatRate, tariffRate } = packageData;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n\r\n        let header = <header>\r\n            <span>包装详情: {radio}</span>\r\n        </header>;\r\n\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\" >\r\n            <div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{type === 1 ? \"目录包装\" : (type === 2 ? \"非目录包装\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>结算价:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含税费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTaxIn === 1 ? \"含\" : (isTaxIn === 0 ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTransFeeIn === 1 ? \"含\" : (isTransFeeIn === 0 ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>其他费用:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{otherFee}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>是否定制:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{customized === 1 ? \"是\" : (customized === 0 ? \"否\" : \"\")}</div>\r\n                </div>\r\n                <>{customized === 0?\"\":\r\n                <div>\r\n                    <div className=\"border-top edit-sep-light-gray\"></div>\r\n                    <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                        <div>定制时间至:</div>\r\n                        <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={customizeUpto}/></div>\r\n                    </div>\r\n                </div>}</>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>有效期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={validUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最短货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={minArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最长货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={maxArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>发票类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{invoiceType === undefined ? \"\" : (invoiceType === 1 ? \"增值税专用发票\" : (invoiceType === 2 ? \"增值税普通发票\" : \"形式发票\"))}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>增值税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{vatRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>关税税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{tariffRate}</div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, Query, PageItems, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPackage } from \"./VPackage\";\r\nimport { VPackageDetail } from \"./VPackageDetail\";\r\nimport { VProductDetail } from \"../product/VProductDetail\";\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass PagePackage extends PageItems<any> {\r\n    private searchPackage: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPackage = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPackage.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPackage extends CUqBase {\r\n\r\n    @observable pagePackage: PagePackage;\r\n    protected async internalStart() {\r\n    }\r\n\r\n    searchPackageByKey = async (parent: any, key: string) => {\r\n        this.pagePackage = new PagePackage(await this.uqs.rms.GetPack.query({ _id: parent.id }));\r\n        this.pagePackage.first({ key: key });\r\n    }\r\n\r\n    //添加联系人\r\n    showCreatePackage = (model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: model,\r\n            item: undefined,\r\n            child: undefined,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showEditPackage = async (parent: any, model: any) => {\r\n        let param: SupplierItem = {\r\n            parent: parent,\r\n            item: model,\r\n            child: model,\r\n        }\r\n        this.openVPage(VPackage, param);\r\n    }\r\n\r\n    showPackageDetail = async (model: any) => {\r\n        this.openVPage(VPackageDetail, model);\r\n    }\r\n\r\n    savePackage = async (id: number, param: any, parent: any) => {\r\n        // await this.uqs.rms.Product.saveArr(\"Pack\", parent.id, id, param);\r\n        let { quantity, radiox, radioy, unit, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, customized, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, type } = param;\r\n        let paramn = {\r\n            product: parent,\r\n            quantity: quantity,\r\n            radiox: radiox,\r\n            radioy: radioy,\r\n            unit: unit,\r\n            price: price,\r\n            currency: currency,\r\n            isTaxIn: isTaxIn,\r\n            isTransFeeIn: isTransFeeIn,\r\n            transFee: transFee,\r\n            transFeecurrency: transFeecurrency,\r\n            packingFee: packingFee,\r\n            packingcurrency: packingcurrency,\r\n            otherFee: otherFee,\r\n            customized: customized,\r\n            customizeUpto: customizeUpto,\r\n            validUpto: validUpto,\r\n            minArriveDate: minArriveDate,\r\n            maxArriveDate: maxArriveDate,\r\n            invoiceType: invoiceType,\r\n            vatRate: vatRate,\r\n            tariffRate: tariffRate,\r\n            type: type,\r\n        };\r\n        await this.uqs.rms.AddPackage.submit(paramn);\r\n        this.closePage();\r\n    }\r\n\r\n    loadList = async (parent: any) => {\r\n        await this.cApp.cSupplier.onSupplierSelected(parent);\r\n    }\r\n\r\n    //包装列表\r\n    showPackage = async (model: any) => {\r\n        let { id } = model;\r\n        let item = await this.uqs.rms.GetPack.query({ _id: id });\r\n        let child = item.ret.length > 0 ? item.ret : undefined;\r\n        let param: SupplierItem = {\r\n            parent: undefined,\r\n            item: item.ret[0],\r\n            child: child,\r\n        }\r\n        this.openVPage(VProductDetail, param);\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, SearchBox, FA, tv } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { CPickProduct } from './CPickProduct';\r\n\r\nexport class VPickProduct extends VPage<CPickProduct> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { products, searchProductByKey } = this.controller;\r\n        let { onNewPendingInquiry } = this.controller.cApp.cNewPendingInquiry;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchProductByKey(key)}\r\n                placeholder=\"请输入关键字\" />\r\n        </div>;\r\n        return <Page header=\"选择产品\"  right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={products} item={{ render: this.renderItem, onClick: onNewPendingInquiry }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.products.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { CAS, description, supplier } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{CAS}</div>\r\n            <div className=\"px-4 text-muted small\">{description}</div>\r\n            <div className=\"px-4 text-muted small\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { nav } from 'tonva';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport iconj from '../images/icon.jpg';\r\nimport { VPickProduct } from './VPickProduct';\r\n\r\nclass PageProduct extends PageItems<any> {\r\n\r\n    private searchProduct: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchProduct = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchProduct.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPickProduct extends CUqBase {\r\n\r\n    @observable products: PageProduct;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchProductByKey(param);\r\n        this.openVPage(VPickProduct);\r\n    }\r\n\r\n    searchProductByKey = async (key: string) => {\r\n        this.products = new PageProduct(this.uqs.rms.SearchProduct);\r\n        this.products.first({ key: key });\r\n    }\r\n\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryList extends VPage<CPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, inquiryDate } = item;\r\n        let { onShowPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted\">\r\n            <EasyDate date={inquiryDate} />\r\n        </div>\r\n        let left = <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n        return <LMR left={left} right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => onShowPendingInquiryDetail(item)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pendingInquirys, searchPendingInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchPendingInquiryByKey(key)}\r\n                placeholder=\"请输入供应商关键字\" />\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >已询出</div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={pendingInquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiRadio, Form, Context } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nexport class VPendingInquiryDetail extends VPage<CPendingInquiry> {\r\n    private pending: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n    private model: any;\r\n\r\n    async open(param: any) {\r\n        this.model = param;\r\n        let { parent, item, child } = param;\r\n        this.pending = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity, inquiryRemarks } = item;\r\n        let { brand, description, descriptionC } = product.obj;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span><FA className=\"align-middle p-2 cursor-pointer text-info\" name=\"edit\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"p-1 d-flex cursor-pointer\" onClick={() => this.controller.openPendingInquiryResult(item)}>\r\n            <div><FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{CAS}&nbsp;&nbsp;{quantity} * {radio}</div>\r\n            <div className=\"px-4 text-muted\">{description}</div>\r\n            <div className=\"px-4 text-muted\"><span className=\"text-muted small\">{inquiryRemarks}</span></div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowEnd = () => {\r\n        return this.firstPackage && <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => this.onEndInquiry()}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b>完结询价</b></span>\r\n                    <span className=\"px-2\"><FA name=\"chevron-right fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private onEndInquiry = async () => {\r\n        if (await this.vCall(VConfirmEndInquiry, this.pending) === true) {\r\n            await this.controller.saveInquiryData(this.pending, this.packages);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, inquiryUser, inquiryDate, user, date, remarks } = suppplierData;\r\n        let { id } = user;\r\n        let { id: inid } = inquiryUser;\r\n\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">供应商:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">联系人:</div><div className=\"col-9\">{contactName}&nbsp;{contactTelephone}&nbsp;{contactMobile}&nbsp;{contactEmail}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">创建人:</div><div className=\"col-9\">{id}&nbsp;<EasyDate date={date} /></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">询价人:</div><div className=\"col-9\">{inid}&nbsp;{way === 1 ? \"Email询价\" : (way === 2 ? \"电话询价\" : \"传真询价\")} <EasyDate date={inquiryDate} /></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.pending);\r\n\r\n        return <Page header=\"询价详情\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            {this.rowEnd()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmEndInquiry extends VPage<CPendingInquiry> {\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n        return <Page header=\"完结询单\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否完结询单？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>完结</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from 'tonva';\r\nimport { FA } from 'tonva';\r\nimport { CCurrency } from './CCurrency';\r\n\r\nexport class VCurrency extends VPage<CCurrency> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let { currencys } = this.controller;\r\n        return <Page header=\"选择币种\">\r\n            <div className=\"row no-gutters\">\r\n                {currencys.map((v: any) => this.renderCurrency(v, this.onCurrencyClick))}\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    private renderCurrency = (currency: any, onClick: any) => {\r\n        let { id, name } = currency;\r\n        return <div key={id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\" >\r\n            <div className=\"pt-1 pb-1 px-2\" onClick={() => this.onCurrencyClick(currency)}\r\n                style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n            >\r\n                <span className=\"ml-1 align-middle\">\r\n                    <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                    &nbsp; {name}\r\n                </span>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onCurrencyClick = async (item: any) => {\r\n        await this.controller.returnCurrency(item);\r\n        this.closePage();\r\n    }\r\n}\r\n","import { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VCurrency } from './VCurrency';\r\n\r\nexport class CCurrency extends CUqBase {\r\n\r\n    @observable currencys: any;\r\n\r\n    protected async internalStart() {\r\n        this.currencys = await this.uqs.common.Currency.search(\"\", 0, 100);\r\n        this.openVPage(VCurrency);\r\n    }\r\n\r\n    returnCurrency = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiTextItem, UiRadio, tv, UiIdItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CPendingInquiry } from './CPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'string', required: true },\r\n    { name: 'listPrice', type: 'number', required: false },\r\n    { name: 'price', type: 'number', required: true },\r\n    { name: 'currency', type: 'id', required: true },\r\n    { name: 'isTaxIn', type: 'number', required: true },\r\n    { name: 'isTransFeeIn', type: 'number', required: true },\r\n    { name: 'transFee', type: 'number', required: false },\r\n    { name: 'transFeecurrency', type: 'id', required: false },\r\n    { name: 'packingFee', type: 'number', required: false },\r\n    { name: 'packingcurrency', type: 'id', required: false },\r\n    { name: 'otherFee', type: 'number', required: false },\r\n    { name: 'customized', type: 'number', required: true },\r\n    { name: 'customizeUpto', type: 'date', required: false },\r\n    { name: 'validUpto', type: 'date', required: true },\r\n    { name: 'minArriveDate', type: 'date', required: true },\r\n    { name: 'maxArriveDate', type: 'date', required: true },\r\n    { name: 'invoiceType', type: 'number', required: true },\r\n    { name: 'vatRate', type: 'number', required: false },\r\n    { name: 'tariffRate', type: 'number', required: false },\r\n    { name: 'packType', type: 'number', required: true },\r\n    { name: 'remarks', type: 'string', required: false },\r\n    { name: 'coaFilePath', type: 'string', required: false },\r\n    { name: 'msdsFilePath', type: 'string', required: false },\r\n    { name: 'quotationFilePath', type: 'string', required: false },\r\n    { name: 'result', type: 'number', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiryResult extends VPage<CPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private inquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '数量', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '套', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '包装规格', placeholder: '必填' } as UiInputItem,\r\n            unit: { widget: 'text', label: '单位', placeholder: '必填' } as UiTextItem,\r\n            listPrice: { widget: 'text', label: '目录价', placeholder: '目录价' } as UiInputItem,\r\n            price: { widget: 'text', label: '结算价', placeholder: '必填' } as UiInputItem,\r\n            currency: {\r\n                widget: 'id', label: '结算币种', placeholder: '结算币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择结算币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            isTaxIn: { widget: 'radio', label: '含税费', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            isTransFeeIn: { widget: 'radio', label: '含运费', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            transFee: { widget: 'text', label: '运费', placeholder: '运费' } as UiInputItem,\r\n            transFeecurrency: {\r\n                widget: 'id', label: '运费币种', placeholder: '运费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择运费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            packingFee: { widget: 'text', label: '包装费', placeholder: '包装费' } as UiInputItem,\r\n            packingcurrency: {\r\n                widget: 'id', label: '包装费币种', placeholder: '包装费币种',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickCurrency(context, name, value),\r\n                Templet: (item: any) => {\r\n                    if (!item) return <small className=\"text-muted\">请选择包装费币种</small>;\r\n                    return <>\r\n                        {tv(item, v => <>{v.name}</>)}\r\n                    </>;\r\n                }\r\n            } as UiIdItem,\r\n            otherFee: { widget: 'text', label: '其他费', placeholder: '其他费' } as UiInputItem,\r\n            customized: { widget: 'radio', label: '定制', list: [{ value: \"0\", title: '否' }, { value: \"1\", title: '是' }] } as UiRadio,\r\n            customizeUpto: { widget: 'date', label: '定制截止日期' } as UiInputItem,\r\n            validUpto: { widget: 'date', label: '报价有效期', placeholder: '必填' } as UiInputItem,\r\n            minArriveDate: { widget: 'date', label: '最短到货期', placeholder: '必填' } as UiInputItem,\r\n            maxArriveDate: { widget: 'date', label: '最长到货期', placeholder: '必填' } as UiInputItem,\r\n            invoiceType: { widget: 'radio', label: '发票类型', list: [{ value: \"1\", title: '增值税专用发票' }, { value: \"2\", title: '增值税普通发票' }, { value: \"3\", title: '形式发票' }] } as UiRadio,\r\n            vatRate: { widget: 'text', label: '增值税率', placeholder: '增值税率' } as UiInputItem,\r\n            tariffRate: { widget: 'text', label: '关税税率', placeholder: '关税税率' } as UiInputItem,\r\n            packType: { widget: 'radio', label: '包装类型', list: [{ value: \"1\", title: '目录包装' }, { value: \"2\", title: '非目录包装' }] } as UiRadio,\r\n            remarks: { widget: 'text', label: '备注', row: 10, placeholder: '备注' } as UiInputItem,\r\n            coaFilePath: { widget: 'text', label: 'COA文件路径', placeholder: 'COA文件路径' } as UiInputItem,\r\n            msdsFilePath: { widget: 'text', label: 'MSOS文件路径', placeholder: 'MSOS文件路径' } as UiInputItem,\r\n            quotationFilePath: { widget: 'text', label: '报价单文件路径', placeholder: '报价单文件路径' } as UiInputItem,\r\n            result: { widget: 'radio', label: '询价结果', list: [{ value: \"1\", title: '正常询价有结果' }, { value: \"2\", title: '供应商无回复' }, { value: \"3\", title: '供应商有回复,但无价格' }] } as UiRadio,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(inquiryData: any) {\r\n        this.inquiryData = inquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveInquiryPackage(context.form.data, this.inquiryData);\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.inquiryData);\r\n\r\n        return <Page header=\"录入询价结果\" headerClassName=\"py-1 bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPendingInquiryList } from './VPendingInquiryList';\r\nimport { VPendingInquiryDetail } from './VPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\nimport { CCurrency } from '../PendingInquiry/CCurrency';\r\nimport { VPendingInquiryResult } from '../PendingInquiry/VPendingInquiryResult';\r\n\r\nclass PagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPendingInquiry extends CUqBase {\r\n\r\n    @observable pendingInquirys: PagePendingInquiry;\r\n    @observable pendingInquiryList: PagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchPendingInquiryByKey = async (key: string) => {\r\n        this.pendingInquirys = new PagePendingInquiry(this.uqs.rms.SearchInquiryPending);\r\n        this.pendingInquirys.first({ key: key });\r\n    }\r\n\r\n    savePendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let { quantity, radiox, radioy, unit } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    getDataForSave = (pending: any, items: any[]) => {\r\n\r\n        let { contact, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, user, date, inquiryDate, inquiryUser, supplier, way } = pending;\r\n        let inquiryItems: any[] = [];\r\n        items.forEach(pk => {\r\n            if (pk.jsonStr === undefined) { return; };\r\n            let pack = JSON.parse(pk.jsonStr);\r\n            inquiryItems.push({\r\n                product: pk.product, inquiryQuantity: pk.quantity, inquiryRadiox: pk.radiox, inquiryRadioy: pk.radioy, inquiryUnit: pk.unit, itemuser: pk.user, itemcreateDate: pk.createDate\r\n                , quantity: pack.quantity, radiox: pack.radiox, radioy: pack.radioy, unit: pack.unit, listPrice: pack.listPrice, price: pack.price, currency: pack.currency\r\n                , isTaxIn: pack.isTaxIn, isTransFeeIn: pack.isTransFeeIn, transFee: pack.transFee, transFeecurrency: pack.transFeecurrency, packingFee: pack.packingFee\r\n                , packingcurrency: pack.packingcurrency, otherFee: pack.otherFee, customized: pack.customized, customizeUpto: pack.customizeUpto, validUpto: pack.validUpto\r\n                , minArriveDate: pack.minArriveDate, maxArriveDate: pack.maxArriveDate, invoiceType: pack.invoiceType, vatRate: pack.vatRate, tariffRate: pack.tariffRate\r\n                , packType: pack.packType, coaFilePath: pack.coaFilePath, msdsFilePath: pack.msdsFilePath, quotationFilePath: pack.quotationFilePath\r\n                , inquiryRemarks: pack.remarks, remarks: pk.inquiryRemarks, result: pack.result\r\n            })\r\n        });\r\n        return {\r\n            supplier: supplier,\r\n            contact: contact,\r\n            contactName: contactName,\r\n            contactSalutation: contactSalutation,\r\n            contactDepartmentName: contactDepartmentName,\r\n            contactTelephone: contactTelephone,\r\n            contactMobile: contactMobile,\r\n            contactEmail: contactEmail,\r\n            contactfax: contactfax,\r\n            way: way,\r\n            user: user,\r\n            createDate: date,\r\n            inquiryUser: inquiryUser,\r\n            inquiryDate: inquiryDate,\r\n            inquiryitems: inquiryItems,\r\n        }\r\n    }\r\n\r\n    saveInquiryData = async (pending: any, packageList: any[]) => {\r\n\r\n        let { id } = pending;\r\n        //保存sheet和保存history\r\n        let result: any = await this.uqs.rms.InquirySheet.save(\"InquirySheet\", this.getDataForSave(pending, packageList));\r\n        // await this.uqs.rms.InquirySheet.action(result.id, result.flow, result.state, \"submit\");\r\n        if (result) {\r\n            //删除pending及其明细\r\n            let param = {\r\n                id: id,\r\n            };\r\n            await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n        }\r\n\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    saveInquiryPackage = async (model: any, inquiry: any) => {\r\n\r\n        if (inquiry) {\r\n            //更新包装结果\r\n            let { id, inquiryPackage, user, createDate, inquiryRemarks, jsonStr } = inquiry;\r\n            let { product } = inquiryPackage.obj;\r\n            await this.uqs.rms.InquiryPendingItem.add({ inquiryPending: id, arr1: [{ inquiryPackage: inquiryPackage.id, user: user.id, createDate: createDate, remarks: inquiryRemarks, jsonStr: JSON.stringify(model) }] });\r\n\r\n            //更新包装价格\r\n            let { quantity, radiox, radioy, unit, listPrice, price, currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, customized, customizeUpto, validUpto, minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, remarks: rremarks, coaFilePath, msdsFilePath, quotationFilePath, result } = model;\r\n            let param = {\r\n                product: product,\r\n                quantity: quantity,\r\n                radiox: radiox,\r\n                radioy: radioy,\r\n                unit: unit,\r\n                listPrice: listPrice,\r\n                price: price,\r\n                currency: currency,\r\n                isTaxIn: isTaxIn,\r\n                isTransFeeIn: isTransFeeIn,\r\n                transFee: transFee,\r\n                transFeecurrency: transFeecurrency,\r\n                packingFee: packingFee,\r\n                packingcurrency: packingcurrency,\r\n                otherFee: otherFee,\r\n                customized: customized,\r\n                customizeUpto: customizeUpto,\r\n                validUpto: validUpto,\r\n                minArriveDate: minArriveDate,\r\n                maxArriveDate: maxArriveDate,\r\n                invoiceType: invoiceType,\r\n                vatRate: vatRate,\r\n                tariffRate: tariffRate,\r\n                packType: packType,\r\n                remarks: rremarks,\r\n                coaFilePath: coaFilePath,\r\n                msdsFilePath: msdsFilePath,\r\n                quotationFilePath: quotationFilePath,\r\n            };\r\n            await this.uqs.rms.AddPackagePrice.submit(param);\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    onShowPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VPendingInquiryDetail, param);\r\n    }\r\n\r\n    pickCurrency = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cCurrency = this.newC(CCurrency);\r\n        return await cCurrency.call<number>();\r\n    }\r\n\r\n    openPendingInquiryResult = async (item: any) => {\r\n        let { id, inquiryPackage } = item;\r\n        let packages = await this.uqs.rms.InquiryPendingItem.table({ inquiryPending: id, inquiryPackage: inquiryPackage.id });\r\n        let { inquiryPending: newinquiryPending, inquiryPackage: newinquiryPackage, user, createDate, jsonStr: newjsonStr } = packages[0];\r\n        let model;\r\n        if (newjsonStr === undefined) {\r\n            model = item;\r\n        } else {\r\n            model = JSON.parse(newjsonStr);\r\n            model.inquiryPending = newinquiryPending;\r\n            model.inquiryPackage = newinquiryPackage;\r\n            model.user = user;\r\n            model.createDate = createDate;\r\n        }\r\n        this.openVPage(VPendingInquiryResult, model);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\n\r\nexport class VInquiryList extends VPage<CInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, contactName, inquiryUser, startDate, inquiryDate, date, sheet, way, result } = item;\r\n        let { openInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted small\">\r\n            <div>开始：<EasyDate date={inquiryDate} /></div>\r\n            <div>询出：<EasyDate date={inquiryDate} /></div>\r\n            <div>结束：<EasyDate date={date} /></div>\r\n        </div>\r\n        let left = <div>\r\n            <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            <div className=\"text-muted small\">方式：{way === 1 ? \"Email询价\" : (way === 2 ? \"电话询价\" : \"传真询价\")}</div>\r\n            <div className=\"text-muted small\">结果：{result === 1 ? \"有价格\" : (way === 2 ? \"有价格\" : \"无\")}</div>\r\n        </div>\r\n        return <LMR left={left} right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => openInquiryDetail(sheet)}>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { inquirys, searchInquiryByKey } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchInquiryByKey(key)}\r\n                placeholder=\"请输入供应商关键字\" />\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >询价单</div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={inquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.inquirys.more();\r\n\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA, LMR } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VInquiryDetail extends VPage<CInquiry> {\r\n\r\n    async open(inquiry: any) {\r\n        this.openPage(this.page, inquiry);\r\n    }\r\n\r\n    private renderPackageItem = (item: any, index: number) => {\r\n        let { pack, inquiryQuantity } = item;\r\n\r\n        return <LMR key={index} className=\"d-flex cursor-pointer py-1\" onClick={() => this.controller.openPackageDetail(item)}>\r\n            <div><FA name=\"chevron-right\" className=\"px-2 text-primary\"></FA>{inquiryQuantity} * {pack}</div>\r\n        </LMR>;\r\n    }\r\n\r\n    private renderProductItem = (item: any, index: number) => {\r\n        let { product, packs } = item;\r\n        let { id } = product;\r\n\r\n        return <LMR key={index} className=\"d-flex px-3 cursor-pointer\">\r\n            <div>{this.controller.renderProduct(id)}</div>\r\n            <div className=\"py-1\">\r\n                <List items={packs} item={{ render: this.renderPackageItem }} />\r\n            </div>\r\n        </LMR>;\r\n    }\r\n\r\n    private page = (inquiry: any) => {\r\n\r\n        let { brief, data } = inquiry;\r\n        let { id, no, state, description, date, user } = brief;\r\n        let { supplier, contactName, contactSalutation, contactDepartmentName, contactTelephone, contactMobile, contactEmail, contactfax, way, remarks, InquiryItems } = data;\r\n\r\n        let header = <>询价单详情: {no}</>\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\">\r\n            <div>\r\n                <div className=\"bg-white py-2\">\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-4\">供应商:</div><div className=\"col-8 text-muted text-right\">{tv(supplier, v => <>{v.name}</>)}</div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-4\">姓名:</div><div className=\"col-8 text-muted text-right\">{contactName}</div>\r\n                    </div>\r\n                    {contactSalutation === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-4\">称谓:</div><div className=\"col-8 text-muted text-right\">{contactSalutation}</div>\r\n                        </div></>}\r\n                    {contactDepartmentName === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-4\">部门:</div><div className=\"col-8 text-muted text-right\">{contactDepartmentName}</div>\r\n                        </div></>}\r\n                    {contactTelephone === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-4\">电话:</div><div className=\"col-8 text-muted text-right\">{contactTelephone}</div>\r\n                        </div></>}\r\n                    {contactMobile === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-4\">手机:</div><div className=\"col-8 text-muted text-right\">{contactMobile}</div>\r\n                        </div></>}\r\n                    {contactEmail === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-4\">邮箱:</div><div className=\"col-8 text-muted text-right\">{contactEmail}</div>\r\n                        </div></>}\r\n                    {contactfax === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-4\">传真:</div><div className=\"col-8 text-muted text-right\">{contactfax}</div>\r\n                        </div></>}\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-4\">询价方式:</div><div className=\"col-8 text-muted text-right\">{way === 1 ? \"Email询价\" : (way === 2 ? \"电话询价\" : \"传真询价\")}</div>\r\n                    </div>\r\n                    {remarks === undefined ? \"\" : <>\r\n                        <div className=\"row no-gutters px-3 my-1\">\r\n                            <div className=\"col-4\">备注:</div><div className=\"col-8 text-muted text-right\">{remarks}</div>\r\n                        </div></>}\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-4 \">询出时间:</div><div className=\"col-8 text-muted text-right\"><EasyDate date={date} /></div>\r\n                    </div>\r\n                    <div className=\"row no-gutters px-3 my-1\">\r\n                        <div className=\"col-4\">询价人:</div><div className=\"col-8 text-muted text-right\">{user}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"py-2\">\r\n                <List items={InquiryItems} item={{ render: this.renderProductItem }} />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyTime, EasyDate, FA } from 'tonva';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\nimport { CInquiry } from './CInquiry';\r\nimport { start } from 'repl';\r\n\r\nexport class VPackageDetail extends VPage<CInquiry> {\r\n\r\n    async open(packitem: any) {\r\n        this.openPage(this.page, packitem);\r\n    }\r\n\r\n    private page = (item: any) => {\r\n\r\n        let { inquiryQuantity, pack, itemuser, itemcreateDate, quantity, radio, listPrice, price\r\n            , currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, customized, customizeUpto, validUpto\r\n            , minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, inquiryRemarks, coaFilePath, msdsFilePath, quotationFilePath } = item;\r\n\r\n        let header = <>询价包装详情: {inquiryQuantity} * {pack}</>\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\">\r\n            <div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>报价包装:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{quantity} * {radio}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>创建人:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{itemuser.id}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>创建时间:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={itemcreateDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>目录价:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{listPrice}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packType === 1 ? \"目录包装\" : (packType === 2 ? \"非目录包装\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>结算价:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{price}{currency === undefined ? \"\" : tv(currency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含税费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTaxIn === 1 ? \"含\" : (isTaxIn === 0 ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>含运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{isTransFeeIn === 1 ? \"含\" : (isTransFeeIn === 0 ? \"不含\" : \"\")}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>运费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{transFee}{transFeecurrency === undefined ? \"\" : tv(transFeecurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>包装费:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{packingFee}{packingcurrency === undefined ? \"\" : tv(packingcurrency, v => <>{v.name}</>)}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>其他费用:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{otherFee}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>是否定制:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{customized === 1 ? \"是\" : (customized === 0 ? \"否\" : \"\")}</div>\r\n                </div>\r\n                <>{customized === 0?\"\":\r\n                <div>\r\n                    <div className=\"border-top edit-sep-light-gray\"></div>\r\n                    <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                        <div>定制时间至:</div>\r\n                        <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={customizeUpto}/></div>\r\n                    </div>\r\n                </div>}</>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>有效期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={validUpto} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最短货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={minArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>最长货期至:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\"><EasyDate date={maxArriveDate} /></div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>发票类型:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{invoiceType === undefined ? \"\" : (invoiceType === 1 ? \"增值税专用发票\" : (invoiceType === 2 ? \"增值税普通发票\" : \"形式发票\"))}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>增值税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{vatRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>关税税率:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{tariffRate}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                <div>备注:</div>\r\n                <div className=\"flex-fill d-flex justify-content-end\">{inquiryRemarks}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>COA文件路径:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{coaFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>MSOS文件路径:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{msdsFilePath}</div>\r\n                </div>\r\n                <div className=\"border-top edit-sep-light-gray\"></div>\r\n                <div className=\"d-flex align-items-centerd-flex px-3 py-2 bg-white align-items-center cursor-pointer\">\r\n                    <div>报价单文件路径:</div>\r\n                    <div className=\"flex-fill d-flex justify-content-end\">{quotationFilePath}</div>\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VInquiryList } from './VInquiryList';\r\nimport { VInquiryDetail } from './VInquiryDetail';\r\nimport { VPackageDetail } from './VPackageDetail';\r\n\r\nclass PageInquiry extends PageItems<any> {\r\n\r\n    private searchInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchInquiry = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CInquiry extends CUqBase {\r\n\r\n    @observable inquirys: PageInquiry;\r\n    @observable productdata: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchInquiryByKey(param);\r\n    }\r\n\r\n    searchInquiryByKey = async (key: string) => {\r\n        this.inquirys = new PageInquiry(this.uqs.rms.GetInquirySheet);\r\n        this.inquirys.first({ key: key });\r\n    }\r\n\r\n    openInquiryDetail = async (id: number) => {\r\n\r\n        let inquiry = await this.uqs.rms.InquirySheet.getSheet(id);\r\n        let { data } = inquiry;\r\n        let { inquiryitems } = data;\r\n        let inquiryItemssGrouped = groupByPack(inquiryitems);\r\n        data.InquiryItems = inquiryItemssGrouped;\r\n        this.openVPage(VInquiryDetail, inquiry);\r\n    }\r\n\r\n    openPackageDetail = async (item: any) => {\r\n        this.openVPage(VPackageDetail, item);\r\n    }\r\n\r\n    renderProduct = (id: BoxId) => {\r\n        return this.renderView(VProductView, id);\r\n    }\r\n\r\n    getProduct = async (pid: number) => {\r\n        let product = await this.uqs.rms.SearchProductById.query({ _id: pid });\r\n        this.productdata = product.ret[0];\r\n        return product.ret[0];\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}\r\n\r\nexport class VProductView extends View<CInquiry> {\r\n\r\n    render(param: any): JSX.Element {\r\n        let { controller } = this;\r\n        controller.getProduct(param);\r\n        return <this.contentagency pid={param} />\r\n    }\r\n    protected contentagency = observer((param: any) => {\r\n        let LocationUI;\r\n        let pro = this.controller.productdata;\r\n        if (pro !== undefined) {\r\n            let { description, CAS,purity } = pro;\r\n        LocationUI = <span className=\"text-muted small\">{description}&nbsp;{CAS}&nbsp;{purity}</span>;\r\n        }\r\n        return LocationUI;\r\n    });\r\n}\r\n\r\nexport function groupByPack(packItems: any[]) {\r\n    let result: any[] = [];\r\n    for (let packItem of packItems) {\r\n        let { product,inquiryQuantity, inquiryRadiox, inquiryRadioy, inquiryUnit, itemuser, itemcreateDate, quantity, radiox, radioy, unit, listPrice, price\r\n            , currency, isTaxIn, isTransFeeIn, transFee, transFeecurrency, packingFee, packingcurrency, otherFee, customized, customizeUpto, validUpto\r\n            , minArriveDate, maxArriveDate, invoiceType, vatRate, tariffRate, packType, inquiryRemarks, coaFilePath, msdsFilePath, quotationFilePath} = packItem;\r\n        let packRow: any = {\r\n            inquiryQuantity:inquiryQuantity,\r\n            pack: (inquiryRadiox !== 1) ? <>{inquiryRadiox} * {inquiryRadioy}{inquiryUnit}</> : <>{inquiryRadioy}{inquiryUnit}</>,\r\n            quantity: quantity,\r\n            radio: (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>,\r\n            itemuser:itemuser,\r\n            itemcreateDate:itemcreateDate,\r\n            listPrice:listPrice,\r\n            price:price,\r\n            currency:currency,\r\n            isTaxIn:isTaxIn,\r\n            isTransFeeIn:isTransFeeIn,\r\n            transFee:transFee,\r\n            transFeecurrency:transFeecurrency,\r\n            packingFee:packingFee,\r\n            packingcurrency:packingcurrency,\r\n            otherFee:otherFee,\r\n            customized:customized,\r\n            customizeUpto:customizeUpto,\r\n            validUpto:validUpto,\r\n            minArriveDate:minArriveDate,\r\n            maxArriveDate:maxArriveDate,\r\n            invoiceType:invoiceType,\r\n            vatRate:vatRate,\r\n            tariffRate:tariffRate,\r\n            packType:packType,\r\n            inquiryRemarks:inquiryRemarks,\r\n            coaFilePath:coaFilePath,\r\n            msdsFilePath:msdsFilePath,\r\n            quotationFilePath:quotationFilePath\r\n        }\r\n        let cpi = result.find(e => e.product.id === product.id);\r\n        if (cpi === undefined) {\r\n            cpi = { product: product, packs: [] };\r\n            result.push(cpi);\r\n        }\r\n        cpi.packs.push(packRow);\r\n    }\r\n    return result;\r\n}","import * as React from 'react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, UiIdItem, tv, FA, UiTextItem } from 'tonva';\r\nimport { Schema } from 'tonva';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'quantity', type: 'number', required: true },\r\n    { name: 'radiox', type: 'number', required: true },\r\n    { name: 'radioy', type: 'number', required: true },\r\n    { name: 'unit', type: 'string', required: true },\r\n    { name: 'remarks', type: 'number', required: false },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VNewPendingInquiry extends VPage<CNewPendingInquiry> {\r\n\r\n    private form: Form;\r\n    private pendingInquiryData: any;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            quantity: { widget: 'text', label: '数量', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radiox: { widget: 'text', label: '套', placeholder: '必填', defaultValue: 1 } as UiInputItem,\r\n            radioy: { widget: 'text', label: '包装规格', placeholder: '必填' } as UiInputItem,\r\n            unit: { widget: 'text', label: '单位', placeholder: '必填' } as UiTextItem,\r\n            remarks: { widget: 'textarea', label: '备注', placeholder: '备注', rows: 5 } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(pendingInquiryData: any) {\r\n        this.pendingInquiryData = pendingInquiryData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveNewPendingInquiryData(context.form.data);\r\n    }\r\n    private showProductlData = () => {\r\n\r\n        let { product } = this.controller;\r\n        let { no, supplier, origin, brand, description, descriptionC, CAS, purity } = product;\r\n        let { name } = supplier.obj;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            {no === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">产品编号:</div><div className=\"col-9 text-muted text-right\">{no}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">供应商:</div><div className=\"col-9 text-muted text-right\">{name}</div>\r\n            </div>\r\n            {brandname === undefined ? \"\" :\r\n                <><div className=\"row no-gutters px-3 my-1\">\r\n                    <div className=\"col-3\">品牌:</div><div className=\"col-9 text-muted text-right\">{brandname}</div>\r\n                </div></>}\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">CAS:</div><div className=\"col-9 text-muted text-right\">{CAS === undefined ? \"(无)\" : CAS}</div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">英文名称:</div><div className=\"col-9 text-muted text-right\">{description}</div>\r\n            </div>\r\n            {descriptionC === undefined ? \"\" : <><div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">中文名称:</div><div className=\"col-9 text-muted text-right\">{descriptionC}</div>\r\n            </div></>\r\n            }\r\n        </div>;\r\n    }\r\n\r\n    private page = () => {\r\n        let descriptionData = _.clone(this.pendingInquiryData);\r\n\r\n        let footer: any;\r\n\r\n        return <Page header=\"待询出\" headerClassName=\"py-1 bg-primary\">\r\n            {this.showProductlData()}\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={descriptionData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3}\r\n                />\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'way', type: 'number', required: true },\r\n    { name: 'submit', type: 'submit' }\r\n];\r\n\r\nexport class VPendingInquiry extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private supplier: any;\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            way: { widget: 'radio', label: '询价方式', list: [{ value: 1, title: 'Email询价' }, { value: 2, title: '电话询价' }, { value: 3, title: '传真询价' }] } as UiRadio,\r\n            submit: { widget: 'button', label: '提交', className: \"btn btn-primary mr-3 px-6\" }\r\n        }\r\n    }\r\n\r\n    async open(param: any) {\r\n        this.supplier = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.updatePendingInquiryState(context.form.data, this.supplier);\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.supplier);\r\n\r\n        return <Page header=\"询价详情\" headerClassName=\"bg-primary\">\r\n            <div className=\"App-container container text-left\">\r\n            <Form ref={v => this.form = v} className=\"my-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                formData={suppplierData}\r\n                onButtonClick={this.onFormButtonClick}\r\n                fieldLabelSize={3}\r\n            />\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View, EasyDate, FA, LMR, List, EasyTime, Page, VPage, SearchBox, tv } from 'tonva';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryList extends VPage<CNewPendingInquiry> {\r\n\r\n    async open(param?: any) {\r\n    }\r\n\r\n    render() {\r\n        return <this.page />\r\n    }\r\n\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { supplier, date } = item;\r\n        let { onShowNewPendingInquiryDetail } = this.controller;\r\n\r\n        let right = <div className=\"cursor-pointer text-muted\">\r\n            <EasyDate date={date} />\r\n        </div>\r\n        return <LMR right={right} className=\"px-3 d-flex p-1 cursor-pointer\" onClick={() => onShowNewPendingInquiryDetail(item)}>\r\n            <div><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n        </LMR >\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { newpendingInquirys, onNewPendingInquiry, searchNewPendingInquiryByKey, pickProduct } = this.controller;\r\n\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            <SearchBox\r\n                size='sm'\r\n                onSearch={(key: string) => searchNewPendingInquiryByKey(key)}\r\n                placeholder=\"请输入供应商关键字\" />\r\n            <div><span onClick={() => pickProduct()} className=\"fa-stack\">\r\n                <i className=\"fa fa-plus-square fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.6rem' }}></i>\r\n            </span></div>\r\n        </div>;\r\n        let header = <header>\r\n            <div className=\"px-3\" >待询出</div>\r\n        </header>;\r\n        return <Page header={header} right={right} onScrollBottom={this.onScrollBottom} headerClassName=\"py-1 bg-primary\">\r\n            <List items={newpendingInquirys} item={{ render: this.renderRootCategory }} />\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.newpendingInquirys.more();\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, FA, EasyDate, tv, LMR, List, Schema, UiSchema, UiInputItem, Form, Context, UiRadio } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport _ from 'lodash';\r\nimport { CNewPendingInquiry } from './CNewPendingInquiry';\r\n\r\nexport class VNewPendingInquiryDetail extends VPage<CNewPendingInquiry> {\r\n    private form: Form;\r\n    private suppplier: any;\r\n    private firstPackage: any;\r\n    private packages: any[] = [];\r\n\r\n    async open(param: any) {\r\n        let { parent, item, child } = param;\r\n        this.suppplier = parent;\r\n        this.firstPackage = item;\r\n        this.packages = child;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getPackage = () => {\r\n        return <div>\r\n            {this.firstPackage && <List items={this.packages} item={{ render: this.renderPackage }} />}\r\n        </div>\r\n    }\r\n\r\n    private renderPackage = (item: any, index: number) => {\r\n\r\n        let { id, inquiryPackage, user, createDate, product, quantity, radiox, radioy, unit, CAS, purity, inquiryRemarks } = item;\r\n        let { brand, description, descriptionC } = product.obj;\r\n        let radio = (radiox !== 1) ? <>{radiox} * {radioy}{unit}</> : <>{radioy}{unit}</>;\r\n        let brandname = brand === undefined ? undefined : brand.obj.name;\r\n\r\n        let right =\r\n            <div className=\"px-2 text-muted text-right\">\r\n                <span onClick={() => this.onDelInquiryPackage(id, inquiryPackage)}><FA className=\"align-middle p-2 cursor-pointer text-danger\" name=\"trash\" /></span>\r\n            </div>;\r\n        return <LMR right={right} className=\"p-1 d-flex cursor-pointer\">\r\n            <div><FA name=\"caret-right\" className=\"px-2 text-primary\"></FA>{CAS}&nbsp;&nbsp;{quantity} * {radio}</div>\r\n            <div className=\"px-4 text-muted\">{description}</div>\r\n            <div className=\"px-4 text-muted\"><span className=\"text-muted small\">{inquiryRemarks}</span></div>\r\n        </LMR>;\r\n    }\r\n\r\n    private rowTop = (suppplierData: any) => {\r\n\r\n        let { supplier, user, date } = suppplierData;\r\n        let { id } = user;\r\n\r\n        return <div className=\"bg-white py-2\">\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">供应商:</div><div className=\"col-9\"><b>{tv(supplier, v => <>{v.name}</>)}</b></div>\r\n            </div>\r\n            <div className=\"row no-gutters px-3 my-1\">\r\n                <div className=\"col-3\">创建人:</div><div className=\"col-9 text-muted\">{id}&nbsp;<EasyDate date={date} /></div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private rowEnd = () => {\r\n        let { onPendingInquiry } = this.controller;\r\n\r\n        return this.firstPackage && <div>\r\n            <div className=\"text-center py-2\">\r\n                <button className=\"btn btn-sm btn-primary\" onClick={() => onPendingInquiry(this.suppplier)}>\r\n                    <span className=\"px-2\"><FA className=\"text-warning px-1\" name=\"user\" /><b>询&nbsp;出</b></span>\r\n                    <span className=\"px-2\"><FA name=\"chevron-right fa-1x\" /></span>\r\n                </button>\r\n            </div>\r\n        </div >;\r\n    }\r\n\r\n    private onDelInquiry = async () => {\r\n        if (await this.vCall(VConfirmDeleteInquiry, this.suppplier) === true) {\r\n            await this.controller.deletePendingInquiryData(this.suppplier);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private onDelInquiryPackage = async (id: number, pack: any) => {\r\n        if (await this.vCall(VConfirmDeleteInquiryPackage, pack) === true) {\r\n            let { id: packid } = pack;\r\n            await this.controller.deletePendingInquiryPackage(id, packid);\r\n            await this.controller.loadList();\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    private page = () => {\r\n        let suppplierData = _.clone(this.suppplier);\r\n\r\n        let right =\r\n            <div className=\"d-flex align-items-center\">\r\n                <div><span onClick={() => this.onDelInquiry()} className=\"fa-stack\">\r\n                    <i className=\"fa fa-trash fa-stack-2x cursor-pointer my-1\" style={{ fontSize: '1.5rem' }}></i>\r\n                </span></div>\r\n            </div>;\r\n        return <Page right={right} header=\"询价详情\" headerClassName=\"py-1 bg-primary\">\r\n            {this.rowTop(suppplierData)}\r\n            {this.rowEnd()}\r\n            {this.getPackage()}\r\n        </Page >\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteInquiry extends VPage<CNewPendingInquiry> {\r\n    async open(inquiryPending: any) {\r\n        this.openPage(this.page, inquiryPending);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiryPending: any) => {\r\n        return <Page header=\"删除询价任务\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该询价任务？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除询价任务</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\nclass VConfirmDeleteInquiryPackage extends VPage<CNewPendingInquiry> {\r\n    async open(inquiryPackage: any) {\r\n        this.openPage(this.page, inquiryPackage);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (inquiryPackage: any) => {\r\n        return <Page header=\"删除询价包装\" back=\"close\" headerClassName=\"bg-primary\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该询价包装？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除询价包装</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { View, BoxId, Image, PageItems, Query, Context } from 'tonva';\r\nimport { CUqBase } from 'CBase';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VNewPendingInquiry } from './VNewPendingInquiry';\r\nimport { VPendingInquiry } from './VPendingInquiry';\r\nimport { VNewPendingInquiryList } from './VNewPendingInquiryList';\r\nimport { VNewPendingInquiryDetail } from './VNewPendingInquiryDetail';\r\nimport { SupplierItem } from \"model/supplierItem\";\r\n\r\nclass NewPagePendingInquiry extends PageItems<any> {\r\n\r\n    private searchNewPendingInquiry: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchNewPendingInquiry = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchNewPendingInquiry.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CNewPendingInquiry extends CUqBase {\r\n\r\n    @observable newpendingInquirys: NewPagePendingInquiry;\r\n    @observable newpendingInquiryList: NewPagePendingInquiry;\r\n    product: any;\r\n\r\n    async internalStart(param: any) {\r\n        this.searchNewPendingInquiryByKey(param);\r\n    }\r\n\r\n    searchNewPendingInquiryByKey = async (key: string) => {\r\n        this.newpendingInquirys = new NewPagePendingInquiry(this.uqs.rms.SearchNewInquiryPending);\r\n        this.newpendingInquirys.first({ key: key });\r\n    }\r\n\r\n    /**\r\n    * 打开新建界面\r\n    */\r\n    onNewPendingInquiry = async (model: any) => {\r\n        this.product = model;\r\n        this.openVPage(VNewPendingInquiry, { pendingInquiry: undefined });\r\n    }\r\n\r\n    onPendingInquiry = async (model: any) => {\r\n        this.openVPage(VPendingInquiry, model);\r\n    }\r\n\r\n    pickProduct = async (): Promise<any> => {\r\n        let mode: any = await this.cApp.cPickProduct.call();\r\n    }\r\n\r\n    saveNewPendingInquiryData = async (model: any) => {\r\n\r\n        if (model.id === undefined) {\r\n            if (this.product) {\r\n                let { id, supplier } = this.product;\r\n                let { id: supplierid } = supplier;\r\n                let { quantity, radiox, radioy, unit,remarks } = model;\r\n                let param = {\r\n                    supplier: supplierid,\r\n                    product: id,\r\n                    quantity: quantity,\r\n                    radiox: radiox,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                    remarks: remarks\r\n                };\r\n                await this.uqs.rms.AddInquiryPending.submit(param);\r\n            }\r\n        }\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    deletePendingInquiryData = async (item: any) => {\r\n        let { id } = item;\r\n        let param = {\r\n            id: id,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPending.submit(param);\r\n    }\r\n\r\n    deletePendingInquiryPackage = async (pendingid: number, packid: number) => {\r\n\r\n        let param = {\r\n            id: pendingid,\r\n            pid: packid,\r\n        };\r\n        await this.uqs.rms.DeleteInquiryPackage.submit(param);\r\n    }\r\n\r\n    updatePendingInquiryState = async (model: any, item: any) => {\r\n        let { id, supplier } = item;\r\n        let param = {\r\n            id: id,\r\n            supplier: supplier,\r\n            way: model.way,\r\n        };\r\n        await this.uqs.rms.UpdateInquiryPending.submit(param);\r\n        this.closePage();\r\n        await this.loadList();\r\n    }\r\n\r\n    /**\r\n    * 打开详情界面\r\n    */\r\n    onShowNewPendingInquiryDetail = async (item: any) => {\r\n        let { id } = item;\r\n        let pitem = await this.uqs.rms.SearchInquiryPendingBySupplier.query({ _id: id });\r\n        let param: SupplierItem = {\r\n            parent: item,\r\n            item: pitem.ret[0],\r\n            child: pitem.ret,\r\n        }\r\n        this.openVPage(VNewPendingInquiryDetail, param);\r\n    }\r\n\r\n    loadList = async () => {\r\n        await this.searchNewPendingInquiryByKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VNewPendingInquiryList);\r\n    })\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import { CAppBase, IConstructor, User, nav } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\nimport { CUqBase } from \"./CBase\";\r\nimport { VMain } from './ui/main';\r\nimport { CHome } from \"./information/CHome\";\r\nimport { CSupplier } from \"./information/supplier/CSupplier\";\r\nimport { CSupplierContact } from \"./information/supplierContact/CSupplierContact\";\r\nimport { CProduct } from \"./information/product/CProduct\";\r\nimport { CChemical } from \"./information/product/CChemical\";\r\nimport { CBrand } from \"./information/product/CBrand\";\r\nimport { CPackage } from \"./information/package/CPackage\";\r\nimport { CPickSupplier } from 'information/supplier/CPickSupplier';\r\nimport { CPickProduct } from 'information/product/CPickProduct';\r\nimport { CPendingInquiry } from 'information/PendingInquiry/CPendingInquiry';\r\nimport { CInquiry } from 'information/Inquiry/CInquiry';\r\nimport { CCurrency } from 'information/PendingInquiry/CCurrency';\r\nimport { CNewPendingInquiry } from 'information/newPendingInquiry/CNewPendingInquiry';\r\n\r\nexport class CApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs as UQs };\r\n\r\n    topKey: any;\r\n    cHome: CHome;\r\n    cSupplier: CSupplier;\r\n    cPickSupplier: CPickSupplier;\r\n    cSupplierContact: CSupplierContact;\r\n    cProduct: CProduct;\r\n    cPickProduct: CPickProduct;\r\n    cChemical: CChemical;\r\n    cBrand: CBrand;\r\n    cPackage: CPackage;\r\n    cPendingInquiry: CPendingInquiry;\r\n    cInquiry: CInquiry;\r\n    cCurrency: CCurrency;\r\n    cNewPendingInquiry: CNewPendingInquiry;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n\r\n        this.cHome = this.newC(CHome);\r\n        this.cSupplier = this.newC(CSupplier);\r\n        this.cPickSupplier = this.newC(CPickSupplier);\r\n        this.cProduct = this.newC(CProduct);\r\n        this.cPickProduct = this.newC(CPickProduct);\r\n        this.cChemical = this.newC(CChemical);\r\n        this.cBrand = this.newC(CBrand);\r\n        this.cPackage = this.newC(CPackage);\r\n        this.cSupplierContact = this.newC(CSupplierContact);\r\n        this.cPendingInquiry = this.newC(CPendingInquiry);\r\n        this.cInquiry = this.newC(CInquiry);\r\n        this.cCurrency = this.newC(CCurrency);\r\n        this.cNewPendingInquiry = this.newC(CNewPendingInquiry);\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cSupplier.start());\r\n        await Promise.all(promises);\r\n        this.showMain();\r\n        this.topKey = nav.topKey();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n    async loginCallBack(user: User) {\r\n\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { tv } from 'tonva';\r\n\r\nexport const tvAddress = (values: any) => {\r\n    let { country, province, city, county } = values;\r\n    return <>\r\n        {tv(country)}{tv(province, undefined, undefined, () => <></>)}{tv(city, undefined, undefined, () => <></>)}{tv(county, undefined, undefined, () => <></>)}\r\n    </>\r\n}\r\n\r\nexport const tvCountry = (values: any) => {\r\n    return <> {values.chineseName} </>;\r\n}\r\n\r\nexport const tvCurrency = (values: any) => {\r\n    return <> {values.name} </>;\r\n}\r\n\r\nexport const common = {\r\n    address: tvAddress,\r\n    country: tvCountry,\r\n    province: tvCountry,\r\n    city: tvCountry,\r\n    county: tvCountry,\r\n    currency: tvCurrency,\r\n};\r\n","import { AppConfig } from \"tonva\";\r\nimport { tvs } from \"./tvs\";\r\nimport AnalyticalChemistry from './images/AnalyticalChemistry.png';\r\nimport LabSupplies from './images/LabSupplies.png';\r\nimport LifeScience from './images/LifeScience.png';\r\nimport MaterialScience from './images/MaterialScience.png';\r\nimport OrganicChemistry from './images/OrganicChemistry.png';\r\n\r\nexport const appConfig: AppConfig = {\r\n    appName: '百灵威系统工程部/rms',\r\n    version: '1.0.1',\r\n    tvs: tvs,\r\n    oem: '百灵威'\r\n};","import { TVs } from \"tonva\";\r\nimport { common } from \"./common\";\r\n\r\nexport const tvs: TVs = {\r\n    common: common,\r\n}","import * as React from 'react';\r\nimport './App.css';\r\nimport { NavView, nav, start } from 'tonva';\r\nimport { CApp } from './CApp';\r\nimport { appConfig } from './configuration';\r\n\r\nnav.setSettings(appConfig);\r\n\r\nclass App extends React.Component {\r\n\r\n  private onLogined = async () => {\r\n    await start(CApp, appConfig);\r\n  }\r\n  public render() {\r\n    // return <NavView onLogined={this.onLogined} notLogined={this.onLogined} />\r\n    return <NavView onLogined={this.onLogined} />\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}